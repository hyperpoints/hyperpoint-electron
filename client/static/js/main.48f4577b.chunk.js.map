{"version":3,"sources":["utils/history.js","api/instance.js","api/redux/actions/nodeActions.js","api/redux/actions/types.js","api/redux/actions/authActions.js","api/redux/actions/userActions.js","api/redux/actions/associationActions.js","api/redux/actions/componentActions.js","api/redux/actions/portActions.js","api/redux/actions/fileActions.js","components/layouts/Login.js","components/elements/Spinner.js","components/elements/MainSider.js","components/elements/IOBar.js","utils/inputValidation.js","components/elements/node/NodeCardHeaderFull.js","components/elements/node/NodeCardHeader.js","types/render/core/Text.js","types/render/core/Image.js","types/render/core/Url.js","types/render/core/File.js","types/render/core/Audio.js","types/render/core/Package.js","types/render/core/Zip.js","types/render/core/Collection.js","types/render/core/User.js","types/render/NodeRenderer.js","components/elements/node/NodeCard.js","components/elements/association/AssociationLink.js","components/elements/association/AssociationLinkList.js","components/elements/association/AssociationSider.js","components/elements/node/NodeList.js","components/layouts/Home.js","components/layouts/Profile.js","components/layouts/Options.js","components/elements/MainContent.js","components/layouts/Activity.js","components/elements/association/AssociationList.js","components/QuillEditor/QuillEditor.js","api/redux/reducers/authReducer.js","api/redux/reducers/associationReducer.js","api/redux/actions/textActions.js","components/elements/MainFooter.js","components/layouts/Collections.js","components/layouts/CreateAccount.js","components/elements/node/NodeCardFull.js","components/layouts/AssociationBrowser.js","components/layouts/GraphBrowser.js","api/redux/actions/graphActions.js","components/layouts/Help.js","components/App.js","api/redux/reducers/nodeReducer.js","api/redux/reducers/componentReducer.js","api/redux/reducers/graphReducer.js","index.js","api/redux/reducers/index.js","resources/synthona-logo.png","resources/synthona-header.png"],"names":["createBrowserHistory","CancelToken","axios","source","create","baseURL","withCredentials","cancelToken","token","fetchNodes","query","dispatch","a","type","instance","get","params","page","searchQuery","response","payload","data","message","error","history","push","searchNodes","updateNode","node","patch","uuid","hidden","searchable","name","preview","result","markNodeView","setActiveNode","clearActiveNode","signOut","success","fetchUserByUsername","username","user","fetchAssociationLinkList","nodeUUID","fetchAssociations","updateLinkStrength","nodeA","nodeB","put","showComponent","content","hideComponent","generateInstanceExport","status","window","location","replace","createFileNode","file","linkedNode","fileData","FormData","append","headers","Content","Footer","Login","getUsername","localStorage","getItem","onSubmit","values","setSubmitting","props","signIn","document","title","className","initialValues","email","password","confirmPassword","validationSchema","this","isSubmitting","placeholder","component","disabled","to","Component","Yup","shape","required","min","connect","state","isSignedIn","auth","formValues","setItem","displayName","Spinner","style","height","display","justifyContent","alignItems","backgroundColor","size","Item","MainSider","signOutHandler","toggleSignoutModal","showSignoutModal","setState","body","removeProperty","renderDrawerClasses","animate","visible","mainSider","width","mask","showMask","placement","closable","onClose","e","mode","defaultSelectedKeys","src","avatar","defaultAvatar","icon","verticalAlign","marginTop","objectFit","onClick","href","target","rel","centered","onOk","okType","okText","onCancel","components","componentList","Header","Option","IOBar","toggleInputMode","inputMode","modeIcon","nodeTypes","toggleMainSider","commandHandler","input","createNodeHandler","activeNode","JSON","stringify","createNode","isFile","selectLocalFile","match","value","URL","_","validUrl","createUrlNode","path","createElement","setAttribute","click","onchange","files","renderSelectBefore","showSearch","showArrow","onChange","createType","queryType","theme","onPressEnter","event","maxLength","defaultValue","addonBefore","nodes","delta","Delta","insert","console","log","NodeCardHeaderFull","saveName","toggleDeleteModal","showDeleteModal","deleteHandler","deleting","deleteNode","toggleHidden","hiddenIcon","toggleSearchable","searchableIcon","renderTitle","editable","onBlur","autoFocus","onKeyPress","key","onFocus","select","onDoubleClick","preventDefault","renderContextualButtons","metadata","expanded","mouseEnterDelay","removeSynthonaImportsByPackage","unpackSynthonaImport","renderExportButton","generateExportByUUID","delete","NodeCardHeader","marginLeft","fontSize","textAlign","padding","Text","element","handleClick","handleAssociatonClick","renderNode","Image","alt","minHeight","Url","renderPreview","color","wordBreak","File","Audio","handleLinkClick","Package","Zip","Collection","previewCount","parse","length","nodeCard","User","defaultHeader","NodeRenderer","handleNodeClick","linkedNodeUUID","siderNodeUUID","siderUUID","NodeCard","renderNodeCard","AssociationLink","handleDeleteAssociation","association","activeNodeUUID","deleteAssociationLink","pathname","includes","removeFromAssociationList","renderAssociationLink","mouseLeaveDelay","deletedUUID","AssociationLinkList","loadMore","renderAssociationLinkList","list","associations","map","renderLoadMoreButton","listLength","totalItems","listStyle","margin","id","associationLinkList","associationLinkListPage","totalLinkListItems","AssociationSider","createAssociationHandler","nodeToAssociate","siderNode","associationSiderData","autocompleteValues","forEach","nodeUUIDToAssociate","createAssociation","autocompleteOptions","inputText","renderAutocompleteValues","associationAutocomplete","newValues","hideInfoSider","renderContent","documentElement","cssText","onSelect","associatedNode","associated","NodeList","infiniteScroll","endReached","isFetching","topOfPage","windowHeight","innerHeight","offsetHeight","html","docHeight","Math","max","scrollHeight","clientHeight","windowBottom","pageYOffset","renderNodeList","nodeList","addEventListener","removeEventListener","totalNodes","Home","renderMainSider","scrollTo","top","behavior","Profile","toggleAvatarModal","avatarModal","initializeFromUrlParams","initialized","bio","header","nodeId","marginBottom","draggable","footer","afterClose","Options","updatePassword","togglePasswordModal","changePassword","showPasswordModal","passwordModal","oldPassword","newPassword","confirmNewPassword","setAvatar","test","updateUserAvatar","url","setHeader","updateUserHeader","renderDisplayName","saveDisplayName","updateUserInfo","renderBio","saveBio","renderUsername","saveUsername","updateUsername","renderEmail","saveEmail","updateEmail","getSelection","removeAllRanges","oneOf","updatedUser","imageData","MainContent","children","Activity","AssociationList","currentListLength","renderNodes","associationList","renderList","associationListPage","totalAssociationListItems","Block","Quill","import","Div","tagName","blotName","allowedChildren","register","newAssociationList","QuillEditor","ref","quill","componentDidUpdate","querySelectorAll","tool","stopPropagation","textUUID","initializing","text","readOnly","regeneratePreview","nodeData","textValue","getEditor","clear","expandHandler","removeItem","exitHandler","getText","substring","processTextNode","selectLocalImage","range","insertEmbed","index","isImageUrl","RegExp","matcherImageHandler","image","modules","toolbar","container","font","indent","background","align","script","handlers","expand","exit","clipboard","matchVisual","matchers","allowedFormats","renderHeader","handleChange","bind","overflow","editor","getContents","fullDelta","editTextNode","isLoading","formats","scrollingContainer","MainFooter","Collections","CreateAccount","createAccount","role","aria-label","paddingRight","paddingLeft","NodeCardFull","AssociationBrowser","regenerateCollectionPreview","collectionNode","i","err","paddingTop","GraphBrowser","fetchGraphData","anchorNode","graphData","renderGraph","renderAssociationSider","associationSider","zoomed","transform","g","attr","linkData","innerWidth","simulation","forceSimulation","force","forceLink","d","forceManyBody","strength","forceX","forceY","forceCenter","initialZoom","zoomIdentity","scale","translate","zoomData","zoom","scaleExtent","on","svg","link","selectAll","join","sqrt","call","drag","x","y","active","alphaTarget","restart","fx","fy","graph","loading","Help","paddingBottom","position","App","isAuth","isAuthenticated","routes","exact","isFetchingAuth","INITIAL_STATE","action","isSaving","nodesArray","Object","splice","some","item","filter","newNodeList","associationLinkListArray","associationsArray","addBackToList","newTotalLinkListItems","newTotalItems","graphNodeList","graphAssociationList","nodeArray","associationArray","reformated","composeEnhancers","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","authReducer","nodeReducer","componentReducer","associationReducer","graphReducer","applyMiddleware","reduxThunk","ReactDOM","render","querySelector","module","exports"],"mappings":"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","file":"static/js/main.48f4577b.chunk.js","sourcesContent":["import { createBrowserHistory } from 'history';\nexport default createBrowserHistory();\n","import axios from 'axios';\nconst CancelToken = axios.CancelToken;\nconst source = CancelToken.source();\nexport default axios.create({\n  baseURL: 'http://localhost:9000',\n  withCredentials: true,\n  cancelToken: source.token,\n});\n","import instance from '../../../api/instance';\nimport history from '../../../utils/history';\nimport {\n  FETCH_NODES,\n  FETCH_NODES_ERROR,\n  FETCH_NODES_SUCCESS,\n  UPDATE_NODE,\n  UPDATE_NODE_SUCCESS,\n  UPDATE_NODE_ERROR,\n  SEARCH_NODES,\n  SEARCH_NODES_ERROR,\n  SEARCH_NODES_SUCCESS,\n  RESET_APP,\n  CREATE_NODE,\n  CREATE_NODE_SUCCESS,\n  CREATE_NODE_ERROR,\n  MARK_NODE_VIEW,\n  MARK_NODE_VIEW_ERROR,\n  MARK_NODE_VIEW_SUCCESS,\n  SET_ACTIVE_NODE,\n  SET_ACTIVE_NODE_SUCCESS,\n  SET_ACTIVE_NODE_ERROR,\n  DELETE_NODE,\n  DELETE_NODE_ERROR,\n  DELETE_NODE_SUCCESS,\n  CLEAR_ACTIVE_NODE,\n} from './types';\nimport { message } from 'antd';\nimport Delta from 'quill-delta';\n\n// fetch a list of nodes\nexport const fetchNodes = (query) => async (dispatch) => {\n  try {\n    dispatch({ type: FETCH_NODES });\n    const response = await instance.get('/node/search', {\n      params: { page: query.page, type: query.type, searchQuery: query.searchQuery },\n    });\n    dispatch({ type: FETCH_NODES_SUCCESS, payload: response.data, query });\n  } catch (err) {\n    dispatch({ type: FETCH_NODES_ERROR });\n    dispatch({ type: RESET_APP });\n    message.error('Could not fetch items', 1);\n    history.push('/');\n  }\n};\n\n// search the database\nexport const searchNodes = (query) => async (dispatch) => {\n  if (query.type === 'all') {\n    query.type = null;\n  }\n  try {\n    dispatch({ type: SEARCH_NODES });\n    const response = await instance.get('/node/search', {\n      params: { page: query.page, type: query.type, searchQuery: query.searchQuery },\n    });\n    dispatch({ type: SEARCH_NODES_SUCCESS, payload: response.data, query });\n    history.push('/');\n  } catch (err) {\n    dispatch({ type: SEARCH_NODES_ERROR });\n    dispatch({ type: RESET_APP });\n    message.error('Could not search nodes', 1);\n    history.push('/');\n  }\n};\n\n// edit text node handler\nexport const updateNode = (node) => async (dispatch) => {\n  dispatch({ type: UPDATE_NODE });\n  try {\n    const result = await instance.patch('/node', {\n      uuid: node.uuid,\n      hidden: node.hidden,\n      searchable: node.searchable,\n      name: node.name,\n      preview: node.preview,\n    });\n    dispatch({\n      type: UPDATE_NODE_SUCCESS,\n      uuid: node.uuid,\n      result: result.data.node,\n    });\n    // if the node has been hidden remove it from the nodelist\n    if (node.hidden === true) {\n      dispatch({ type: DELETE_NODE_SUCCESS, uuid: node.uuid });\n    }\n  } catch (err) {\n    dispatch({ type: UPDATE_NODE_ERROR });\n    message.error('There was a problem saving your changes', 1);\n    history.push('/');\n  }\n};\n\nexport const createNode = (node, file) => async (dispatch) => {\n  dispatch({ type: CREATE_NODE });\n  // set content to empty quill delta for text node\n  if (node.type === 'text') {\n    const delta = new Delta();\n    delta.insert(node.name);\n    node.content = JSON.stringify(delta);\n  }\n  try {\n    const response = await instance.put('/node', {\n      isFile: node.isFile,\n      type: node.type,\n      name: node.name,\n      preview: node.preview,\n      content: node.content,\n      linkedNode: node.linkedNode,\n    });\n    dispatch({\n      type: CREATE_NODE_SUCCESS,\n      payload: response.data.node,\n    });\n    if (response.status === 200 && node.type === 'text') {\n      // if successfully created, redirect the user to the edit node page\n      history.push('/edit/text/' + response.data.node.uuid);\n    }\n  } catch (err) {\n    dispatch({ type: CREATE_NODE_ERROR });\n    message.error('Could not create new item', 1);\n    history.push('/');\n  }\n};\n\nexport const createUrlNode = (node) => async (dispatch) => {\n  console.log('create url node');\n  dispatch({ type: CREATE_NODE });\n  try {\n    const response = await instance.put('/url', {\n      isFile: node.isFile,\n      type: node.type,\n      name: node.name,\n      preview: node.preview,\n      path: node.path,\n      content: node.content,\n      linkedNode: node.linkedNode,\n    });\n    console.log(response.data);\n    dispatch({\n      type: CREATE_NODE_SUCCESS,\n      payload: response.data.node,\n    });\n  } catch (err) {\n    dispatch({ type: CREATE_NODE_ERROR });\n    message.error('Could not create new item', 1);\n    history.push('/');\n  }\n};\n\nexport const markNodeView = (node) => async (dispatch) => {\n  dispatch({ type: MARK_NODE_VIEW });\n  try {\n    await instance.patch('/node/viewed', {\n      uuid: node.uuid,\n    });\n    dispatch({ type: MARK_NODE_VIEW_SUCCESS, node });\n  } catch (err) {\n    dispatch({ type: MARK_NODE_VIEW_ERROR });\n    message.error('Could not mark node view', 1);\n    history.push('/');\n  }\n};\n\n// set active node\nexport const setActiveNode = (uuid) => async (dispatch) => {\n  dispatch({ type: SET_ACTIVE_NODE });\n  try {\n    const response = await instance.get('/node', {\n      params: { uuid },\n    });\n    dispatch({ type: SET_ACTIVE_NODE_SUCCESS, payload: response.data });\n  } catch (err) {\n    dispatch({ type: SET_ACTIVE_NODE_ERROR });\n    message.error('Could not retrieve values', 1);\n    history.push('/');\n  }\n};\n\nexport const clearActiveNode = () => {\n  return {\n    type: CLEAR_ACTIVE_NODE,\n  };\n};\n\n// delete text node handler\nexport const deleteNode = (uuid) => async (dispatch) => {\n  dispatch({ type: DELETE_NODE });\n  try {\n    const response = await instance.delete(`/node`, { params: { uuid } });\n    if (response.status === 200) {\n      history.push('/');\n      dispatch({ type: DELETE_NODE_SUCCESS, uuid: uuid });\n      message.success('successfully deleted', 1);\n    }\n  } catch (err) {\n    dispatch({ type: DELETE_NODE_ERROR });\n    message.error('There was a problem deleting the node', 1);\n  }\n};\n","export const RESET_APP = 'RESET_APP';\n// modal actions\nexport const SHOW_COMPONENT = 'SHOW_COMPONENT';\nexport const HIDE_COMPONENT = 'HIDE_COMPONENT';\n// sign in\nexport const CREATE_ACCOUNT = 'CREATE_ACCOUNT';\nexport const CREATE_ACCOUNT_SUCCESS = 'CREATE_ACCOUNT_SUCCESS';\nexport const CREATE_ACCOUNT_ERROR = 'CREATE_ACCOUNT_ERROR';\n// sign in\nexport const SIGN_IN = 'SIGN_IN';\nexport const SIGN_IN_SUCCESS = 'SIGN_IN_SUCCESS';\nexport const SIGN_IN_ERROR = 'SIGN_IN_ERROR';\n// sign out\nexport const SIGN_OUT = 'SIGN_OUT';\nexport const SIGN_OUT_ERROR = 'SIGN_OUT_ERROR';\n// refresh auth\nexport const REFRESH_AUTH = 'REFRESH_AUTH';\nexport const REFRESH_AUTH_SUCCESS = 'REFRESH_AUTH_SUCCESS';\nexport const REFRESH_AUTH_ERROR = 'REFRESH_AUTH_ERROR';\n// create node\nexport const CREATE_NODE = 'CREATE_NODE';\nexport const CREATE_NODE_SUCCESS = 'CREATE_NODE_SUCCESS';\nexport const CREATE_NODE_ERROR = 'CREATE_NODE_ERROR';\n// fetch nodes\nexport const FETCH_NODES = 'FETCH_NODES';\nexport const FETCH_NODES_SUCCESS = 'FETCH_NODES_SUCCESS';\nexport const FETCH_NODES_ERROR = 'FETCH_NODES_ERROR';\n// search nodes\nexport const SEARCH_NODES = 'SEARCH_NODES';\nexport const SEARCH_NODES_SUCCESS = 'SEARCH_NODES_SUCCESS';\nexport const SEARCH_NODES_ERROR = 'SEARCH_NODES_ERROR';\n// update node\nexport const UPDATE_NODE = 'UPDATE_NODE';\nexport const UPDATE_NODE_SUCCESS = 'UPDATE_NODE_SUCCESS';\nexport const UPDATE_NODE_ERROR = 'UPDATE_NODE_ERROR';\n// mark node view\nexport const MARK_NODE_VIEW = 'MARK_NODE_VIEW';\nexport const MARK_NODE_VIEW_SUCCESS = 'MARK_NODE_VIEW_SUCCESS';\nexport const MARK_NODE_VIEW_ERROR = 'MARK_NODE_VIEW_ERROR';\n// edit text node\nexport const EDIT_TEXT_NODE = 'EDIT_TEXT_NODE';\nexport const EDIT_TEXT_NODE_SUCCESS = 'EDIT_TEXT_NODE_SUCCESS';\nexport const EDIT_TEXT_NODE_ERROR = 'EDIT_TEXT_NODE_ERROR';\n// process text node\nexport const PROCESS_TEXT_NODE = 'PROCESS_TEXT_NODE';\nexport const PROCESS_TEXT_NODE_SUCCESS = 'PROCESS_TEXT_NODE_SUCCESS';\nexport const PROCESS_TEXT_NODE_ERROR = 'PROCESS_TEXT_NODE_ERROR';\n// create image node\nexport const CREATE_FILE_NODE = 'CREATE_FILE_NODE';\nexport const CREATE_FILE_NODE_SUCCESS = ' CREATE_FILE_NODE_SUCCESS';\nexport const CREATE_FILE_NODE_ERROR = 'CREATE_FILE_NODE_ERROR';\n// fetch user node\nexport const FETCH_USER_NODE = 'FETCH_USER_NODE';\nexport const FETCH_USER_NODE_SUCCESS = 'FETCH_USER_NODE_SUCCESS';\nexport const FETCH_USER_NODE_ERROR = 'FETCH_USER_NODE_ERROR';\n// update user node\nexport const UPDATE_USER_NODE = 'UPDATE_USER_NODE';\nexport const UPDATE_USER_NODE_SUCCESS = 'UPDATE_USER_NODE_SUCCESS';\nexport const UPDATE_USER_NODE_ERROR = 'UPDATE_USER_NODE_ERROR';\n// update user avatar\nexport const UPDATE_USER_AVATAR = 'UPDATE_USER_AVATAR';\nexport const UPDATE_USER_AVATAR_SUCCESS = 'UPDATE_USER_AVATAR_SUCCESS';\nexport const UPDATE_USER_AVATAR_ERROR = 'UPDATE_USER_NODE_ERROR';\n// update user header image\nexport const UPDATE_USER_HEADER = 'UPDATE_USER_HEADER';\nexport const UPDATE_USER_HEADER_SUCCESS = 'UPDATE_USER_HEADER_SUCCESS';\nexport const UPDATE_USER_HEADER_ERROR = 'UPDATE_USER_HEADER_ERROR';\n// create associations\nexport const CREATE_ASSOCIATION = 'CREATE_ASSOCIATION';\nexport const CREATE_ASSOCIATION_SUCCESS = 'CREATE_ASSOCIATION_SUCCESS';\nexport const CREATE_ASSOCIATION_ERROR = 'CREATE_ASSOCIATION_ERROR';\n// fetch associations\nexport const FETCH_ASSOCIATIONS = 'FETCH_ASSOCIATIONS';\nexport const FETCH_ASSOCIATIONS_SUCCESS = 'FETCH_ASSOCIATIONS_SUCCESS';\nexport const FETCH_ASSOCIATIONS_ERROR = 'FETCH_ASSOCIATIONS_ERROR';\n// reset association list\nexport const RESET_ASSOCIATIONS = 'RESET_ASSOCIATIONS';\n// fetch association link list\nexport const FETCH_ASSOCIATION_LINK_LIST = 'FETCH_ASSOCIATIONS_LINK_LIST';\nexport const FETCH_ASSOCIATION_LINK_LIST_SUCCESS = 'FETCH_ASSOCIATIONS_LINK_LIST_SUCCESS';\nexport const FETCH_ASSOCIATION_LINK_LIST_ERROR = 'FETCH_ASSOCIATIONS_LINK_LIST_ERROR';\n// reset association link list\nexport const RESET_ASSOCIATION_LINK_LIST = 'RESET_ASSOCIATION_LINK_LIST';\n// set active node\nexport const SET_ACTIVE_NODE = 'SET_ACTIVE_NODE';\nexport const SET_ACTIVE_NODE_SUCCESS = 'SET_ACTIVE_NODE_SUCCESS';\nexport const SET_ACTIVE_NODE_ERROR = 'SET_ACTIVE_NODE_ERROR';\n// clear active node\nexport const CLEAR_ACTIVE_NODE = 'CLEAR_ACTIVE_NODE';\n// delete node\nexport const DELETE_NODE = 'DELETE_NODE';\nexport const DELETE_NODE_SUCCESS = 'DELETE_NODE_SUCCESS';\nexport const DELETE_NODE_ERROR = 'DELETE_NODE_ERROR';\n// remove from association list\nexport const REMOVE_FROM_ASSOCIATION_LIST = 'REMOVE_FROM_ASSOCIATION_LIST';\n// delete association link\nexport const DELETE_ASSOCIATION_LINK = 'DELETE_ASSOCIATION_LINK';\nexport const DELETE_ASSOCIATION_LINK_SUCCESS = 'DELETE_ASSOCIATION_LINK_SUCCESS';\nexport const DELETE_ASSOCIATION_LINK_ERROR = 'DELETE_ASSOCIATION_LINK_ERROR';\n// generate instance export\nexport const GENERATE_EXPORT = 'GENERATE_EXPORT';\nexport const GENERATE_EXPORT_ERROR = 'GENERATE_EXPORT_ERROR';\nexport const GENERATE_EXPORT_SUCCESS = 'GENERATE_EXPORT_SUCCESS';\n// fetch graph nodes\nexport const FETCH_GRAPH_DATA = 'FETCH_GRAPH_DATA';\nexport const FETCH_GRAPH_DATA_ERROR = 'FETCH_GRAPH_DATA_ERROR';\nexport const FETCH_GRAPH_DATA_SUCCESS = 'FETCH_GRAPH_DATA_SUCCESS';\n","import instance from '../../../api/instance';\nimport history from '../../../utils/history';\nimport {\n  CREATE_ACCOUNT,\n  CREATE_ACCOUNT_SUCCESS,\n  CREATE_ACCOUNT_ERROR,\n  SIGN_IN,\n  SIGN_IN_SUCCESS,\n  SIGN_IN_ERROR,\n  SIGN_OUT,\n  SIGN_OUT_ERROR,\n  REFRESH_AUTH,\n  REFRESH_AUTH_SUCCESS,\n  REFRESH_AUTH_ERROR,\n  RESET_APP,\n} from './types';\nimport { message } from 'antd';\n\n// Create Account Action handler\nexport const createAccount = (formValues) => async (dispatch) => {\n  dispatch({ type: CREATE_ACCOUNT });\n  try {\n    const response = await instance.put('/auth/signup', formValues);\n    localStorage.setItem('displayName', response.data.displayName);\n    dispatch({ type: CREATE_ACCOUNT_SUCCESS, payload: response.data });\n    history.push('/');\n  } catch (err) {\n    dispatch({ type: CREATE_ACCOUNT_ERROR });\n    message.error('There was a problem creating the account', 1);\n    history.push('/');\n  }\n};\n\n// Sign In Action handler\nexport const signIn = (formValues) => async (dispatch) => {\n  dispatch({ type: SIGN_IN });\n  try {\n    const response = await instance.put('/auth/login', formValues);\n    localStorage.setItem('displayName', response.data.displayName);\n    dispatch({ type: SIGN_IN_SUCCESS, payload: response.data });\n  } catch (err) {\n    dispatch({ type: SIGN_IN_ERROR });\n    message.error('There was a problem signing in', 1);\n    history.push('/');\n  }\n};\n\n// Sign Out Action Handler\nexport const signOut = () => async (dispatch) => {\n  dispatch({ type: SIGN_OUT });\n  try {\n    await instance.get('/auth/signout');\n    dispatch({ type: RESET_APP });\n    message.success('Signed Out', 1);\n    // send page redirect for the user\n    history.push('/');\n  } catch (err) {\n    dispatch({ type: SIGN_OUT_ERROR });\n    message.error('There was a problem signing out', 1);\n  }\n};\n\nexport const changePassword = (formValues) => async (dispatch) => {\n  try {\n    const response = await instance.patch('/auth/password', {\n      oldPassword: formValues.oldPassword,\n      newPassword: formValues.newPassword,\n    });\n    if (response.status === 200) {\n      message.success('changed password', 1);\n    }\n  } catch (err) {\n    message.error('Could not update password', 1);\n  }\n};\n\nexport const isAuthenticated = () => async (dispatch) => {\n  try {\n    dispatch({ type: REFRESH_AUTH });\n    const response = await instance.get('/auth');\n    dispatch({ type: REFRESH_AUTH_SUCCESS, payload: response.data });\n  } catch (err) {\n    dispatch({ type: REFRESH_AUTH_ERROR });\n    // send page redirect for the user\n    history.push('/');\n  }\n};\n","import instance from '../../../api/instance';\n// import history from '../history';\nimport {\n  FETCH_USER_NODE,\n  UPDATE_USER_NODE,\n  UPDATE_USER_NODE_ERROR,\n  UPDATE_USER_NODE_SUCCESS,\n  UPDATE_USER_AVATAR,\n  UPDATE_USER_AVATAR_SUCCESS,\n  UPDATE_USER_AVATAR_ERROR,\n  UPDATE_USER_HEADER,\n  UPDATE_USER_HEADER_SUCCESS,\n  UPDATE_USER_HEADER_ERROR,\n} from './types';\nimport { message } from 'antd';\n\n// get user by username handler\nexport const fetchUserByUsername = (username) => async (dispatch) => {\n  dispatch({ type: FETCH_USER_NODE });\n  try {\n    const response = await instance.get('/user/username', { params: { username } });\n    const user = response.data.user;\n    return user;\n    // TODO: once i add users a node type on the homepage, is when i should be adding this reducer\n    // dispatch({ type: FETCH_TEXT_NODE_SUCCESS, payload: response.data });\n  } catch (err) {\n    // dispatch({ type: FETCH_TEXT_NODE_ERROR });\n    message.error('Could not fetch user', 1);\n    // history.push('/');\n  }\n};\n\n// get user by username handler\n// export const fetchUserByEmail = email => async dispatch => {\n//   dispatch({ type: FETCH_USER_NODE });\n//   try {\n//     const response = await instance.get('/user/username', { params: { email } });\n//     const user = response.data.user;\n//     return user;\n//     // TODO: once i add users a node type on the homepage, is when i should be adding this reducer\n//     // dispatch({ type: FETCH_TEXT_NODE_SUCCESS, payload: response.data });\n//   } catch (err) {\n//     // dispatch({ type: FETCH_TEXT_NODE_ERROR });\n//     message.error('Could not fetch user', 1);\n//     // history.push('/');\n//   }\n// };\n\n// update user by username\nexport const updateUserInfo = (user) => async (dispatch) => {\n  dispatch({ type: UPDATE_USER_NODE });\n  try {\n    const response = await instance.patch('/user/info', {\n      username: user.username,\n      bio: user.bio,\n      displayName: user.displayName,\n    });\n    const updatedUser = response.data.user;\n    dispatch({ type: UPDATE_USER_NODE_SUCCESS, user: updatedUser });\n    return updatedUser;\n  } catch (err) {\n    dispatch({ type: UPDATE_USER_NODE_ERROR });\n    message.error('Could not update user', 1);\n  }\n};\n\n// update username\nexport const updateUsername = (username) => async (dispatch) => {\n  dispatch({ type: UPDATE_USER_NODE });\n  try {\n    const response = await instance.patch('/user/username', {\n      username: username,\n    });\n    const updatedUser = response.data.user;\n    dispatch({ type: UPDATE_USER_NODE_SUCCESS, user: updatedUser });\n    return updatedUser;\n  } catch (err) {\n    dispatch({ type: UPDATE_USER_NODE_ERROR });\n    message.error('Could not update user', 1);\n  }\n};\n\n// update user by username\nexport const updateEmail = (email) => async (dispatch) => {\n  dispatch({ type: UPDATE_USER_NODE });\n  try {\n    const response = await instance.patch('/user/email', {\n      email: email,\n    });\n    const updatedUser = response.data.user;\n    dispatch({ type: UPDATE_USER_NODE_SUCCESS, user: updatedUser });\n    return updatedUser;\n  } catch (err) {\n    dispatch({ type: UPDATE_USER_NODE_ERROR });\n    message.error('Could not update user', 1);\n  }\n};\n\n// update user avatar\nexport const updateUserAvatar = (file) => async (dispatch) => {\n  dispatch({ type: UPDATE_USER_AVATAR });\n  try {\n    // create image FormData\n    const imageData = new FormData();\n    imageData.append('image', file);\n    // send the request\n    const response = await instance.patch('/user/avatar', imageData, {\n      headers: { 'Content-Type': 'multipart/form-data' },\n    });\n    // if it's sucessful dispatch the success action\n    if (response.status === 200) {\n      dispatch({ type: UPDATE_USER_AVATAR_SUCCESS, url: response.data.url });\n      // return the image URL for immediate use\n      return response.data.url;\n    } else {\n      message.error('There was a problem uploading the image', 1);\n    }\n  } catch (err) {\n    dispatch({ type: UPDATE_USER_AVATAR_ERROR });\n    message.error('There was a problem uploading the image', 1);\n  }\n};\n\nexport const updateUserHeader = (file) => async (dispatch) => {\n  dispatch({ type: UPDATE_USER_HEADER });\n  try {\n    // create image FormData\n    const imageData = new FormData();\n    imageData.append('image', file);\n    // send the request\n    const response = await instance.patch('/user/header', imageData, {\n      headers: { 'Content-Type': 'multipart/form-data' },\n    });\n    // if it's sucessful dispatch the success action\n    if (response.status === 200) {\n      dispatch({ type: UPDATE_USER_HEADER_SUCCESS, url: response.data.url });\n      // return the image URL for immediate use\n      return response.data.url;\n    } else {\n      message.error('There was a problem uploading the image', 1);\n    }\n  } catch (err) {\n    dispatch({ type: UPDATE_USER_HEADER_ERROR });\n    message.error('There was a problem uploading the image', 1);\n  }\n};\n","import instance from '../../../api/instance';\nimport history from '../../../utils/history';\nimport {\n  CREATE_ASSOCIATION,\n  CREATE_ASSOCIATION_ERROR,\n  CREATE_ASSOCIATION_SUCCESS,\n  FETCH_ASSOCIATION_LINK_LIST,\n  FETCH_ASSOCIATION_LINK_LIST_ERROR,\n  FETCH_ASSOCIATION_LINK_LIST_SUCCESS,\n  RESET_ASSOCIATION_LINK_LIST,\n  FETCH_ASSOCIATIONS,\n  FETCH_ASSOCIATIONS_ERROR,\n  FETCH_ASSOCIATIONS_SUCCESS,\n  RESET_ASSOCIATIONS,\n  REMOVE_FROM_ASSOCIATION_LIST,\n  DELETE_ASSOCIATION_LINK,\n  DELETE_ASSOCIATION_LINK_SUCCESS,\n  DELETE_ASSOCIATION_LINK_ERROR,\n  // RESET_APP\n} from './types';\nimport { message } from 'antd';\n\n// fetch associations for associationLinklist\nexport const fetchAssociationLinkList = (query) => async (dispatch) => {\n  try {\n    if (!query.page) {\n      dispatch({ type: RESET_ASSOCIATION_LINK_LIST });\n      query.page = 1;\n    }\n    dispatch({ type: FETCH_ASSOCIATION_LINK_LIST });\n    const response = await instance.get('/association', {\n      params: { nodeUUID: query.nodeUUID, page: query.page },\n    });\n    dispatch({\n      type: FETCH_ASSOCIATION_LINK_LIST_SUCCESS,\n      payload: response.data,\n      nodeUUID: query.nodeUUID,\n      page: query.page,\n    });\n  } catch (err) {\n    dispatch({ type: FETCH_ASSOCIATION_LINK_LIST_ERROR });\n    message.error('Could not fetch items', 1);\n    history.push('/');\n  }\n};\n\n// fetch associations for associationList\nexport const fetchAssociations = (query) => async (dispatch) => {\n  try {\n    if (!query.page) {\n      dispatch({ type: RESET_ASSOCIATIONS });\n      query.page = 1;\n    }\n    dispatch({ type: FETCH_ASSOCIATIONS });\n    const response = await instance.get('/association', {\n      params: { nodeUUID: query.nodeUUID, page: query.page },\n    });\n    dispatch({\n      type: FETCH_ASSOCIATIONS_SUCCESS,\n      payload: response.data,\n      nodeUUID: query.nodeUUID,\n      page: query.page,\n    });\n  } catch (err) {\n    dispatch({ type: FETCH_ASSOCIATIONS_ERROR });\n    message.error('Could not fetch items', 1);\n    history.push('/');\n  }\n};\n\n// create a new association\nexport const createAssociation = (nodeUUID, linkedNodeUUID) => async (dispatch) => {\n  try {\n    dispatch({ type: CREATE_ASSOCIATION });\n    const response = await instance.put('/association', {\n      nodeUUID,\n      linkedNodeUUID,\n    });\n    dispatch({\n      type: CREATE_ASSOCIATION_SUCCESS,\n      associatedNode: response.data.association.associated,\n      nodeUUID,\n    });\n  } catch (err) {\n    dispatch({ type: CREATE_ASSOCIATION_ERROR });\n    message.error('Could not create association', 1);\n    history.push('/');\n  }\n};\n\n// get autocomplete values for association creation\nexport const associationAutocomplete = (query) => async (dispatch) => {\n  try {\n    const response = await instance.get('/association/autocomplete', {\n      params: { searchQuery: query.searchQuery, nodeUUID: query.uuid },\n    });\n    return response.data.nodes;\n  } catch (err) {\n    message.error('Could not search nodes', 1);\n    history.push('/');\n  }\n};\n\n// delete text node handler\nexport const deleteAssociationLink = (nodeA, nodeB) => async (dispatch) => {\n  dispatch({ type: DELETE_ASSOCIATION_LINK });\n  try {\n    const response = await instance.delete(`/association`, { params: { nodeA, nodeB } });\n    if (response.status === 200) {\n      dispatch({ type: DELETE_ASSOCIATION_LINK_SUCCESS, deletedUUID: response.data.deletedUUID });\n    }\n  } catch (err) {\n    dispatch({ type: DELETE_ASSOCIATION_LINK_ERROR });\n    message.error('There was a problem deleting the node', 1);\n  }\n};\n\n// remove from association list\nexport const removeFromAssociationList = (uuid) => {\n  return {\n    type: REMOVE_FROM_ASSOCIATION_LIST,\n    deletedUUID: uuid,\n  };\n};\n\n// update the linkStrength for an association\nexport const updateLinkStrength = (nodeA, nodeB) => async (dispatch) => {\n  try {\n    await instance.put('/association/linkstrength', {\n      nodeA,\n      nodeB,\n    });\n  } catch (err) {\n    message.error('There was a problem with your request', 1);\n  }\n};\n","import { SHOW_COMPONENT, HIDE_COMPONENT } from './types';\n\nexport const showComponent = (type, content) => {\n  return {\n    type: SHOW_COMPONENT,\n    payload: {\n      type: type,\n      content: content,\n    },\n  };\n};\n\nexport const hideComponent = (type) => {\n  return {\n    type: HIDE_COMPONENT,\n    payload: {\n      type: type,\n    },\n  };\n};\n","import instance from '../../../api/instance';\nimport history from '../../../utils/history';\nimport { GENERATE_EXPORT, GENERATE_EXPORT_ERROR, GENERATE_EXPORT_SUCCESS } from './types';\nimport { message } from 'antd';\n\n// export the instance data and get the url of the file\nexport const generateInstanceExport = () => async (dispatch) => {\n  message.success('generating export...', 2);\n  try {\n    dispatch({ type: GENERATE_EXPORT });\n    const response = await instance.put('/port/export/all');\n    if (response.status === 200) {\n      message.success('generated export', 2);\n      dispatch({ type: GENERATE_EXPORT_SUCCESS, payload: response.data });\n      // redirect\n      window.location.replace('/');\n    }\n  } catch (err) {\n    dispatch({ type: GENERATE_EXPORT_ERROR });\n    message.error('Could not export instance data', 1);\n    history.push('/');\n  }\n};\n\n// generate export based on a node\nexport const generateExportByUUID = (uuid) => async (dispatch) => {\n  message.success('generating export...', 2);\n  try {\n    dispatch({ type: GENERATE_EXPORT });\n    const response = await instance.put('/port/export/', { uuid });\n    if (response.status === 200) {\n      message.success('generated export', 2);\n      dispatch({ type: GENERATE_EXPORT_SUCCESS, payload: response.data });\n      // redirect\n      window.location.replace('/');\n    }\n  } catch (err) {\n    dispatch({ type: GENERATE_EXPORT_ERROR });\n    message.error('Could not export instance data', 1);\n    history.push('/');\n  }\n};\n\n// export the instance data and get the url of the file\nexport const unpackSynthonaImport = (uuid) => async (dispatch) => {\n  // console.log('generated import data!');\n  message.success('generating imports...', 1);\n  try {\n    const response = await instance.put('/port/import/', { uuid });\n    if (response.status === 200) {\n      message.success('generated import data!', 1);\n      // console.log('generated import data!');\n      window.location.replace('/');\n    }\n  } catch (err) {\n    message.error('Could not import instance data', 1);\n    history.push('/');\n  }\n};\n\nexport const removeSynthonaImportsByPackage = (uuid) => async (dispatch) => {\n  message.success('removing imports...', 1);\n  try {\n    const response = await instance.patch('/port/export/undo/', { uuid });\n    if (response.status === 200) {\n      message.success('removed imports from this package!', 1);\n      // console.log('generated import data!');\n      window.location.replace('/');\n    }\n  } catch (err) {\n    message.error('Could not remove imports for this package', 1);\n    history.push('/');\n  }\n};\n","import instance from '../../instance';\nimport { CREATE_FILE_NODE, CREATE_FILE_NODE_SUCCESS, CREATE_FILE_NODE_ERROR } from './types';\nimport { message } from 'antd';\n\nexport const createFileNode = (file, name, linkedNode) => async (dispatch) => {\n  dispatch({ type: CREATE_FILE_NODE });\n  try {\n    // create image FormData\n    const fileData = new FormData();\n    fileData.append('image', file);\n    if (name) {\n      fileData.append('name', name);\n    }\n    if (linkedNode) {\n      fileData.append('linkedNode', linkedNode);\n    }\n    // send the request\n    const response = await instance.put('/file', fileData, {\n      headers: { 'Content-Type': 'multipart/form-data' },\n    });\n    // if it's sucessful dispatch the success action\n    if (response.status === 200) {\n      dispatch({ type: CREATE_FILE_NODE_SUCCESS, payload: response.data.node });\n      // return the image URL for immediate use\n      return response.data.node.preview;\n    } else {\n      message.error('There was a problem inserting the file', 1);\n    }\n  } catch (err) {\n    dispatch({ type: CREATE_FILE_NODE_ERROR });\n    message.error('There was a problem inserting the file', 1);\n  }\n};\n","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { Link } from 'react-router-dom';\nimport { Formik, Form, Field, ErrorMessage } from 'formik';\nimport * as Yup from 'yup';\nimport { Layout, Card } from 'antd';\n// custom code\nimport { signIn } from '../../api/redux/actions';\nimport './css/Login.less';\n\n// destructure antd\nconst { Content, Footer } = Layout;\n\nclass Login extends Component {\n  componentDidMount() {\n    document.title = 'synthona';\n  }\n\n  getUsername = () => {\n    const username = localStorage.getItem('displayName');\n    if (username) {\n      return username;\n    } else {\n      return 'synthona';\n    }\n  };\n\n  onSubmit = (values, { setSubmitting }) => {\n    setSubmitting(false);\n    this.props.signIn(values);\n  };\n\n  render() {\n    return (\n      <Layout className='login-layout'>\n        <Content className='login-content'>\n          <Card className='login-card'>\n            <Formik\n              initialValues={{ email: '', password: '', confirmPassword: '' }}\n              validationSchema={validationSchema}\n              onSubmit={this.onSubmit}\n            >\n              {({ isSubmitting }) => (\n                <Form className='login-form'>\n                  <h1 className='login-title'>{this.getUsername()}</h1>\n                  <Field type='email' name='email' placeholder='email' className='login-field' />\n                  <ErrorMessage name='email' component='div' className='login-error' />\n                  <Field\n                    type='password'\n                    name='password'\n                    placeholder='password'\n                    className='login-field'\n                  />\n                  <ErrorMessage name='password' component='div' className='login-error' />\n                  <ErrorMessage name='confirmPassword' component='div' className='login-error' />\n                  <button type='submit' disabled={isSubmitting} className='login-submit'>\n                    login\n                  </button>\n                  <Link to='/create-account' className='login-signup'>\n                    create user\n                  </Link>\n                </Form>\n              )}\n            </Formik>\n          </Card>\n        </Content>\n        <Footer />\n      </Layout>\n    );\n  }\n}\n\nconst validationSchema = Yup.object().shape({\n  email: Yup.string().required().email('E-mail is not valid!'),\n  password: Yup.string().required().min(5, 'Password has to be longer than 6 characters!'),\n});\n\nconst mapStateToProps = (state) => {\n  return { isSignedIn: state.auth.isSignedIn };\n};\n\nexport default connect(mapStateToProps, { signIn })(Login);\n","import React from 'react';\nimport { Layout } from 'antd';\nimport { Spin } from 'antd';\n\nconst Spinner = (props) => {\n  return (\n    <Layout>\n      <Spin\n        style={{\n          height: '100vh',\n          display: 'flex',\n          justifyContent: 'center',\n          alignItems: 'center',\n          backgroundColor: '#272727',\n        }}\n        size='large'\n      ></Spin>\n    </Layout>\n  );\n};\n\nexport default Spinner;\n","import React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport { Menu, Avatar, Modal, Drawer } from 'antd';\nimport { signOut, hideComponent, generateInstanceExport } from '../../api/redux/actions';\n// images\nimport defaultAvatar from '../../resources/synthona-logo.png';\n// custom code\nimport './MainSider.less';\nimport Spinner from './Spinner';\n// destructure antd components\nconst { Item } = Menu;\n\nclass MainSider extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      showSignoutModal: null,\n      visible: false,\n    };\n  }\n\n  signOutHandler = () => {\n    this.props.signOut();\n  };\n\n  // show modal to confirm deletion\n  toggleSignoutModal = () => {\n    if (this.state.showSignoutModal) {\n      this.setState({ showSignoutModal: false });\n      // temporary fix to remove overflow property being set on body by antd\n      document.body.style.removeProperty('overflow');\n    } else {\n      this.setState({ showSignoutModal: true });\n    }\n  };\n\n  renderDrawerClasses = () => {\n    if (this.props.animate === false) {\n      return 'page-sider no-animation';\n    } else {\n      return 'page-sider';\n    }\n  };\n\n  render() {\n    if (this.props.mainSider === null) {\n      return <Spinner></Spinner>;\n    }\n\n    return (\n      <div className='sider-container'>\n        <Drawer\n          className={this.renderDrawerClasses()}\n          width='200px'\n          mask={this.props.showMask}\n          placement='left'\n          closable={false}\n          onClose={(e) => this.props.hideComponent('mainSider')}\n          visible={this.props.mainSider ? this.props.mainSider.visible : false}\n        >\n          <Menu mode='vertical' defaultSelectedKeys={['1']} className='sider-menu'>\n            <Item>\n              <Link to={`/profile/${this.props.user.username}`}>\n                <Avatar\n                  className='nav-avatar'\n                  src={this.props.user.avatar || defaultAvatar}\n                  icon='user'\n                  style={{\n                    display: 'inline-block',\n                    verticalAlign: 'middle',\n                    marginTop: '0.8rem',\n                    width: '2.5rem',\n                    height: '2.5rem',\n                    // border: '0.1rem solid #272727',\n                    objectFit: 'contain',\n                  }}\n                />\n              </Link>\n            </Item>\n            <Item className='sider-menu-item sider-title'>\n              <Link to={`/profile/${this.props.user.username}`}>\n                {/*  <b>@{this.props.user.username}</b>*/}\n                <b>Profile</b>\n              </Link>\n            </Item>\n            <Item className='sider-menu-item'>\n              <Link to={`/`} onClick={(e) => this.props.hideComponent('mainSider')}>\n                Home\n              </Link>\n            </Item>\n            <Item className='sider-menu-item'>\n              <Link to={`/graph`} onClick={(e) => this.props.hideComponent('mainSider')}>\n                Graph\n              </Link>\n            </Item>\n            {/*<Item className='sider-menu-item'>\n              <Link to='/' onClick={(e) => this.props.hideComponent('mainSider')}>\n                Nodes\n              </Link>\n            </Item>\n            <Item className='sider-menu-item'>\n              <Link to='/' onClick={(e) => this.props.hideComponent('mainSider')}>\n                Map\n              </Link>\n            </Item>\n            <Item className='sider-menu-item'>\n              <Link to='/' onClick={(e) => this.props.hideComponent('mainSider')}>\n                Chat\n              </Link>\n                </Item>  */}\n            <Item className='sider-menu-item'>\n              <a\n                href={'https://twitter.com/synthona'}\n                replace='true'\n                target='_blank'\n                rel='noopener noreferrer'\n              >\n                Updates\n              </a>\n            </Item>\n            <Item className='sider-menu-item'>\n              <Link to={`/edit/profile/`}>Options</Link>\n            </Item>\n            <Item className='sider-menu-item'>\n              <Link to='/help' onClick={(e) => this.props.hideComponent('mainSider')}>\n                Help\n              </Link>\n            </Item>\n            <Item className='sider-menu-item'>\n              <Link to='#' onClick={this.toggleSignoutModal}>\n                Sign Out\n              </Link>\n            </Item>\n          </Menu>\n        </Drawer>\n        {/* </Sider> */}\n        <Modal\n          title={this.props.user.displayName}\n          visible={this.state.showSignoutModal}\n          className='signout-modal'\n          centered\n          onOk={this.signOutHandler}\n          okType='primary'\n          okText='Sign Out'\n          closable={false}\n          onCancel={this.toggleSignoutModal}\n        >\n          <p>Are you sure you want to sign out?</p>\n        </Modal>\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = (state) => {\n  return { user: state.auth.user, mainSider: state.components.componentList['mainSider'] };\n};\n\nexport default connect(mapStateToProps, { signOut, hideComponent, generateInstanceExport })(\n  MainSider\n);\n","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport history from '../../utils/history';\nimport { Link } from 'react-router-dom';\nimport { Layout, Button, Input, Select, Icon, message } from 'antd';\n// custom code\nimport { validUrl, isImageUrl } from '../../utils/inputValidation';\nimport './IOBar.less';\nimport {\n  signOut,\n  createFileNode,\n  createUrlNode,\n  createNode,\n  searchNodes,\n  showComponent,\n  hideComponent,\n} from '../../api/redux/actions';\n// destructure antd components\nconst { Header } = Layout;\nconst { Option } = Select;\n\nclass IOBar extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      input: this.props.query.searchQuery || '',\n      nodeTypes: this.props.query.type || 'all',\n      createType: null,\n      queryType: null,\n      inputMode: 'query',\n      modeIcon: 'search',\n      placeholder: 'query',\n    };\n  }\n  // show modal to confirm deletion\n  toggleInputMode = () => {\n    if (this.state.inputMode === 'query') {\n      this.setState({\n        inputMode: 'create',\n        modeIcon: 'plus',\n        placeholder: 'create',\n        nodeTypes: 'text',\n      });\n    } else {\n      this.setState({\n        inputMode: 'query',\n        modeIcon: 'search',\n        placeholder: 'query',\n        nodeTypes: 'all',\n      });\n    }\n  };\n\n  toggleMainSider = async () => {\n    // await this.props.showComponent('mainSider');\n    if (this.props.mainSider) {\n      this.props.hideComponent('mainSider');\n    } else {\n      this.props.showComponent('mainSider');\n    }\n  };\n\n  // handle text input\n  commandHandler = () => {\n    switch (this.state.inputMode) {\n      case 'query':\n        return this.props.searchNodes({\n          searchQuery: this.state.input,\n          type: this.state.nodeTypes,\n        });\n      case 'create':\n        return this.createNodeHandler();\n      default:\n        return;\n    }\n  };\n  // handle the creation of different node types\n  createNodeHandler = () => {\n    var linkedNode;\n    if (this.props.activeNode) {\n      linkedNode = JSON.stringify(this.props.activeNode);\n    }\n    switch (this.state.nodeTypes) {\n      case 'text':\n        this.props.createNode({\n          isFile: false,\n          type: 'text',\n          name: this.state.input,\n          preview: '',\n          linkedNode,\n        });\n        // clear the input bar\n        this.setState({ input: '' });\n        // redirect\n        history.push('/');\n        break;\n      // case 'image':\n      //   this.selectLocalImage(linkedNode);\n      //   break;\n      case 'file':\n        this.selectLocalFile(linkedNode);\n        break;\n      case 'url':\n        // if the URL is an image add an image node\n        if (isImageUrl(this.state.input)) {\n          this.props.createNode({\n            isFile: false,\n            type: 'image',\n            name: this.state.input,\n            preview: this.state.input,\n            content: this.state.input,\n            linkedNode,\n          });\n          this.setState({ input: '' });\n          // otherwise add a regular URL\n        } else if (validUrl(this.state.input)) {\n          this.props.createUrlNode({\n            isFile: false,\n            type: 'url',\n            name: this.state.input,\n            preview: this.state.input,\n            path: this.state.input,\n            content: this.state.input,\n            linkedNode,\n          });\n          // clear the input bar\n          this.setState({ input: '' });\n        } else {\n          message.error('You must enter a valid URL', 1);\n        }\n        // redirect\n        history.push('/');\n        break;\n      case 'collection':\n        this.props.createNode({\n          isFile: false,\n          type: 'collection',\n          name: this.state.input,\n          preview: '',\n          content: this.state.input,\n          linkedNode,\n        });\n        // clear the input bar\n        this.setState({ input: '' });\n        // redirect\n        history.push('/');\n        break;\n      default:\n        return;\n    }\n  };\n\n  // select an image.\n  selectLocalFile = (linkedNode) => {\n    const input = document.createElement('input');\n    input.setAttribute('type', 'file');\n    input.click();\n    // Listen for uploading local file, then save to server\n    input.onchange = async () => {\n      const file = input.files[0];\n      await this.props.createFileNode(file, this.state.input, linkedNode);\n      // clear the input bar\n      this.setState({ input: '' });\n      history.push('/');\n    };\n  };\n\n  // include an \"all\" option for queries\n  renderSelectBefore = () => {\n    if (this.state.inputMode === 'query') {\n      return (\n        <Select\n          showSearch\n          showArrow={false}\n          value={this.state.nodeTypes}\n          style={{ width: '7rem' }}\n          onChange={(value) => this.setState({ nodeTypes: value })}\n        >\n          <Option value='all'>all</Option>\n          <Option value='url'>urls</Option>\n          <Option value='text'>text</Option>\n          <Option value='image'>images</Option>\n          <Option value='collection'>collections</Option>\n        </Select>\n      );\n    } else {\n      // exclude \"all\" option for creating nodes\n      return (\n        <Select\n          showSearch\n          showArrow={false}\n          value={this.state.nodeTypes}\n          style={{ width: '7rem' }}\n          onChange={(value) => this.setState({ nodeTypes: value })}\n        >\n          <Option value='text'>text</Option>\n          <Option value='url'>url</Option>\n          <Option value='file'>file</Option>\n          <Option value='collection'>collection</Option>\n        </Select>\n      );\n    }\n  };\n\n  render() {\n    return (\n      <div>\n        <Header className='page-header'>\n          <ul className='nav-list'>\n            <li className='nav-item io-sider-button'>\n              <Link type='default' to={`/`}>\n                <Icon type={'home'} theme='outlined' />\n              </Link>\n            </li>\n            <li className='nav-item io-sider-button'>\n              <Button type='default' shape='circle' onClick={(e) => this.toggleMainSider()}>\n                <Icon type={'bars'} theme='outlined' />\n              </Button>\n            </li>\n            <li className='nav-item create-node-button'>\n              <Button type='default' shape='circle' onClick={(e) => this.toggleInputMode()}>\n                <Icon type={this.state.modeIcon} theme='outlined' />\n              </Button>\n            </li>\n            <li className='nav-search'>\n              <Input\n                onPressEnter={(value, event) => this.commandHandler()}\n                maxLength={500}\n                value={this.state.input}\n                onChange={(e) => this.setState({ input: e.target.value })}\n                defaultValue={this.props.query.searchQuery || ''}\n                placeholder={this.state.placeholder}\n                addonBefore={this.renderSelectBefore()}\n                className='nav-search-input'\n              />\n            </li>\n            <li className='nav-item'>\n              <Button\n                type='ghost'\n                shape='circle'\n                onClick={this.commandHandler}\n                className='io-enter-button'\n              >\n                <Icon type={this.state.modeIcon} theme='outlined' />\n              </Button>\n            </li>\n          </ul>\n        </Header>\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = (state) => {\n  return {\n    user: state.auth.user,\n    query: state.nodes.query,\n    mainSider: state.components.componentList['mainSider'],\n    activeNode: state.nodes.activeNode,\n  };\n};\n\nexport default connect(mapStateToProps, {\n  signOut,\n  searchNodes,\n  createNode,\n  createFileNode,\n  createUrlNode,\n  showComponent,\n  hideComponent,\n})(IOBar);\n","export const validUrl = (value) => {\n  try {\n    new URL(value);\n  } catch (_) {\n    return false;\n  }\n  return true;\n};\n\nexport const isImageUrl = (url) => {\n  return url.match(/\\..+(jpeg|jpg|gif|png)/) != null;\n};\n","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\n// import { Link } from 'react-router-dom';\nimport { Icon, Modal, Tooltip } from 'antd';\nimport {\n  showComponent,\n  unpackSynthonaImport,\n  updateNode,\n  deleteNode,\n  clearActiveNode,\n  generateExportByUUID,\n  removeSynthonaImportsByPackage,\n} from '../../../api/redux/actions';\n\nclass NodeCardHeaderFull extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      name: this.props.node.name,\n      hidden: this.props.node.hidden,\n      hiddenIcon: 'eye',\n      searchable: this.props.node.searchable,\n      searchableIcon: 'search',\n      editable: false,\n      showDeleteModal: null,\n    };\n  }\n\n  componentDidMount() {\n    // set initial hiddens state\n    if (this.props.node.hidden) {\n      this.setState({ hiddenIcon: 'eye-invisible' });\n    } else {\n      this.setState({ hiddenIcon: 'eye' });\n    }\n    // set initial searchable state\n    if (this.props.node.searchable) {\n      this.setState({ searchableIcon: 'search' });\n    } else {\n      this.setState({ searchableIcon: 'key' });\n    }\n  }\n\n  // update and save the document name\n  saveName = (name) => {\n    if (this.state.name !== name) {\n      this.props.updateNode({ uuid: this.props.node.uuid, name });\n    }\n    this.setState({ name: name });\n  };\n\n  // show modal to confirm deletion\n  toggleDeleteModal = () => {\n    if (this.state.showDeleteModal) {\n      this.setState({ showDeleteModal: false });\n    } else {\n      this.setState({ showDeleteModal: true });\n    }\n  };\n\n  // delete the node\n  deleteHandler = async () => {\n    this.setState({ showDeleteModal: false });\n    this.setState({ deleting: true });\n    await this.props.deleteNode(this.props.node.uuid);\n    this.props.clearActiveNode();\n  };\n\n  toggleHidden = () => {\n    if (this.state.hidden === true) {\n      this.props.updateNode({ uuid: this.props.node.uuid, hidden: false });\n      this.setState({ hidden: false, hiddenIcon: 'eye' });\n    } else {\n      this.props.updateNode({ uuid: this.props.node.uuid, hidden: true });\n      this.setState({ hidden: true, hiddenIcon: 'eye-invisible' });\n    }\n  };\n\n  toggleSearchable = () => {\n    if (this.state.searchable === true) {\n      this.setState({ searchable: false, searchableIcon: 'key' });\n      this.props.updateNode({ uuid: this.props.node.uuid, searchable: false });\n    } else {\n      this.setState({ searchable: true, searchableIcon: 'search' });\n      this.props.updateNode({ uuid: this.props.node.uuid, searchable: true });\n    }\n  };\n\n  // render the title\n  renderTitle = () => {\n    if (!this.state.editable) {\n      // if it is not editable render the plain title\n      return (\n        <h3\n          className='full-card-title'\n          onDoubleClick={(e) => {\n            e.preventDefault();\n            this.setState({ editable: true });\n          }}\n        >\n          {this.state.name}\n        </h3>\n      );\n    } else {\n      // when title is double clicked render the input field\n      return (\n        <input\n          type='text'\n          className='full-card-title'\n          onBlur={() => this.setState({ editable: null })}\n          maxLength='250'\n          autoFocus\n          placeholder='name'\n          value={this.state.name}\n          onKeyPress={(e) => {\n            // remove input on enter\n            if (e.key === 'Enter') {\n              this.setState({ editable: null });\n            }\n          }}\n          onChange={(e) => {\n            this.saveName(e.target.value);\n          }}\n          onFocus={(e) => {\n            e.target.select();\n          }}\n        ></input>\n      );\n    }\n  };\n\n  // render header buttons for node types which need them\n  // at the moment it's just .synth packages\n  renderContextualButtons = () => {\n    switch (this.props.node.type) {\n      case 'package':\n        if (this.props.node.metadata && this.props.node.metadata.expanded) {\n          return (\n            <Tooltip title={'undo import'} mouseEnterDelay={1.1}>\n              <li>\n                <button\n                  onClick={(e) => {\n                    // show the modal\n                    this.props.removeSynthonaImportsByPackage(this.props.node.uuid);\n                  }}\n                >\n                  <Icon type={'undo'} theme='outlined' className='full-card-button' />\n                </button>\n              </li>\n            </Tooltip>\n          );\n        } else {\n          return (\n            <Tooltip title={'unpack synthona export'} mouseEnterDelay={1.1}>\n              <li>\n                <button\n                  onClick={(e) => {\n                    // show the modal\n                    this.props.unpackSynthonaImport(this.props.node.uuid);\n                  }}\n                >\n                  <Icon type={'appstore'} theme='outlined' className='full-card-button' />\n                </button>\n              </li>\n            </Tooltip>\n          );\n        }\n      default:\n        return;\n    }\n  };\n\n  // render the export button on non-package nodes\n  renderExportButton = () => {\n    if (this.props.node.type !== 'package') {\n      return (\n        <Tooltip title={'generate export'} mouseEnterDelay={1.1}>\n          <li>\n            <button\n              onClick={(e) => {\n                this.props.generateExportByUUID(this.props.node.uuid);\n              }}\n            >\n              <Icon type={'paper-clip'} theme='outlined' className='full-card-button' />\n            </button>\n          </li>\n        </Tooltip>\n      );\n    }\n  };\n\n  render() {\n    return (\n      <div className='full-card-options'>\n        {this.renderTitle()}\n        {/* <p className='full-card-options-date'>{this.props.node.updatedAt}</p> */}\n        <ul className='full-card-buttons-list'>\n          {this.renderContextualButtons()}\n          <Tooltip title={'associations'} mouseEnterDelay={1.1}>\n            <li>\n              <button\n                onClick={(e) => {\n                  // show the modal\n                  this.props.showComponent('associationSider', this.props.node);\n                }}\n              >\n                <Icon type={'branches'} theme='outlined' className='full-card-button' />\n              </button>\n            </li>\n          </Tooltip>\n          <Tooltip title={'graph'} mouseEnterDelay={1.1}>\n            <li>\n              <button onClick={(e) => window.location.replace(`/graph/${this.props.node.uuid}`)}>\n                <Icon type={'deployment-unit'} theme='outlined' className='full-card-button' />\n              </button>\n            </li>\n          </Tooltip>\n          {this.renderExportButton()}\n          <Tooltip\n            title={this.state.hidden ? 'hidden from feed' : 'visible in feed'}\n            mouseEnterDelay={1.1}\n          >\n            <li>\n              <button onClick={(e) => this.toggleHidden()}>\n                <Icon type={this.state.hiddenIcon} theme='outlined' className='full-card-button' />\n              </button>\n            </li>\n          </Tooltip>\n          <Tooltip\n            title={this.state.searchable ? 'searchable' : 'hidden from search'}\n            mouseEnterDelay={1.1}\n          >\n            <li>\n              <button onClick={(e) => this.toggleSearchable()}>\n                <Icon\n                  type={this.state.searchableIcon}\n                  theme='outlined'\n                  className='full-card-button'\n                />\n              </button>\n            </li>\n          </Tooltip>\n          <Tooltip title={'delete'} mouseEnterDelay={1.1}>\n            <li>\n              <button onClick={(e) => this.toggleDeleteModal()}>\n                <Icon type={'delete'} theme='outlined' className='full-card-button delete' />\n              </button>\n            </li>\n          </Tooltip>\n        </ul>\n        <Modal\n          title='Confirm Deletion'\n          visible={this.state.showDeleteModal}\n          className='delete-modal'\n          centered\n          onOk={this.deleteHandler}\n          okType='danger'\n          okText='Delete'\n          closable={false}\n          onCancel={this.toggleDeleteModal}\n        >\n          <p>\n            Are you sure you want to delete <b>{this.props.node.name || 'untitled'}</b>?\n          </p>\n        </Modal>\n      </div>\n    );\n  }\n}\n\nexport default connect(null, {\n  showComponent,\n  updateNode,\n  unpackSynthonaImport,\n  deleteNode,\n  clearActiveNode,\n  generateExportByUUID,\n  removeSynthonaImportsByPackage,\n})(NodeCardHeaderFull);\n","import React, { Component } from 'react';\n// import { Link } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport { Icon } from 'antd';\nimport { markNodeView, showComponent, updateNode } from '../../../api/redux/actions';\n\nclass NodeCardHeader extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      name: this.props.node.name,\n      editable: false,\n    };\n  }\n\n  // render the title\n  renderTitle = () => {\n    if (!this.state.editable) {\n      // if it is not editable render the plain title\n      return (\n        <h3\n          className='nodelist-item-title'\n          onDoubleClick={(e) => {\n            e.preventDefault();\n            this.setState({ editable: true });\n          }}\n        >\n          {this.state.name}\n        </h3>\n      );\n    } else {\n      // when title is double clicked render the input field\n      return (\n        <input\n          type='text'\n          className='nodelist-item-title'\n          onBlur={() => this.setState({ editable: null })}\n          maxLength='250'\n          autoFocus\n          placeholder='name'\n          value={this.state.name}\n          onKeyPress={(e) => {\n            // remove input on enter\n            if (e.key === 'Enter') {\n              this.setState({ editable: null });\n            }\n          }}\n          onChange={(e) => {\n            this.saveName(e.target.value);\n          }}\n          onFocus={(e) => {\n            e.target.select();\n          }}\n        ></input>\n      );\n    }\n  };\n\n  // update and save the document name\n  saveName = (name) => {\n    if (this.state.name !== name) {\n      this.props.updateNode({ uuid: this.props.node.uuid, name });\n      this.props.node.name = name;\n      this.setState({ name: name });\n    }\n  };\n\n  render() {\n    return (\n      <div\n        className='nodelist-options'\n        style={{\n          display: 'flex',\n          width: '100%',\n        }}\n      >\n        {this.renderTitle()}\n        <div className='nodelist-options-buttons' style={{ marginLeft: 'auto' }}>\n          <button onClick={(e) => window.location.replace('/graph/' + this.props.node.uuid)}>\n            <Icon\n              type={'deployment-unit'}\n              theme='outlined'\n              style={{\n                fontSize: '0.9rem',\n                display: 'block',\n                textAlign: 'center',\n                padding: '0',\n              }}\n            />\n          </button>\n          <button onClick={(e) => this.props.markNodeView(this.props.node)}>\n            <Icon\n              type={'bulb'}\n              theme='outlined'\n              style={{\n                fontSize: '0.9rem',\n                display: 'block',\n                textAlign: 'center',\n                padding: '0',\n              }}\n            />\n          </button>\n          <button\n            onClick={(e) => {\n              // set the active node so the modal has the node data\n              // show the modal\n              this.props.showComponent('associationSider', this.props.node);\n            }}\n          >\n            <Icon\n              type={'branches'}\n              theme='outlined'\n              style={{\n                fontSize: '0.9rem',\n                display: 'block',\n                textAlign: 'center',\n                padding: '0',\n              }}\n            />\n          </button>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default connect(null, {\n  markNodeView,\n  showComponent,\n  updateNode,\n})(NodeCardHeader);\n","import React, { Fragment } from 'react';\nimport { Link } from 'react-router-dom';\n// for now these are in-common between nodes\nimport NodeCardHeaderFull from '../../../components/elements/node/NodeCardHeaderFull';\nimport NodeCardHeader from '../../../components/elements/node/NodeCardHeader';\n\nconst Text = (props) => {\n  const nodeCard = () => {\n    return (\n      <li className='nodelist-item'>\n        <NodeCardHeader node={props.node} />\n        <Link to={`/edit/text/${props.node.uuid}`} onClick={(e) => props.handleClick()}>\n          <p>{props.node.preview}</p>\n        </Link>\n      </li>\n    );\n  };\n\n  // how the node will appear in collections\n  const collectionPreview = () => {\n    return (\n      <Fragment>\n        <p>{props.node.preview}</p>\n      </Fragment>\n    );\n  };\n\n  const fullNode = () => {\n    return (\n      <div className='full-node-item'>\n        <NodeCardHeaderFull node={props.node} />\n        <Link to={`/edit/text/${props.node.uuid}`} /*target='_blank' */>\n          <p>{props.node.preview}</p>\n        </Link>\n      </div>\n    );\n  };\n\n  const associationLink = () => {\n    return (\n      <Link\n        to={`/edit/text/${props.node.uuid}`}\n        onClick={(e) => props.handleAssociatonClick()}\n        // target='_blank'\n      >\n        {props.node.name}\n      </Link>\n    );\n  };\n\n  // render the requested element\n  const renderNode = () => {\n    switch (props.element) {\n      case 'card':\n        return <Fragment>{nodeCard()}</Fragment>;\n      case 'preview':\n        return <Fragment>{collectionPreview()}</Fragment>;\n      case 'full':\n        return <Fragment>{fullNode()}</Fragment>;\n      case 'association-link':\n        return <Fragment>{associationLink()}</Fragment>;\n      default:\n        return;\n    }\n  };\n\n  return <Fragment>{renderNode()}</Fragment>;\n};\n\nexport { Text };\n","import React, { Fragment } from 'react';\nimport { Link } from 'react-router-dom';\n// for now these are in-common between nodes\nimport NodeCardHeaderFull from '../../../components/elements/node/NodeCardHeaderFull';\nimport NodeCardHeader from '../../../components/elements/node/NodeCardHeader';\n\nconst Image = (props) => {\n  const nodeCard = () => {\n    return (\n      <li className='nodelist-item'>\n        <NodeCardHeader node={props.node} />\n        <Link to={`/associations/${props.node.uuid}`} onClick={(e) => props.handleClick()}>\n          <Fragment>\n            <img\n              src={props.node.preview}\n              alt={props.node.name}\n              style={{\n                objectFit: 'cover',\n                minHeight: '100%',\n                width: '100%',\n              }}\n            ></img>\n          </Fragment>\n        </Link>\n      </li>\n    );\n  };\n\n  // how the node will appear in collections\n  const collectionPreview = () => {\n    return (\n      <Fragment>\n        <img\n          src={props.node.preview}\n          alt={props.node.name}\n          style={{\n            objectFit: 'cover',\n            minHeight: '100%',\n            width: '100%',\n          }}\n        ></img>\n      </Fragment>\n    );\n  };\n\n  const fullNode = () => {\n    return (\n      <div className='full-node-item'>\n        <NodeCardHeaderFull node={props.node} />\n        <img src={props.node.preview} alt={props.node.name}></img>\n      </div>\n    );\n  };\n\n  const associationLink = () => {\n    return (\n      <Link\n        to={`/associations/${props.node.uuid}`}\n        onClick={(e) => props.handleAssociatonClick()}\n        // target='_blank'\n      >\n        {props.node.name}\n      </Link>\n    );\n  };\n\n  // render the requested element\n  const renderNode = () => {\n    switch (props.element) {\n      case 'card':\n        return <Fragment>{nodeCard()}</Fragment>;\n      case 'preview':\n        return <Fragment>{collectionPreview()}</Fragment>;\n      case 'full':\n        return <Fragment>{fullNode()}</Fragment>;\n      case 'association-link':\n        return <Fragment>{associationLink()}</Fragment>;\n      default:\n        return;\n    }\n  };\n\n  return <Fragment>{renderNode()}</Fragment>;\n};\n\nexport { Image };\n","import React, { Fragment } from 'react';\n// import { Link } from 'react-router-dom';\nimport { Icon } from 'antd';\nimport history from '../../../utils/history';\n// for now these are in-common between nodes\nimport NodeCardHeaderFull from '../../../components/elements/node/NodeCardHeaderFull';\nimport NodeCardHeader from '../../../components/elements/node/NodeCardHeader';\n\nconst Url = (props) => {\n  const urlIcon = 'bulb';\n\n  const renderPreview = () => {\n    if (props.node.preview) {\n      return (\n        <img\n          src={props.node.preview}\n          alt={props.node.name}\n          style={{\n            objectFit: 'cover',\n            // minHeight: '100%',\n            width: '100%',\n          }}\n        ></img>\n      );\n    } else {\n      return (\n        <Icon\n          type={urlIcon}\n          // type={'star'}\n          theme='outlined'\n          style={{\n            fontSize: '5rem',\n            color: '#b8b8b8',\n            display: 'block',\n            textAlign: 'center',\n            padding: '3.3rem',\n            height: '100%',\n          }}\n        />\n      );\n    }\n  };\n\n  const nodeCard = () => {\n    return (\n      <li className='nodelist-item'>\n        <NodeCardHeader node={props.node} />\n        <a\n          // href={props.node.preview}\n          href={`/associations/${props.node.uuid}`}\n          // target='_blank'\n          rel='noopener noreferrer'\n          onClick={(e) => history.push(`/associations/${props.node.uuid}`)}\n          style={{ width: '100%' }}\n        >\n          {renderPreview()}\n        </a>\n        {/*   <Link to={`/associations/${props.node.uuid}`} onClick={(e) => props.handleClick()}>\n          <Icon type={'star'} theme='outlined' className='node-card-icon' />\n    </Link> */}\n      </li>\n    );\n  };\n\n  // how the node will appear in collections\n  const collectionPreview = () => {\n    if (props.node.preview) {\n      return (\n        <Fragment>\n          <img\n            src={props.node.preview}\n            alt={props.node.name}\n            style={{\n              objectFit: 'cover',\n              width: '100%',\n            }}\n          ></img>\n        </Fragment>\n      );\n    } else {\n      return (\n        <Fragment>\n          <Icon type={urlIcon} theme='outlined' className='node-card-icon' />\n        </Fragment>\n      );\n    }\n  };\n\n  const fullNode = () => {\n    return (\n      <div className='full-node-item'>\n        <NodeCardHeaderFull node={props.node} />\n        {/* <p>{props.node.preview}</p> */}\n        <a\n          href={props.node.path}\n          target='_blank'\n          rel='noopener noreferrer'\n          // onClick={(e) => props.markNodeView(props.node)}\n          style={{ width: '100%' }}\n        >\n          {renderPreview()}\n        </a>\n      </div>\n    );\n  };\n\n  const associationLink = () => {\n    return (\n      <a\n        href={props.node.path}\n        target='_blank'\n        rel='noopener noreferrer'\n        onClick={(e) => props.handleAssociatonClick()}\n        style={{ wordBreak: 'break-all' }}\n      >\n        {props.node.name}\n      </a>\n    );\n  };\n\n  // render the requested element\n  const renderNode = () => {\n    switch (props.element) {\n      case 'card':\n        return <Fragment>{nodeCard()}</Fragment>;\n      case 'preview':\n        return <Fragment>{collectionPreview()}</Fragment>;\n      case 'full':\n        return <Fragment>{fullNode()}</Fragment>;\n      case 'association-link':\n        return <Fragment>{associationLink()}</Fragment>;\n      default:\n        return;\n    }\n  };\n\n  return <Fragment>{renderNode()}</Fragment>;\n};\n\nexport { Url };\n","import React, { Fragment } from 'react';\nimport { Link } from 'react-router-dom';\nimport { Icon } from 'antd';\n// for now these are in-common between nodes\nimport NodeCardHeaderFull from '../../../components/elements/node/NodeCardHeaderFull';\nimport NodeCardHeader from '../../../components/elements/node/NodeCardHeader';\n\nconst File = (props) => {\n  const nodeCard = () => {\n    return (\n      <li className='nodelist-item'>\n        <NodeCardHeader node={props.node} />\n        <Link to={`/associations/${props.node.uuid}`} onClick={(e) => props.handleClick()}>\n          <Icon type={'file'} theme='outlined' className='node-card-icon' />\n        </Link>\n      </li>\n    );\n  };\n\n  // how the node will appear in collections\n  const collectionPreview = () => {\n    return (\n      <Fragment>\n        <Icon type={'file'} theme='outlined' className='node-card-icon' />\n      </Fragment>\n    );\n  };\n\n  const fullNode = () => {\n    return (\n      <div className='full-node-item'>\n        <NodeCardHeaderFull node={props.node} />\n        <a\n          href={props.node.preview}\n          target='_blank'\n          rel='noopener noreferrer'\n          style={{ width: '100%' }}\n        >\n          <Icon\n            type={'file'}\n            theme='outlined'\n            style={{\n              fontSize: '5rem',\n              color: '#b8b8b8',\n              display: 'block',\n              textAlign: 'center',\n              padding: '3rem',\n            }}\n          />\n        </a>\n      </div>\n    );\n  };\n\n  const associationLink = () => {\n    return (\n      <Link\n        to={`/associations/${props.node.uuid}`}\n        onClick={(e) => props.handleAssociatonClick()}\n        target='_blank'\n      >\n        {props.node.name}\n      </Link>\n    );\n  };\n\n  // render the requested element\n  const renderNode = () => {\n    switch (props.element) {\n      case 'card':\n        return <Fragment>{nodeCard()}</Fragment>;\n      case 'preview':\n        return <Fragment>{collectionPreview()}</Fragment>;\n      case 'full':\n        return <Fragment>{fullNode()}</Fragment>;\n      case 'association-link':\n        return <Fragment>{associationLink()}</Fragment>;\n      default:\n        return;\n    }\n  };\n\n  return <Fragment>{renderNode()}</Fragment>;\n};\n\nexport { File };\n","import React, { Fragment } from 'react';\nimport { Link } from 'react-router-dom';\nimport { Icon } from 'antd';\n// for now these are in-common between nodes\nimport NodeCardHeaderFull from '../../../components/elements/node/NodeCardHeaderFull';\nimport NodeCardHeader from '../../../components/elements/node/NodeCardHeader';\n\nconst Audio = (props) => {\n  const nodeCard = () => {\n    return (\n      <li className='nodelist-item'>\n        <NodeCardHeader node={props.node} />\n        <Link to={`/associations/${props.node.uuid}`} onClick={(e) => props.handleClick()}>\n          <Icon type={'sound'} theme='outlined' className='node-card-icon' />\n        </Link>\n      </li>\n    );\n  };\n\n  // how the node will appear in collections\n  const collectionPreview = () => {\n    return (\n      <Fragment>\n        <Icon type={'sound'} theme='outlined' className='node-card-icon' />\n      </Fragment>\n    );\n  };\n\n  const fullNode = () => {\n    return (\n      <div className='full-node-item'>\n        <NodeCardHeaderFull node={props.node} />\n        <a\n          href={props.node.preview}\n          target='_blank'\n          rel='noopener noreferrer'\n          style={{ width: '100%' }}\n        >\n          <Icon\n            type={'sound'}\n            theme='outlined'\n            style={{\n              fontSize: '5rem',\n              color: '#b8b8b8',\n              display: 'block',\n              textAlign: 'center',\n              padding: '3rem',\n            }}\n          />\n        </a>\n      </div>\n    );\n  };\n\n  const associationLink = () => {\n    return (\n      <Link\n        to={`/associations/${props.node.uuid}`}\n        onClick={(e) => this.handleLinkClick()}\n        // target='_blank'\n      >\n        {props.node.name}\n      </Link>\n    );\n  };\n\n  // render the requested element\n  const renderNode = () => {\n    switch (props.element) {\n      case 'card':\n        return <Fragment>{nodeCard()}</Fragment>;\n      case 'preview':\n        return <Fragment>{collectionPreview()}</Fragment>;\n      case 'full':\n        return <Fragment>{fullNode()}</Fragment>;\n      case 'association-link':\n        return <Fragment>{associationLink()}</Fragment>;\n      default:\n        return;\n    }\n  };\n\n  return <Fragment>{renderNode()}</Fragment>;\n};\n\nexport { Audio };\n","import React, { Fragment } from 'react';\nimport { Link } from 'react-router-dom';\nimport { Icon } from 'antd';\n// for now these are in-common between nodes\nimport NodeCardHeaderFull from '../../../components/elements/node/NodeCardHeaderFull';\nimport NodeCardHeader from '../../../components/elements/node/NodeCardHeader';\n\nconst Package = (props) => {\n  const nodeCard = () => {\n    return (\n      <li className='nodelist-item'>\n        <NodeCardHeader node={props.node} />\n        <Link to={`/associations/${props.node.uuid}`} onClick={(e) => props.handleClick()}>\n          <Icon type={'deployment-unit'} theme='outlined' className='node-card-icon' />\n        </Link>\n      </li>\n    );\n  };\n\n  // how the node will appear in collections\n  const collectionPreview = () => {\n    return (\n      <Fragment>\n        <Icon type={'deployment-unit'} theme='outlined' className='node-card-icon' />\n      </Fragment>\n    );\n  };\n\n  const fullNode = () => {\n    return (\n      <div className='full-node-item'>\n        <NodeCardHeaderFull node={props.node} />\n        <a\n          href={props.node.preview}\n          // target='_blank'\n          rel='noopener noreferrer'\n          style={{ width: '100%' }}\n        >\n          <Icon\n            type={'deployment-unit'}\n            theme='outlined'\n            style={{\n              fontSize: '5rem',\n              color: '#b8b8b8',\n              display: 'block',\n              textAlign: 'center',\n              padding: '3rem',\n            }}\n          />\n        </a>\n      </div>\n    );\n  };\n\n  const associationLink = () => {\n    return (\n      <Link\n        to={`/associations/${props.node.uuid}`}\n        onClick={(e) => props.handleAssociatonClick()}\n        // target='_blank'\n      >\n        {props.node.name}\n      </Link>\n    );\n  };\n\n  // render the requested element\n  const renderNode = () => {\n    switch (props.element) {\n      case 'card':\n        return <Fragment>{nodeCard()}</Fragment>;\n      case 'preview':\n        return <Fragment>{collectionPreview()}</Fragment>;\n      case 'full':\n        return <Fragment>{fullNode()}</Fragment>;\n      case 'association-link':\n        return <Fragment>{associationLink()}</Fragment>;\n      default:\n        return;\n    }\n  };\n\n  return <Fragment>{renderNode()}</Fragment>;\n};\n\nexport { Package };\n","import React, { Fragment } from 'react';\nimport { Link } from 'react-router-dom';\nimport { Icon } from 'antd';\n// for now these are in-common between nodes\nimport NodeCardHeaderFull from '../../../components/elements/node/NodeCardHeaderFull';\nimport NodeCardHeader from '../../../components/elements/node/NodeCardHeader';\n\nconst Zip = (props) => {\n  const nodeCard = () => {\n    return (\n      <li className='nodelist-item'>\n        <NodeCardHeader node={props.node} />\n        <Link to={`/associations/${props.node.uuid}`} onClick={(e) => props.handleClick()}>\n          <Icon type={'file-zip'} theme='outlined' className='node-card-icon' />\n        </Link>\n      </li>\n    );\n  };\n\n  // how the node will appear in collections\n  const collectionPreview = () => {\n    return (\n      <Fragment>\n        <Icon type={'file-zip'} theme='outlined' className='node-card-icon' />\n      </Fragment>\n    );\n  };\n\n  const fullNode = () => {\n    return (\n      <div className='full-node-item'>\n        <NodeCardHeaderFull node={props.node} />\n        <a\n          href={props.node.preview}\n          target='_blank'\n          rel='noopener noreferrer'\n          style={{ width: '100%' }}\n        >\n          <Icon\n            type={'file-zip'}\n            theme='outlined'\n            style={{\n              fontSize: '5rem',\n              color: '#b8b8b8',\n              display: 'block',\n              textAlign: 'center',\n              padding: '3rem',\n            }}\n          />\n        </a>\n      </div>\n    );\n  };\n\n  const associationLink = () => {\n    return (\n      <Link\n        to={`/associations/${props.node.uuid}`}\n        onClick={(e) => props.handleAssociatonClick()}\n        // target='_blank'\n      >\n        {props.node.name}\n      </Link>\n    );\n  };\n\n  // render the requested element\n  const renderNode = () => {\n    switch (props.element) {\n      case 'card':\n        return <Fragment>{nodeCard()}</Fragment>;\n      case 'preview':\n        return <Fragment>{collectionPreview()}</Fragment>;\n      case 'full':\n        return <Fragment>{fullNode()}</Fragment>;\n      case 'association-link':\n        return <Fragment>{associationLink()}</Fragment>;\n      default:\n        return;\n    }\n  };\n\n  return <Fragment>{renderNode()}</Fragment>;\n};\n\nexport { Zip };\n","import React, { Fragment } from 'react';\nimport { Link } from 'react-router-dom';\nimport { Icon } from 'antd';\n// custom code\nimport NodeRenderer from '../NodeRenderer';\n// for now these are in-common between nodes\nimport NodeCardHeaderFull from '../../../components/elements/node/NodeCardHeaderFull';\nimport NodeCardHeader from '../../../components/elements/node/NodeCardHeader';\n\nconst Collection = (props) => {\n  const nodeCard = () => {\n    // create the collection grid\n    var previewCount = 0;\n    var collectionPreview = null;\n    var preview = null;\n    // check if the collection has a preview\n    if (props.node.preview) {\n      preview = JSON.parse(props.node.preview);\n      previewCount = preview.length;\n    }\n    // create the different grid types\n    switch (previewCount) {\n      case 0:\n        collectionPreview = (\n          <li className='nodelist-item'>\n            <NodeCardHeader node={props.node} />\n            <Link to={`/associations/${props.node.uuid}`} onClick={(e) => props.handleClick()}>\n              <Icon type={'branches'} theme='outlined' className='node-card-icon' />\n            </Link>\n          </li>\n        );\n        return collectionPreview;\n      case 1:\n        collectionPreview = (\n          <li className='nodelist-item'>\n            <NodeCardHeader node={props.node} />\n            <Link to={`/associations/${props.node.uuid}`} onClick={(e) => props.handleClick()}>\n              <Icon type={'branches'} theme='outlined' className='node-card-icon' />\n            </Link>\n          </li>\n        );\n        return collectionPreview;\n      case 2:\n        collectionPreview = (\n          <li className='nodelist-item nodelist-item-collection'>\n            <NodeCardHeader node={props.node} />\n            <Link to={`/associations/${props.node.uuid}`} onClick={(e) => props.handleClick()}>\n              <ul className='nodelist-collection-grid'>\n                <li className='nodelist-collection-grid-full-width'>\n                  <NodeRenderer type={preview[0].type} element={'preview'} node={preview[0]} />\n                </li>\n                <li className='nodelist-collection-grid-full-width'>\n                  <NodeRenderer type={preview[1].type} element={'preview'} node={preview[1]} />\n                </li>\n              </ul>\n            </Link>\n          </li>\n        );\n        return collectionPreview;\n      case 3:\n        collectionPreview = (\n          <li className='nodelist-item nodelist-item-collection'>\n            <NodeCardHeader node={props.node} />\n            <Link to={`/associations/${props.node.uuid}`} onClick={(e) => props.handleClick()}>\n              <ul className='nodelist-collection-grid'>\n                <li className='nodelist-collection-grid-full-width'>\n                  <NodeRenderer type={preview[0].type} element={'preview'} node={preview[0]} />\n                </li>\n                <li>\n                  <NodeRenderer type={preview[1].type} element={'preview'} node={preview[1]} />\n                </li>\n                <li>\n                  <NodeRenderer type={preview[2].type} element={'preview'} node={preview[2]} />\n                </li>\n                <li></li>\n              </ul>\n            </Link>\n          </li>\n        );\n        return collectionPreview;\n      case 4:\n        collectionPreview = (\n          <li className='nodelist-item nodelist-item-collection'>\n            <NodeCardHeader node={props.node} />\n            <Link to={`/associations/${props.node.uuid}`} onClick={(e) => props.handleClick()}>\n              <ul className='nodelist-collection-grid'>\n                <li>\n                  <NodeRenderer type={preview[0].type} element={'preview'} node={preview[0]} />\n                </li>\n                <li>\n                  <NodeRenderer type={preview[1].type} element={'preview'} node={preview[1]} />\n                </li>\n                <li>\n                  <NodeRenderer type={preview[2].type} element={'preview'} node={preview[2]} />\n                </li>\n                <li>\n                  <NodeRenderer type={preview[3].type} element={'preview'} node={preview[3]} />\n                </li>\n              </ul>\n            </Link>\n          </li>\n        );\n        return collectionPreview;\n      default:\n        return;\n    }\n  };\n\n  const fullNode = () => {\n    return (\n      <div className='full-node-item'>\n        <NodeCardHeaderFull node={props.node} />\n      </div>\n    );\n  };\n\n  const associationLink = () => {\n    return (\n      <Link\n        to={`/associations/${props.node.uuid}`}\n        onClick={(e) => props.handleAssociatonClick()}\n        // target='_blank'\n      >\n        {props.node.name}\n      </Link>\n    );\n  };\n\n  // render the requested element\n  const renderNode = () => {\n    switch (props.element) {\n      case 'card':\n        return <Fragment>{nodeCard()}</Fragment>;\n      case 'full':\n        return <Fragment>{fullNode()}</Fragment>;\n      case 'association-link':\n        return <Fragment>{associationLink()}</Fragment>;\n      default:\n        return;\n    }\n  };\n\n  return <Fragment>{renderNode()}</Fragment>;\n};\n\nexport { Collection };\n","import React, { Fragment } from 'react';\nimport { Link } from 'react-router-dom';\n// for now these are in-common between nodes\nimport NodeCardHeaderFull from '../../../components/elements/node/NodeCardHeaderFull';\nimport NodeCardHeader from '../../../components/elements/node/NodeCardHeader';\nimport defaultHeader from '../../../resources/synthona-header.png';\n\nconst User = (props) => {\n  const nodeCard = () => {\n    return (\n      <li className='nodelist-item'>\n        <NodeCardHeader node={props.node} />\n        <Link to={`/profile/${props.node.path}`} replace onClick={(e) => props.handleClick()}>\n          <img\n            src={props.node.preview || defaultHeader}\n            alt={props.node.name}\n            style={{\n              objectFit: 'cover',\n              minHeight: '100%',\n              width: '100%',\n            }}\n          ></img>\n        </Link>\n      </li>\n    );\n  };\n\n  // how the node will appear in collections\n  const collectionPreview = () => {\n    return (\n      <Fragment>\n        <img\n          src={props.node.preview || defaultHeader}\n          alt={props.node.name}\n          style={{\n            objectFit: 'cover',\n            minHeight: '100%',\n            width: '100%',\n          }}\n        ></img>\n      </Fragment>\n    );\n  };\n\n  const fullNode = () => {\n    console.log(props.node);\n    return (\n      <div className='full-node-item'>\n        <NodeCardHeaderFull node={props.node} />\n        <Link to={`/profile/${props.node.path}`} /*target='_blank' */>\n          <p>{props.node.name}</p>\n        </Link>\n      </div>\n    );\n  };\n\n  const associationLink = () => {\n    return (\n      <Link\n        to={`/profile/${props.node.path}`}\n        onClick={(e) => props.handleAssociatonClick()}\n        // target='blank'\n      >\n        {props.node.name}\n      </Link>\n    );\n  };\n\n  // render the requested element\n  const renderNode = () => {\n    switch (props.element) {\n      case 'card':\n        return <Fragment>{nodeCard()}</Fragment>;\n      case 'preview':\n        return <Fragment>{collectionPreview()}</Fragment>;\n      case 'full':\n        return <Fragment>{fullNode()}</Fragment>;\n      case 'association-link':\n        return <Fragment>{associationLink()}</Fragment>;\n      default:\n        return;\n    }\n  };\n\n  return <Fragment>{renderNode()}</Fragment>;\n};\n\nexport { User };\n","// import the default node configurations\nimport React, { Component, Fragment } from 'react';\nimport { connect } from 'react-redux';\nimport { updateLinkStrength, hideComponent } from '../../api/redux/actions';\nimport { Text, Image, Url, File, Audio, Package, Zip, Collection, User } from './core/index';\n\nclass NodeRenderer extends Component {\n  // increment linkstrength if there is an activeNode\n  handleNodeClick = () => {\n    const nodeUUID = this.props.node.uuid;\n    if (this.props.activeNode) {\n      const linkedNodeUUID = this.props.activeNode.uuid;\n      // increment the linkStrength on the server\n      this.props.updateLinkStrength(nodeUUID, linkedNodeUUID);\n    }\n  };\n\n  // increment linkstrength on association sider clicks\n  handleAssociatonClick = () => {\n    this.props.hideComponent('associationSider');\n    if (this.props.siderNodeUUID && this.props.node.uuid) {\n      const siderUUID = this.props.siderNodeUUID;\n      const linkedNodeUUID = this.props.node.uuid;\n      // increment the linkStrength on the server\n      this.props.updateLinkStrength(siderUUID, linkedNodeUUID);\n    }\n  };\n\n  renderNode = () => {\n    switch (this.props.type) {\n      case 'text':\n        return (\n          <Text\n            element={this.props.element}\n            node={this.props.node}\n            handleClick={this.handleNodeClick}\n            handleAssociatonClick={this.handleAssociatonClick}\n          />\n        );\n      case 'image':\n        return (\n          <Image\n            element={this.props.element}\n            node={this.props.node}\n            handleClick={this.handleNodeClick}\n            handleAssociatonClick={this.handleAssociatonClick}\n          />\n        );\n      case 'url':\n        return (\n          <Url\n            element={this.props.element}\n            node={this.props.node}\n            handleClick={this.handleNodeClick}\n            handleAssociatonClick={this.handleAssociatonClick}\n          />\n        );\n      case 'file':\n        return (\n          <File\n            element={this.props.element}\n            node={this.props.node}\n            handleClick={this.handleNodeClick}\n            handleAssociatonClick={this.handleAssociatonClick}\n          />\n        );\n      case 'audio':\n        return (\n          <Audio\n            element={this.props.element}\n            node={this.props.node}\n            handleClick={this.handleNodeClick}\n            handleAssociatonClick={this.handleAssociatonClick}\n          />\n        );\n      case 'package':\n        return (\n          <Package\n            element={this.props.element}\n            node={this.props.node}\n            handleClick={this.handleNodeClick}\n            handleAssociatonClick={this.handleAssociatonClick}\n          />\n        );\n      case 'zip':\n        return (\n          <Zip\n            element={this.props.element}\n            node={this.props.node}\n            handleClick={this.handleNodeClick}\n            handleAssociatonClick={this.handleAssociatonClick}\n          />\n        );\n      case 'collection':\n        return (\n          <Collection\n            element={this.props.element}\n            node={this.props.node}\n            handleClick={this.handleNodeClick}\n            handleAssociatonClick={this.handleAssociatonClick}\n          />\n        );\n      case 'user':\n        return (\n          <User\n            element={this.props.element}\n            node={this.props.node}\n            handleClick={this.handleNodeClick}\n            handleAssociatonClick={this.handleAssociatonClick}\n          />\n        );\n      default:\n        return;\n    }\n  };\n\n  render() {\n    return <Fragment>{this.renderNode()}</Fragment>;\n  }\n}\n\nexport default connect(null, { updateLinkStrength, hideComponent })(NodeRenderer);\n","import React from 'react';\n//custom components\nimport NodeRenderer from '../../../types/render/NodeRenderer';\n\nconst NodeCard = (props) => {\n  const renderNodeCard = () => {\n    if (props.node) {\n      return (\n        <NodeRenderer\n          type={props.node.type}\n          element={'card'}\n          node={props.node}\n          activeNode={props.activeNode}\n        />\n      );\n    }\n  };\n\n  return <div>{renderNodeCard()}</div>;\n};\n\nexport default NodeCard;\n","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport {\n  hideComponent,\n  deleteAssociationLink,\n  removeFromAssociationList,\n  updateLinkStrength,\n} from '../../../api/redux/actions';\nimport { Button, Tooltip } from 'antd';\nimport './AssociationLinkList.less';\n// node renderer\nimport NodeRenderer from '../../../types/render/NodeRenderer';\n\nclass AssociationLink extends Component {\n  handleDeleteAssociation = () => {\n    // sider node is the the node the sider was opened from\n    var siderNodeUUID = this.props.siderNodeUUID;\n    // linked node is the node from the list, to be un-linked, un-associated\n    var linkedNodeUUID = this.props.association.uuid;\n    // active node is only set when viewing an /association page, the node of the page itself\n    if (this.props.activeNode) {\n      // store the active node\n      var activeNodeUUID = this.props.activeNode.uuid;\n    }\n    // if both have values go ahead and delete the association\n    if (siderNodeUUID && linkedNodeUUID) {\n      this.props.deleteAssociationLink(siderNodeUUID, linkedNodeUUID);\n      // store pathname\n      var pathname = window.location.pathname;\n      // handle removal from association list page if on association page if an associated node was removed\n      if (\n        (pathname.includes('associations') || pathname.includes('/edit/text/')) &&\n        activeNodeUUID &&\n        activeNodeUUID === linkedNodeUUID\n      ) {\n        this.props.removeFromAssociationList(siderNodeUUID);\n        this.props.hideComponent('associationSider');\n      } else if (\n        (pathname.includes('associations') || pathname.includes('/edit/text/')) &&\n        activeNodeUUID &&\n        activeNodeUUID === siderNodeUUID\n      ) {\n        this.props.removeFromAssociationList(linkedNodeUUID);\n      }\n    }\n  };\n\n  // render card types\n  renderAssociationLink = (association) => {\n    return (\n      <li className='association-list-item'>\n        <Tooltip title={association.name} mouseLeaveDelay={0} mouseEnterDelay={0.3}>\n          <Button\n            icon='close'\n            shape='circle'\n            size='small'\n            onClick={(e) => this.handleDeleteAssociation()}\n          />\n          <NodeRenderer\n            type={association.type}\n            element={'association-link'}\n            node={association}\n            siderNodeUUID={this.props.siderNodeUUID}\n          ></NodeRenderer>\n        </Tooltip>\n      </li>\n    );\n  };\n\n  render() {\n    return <div>{this.renderAssociationLink(this.props.association)}</div>;\n  }\n}\n\nconst mapStateToProps = (state) => {\n  return {\n    siderNodeUUID: state.components.componentList['associationSider'].content.uuid,\n    activeNode: state.nodes.activeNode,\n  };\n};\n\nexport default connect(mapStateToProps, {\n  hideComponent,\n  deleteAssociationLink,\n  removeFromAssociationList,\n  updateLinkStrength,\n})(AssociationLink);\n","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\n// custom code\nimport '../node/NodeList.less';\nimport { searchNodes, fetchAssociationLinkList } from '../../../api/redux/actions';\n// import NodeCard from './NodeCard';\nimport Spinner from '../Spinner';\nimport AssociationLink from './AssociationLink';\n\nclass AssociationLinkList extends Component {\n  componentDidMount() {\n    this.props.fetchAssociationLinkList({ nodeUUID: this.props.nodeUUID });\n  }\n\n  loadMore = () => {\n    this.props.fetchAssociationLinkList({\n      nodeUUID: this.props.nodeUUID,\n      page: this.props.page + 1,\n    });\n  };\n\n  renderAssociationLinkList = () => {\n    // go through the list of nodes and render them to the page\n    const list = this.props.associations;\n    // if list exists render the links\n    if (list !== null) {\n      return list.map((association) => {\n        return <AssociationLink key={association.uuid} association={association} />;\n      });\n    } else {\n      return <Spinner></Spinner>;\n    }\n  };\n\n  renderLoadMoreButton = () => {\n    var listLength = this.props.associations.length;\n    // if the total items is more than what is loaded show the load more button\n    if (this.props.totalItems > listLength + 1) {\n      return (\n        <li style={{ listStyle: 'none', marginTop: '0.5rem', textAlign: 'center' }}>\n          <button\n            style={{\n              margin: '1rem 0',\n              width: '90%',\n              backgroundColor: '#272727',\n              color: '#16e998',\n            }}\n            onClick={(e) => this.loadMore()}\n          >\n            load more\n          </button>\n        </li>\n      );\n    }\n  };\n\n  render() {\n    return (\n      <ul id='node-info-list' className='association-list'>\n        {this.renderAssociationLinkList()}\n        {this.renderLoadMoreButton()}\n      </ul>\n    );\n  }\n}\n\nconst mapStateToProps = (state) => {\n  return {\n    associations: state.associations.associationLinkList,\n    page: state.associations.associationLinkListPage,\n    totalItems: state.associations.totalLinkListItems,\n  };\n};\n\nexport default connect(mapStateToProps, {\n  searchNodes,\n  fetchAssociationLinkList,\n})(AssociationLinkList);\n","import React, { Component } from 'react';\n// import { Link } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport { Drawer, AutoComplete } from 'antd';\nimport {\n  signOut,\n  hideComponent,\n  createAssociation,\n  fetchAssociationLinkList,\n  fetchAssociations,\n  associationAutocomplete,\n} from '../../../api/redux/actions';\n// custom code\nimport AssociationLinkList from './AssociationLinkList';\n// destructure antd\nconst { Option } = AutoComplete;\n\nclass AssociationSider extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      autocompleteOptions: null,\n      autocompleteValues: null,\n      inputText: '',\n    };\n  }\n\n  createAssociationHandler = async (input) => {\n    // get the uuid of the node to be associated\n    const nodeToAssociate = [];\n    var siderNode = this.props.associationSiderData.content;\n    this.state.autocompleteValues.forEach((node) => {\n      if (node.uuid === input) {\n        nodeToAssociate.push(node.uuid);\n      }\n    });\n    const nodeUUIDToAssociate = nodeToAssociate[0];\n    // get this node uuid\n    const nodeUUID = siderNode.uuid;\n    // associate the nodes\n    await this.props.createAssociation(nodeUUID, nodeUUIDToAssociate);\n    this.setState({ autocompleteOptions: [], autocompleteValues: null, inputText: '' });\n    // re-render the autocomplete values so more can be added\n    this.renderAutocompleteValues('');\n  };\n\n  renderAutocompleteValues = async (input) => {\n    var siderNode = this.props.associationSiderData.content;\n    this.setState({ inputText: input });\n    const result = await this.props.associationAutocomplete({\n      searchQuery: input || '',\n      uuid: siderNode.uuid,\n    });\n    if (result) {\n      this.setState({\n        autocompleteValues: result.map((node) => {\n          return node;\n        }),\n      });\n      const newValues = result.map((node) => {\n        return <Option key={node.uuid}>{node.name}</Option>;\n      });\n      this.setState({ autocompleteOptions: newValues });\n    }\n  };\n\n  hideInfoSider = () => {\n    // reset state when the sider is hidden\n    this.setState({ autocompleteOptions: null, autocompleteValues: null, inputText: '' });\n    // hide association sider component\n    this.props.hideComponent('associationSider');\n  };\n\n  renderContent = () => {\n    if (this.props.associationSiderData) {\n      var siderNode = this.props.associationSiderData.content;\n      return (\n        <div className='node-info-sider-container' style={{ textAlign: 'center' }}>\n          <Drawer\n            className='node-info-sider'\n            placement='right'\n            closable={false}\n            title={siderNode.name}\n            onClose={() => {\n              this.hideInfoSider();\n              // temporary fix to remove overflow property being set on body by antd\n              document.documentElement.style.cssText = '';\n            }}\n            visible={this.props.associationSiderData.visible}\n          >\n            {/*  <Link className='node-info-sider-header' to={`/associations/${siderNode.uuid}`}>\n              {siderNode.name}\n            </Link>\n            <p style={{ color: 'white' }}>{siderNode.preview}</p> */}\n            <AutoComplete\n              style={{\n                width: 200,\n              }}\n              placeholder='add association'\n              value={this.state.inputText}\n              onChange={(value) => this.renderAutocompleteValues(value)}\n              onFocus={(value) => this.renderAutocompleteValues(value)}\n              onSelect={(value) => this.createAssociationHandler(value)}\n            >\n              {this.state.autocompleteOptions}\n            </AutoComplete>\n            <br />\n            <AssociationLinkList nodeUUID={siderNode.uuid} />\n          </Drawer>\n        </div>\n      );\n    }\n  };\n\n  render() {\n    return <div>{this.renderContent()}</div>;\n  }\n}\n\nconst mapStateToProps = (state) => {\n  return {\n    associationSiderData: state.components.componentList['associationSider'],\n    page: state.associations.associationLinkListPage,\n  };\n};\n\nexport default connect(mapStateToProps, {\n  signOut,\n  hideComponent,\n  createAssociation,\n  fetchAssociationLinkList,\n  fetchAssociations,\n  associationAutocomplete,\n})(AssociationSider);\n","import React, { Component, Fragment } from 'react';\nimport { connect } from 'react-redux';\n// custom code\nimport './NodeList.less';\nimport { searchNodes, fetchNodes } from '../../../api/redux/actions';\nimport NodeCard from './NodeCard';\nimport AssociationSider from '../association/AssociationSider';\nimport Spinner from '../Spinner';\n// import NodeCardFull from '../node/NodeCardFull';\n\nclass NodeList extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      topOfPage: false,\n    };\n  }\n\n  componentDidMount() {\n    this.props.fetchNodes({\n      // page: this.props.query.page > 1 ? this.props.query.page - 1 : this.props.query.page,\n      page: 1,\n      type: this.props.query.type,\n      searchQuery: this.props.query.searchQuery,\n    });\n    window.addEventListener('scroll', this.infiniteScroll);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener('scroll', this.infiniteScroll);\n  }\n\n  infiniteScroll = (e) => {\n    if (this.endReached() && !this.props.isFetching) {\n      this.setState({ topOfPage: false });\n      // fetch the next page\n      this.props.fetchNodes({\n        page: this.props.query.page + 1,\n        type: this.props.query.type,\n        searchQuery: this.props.query.searchQuery,\n      });\n    }\n  };\n\n  endReached = () => {\n    // window calculations to tell when the user scrolls to the bottom\n    const windowHeight =\n      'innerHeight' in window ? window.innerHeight : document.documentElement.offsetHeight;\n    const body = document.body;\n    const html = document.documentElement;\n    const docHeight = Math.max(\n      body.scrollHeight,\n      body.offsetHeight,\n      html.clientHeight,\n      html.scrollHeight,\n      html.offsetHeight\n    );\n    const windowBottom = windowHeight + window.pageYOffset;\n    // check if the top is reached\n    if (window.pageYOffset < 1 && !this.props.isFetching && !this.state.topOfPage) {\n      this.setState({ topOfPage: true });\n      // at the top of the page, reset the nodelist\n      this.props.fetchNodes({\n        page: 1,\n        type: this.props.query.type,\n        searchQuery: this.props.query.searchQuery,\n      });\n    }\n    // if it's not the top of the page go ahead and fetch more\n    return windowBottom >= docHeight - 733;\n  };\n\n  renderNodeList = () => {\n    // go through the list of nodes and render them to the page\n    const nodeList = this.props.nodes;\n    // if there are nodes go ahead and render\n    if (nodeList !== null) {\n      return nodeList.map((node) => {\n        if (node.uuid) {\n          // return <NodeCardFull key={node.uuid} node={node} />\n          return <NodeCard key={node.uuid} node={node} />;\n        } else {\n          return <Fragment></Fragment>;\n        }\n      });\n    } else {\n      return <Spinner></Spinner>;\n    }\n  };\n\n  render() {\n    return (\n      <div className='nodelist-container'>\n        <ul className='nodelist'>{this.renderNodeList()}</ul>\n        <AssociationSider />\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = (state) => {\n  return {\n    nodes: state.nodes.nodeList,\n    query: state.nodes.query,\n    totalNodes: state.nodes.totalItems,\n    isFetching: state.nodes.isFetching,\n  };\n};\n\nexport default connect(mapStateToProps, { searchNodes, fetchNodes })(NodeList);\n","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { Layout } from 'antd';\n// custom code\nimport MainSider from '../elements/MainSider';\nimport IOBar from '../elements/IOBar';\nimport NodeList from '../elements/node/NodeList';\n\nconst { Content } = Layout;\n\nclass Home extends Component {\n  componentDidMount() {\n    document.title = 'home';\n    // temporary fix to undo whatever is setting overflow hidden on-login\n    document.body.style.removeProperty('overflow');\n    window.scrollTo({ top: 0, behavior: 'smooth' });\n  }\n\n  renderMainSider = () => {\n    if (this.props.mainSider) {\n      return <MainSider />;\n    }\n  };\n\n  render() {\n    return (\n      <Layout className='page-layout'>\n        <Layout>\n          {this.renderMainSider()}\n          <Content style={{ minHeight: '100vh' }}>\n            <IOBar />\n            <div className='list-container'>\n              <NodeList />\n            </div>\n          </Content>\n        </Layout>\n      </Layout>\n    );\n  }\n}\n\nconst mapStateToProps = (state) => {\n  return {\n    isSignedIn: state.auth.isSignedIn,\n    mainSider: state.components.componentList['mainSider'],\n  };\n};\n\nexport default connect(mapStateToProps)(Home);\n","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { Layout, message, Modal } from 'antd';\n// custom code\nimport Spinner from '../elements/Spinner';\nimport {\n  fetchUserByUsername,\n  showComponent,\n  hideComponent,\n  markNodeView,\n} from '../../api/redux/actions';\nimport './css/Profile.less';\nimport NodeList from '../elements/node/NodeList';\nimport MainSider from '../elements/MainSider';\n// import default images\nimport defaultHeader from '../../resources/synthona-header.png';\nimport defaultAvatar from '../../resources/synthona-logo.png';\n\nconst { Content } = Layout;\n\nclass Profile extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      initialized: false,\n      username: '',\n      displayName: '',\n      bio: '',\n      avatar: '',\n      header: '',\n      avatarModal: false,\n    };\n  }\n\n  componentDidMount() {\n    this.props.showComponent('mainSider');\n    document.title = this.props.match.params.username;\n    this.initializeFromUrlParams();\n  }\n\n  componentDidUpdate() {\n    document.body.style.removeProperty('overflow');\n    if (this.state.username !== this.props.match.params.username) {\n      document.title = this.props.match.params.username;\n      this.initializeFromUrlParams();\n    }\n  }\n\n  componentWillUnmount() {\n    this.props.hideComponent('mainSider');\n  }\n\n  toggleAvatarModal = () => {\n    if (this.state.avatarModal === false) {\n      this.setState({ avatarModal: true });\n    } else {\n      this.setState({ avatarModal: false });\n    }\n  };\n\n  // load the text node and set the local id state.\n  initializeFromUrlParams = async () => {\n    // fetch the user info from the server\n    const user = await this.props.fetchUserByUsername(this.props.match.params.username);\n    if (user) {\n      this.setState({\n        initialized: true,\n        username: user.username,\n        displayName: user.displayName,\n        bio: user.bio,\n        avatar: user.avatar,\n        header: user.header,\n      });\n      // mark the profile as viewed\n      this.props.markNodeView({ uuid: user.nodeId });\n      // set the page title\n      document.title = user.displayName;\n    } else {\n      message.error('there was a problem loading the user');\n      this.props.history.push('/');\n    }\n  };\n\n  render() {\n    if (!this.state.initialized) {\n      return (\n        <Layout className='page-layout'>\n          <Layout>\n            <Layout>\n              <Spinner />\n            </Layout>\n          </Layout>\n        </Layout>\n      );\n    }\n\n    return (\n      <div className='profile-container'>\n        <MainSider showMask={false} animate={false} />\n        <Layout>\n          <Content style={{ marginBottom: '0' }} className='Profile'>\n            <div className='profile-card'>\n              <button href={`/profile/${this.state.username}`}>\n                <div className='Profile-header'>\n                  <img src={this.state.header || defaultHeader} alt='example' draggable='false' />\n                </div>\n              </button>\n              {/* <button href={`/profile/${this.state.username}`}> */}\n              <div className='Profile-avatar'>\n                <img\n                  src={this.state.avatar || defaultAvatar}\n                  alt={'profile'}\n                  draggable='false'\n                  onClick={this.toggleAvatarModal}\n                />\n              </div>\n              {/* </button> */}\n              <div className='Profile-info'>\n                <h2 className='Profile-displayName'>{this.state.displayName}</h2>\n                <i className='Profile-username'>{`@${this.state.username}`}</i>\n                <p className='Profile-bio'>{this.state.bio}</p>\n              </div>\n            </div>\n            <Modal\n              title={this.state.displayName}\n              visible={this.state.avatarModal}\n              className='profile-modal'\n              centered\n              onCancel={this.toggleAvatarModal}\n              closable={false}\n              footer={null}\n              afterClose={() => {\n                // temporary fix to remove overflow property being set on body by antd\n                document.body.style.removeProperty('overflow');\n              }}\n            >\n              <img src={this.state.avatar || defaultAvatar} alt={'avatar'}></img>\n            </Modal>\n            <NodeList />\n          </Content>\n        </Layout>\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = (state) => {\n  return { user: state.auth.user };\n};\n\nexport default connect(mapStateToProps, {\n  fetchUserByUsername,\n  showComponent,\n  hideComponent,\n  markNodeView,\n})(Profile);\n","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { Layout, message, Icon, Button, Modal } from 'antd';\nimport { Formik, Form, Field, ErrorMessage } from 'formik';\nimport * as Yup from 'yup';\n// custom code\nimport {\n  fetchUserByUsername,\n  updateUserInfo,\n  updateUserAvatar,\n  updateUserHeader,\n  updateUsername,\n  updateEmail,\n  changePassword,\n  showComponent,\n  generateInstanceExport,\n  hideComponent,\n} from '../../api/redux/actions';\nimport './css/Options.less';\n// import IOBar from '../elements/IOBar';\nimport NodeList from '../elements/node/NodeList';\nimport MainSider from '../elements/MainSider';\n// import default images\nimport defaultHeader from '../../resources/synthona-header.png';\nimport defaultAvatar from '../../resources/synthona-logo.png';\n\nconst { Content } = Layout;\n\nclass Options extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      showPasswordModal: false,\n      initialized: false,\n      username: '',\n      email: '',\n      displayName: '',\n      bio: '',\n      avatar: '',\n      header: '',\n    };\n  }\n\n  componentDidMount() {\n    this.props.showComponent('mainSider');\n    document.title = `Edit Profile`;\n    // temporary fix to undo whatever is setting overflow hidden on-login\n    document.body.style.removeProperty('overflow');\n    this.initializeFromUrlParams();\n  }\n\n  updatePassword = (values, { setSubmitting }) => {\n    this.togglePasswordModal();\n    setSubmitting(false);\n    this.props.changePassword(values);\n  };\n\n  // show modal to confirm deletion\n  togglePasswordModal = () => {\n    if (this.state.showPasswordModal) {\n      this.setState({ showPasswordModal: false });\n    } else {\n      this.setState({ showPasswordModal: true });\n    }\n  };\n\n  passwordModal = () => {\n    return (\n      <Formik\n        initialValues={{ oldPassword: '', newPassword: '', confirmNewPassword: '' }}\n        validationSchema={validationSchema}\n        onSubmit={this.updatePassword}\n        style={{ display: 'inline-block' }}\n      >\n        {({ isSubmitting }) => (\n          <Form className='password-modal-form'>\n            <Field\n              type='password'\n              name='oldPassword'\n              password\n              placeholder='old password'\n              className='password-modal-field'\n            />\n            <ErrorMessage name='oldPassword' component='div' />\n            <Field\n              type='password'\n              name='newPassword'\n              placeholder='new password'\n              className='password-modal-field'\n            />\n            <ErrorMessage name='newPassword' component='div' />\n            <Field\n              type='password'\n              name='confirmNewPassword'\n              placeholder='confirm new password'\n              className='password-modal-field'\n            />\n            <ErrorMessage name='confirmNewPassword' component='div' />\n            <button type='submit' disabled={isSubmitting}>\n              change password\n            </button>\n          </Form>\n        )}\n      </Formik>\n    );\n  };\n\n  // load the profile\n  initializeFromUrlParams = async () => {\n    // fetch the user info from the server\n    const user = await this.props.fetchUserByUsername(this.props.user.username);\n    if (user) {\n      this.setState({\n        initialized: true,\n        username: user.username,\n        email: this.props.user.email,\n        displayName: user.displayName,\n        bio: user.bio,\n        avatar: user.avatar,\n        header: user.header,\n      });\n    } else {\n      message.error('there was a problem loading your profile');\n      this.props.history.push('/');\n    }\n  };\n\n  // select an image.\n  setAvatar = () => {\n    const input = document.createElement('input');\n    input.setAttribute('type', 'file');\n    input.click();\n    // Listen for uploading local image, then save to server\n    input.onchange = async () => {\n      const file = input.files[0];\n      // make sure file is an image\n      if (/^image\\//.test(file.type)) {\n        // save the image to the server\n        const url = await this.props.updateUserAvatar(file);\n        this.setState({ avatar: url });\n      } else {\n        message.error('The file must be an image', 1);\n      }\n    };\n  };\n\n  setHeader = () => {\n    const input = document.createElement('input');\n    input.setAttribute('type', 'file');\n    input.click();\n    // Listen for uploading local image, then save to server\n    input.onchange = async () => {\n      const file = input.files[0];\n      // make sure file is an image\n      if (/^image\\//.test(file.type)) {\n        // save the image to the server\n        const url = await this.props.updateUserHeader(file);\n        this.setState({ header: url });\n      } else {\n        message.error('The file must be an image', 1);\n      }\n    };\n  };\n\n  // render display name\n  renderDisplayName = () => {\n    return (\n      <input\n        type='text'\n        className='Options-display-name'\n        placeholder='Display Name'\n        value={this.state.displayName}\n        onChange={(e) => this.saveDisplayName(e.target.value)}\n      ></input>\n    );\n  };\n\n  // update and save the displayName\n  saveDisplayName = (displayName) => {\n    if (this.state.displayName !== displayName) {\n      this.props.updateUserInfo({\n        username: this.props.user.username,\n        displayName: displayName,\n      });\n      localStorage.setItem('displayName', displayName);\n      document.title = displayName;\n      this.setState({ displayName });\n    }\n  };\n\n  // render the profile bio\n  renderBio = () => {\n    return (\n      <textarea\n        type='text'\n        className='Options-bio'\n        placeholder='Bio'\n        value={this.state.bio}\n        onChange={(e) => this.saveBio(e.target.value)}\n      ></textarea>\n    );\n  };\n\n  // update and save the bio\n  saveBio = (bio) => {\n    if (this.state.bio !== bio) {\n      this.props.updateUserInfo({\n        username: this.props.user.username,\n        bio: bio,\n      });\n      this.setState({ bio });\n    }\n  };\n\n  // render the profile username\n  renderUsername = () => {\n    return (\n      <input\n        type='text'\n        className='Options-standard-input'\n        placeholder='username'\n        value={this.state.username}\n        onChange={(e) => this.saveUsername(e.target.value)}\n      ></input>\n    );\n  };\n\n  // update and save the username\n  saveUsername = (username) => {\n    if (this.state.username !== username) {\n      this.props.updateUsername(username);\n      this.setState({ username });\n    }\n  };\n\n  // render the profile email\n  renderEmail = () => {\n    return (\n      <input\n        type='text'\n        className='Options-standard-input'\n        placeholder='email'\n        value={this.state.email}\n        onChange={(e) => this.saveEmail(e.target.value)}\n      ></input>\n    );\n  };\n\n  // update and save the email\n  saveEmail = (email) => {\n    if (this.state.email !== email) {\n      this.props.updateEmail(email);\n      this.setState({ email });\n    }\n  };\n\n  componentWillUnmount() {\n    // remove any selections on exit\n    window.getSelection().removeAllRanges();\n    // hide mainsider again\n    this.props.hideComponent('mainSider');\n  }\n\n  render() {\n    return (\n      <Layout className='Options-container'>\n        <MainSider showMask={false} animate={false} />\n        <Layout>\n          <Content className='Options'>\n            <div className='Options-card'>\n              <button onClick={this.setHeader}>\n                <div className='Options-header'>\n                  <Icon type='camera' className='Options-header-edit-icon' />\n                  <img src={this.state.header || defaultHeader} alt='example' draggable='false' />\n                </div>\n              </button>\n              <button onClick={this.setAvatar}>\n                <div className='Options-avatar'>\n                  <Icon type='camera' className='Options-avatar-edit-icon' />\n                  <img src={this.state.avatar || defaultAvatar} alt={'profile'} draggable='false' />\n                </div>\n              </button>\n              <div className='Options-info'>\n                <Button\n                  type='default'\n                  style={{\n                    margin: '0 0 10px',\n                    backgroundColor: 'white',\n                    width: '10rem',\n                    padding: '0.5rem',\n                    display: 'inline-block',\n                    textAlign: 'center',\n                  }}\n                  onClick={(e) => this.togglePasswordModal()}\n                >\n                  change password\n                </Button>\n                <br />\n                <Button\n                  type='default'\n                  style={{\n                    margin: '0 0 10px',\n                    backgroundColor: 'white',\n                    width: '10rem',\n                    padding: '0.5rem',\n                    display: 'inline-block',\n                    textAlign: 'center',\n                  }}\n                  onClick={(e) => {\n                    this.props.history.push(`/profile/${this.props.user.username}`);\n                    this.props.generateInstanceExport();\n                  }}\n                >\n                  export all user data\n                </Button>\n                <br />\n                {this.renderDisplayName()}\n                {this.renderUsername()}\n                {this.renderEmail()}\n                {this.renderBio()}\n                <Button\n                  type='default'\n                  style={{\n                    margin: '0 0 10px',\n                    backgroundColor: 'white',\n                    width: '4rem',\n                    display: 'inline-block',\n                    textAlign: 'center',\n                  }}\n                  onClick={(e) => this.props.history.push(`/profile/${this.props.user.username}`)}\n                >\n                  done\n                </Button>\n                <Modal\n                  title='change password'\n                  visible={this.state.showPasswordModal}\n                  className='password-modal'\n                  centered\n                  footer={null}\n                  closable={false}\n                  onCancel={this.togglePasswordModal}\n                >\n                  {this.passwordModal()}\n                </Modal>\n              </div>\n            </div>\n            <NodeList />\n          </Content>\n        </Layout>\n      </Layout>\n    );\n  }\n}\n\nconst validationSchema = Yup.object().shape({\n  oldPassword: Yup.string().required('old password is required'),\n  newPassword: Yup.string()\n    .min(5, 'Password has to be longer than 6 characters!')\n    .required('password is required'),\n  confirmNewPassword: Yup.string()\n    .required('please confirm new password')\n    .oneOf([Yup.ref('newPassword')], \"Your passwords don't match\"),\n});\n\nconst mapStateToProps = (state) => {\n  return { user: state.auth.user };\n};\n\nexport default connect(mapStateToProps, {\n  fetchUserByUsername,\n  updateUserInfo,\n  updateUserAvatar,\n  updateUserHeader,\n  updateUsername,\n  updateEmail,\n  changePassword,\n  showComponent,\n  generateInstanceExport,\n  hideComponent,\n})(Options);\n","import React from 'react';\nimport { Layout } from 'antd';\n// custom code\nimport './Page.less';\n// destructure antd components\nconst { Content } = Layout;\n\nconst MainContent = (props) => {\n  return (\n    <Layout className='page-content'>\n      <Content style={{ backgroundColor: '#272727' }}>{props.children}</Content>\n    </Layout>\n  );\n};\n\nexport default MainContent;\n","import React, { Component } from 'react';\nimport { Layout } from 'antd';\n// custom code\nimport '../elements/Page.less';\nimport MainContent from '../elements/MainContent';\nimport IOBar from '../elements/IOBar';\nimport MainSider from '../elements/MainSider';\n\nclass Activity extends Component {\n  render() {\n    return (\n      <Layout className='page-layout'>\n        <IOBar />\n        <Layout>\n          <MainSider />\n          <MainContent />\n        </Layout>\n      </Layout>\n    );\n  }\n}\n\nexport default Activity;\n","import React, { Component, Fragment } from 'react';\nimport { connect } from 'react-redux';\n// custom code\nimport '../node/NodeList.less';\nimport { searchNodes, fetchAssociations } from '../../../api/redux/actions';\nimport NodeCard from '../node/NodeCard';\nimport AssociationSider from './AssociationSider';\nimport Spinner from '../Spinner';\n\nclass AssociationList extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      topOfPage: false,\n    };\n  }\n\n  componentDidMount() {\n    window.addEventListener('scroll', this.infiniteScroll);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener('scroll', this.infiniteScroll);\n  }\n\n  infiniteScroll = (e) => {\n    var currentListLength = this.props.associations.length;\n    if (\n      this.endReached() &&\n      this.props.activeNode &&\n      currentListLength < this.props.totalNodes &&\n      !this.props.isFetching\n    ) {\n      this.setState({ topOfPage: false });\n      // fetch the next page\n      this.props.fetchAssociations({\n        page: this.props.page + 1,\n        nodeUUID: this.props.activeNode.uuid,\n      });\n    }\n  };\n\n  endReached = () => {\n    // window calculations to tell when the user scrolls to the bottom\n    const windowHeight =\n      'innerHeight' in window ? window.innerHeight : document.documentElement.offsetHeight;\n    const body = document.body;\n    const html = document.documentElement;\n    const docHeight = Math.max(\n      body.scrollHeight,\n      body.offsetHeight,\n      html.clientHeight,\n      html.scrollHeight,\n      html.offsetHeight\n    );\n    const windowBottom = windowHeight + window.pageYOffset;\n    // check if the top is reached\n    if (window.pageYOffset < 1 && !this.props.isFetching && !this.state.topOfPage) {\n      this.setState({ topOfPage: true });\n      // at the top of the page, reset the associationlist\n      this.props.fetchAssociations({\n        page: 1,\n        nodeUUID: this.props.activeNode.uuid,\n      });\n    }\n    // TODO: need to find a way to calculate the \"window top\" as well\n    // so i can decrement the page number when the user scrolls up\n    // this is necessary so redux doesn't have to store everything\n    return windowBottom >= docHeight - 733;\n  };\n\n  renderNodes = () => {\n    // go through the list of nodes and render them to the page\n    const associationList = this.props.associations;\n    // render the association list as cards\n    if (associationList !== null) {\n      return associationList.map((association) => {\n        return (\n          <NodeCard key={association.uuid} node={association} activeNode={this.props.activeNode} />\n        );\n      });\n    } else {\n      return <Spinner></Spinner>;\n    }\n  };\n\n  renderList = () => {\n    if (this.props.totalNodes > 0) {\n      return (\n        <ul style={{ backgroundColor: 'black' }} className='nodelist'>\n          {this.renderNodes()}\n        </ul>\n      );\n    } else if (this.props.totalNodes < 0) {\n      return <Fragment></Fragment>;\n    }\n  };\n\n  render() {\n    return (\n      <div>\n        {this.renderList()}\n        <AssociationSider />\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = (state) => {\n  return {\n    associations: state.associations.associationList,\n    isFetching: state.associations.isFetching,\n    activeNode: state.nodes.activeNode,\n    page: state.associations.associationListPage,\n    totalNodes: state.associations.totalAssociationListItems,\n  };\n};\n\nexport default connect(mapStateToProps, { searchNodes, fetchAssociations })(AssociationList);\n","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport ReactQuill, { Quill } from 'react-quill';\nimport Delta from 'quill-delta';\n// import BlotFormatter, { AlignAction, DeleteAction, ImageSpec } from 'quill-blot-formatter';\nimport { Layout, message } from 'antd';\nimport 'react-quill/dist/quill.snow.css';\nimport AssociationList from '../elements/association/AssociationList';\nimport AssociationSider from '../elements/association/AssociationSider';\nimport NodeCardHeaderFull from '../elements/node/NodeCardHeaderFull';\n// custom components\nimport Spinner from '../elements/Spinner';\n// redux handlers\nimport {\n  editTextNode,\n  processTextNode,\n  createFileNode,\n  setActiveNode,\n  updateNode,\n  fetchAssociations,\n  markNodeView,\n} from '../../api/redux/actions';\n// import custom editor css\nimport './QuillEditor.less';\n// destructure antd components\nconst { Content } = Layout;\n\n// Quill.register('modules/blotFormatter', BlotFormatter);\n\n// fix to prevent error on pasting from misc sources\nvar Block = Quill.import('blots/block');\nclass Div extends Block {}\nDiv.tagName = 'div';\nDiv.blotName = 'div';\nDiv.allowedChildren = Block.allowedChildren;\nDiv.allowedChildren.push(Block);\nQuill.register(Div);\n\nclass QuillEditor extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      text: '',\n      name: '',\n      expanded: localStorage.getItem('expanded'),\n      uuid: null,\n      error: null,\n      initializing: false,\n      readOnly: true,\n    };\n    this.handleChange = this.handleChange.bind(this);\n  }\n\n  ref = (quill) => {\n    this.quill = quill;\n  };\n\n  componentDidMount() {\n    document.body.style.overflow = 'auto';\n    document.body.style.height = '100%';\n    document.documentElement.style.height = '100%';\n    // prevent quill from jumping to top\n    document.querySelectorAll('.ql-picker').forEach((tool) => {\n      tool.addEventListener('mousedown', function (event) {\n        event.preventDefault();\n        event.stopPropagation();\n      });\n    });\n    // initialize\n    this.initializeFromUrlParams();\n  }\n\n  componentDidUpdate = async () => {\n    // prevent quill from jumping to top\n    document.querySelectorAll('.ql-picker').forEach((tool) => {\n      tool.addEventListener('mousedown', function (event) {\n        event.preventDefault();\n        event.stopPropagation();\n      });\n    });\n    // if the url has changed reload\n    var textUUID = this.props.match.params.uuid;\n    if (this.state.uuid !== textUUID && this.state.initializing === false) {\n      this.setState({\n        text: '',\n        name: '',\n        expanded: localStorage.getItem('expanded'),\n        uuid: null,\n        error: null,\n        initializing: true,\n        readOnly: true,\n      });\n      this.regeneratePreview();\n      this.initializeFromUrlParams();\n    }\n  };\n\n  // load the text node and set the local id state.\n  initializeFromUrlParams = async () => {\n    // scroll to top\n    window.scrollTo({ top: 0 });\n    // check url params\n    var textUUID = this.props.match.params.uuid;\n    // set the local state id equal to the value in the url\n    this.setState({ uuid: textUUID });\n    await this.props.setActiveNode(textUUID);\n    if (this.props.nodeData && this.props.nodeData.content) {\n      // if there is content set the local editor state equal to it\n      document.title = this.props.nodeData.name || 'Untitled';\n      var textValue = JSON.parse(this.props.nodeData.content);\n      this.setState({\n        text: textValue,\n        name: this.props.nodeData.name,\n        initializing: false,\n        readOnly: false,\n      });\n      this.props.markNodeView(this.props.nodeData);\n      // clear undo history to prevent undo from deleting everything\n      const editor = this.quill.getEditor();\n      editor.history.clear();\n      this.props.fetchAssociations({ nodeUUID: textUUID });\n    } else {\n      // if there's no content return an error message\n      this.setState({ error: true });\n      this.props.history.push('/');\n    }\n  };\n\n  // toggle fullscreen\n  expandHandler = () => {\n    if (this.state.expanded === null) {\n      this.setState({ expanded: 'expanded' });\n      localStorage.setItem('expanded', 'expanded');\n    } else {\n      this.setState({ expanded: null });\n      localStorage.removeItem('expanded');\n    }\n  };\n\n  // exit the editor and return to the home screen\n  exitHandler = async () => {\n    // generate the preview and do whatever processing will be\n    // necessary to process the node\n    // TODO: alter this so it stores a condensed version of the document instead of plain text\n    await this.regeneratePreview();\n    this.props.history.push('/');\n  };\n\n  regeneratePreview = () => {\n    if (!this.state.deleting && !this.state.error && this.state.uuid !== null) {\n      const previewLength = 500;\n      const editor = this.quill.getEditor();\n      // process the text node\n      const content = editor.getText();\n      const preview = content.substring(0, previewLength);\n      // wait for preview to update before going back to homepage so it will be up to date\n      this.props.processTextNode({ uuid: this.state.uuid, preview });\n    }\n  };\n\n  // select an image.\n  selectLocalImage = () => {\n    const input = document.createElement('input');\n    input.setAttribute('type', 'file');\n    input.setAttribute('accept', ['image/gif', 'image/jpg', 'image/jpeg', 'image/png']);\n    input.click();\n\n    // Listen for uploading local image, then save to server\n    input.onchange = async () => {\n      const file = input.files[0];\n\n      // make sure file is an image\n      if (/^image\\//.test(file.type)) {\n        // save the image to the server\n        const url = await this.props.createFileNode(\n          file,\n          null,\n          JSON.stringify(this.props.nodeData)\n        );\n        // push image url to rich editor.\n        const range = this.quill.getEditor().getSelection();\n        this.quill.getEditor().insertEmbed(range.index, 'image', url);\n      } else {\n        message.error('The file must be an image', 1);\n      }\n    };\n  };\n\n  isImageUrl = (url) => {\n    var expression = /[-a-zA-Z0-9@:%._+~#=]{1,256}\\.[a-zA-Z0-9()]{1,6}\\b([-a-zA-Z0-9()@:%_+.~#?&//=]*)?/gi;\n    var regex = new RegExp(expression);\n    return regex.test(url);\n  };\n\n  // handle pasting of images\n  // these could potentially be stored in a special database table? I'm not sure if\n  // externally linked images would be a node type? I don't see why not. i think they're urls\n  matcherImageHandler = (node, delta) => {\n    // check to see if the image is a URL\n    if (this.isImageUrl(node.src)) {\n      // if it is, insert the image\n      const url = node.src;\n      const delta = new Delta();\n      return delta.insert({ image: url });\n    } else {\n      // otherwise, don't paste it\n      return new Delta();\n    }\n  };\n\n  modules = {\n    toolbar: {\n      container: [\n        [{ header: [1, 2, 3, 4, 5, false] }],\n        [{ font: [] }],\n        [{ indent: '-1' }, { indent: '+1' }],\n        ['bold', 'italic', 'underline', 'strike'],\n        [\n          {\n            color: [\n              '#fff',\n              '#bbbbbb',\n              '#272727',\n              '#a80b44',\n              '#ff0062',\n              '#df1f95',\n              '#9933ff',\n              '#7fba00',\n              '#45d458',\n              '#31d697',\n              '#00a4ef',\n              '#4178df',\n              '#000080',\n              '#56007a',\n              '#007c25',\n              '#e2d58a',\n              '#f8cc52',\n              '#fff12b',\n              '#ff4500',\n              '#f40000',\n              '#a0390d',\n            ],\n          },\n          { background: [] },\n        ],\n        [{ align: null }, { align: 'center' }, { align: 'right' }, { align: 'justify' }],\n        [{ list: 'ordered' }, { list: 'bullet' }],\n        [{ script: 'sub' }, { script: 'super' }], // superscript/subscript\n        ['code-block', 'blockquote'],\n        ['link', 'image', 'video'],\n        ['clean'],\n        ['expand', 'exit'],\n      ],\n      handlers: {\n        expand: this.expandHandler,\n        exit: this.exitHandler,\n        image: this.selectLocalImage,\n      },\n    },\n    clipboard: {\n      matchVisual: false,\n      matchers: [['img', this.matcherImageHandler]],\n    },\n    // blotFormatter: {\n    //   overlay: {\n    //     style: {\n    //       border: '2px solid #41e254',\n    //     },\n    //   },\n    // },\n  };\n\n  allowedFormats = [\n    'header',\n    'font',\n    'indent',\n    'bold',\n    'italic',\n    'underline',\n    'strike',\n    'color',\n    'background',\n    'align',\n    'list',\n    'script',\n    'code-block',\n    'blockquote',\n    'link',\n    'image',\n    'video',\n  ];\n\n  // render the main navbar\n  renderHeader = () => {\n    // Only render the header if the editor is  expanded\n    if (this.state.expanded === null && this.props.nodeData) {\n      return <NodeCardHeaderFull node={this.props.nodeData} />;\n    }\n  };\n\n  handleChange(content, delta, source, editor) {\n    // Check to see if the document has changed before saving.\n    // TODO: i think this comparison is broken\n    if (editor.getContents() !== this.state.text && this.state.initializing === false) {\n      const fullDelta = JSON.stringify(editor.getContents());\n      this.props.editTextNode({\n        uuid: this.props.match.params.uuid,\n        content: fullDelta,\n      });\n      this.setState({ text: content });\n    }\n  }\n\n  componentWillUnmount() {\n    // clear styles\n    document.body.style.overflow = null;\n    document.body.style.height = null;\n    document.documentElement.style.overflow = null;\n    document.documentElement.style.height = null;\n    window.getSelection().removeAllRanges();\n  }\n\n  render() {\n    if (this.props.isLoading) {\n      return (\n        <Layout className='page-layout'>\n          <Layout>\n            <Layout>\n              {this.renderHeader()}\n              <Spinner />\n            </Layout>\n          </Layout>\n        </Layout>\n      );\n    }\n\n    return (\n      <Layout className='page-layout'>\n        <Content className={'text-editor-content ' + this.state.expanded}>\n          {this.renderHeader()}\n          <ReactQuill\n            value={this.state.text}\n            onChange={this.handleChange}\n            modules={this.modules}\n            ref={this.ref}\n            readOnly={this.state.readOnly}\n            formats={this.allowedFormats}\n            scrollingContainer={'body'}\n          ></ReactQuill>\n          <AssociationSider />\n          <AssociationList />\n        </Content>\n      </Layout>\n    );\n  }\n}\n\nconst mapStateToProps = (state) => {\n  return {\n    nodeData: state.nodes.activeNode,\n    isLoading: state.nodes.isFetching,\n  };\n};\n\nexport default connect(mapStateToProps, {\n  editTextNode,\n  processTextNode,\n  createFileNode,\n  updateNode,\n  setActiveNode,\n  fetchAssociations,\n  markNodeView,\n})(QuillEditor);\n","import {\n  CREATE_ACCOUNT,\n  CREATE_ACCOUNT_SUCCESS,\n  CREATE_ACCOUNT_ERROR,\n  SIGN_IN,\n  SIGN_IN_SUCCESS,\n  SIGN_IN_ERROR,\n  SIGN_OUT,\n  SIGN_OUT_ERROR,\n  REFRESH_AUTH,\n  REFRESH_AUTH_SUCCESS,\n  REFRESH_AUTH_ERROR,\n  UPDATE_USER_NODE,\n  UPDATE_USER_NODE_ERROR,\n  UPDATE_USER_NODE_SUCCESS,\n  UPDATE_USER_AVATAR,\n  UPDATE_USER_AVATAR_SUCCESS,\n  UPDATE_USER_AVATAR_ERROR,\n  UPDATE_USER_HEADER,\n  UPDATE_USER_HEADER_SUCCESS,\n  UPDATE_USER_HEADER_ERROR,\n} from '../actions/types';\n\nconst INITIAL_STATE = {\n  isAuth: null,\n  isFetching: null,\n  user: null,\n};\n\nlet updatedUser;\n\n// reducer for authentication state and user object\nexport default (state = INITIAL_STATE, action) => {\n  switch (action.type) {\n    case CREATE_ACCOUNT:\n      return { ...state, isFetching: true };\n    case CREATE_ACCOUNT_SUCCESS:\n      return {\n        ...state,\n        isFetching: false,\n        user: action.payload,\n        isAuth: true,\n      };\n    case CREATE_ACCOUNT_ERROR:\n      return { ...state, isFetching: null, user: null, isAuth: false };\n    case SIGN_IN:\n      return { ...state, isFetching: true };\n    case SIGN_IN_SUCCESS:\n      return {\n        ...state,\n        isFetching: false,\n        user: action.payload,\n        isAuth: true,\n      };\n    case SIGN_IN_ERROR:\n      return { ...state, isFetching: null, user: null, isAuth: false };\n    case SIGN_OUT:\n      return { ...state, isFetching: true };\n    case SIGN_OUT_ERROR:\n      return { ...state, isFetching: null };\n    case REFRESH_AUTH:\n      return {\n        ...state,\n        isFetching: true,\n        user: action.payload,\n        isAuth: action.isAuth,\n      };\n    case REFRESH_AUTH_SUCCESS:\n      return { isFetching: null, user: action.payload, isAuth: true };\n    case REFRESH_AUTH_ERROR:\n      return { ...state, isFetching: null, user: null, isAuth: false };\n    case UPDATE_USER_NODE:\n      return { ...state, isFetching: true };\n    case UPDATE_USER_NODE_SUCCESS:\n      return { ...state, isFetching: null, user: action.user };\n    case UPDATE_USER_NODE_ERROR:\n      return { ...state, isFetching: null };\n    case UPDATE_USER_AVATAR:\n      return { ...state, isFetching: true };\n    case UPDATE_USER_AVATAR_SUCCESS:\n      updatedUser = { ...state.user };\n      updatedUser.avatar = action.url;\n      return { ...state, isFetching: null, user: updatedUser };\n    case UPDATE_USER_AVATAR_ERROR:\n      return { ...state, isFetching: null };\n    case UPDATE_USER_HEADER:\n      return { ...state, isFetching: true };\n    case UPDATE_USER_HEADER_SUCCESS:\n      updatedUser = { ...state.user };\n      updatedUser.header = action.url;\n      return { ...state, isFetching: null, user: updatedUser };\n    case UPDATE_USER_HEADER_ERROR:\n      return { ...state, isFetching: null };\n    default:\n      return state;\n  }\n};\n","import {\n  FETCH_ASSOCIATION_LINK_LIST,\n  FETCH_ASSOCIATION_LINK_LIST_SUCCESS,\n  FETCH_ASSOCIATION_LINK_LIST_ERROR,\n  RESET_ASSOCIATION_LINK_LIST,\n  CREATE_ASSOCIATION_SUCCESS,\n  CREATE_ASSOCIATION,\n  CREATE_ASSOCIATION_ERROR,\n  FETCH_ASSOCIATIONS,\n  FETCH_ASSOCIATIONS_SUCCESS,\n  FETCH_ASSOCIATIONS_ERROR,\n  RESET_ASSOCIATIONS,\n  MARK_NODE_VIEW,\n  MARK_NODE_VIEW_ERROR,\n  MARK_NODE_VIEW_SUCCESS,\n  DELETE_ASSOCIATION_LINK,\n  DELETE_ASSOCIATION_LINK_ERROR,\n  DELETE_ASSOCIATION_LINK_SUCCESS,\n  REMOVE_FROM_ASSOCIATION_LIST,\n  SET_ACTIVE_NODE,\n  SET_ACTIVE_NODE_ERROR,\n  SET_ACTIVE_NODE_SUCCESS,\n} from '../actions/types';\n\nconst INITIAL_STATE = {\n  isFetching: null,\n  isSaving: null,\n  associationLinkList: [],\n  associationList: [],\n  totalLinkListItems: null,\n  totalAssociationListItems: null,\n  associationListPage: 1,\n  associationLinkListPage: 1,\n  activeNode: null,\n};\n\nlet newAssociationList;\n\n// reducer for content nodes\nexport default (state = INITIAL_STATE, action) => {\n  switch (action.type) {\n    case FETCH_ASSOCIATION_LINK_LIST:\n      return { ...state, isFetching: true };\n    case FETCH_ASSOCIATION_LINK_LIST_SUCCESS:\n      // // format the associations data and include new values\n      var associationLinkListArray = [...state.associationLinkList];\n      // update the association link list with the new values\n      Object.values(action.payload.associations).forEach((node) => {\n        if (!associationLinkListArray.some((item) => item.uuid === node.uuid)) {\n          associationLinkListArray.push(node);\n          if (associationLinkListArray.length > 100) {\n            // if the length gets too long free up some memory\n            // associationLinkListArray.splice(0, 2);\n            associationLinkListArray.splice(0, 30);\n            // associationLinkListArray.shift();\n          }\n        }\n      });\n      return {\n        ...state,\n        isFetching: null,\n        totalLinkListItems: action.payload.totalItems,\n        associationLinkList: associationLinkListArray,\n        associationLinkListPage: action.page || 1,\n      };\n    case FETCH_ASSOCIATION_LINK_LIST_ERROR:\n      return { ...state, isFetching: null };\n    case RESET_ASSOCIATION_LINK_LIST:\n      return { ...state, associationLinkList: [] };\n    case FETCH_ASSOCIATIONS:\n      return { ...state, isFetching: true };\n    case FETCH_ASSOCIATIONS_SUCCESS:\n      // format the associations data and include new values\n      var associationsArray = [...state.associationList];\n      // update the association link list with the new values\n      Object.values(action.payload.associations).forEach((node) => {\n        if (!associationsArray.some((item) => item.uuid === node.uuid)) {\n          associationsArray.push(node);\n          if (associationsArray.length > 100) {\n            // if the length gets too long free up some memory\n            // associationLinkListArray.splice(0, 2);\n            // picked a number that is divisible by both 2 and 3\n            associationsArray.splice(0, 30);\n            // associationLinkListArray.shift();\n          }\n        }\n      });\n      return {\n        ...state,\n        isFetching: null,\n        totalAssociationListItems: action.payload.totalItems,\n        associationList: associationsArray,\n        associationListPage: action.page || 1,\n      };\n    case FETCH_ASSOCIATIONS_ERROR:\n      return { ...state, isFetching: null };\n    case RESET_ASSOCIATIONS:\n      return { ...state, associationList: [] };\n    case CREATE_ASSOCIATION:\n      return { ...state, isSaving: true };\n    case CREATE_ASSOCIATION_SUCCESS:\n      // only add the node to the association list if one of the nodes is the activeNode\n      if (\n        state.activeNode &&\n        (action.associatedNode.uuid === state.activeNode.uuid ||\n          action.nodeUUID === state.activeNode.uuid)\n      ) {\n        newAssociationList = [action.associatedNode, ...state.associationList];\n      } else {\n        newAssociationList = [...state.associationList];\n      }\n      return {\n        ...state,\n        isFetching: null,\n        associationLinkList: [action.associatedNode, ...state.associationLinkList],\n        associationList: newAssociationList,\n        totalAssociationListItems: state.totalAssociationListItems + 1,\n      };\n    case CREATE_ASSOCIATION_ERROR:\n      return { ...state, isSaving: null };\n    case MARK_NODE_VIEW:\n      return { ...state, isSaving: true };\n    case MARK_NODE_VIEW_SUCCESS:\n      // only add back to list if the node was already in the list\n      var addBackToList = state.associationList.some((node) => node.uuid === action.node.uuid)\n        ? action.node\n        : false;\n      // use addBackToList to determine what should be returned\n      if (addBackToList) {\n        newAssociationList = [\n          state.associationList.some((node) => node.uuid === action.node.uuid) ? action.node : null,\n          ...state.associationList.filter((node) => node.uuid !== action.node.uuid),\n        ];\n      } else {\n        newAssociationList = [...state.associationList];\n      }\n      return {\n        ...state,\n        isFetching: null,\n        // move the viewed node to the front of the list\n        associationList: newAssociationList,\n      };\n    case MARK_NODE_VIEW_ERROR:\n      return { ...state, isSaving: null };\n    case SET_ACTIVE_NODE:\n      return { ...state, isFetching: true };\n    case SET_ACTIVE_NODE_SUCCESS:\n      return { ...state, isFetching: null, activeNode: action.payload.node };\n    case SET_ACTIVE_NODE_ERROR:\n      return { ...state, isFetching: null };\n    case DELETE_ASSOCIATION_LINK:\n      return { ...state, isSaving: true };\n    case DELETE_ASSOCIATION_LINK_SUCCESS:\n      // update total items\n      var newTotalLinkListItems = state.totalLinkListItems - 1;\n      return {\n        ...state,\n        isSaving: null,\n        associationLinkList: [\n          ...state.associationLinkList.filter((node) => node.uuid !== action.deletedUUID),\n        ],\n        totalLinkListItems: newTotalLinkListItems,\n      };\n    case DELETE_ASSOCIATION_LINK_ERROR:\n      return { ...state, isSaving: null };\n    case REMOVE_FROM_ASSOCIATION_LIST:\n      // update total items\n      var newTotalItems = state.totalAssociationListItems - 1;\n      return {\n        ...state,\n        isSaving: null,\n        associationList: [\n          ...state.associationList.filter((node) => node.uuid !== action.deletedUUID),\n        ],\n        totalAssociationListItems: newTotalItems,\n      };\n    default:\n      return state;\n  }\n};\n","import instance from '../../../api/instance';\nimport history from '../../../utils/history';\nimport {\n  EDIT_TEXT_NODE,\n  EDIT_TEXT_NODE_SUCCESS,\n  EDIT_TEXT_NODE_ERROR,\n  PROCESS_TEXT_NODE,\n  PROCESS_TEXT_NODE_SUCCESS,\n  PROCESS_TEXT_NODE_ERROR,\n} from './types';\nimport { message } from 'antd';\n\n// edit text node handler\nexport const editTextNode = (node) => async (dispatch) => {\n  dispatch({ type: EDIT_TEXT_NODE });\n  try {\n    await instance.patch('/text', {\n      uuid: node.uuid,\n      content: node.content,\n    });\n    dispatch({\n      type: EDIT_TEXT_NODE_SUCCESS,\n      node: node,\n    });\n  } catch (err) {\n    dispatch({ type: EDIT_TEXT_NODE_ERROR });\n    message.error('There was a problem saving your changes', 1);\n    history.push('/');\n  }\n};\n\n// final processing of text node after closing the editor\nexport const processTextNode = (node) => async (dispatch) => {\n  dispatch({ type: PROCESS_TEXT_NODE });\n  try {\n    await instance.patch('/text/process', { uuid: node.uuid, preview: node.preview });\n    dispatch({ type: PROCESS_TEXT_NODE_SUCCESS, node, preview: node.preview });\n  } catch (err) {\n    dispatch({ type: PROCESS_TEXT_NODE_ERROR });\n  }\n};\n","import React from 'react';\nimport { Layout } from 'antd';\n// custom code\nimport './Page.less';\n// destructure antd components\nconst { Footer } = Layout;\n\nconst MainFooter = () => {\n  return <Footer className='page-footer' />;\n};\n\nexport default MainFooter;\n","import React, { Component } from 'react';\nimport { Layout } from 'antd';\n// custom code\nimport '../elements/Page.less';\nimport MainContent from '../elements/MainContent';\nimport IOBar from '../elements/IOBar';\n// import MainSider from '../elements/MainSider';\nimport MainFooter from '../elements/MainFooter';\n\nclass Collections extends Component {\n  render() {\n    return (\n      <Layout className='page-layout'>\n        <IOBar />\n        <Layout>\n          <MainContent>Collections</MainContent>\n        </Layout>\n        <MainFooter />\n      </Layout>\n    );\n  }\n}\n\nexport default Collections;\n","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { Link } from 'react-router-dom';\nimport { Formik, Form, Field, ErrorMessage } from 'formik';\nimport * as Yup from 'yup';\nimport { Layout, Card } from 'antd';\n// custom code\nimport { createAccount } from '../../api/redux/actions';\nimport './css/Login.less';\n\n// destructure antd\nconst { Content, Footer } = Layout;\n\nclass CreateAccount extends Component {\n  componentDidMount() {\n    document.title = 'Create Account';\n  }\n\n  onSubmit = (values, { setSubmitting }) => {\n    setSubmitting(false);\n    this.props.createAccount(values);\n  };\n\n  render() {\n    return (\n      <Layout className='login-layout'>\n        <Content className='login-content'>\n          <Card>\n            <Formik\n              initialValues={{ email: '', password: '', confirmPassword: '' }}\n              validationSchema={validationSchema}\n              onSubmit={this.onSubmit}\n            >\n              {({ isSubmitting }) => (\n                <Form className='login-form'>\n                  <h1 className='login-title'>\n                    <span\n                      role='img'\n                      aria-label='jsx-a11y/accessible-emoji'\n                      style={{ paddingRight: '0.5rem' }}\n                    >\n                      ✨\n                    </span>\n                    create user\n                    <span\n                      role='img'\n                      aria-label='jsx-a11y/accessible-emoji'\n                      style={{ paddingLeft: '0.5rem' }}\n                    >\n                      ✨\n                    </span>\n                  </h1>\n                  <Field type='email' name='email' placeholder='email' className='login-field' />\n                  <ErrorMessage name='email' component='div' />\n                  <Field\n                    type='username'\n                    name='username'\n                    placeholder='username'\n                    className='login-field'\n                  />\n                  <ErrorMessage name='username' component='div' />\n                  <Field\n                    type='password'\n                    name='password'\n                    placeholder='password'\n                    className='login-field'\n                  />\n                  <ErrorMessage name='password' component='div' />\n                  <Field\n                    type='password'\n                    name='confirmPassword'\n                    placeholder='confirm password'\n                    className='login-field'\n                  />\n                  <ErrorMessage name='confirmPassword' component='div' />\n                  <button type='submit' disabled={isSubmitting} className='login-submit'>\n                    create account\n                  </button>\n                  <Link to='/' style={{ textAlign: 'center' }} className='login-signup'>\n                    back to login\n                  </Link>\n                </Form>\n              )}\n            </Formik>\n          </Card>\n        </Content>\n        <Footer />\n      </Layout>\n    );\n  }\n}\n\nconst validationSchema = Yup.object().shape({\n  email: Yup.string().email('E-mail is not valid!').required('email is required'),\n  username: Yup.string().required('username is required'),\n  password: Yup.string()\n    .min(5, 'Password has to be longer than 6 characters!')\n    .required('password is required'),\n  confirmPassword: Yup.string()\n    .required('please confirm password')\n    .oneOf([Yup.ref('password')], \"Your passwords don't match\"),\n});\n\nconst mapStateToProps = (state) => {\n  return { isSignedIn: state.auth.isSignedIn };\n};\n\nexport default connect(mapStateToProps, { createAccount })(CreateAccount);\n","import React, { Fragment } from 'react';\n//custom components\nimport NodeRenderer from '../../../types/render/NodeRenderer';\nimport './NodeCardFull.less';\n\nconst NodeCardFull = (props) => {\n  const renderNodeCard = () => {\n    if (props.node) {\n      return <NodeRenderer type={props.node.type} element={'full'} node={props.node} />;\n    }\n  };\n\n  return <Fragment>{renderNodeCard()}</Fragment>;\n};\n\nexport default NodeCardFull;\n","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { Layout } from 'antd';\nimport {\n  setActiveNode,\n  clearActiveNode,\n  fetchAssociations,\n  markNodeView,\n  updateNode,\n} from '../../api/redux/actions';\nimport MainSider from '../elements/MainSider';\nimport NodeCardFull from '../elements/node/NodeCardFull';\nimport Spinner from '../elements/Spinner';\nimport IOBar from '../elements/IOBar';\nimport AssociationList from '../elements/association/AssociationList';\nimport { message } from 'antd';\nconst { Content } = Layout;\n\nclass AssociationBrowser extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      initialized: false,\n      uuid: null,\n    };\n  }\n\n  componentDidMount() {\n    if (!this.state.initialized) {\n      this.initializeFromUrlParams();\n    }\n  }\n\n  componentDidUpdate() {\n    var uuid = this.props.match.params.uuid;\n    // re-initialize if the URL changes\n    if (this.state.initialized && this.state.uuid !== uuid) {\n      this.setState({ initialized: false });\n      this.initializeFromUrlParams();\n    }\n  }\n\n  componentWillUnmount() {\n    this.props.clearActiveNode();\n  }\n\n  // intialize the association page\n  initializeFromUrlParams = async () => {\n    var uuid = this.props.match.params.uuid;\n    // window.scrollTo({ top: 0, behavior: 'smooth' });\n    window.scrollTo({ top: 0 });\n    await this.props.setActiveNode(uuid);\n    if (this.props.activeNode !== null) {\n      this.props.markNodeView(this.props.activeNode);\n    }\n    // fetch the user info from the server\n    await this.props.fetchAssociations({ nodeUUID: uuid });\n    if (this.props.associations !== null && this.props.activeNode !== null) {\n      this.setState({\n        initialized: true,\n        uuid: uuid,\n      });\n      // update collection preview if necessary\n      // TODO: find a way to have it update even less often if possible\n      if (this.props.activeNode.type && this.props.activeNode.type === 'collection') {\n        this.regenerateCollectionPreview(this.props.activeNode, this.props.associations);\n      }\n      document.title = this.props.activeNode.name;\n    } else {\n      message.error('there was a problem loading the associations');\n      this.props.history.push('/');\n    }\n  };\n\n  regenerateCollectionPreview = async (collectionNode, associationList) => {\n    try {\n      if (collectionNode && associationList) {\n        var i = 0;\n        var node;\n        var preview = [];\n        // get the first 4 non-collection non-user associated nodes and add them to the new preview\n        while (i < associationList.length && preview.length < 4) {\n          node = associationList[i];\n          if (node.type !== 'collection' && node.type !== 'user') {\n            preview.push({\n              type: node.type,\n              preview: node.preview,\n            });\n          }\n          i++;\n        }\n        this.props.updateNode({ uuid: collectionNode.uuid, preview: JSON.stringify(preview) });\n      }\n    } catch (err) {\n      this.props.history.push('/');\n    }\n  };\n\n  renderNode = () => {\n    if (this.state.uuid !== null && this.state.uuid === this.props.activeNode.uuid) {\n      return <NodeCardFull node={this.props.activeNode} />;\n    } else {\n      return <Spinner></Spinner>;\n    }\n  };\n\n  renderMainSider = () => {\n    if (this.props.mainSider) {\n      return <MainSider />;\n    }\n  };\n\n  render() {\n    return (\n      <Layout className='page-layout'>\n        {this.renderMainSider()}\n        <Layout>\n          <Content\n            style={{\n              paddingTop: '0',\n              backgroundColor: 'black',\n              minHeight: '100vh',\n            }}\n          >\n            <IOBar />\n            <div className='list-container'>{this.renderNode()}</div>\n            <AssociationList />\n          </Content>\n        </Layout>\n      </Layout>\n    );\n  }\n}\n\nconst mapStateToProps = (state) => {\n  return {\n    associations: state.associations.associationList,\n    isLoading: state.nodes.isFetching,\n    activeNode: state.nodes.activeNode,\n    mainSider: state.components.componentList['mainSider'],\n  };\n};\n\nexport default connect(mapStateToProps, {\n  setActiveNode,\n  clearActiveNode,\n  fetchAssociations,\n  markNodeView,\n  updateNode,\n})(AssociationBrowser);\n","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { fetchNodes, showComponent, fetchGraphData, setActiveNode } from '../../api/redux/actions';\nimport { Layout, message } from 'antd';\n// import * as d3 from 'd3';\nimport { select, selectAll } from 'd3-selection';\nimport { drag } from 'd3-drag';\nimport { forceSimulation, forceLink, forceManyBody, forceCenter, forceX, forceY } from 'd3-force';\nimport { zoom, zoomIdentity } from 'd3-zoom';\n//custom components\nimport './css/GraphBrowser.less';\n// import Spinner from '../elements/Spinner';\nimport IOBar from '../elements/IOBar';\nimport MainSider from '../elements/MainSider';\nimport AssociationSider from '../elements/association/AssociationSider';\n// destructure antd layout\nconst { Content } = Layout;\n\nclass GraphBrowser extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      initialized: false,\n      uuid: null,\n    };\n  }\n\n  componentDidMount() {\n    if (!this.state.initialized) {\n      this.initializeFromUrlParams();\n    }\n  }\n\n  componentDidUpdate() {\n    var uuid = this.props.match.params.uuid;\n    // re-initialize if the URL changes\n    if (this.state.initialized && this.state.uuid !== uuid) {\n      this.setState({ initialized: false });\n      this.initializeFromUrlParams();\n    }\n  }\n\n  // intialize the association page\n  initializeFromUrlParams = async () => {\n    var uuid = this.props.match.params.uuid;\n    // fetch the graph data\n    await this.props.fetchGraphData({\n      anchorNode: uuid,\n      type: this.props.query.type,\n      searchQuery: this.props.query.searchQuery,\n    });\n    // if all that was successful, finish initialization\n    if (this.props.graphData !== null) {\n      this.setState({\n        initialized: true,\n        uuid: uuid,\n      });\n      // render graph\n      this.renderGraph();\n    } else {\n      message.error('there was a problem loading the data');\n      this.props.history.push('/');\n    }\n  };\n\n  renderMainSider = () => {\n    if (this.props.mainSider) {\n      return <MainSider />;\n    }\n  };\n\n  renderAssociationSider = () => {\n    if (this.props.associationSider) {\n      return <AssociationSider />;\n    }\n  };\n\n  renderGraph = async () => {\n    // node data\n    const nodeData = this.props.graphData.nodes;\n    // link data\n    const linkData = this.props.graphData.associations;\n    // width and height\n    const height = window.innerHeight;\n    const width = window.innerWidth;\n\n    // simulation\n    const simulation = forceSimulation(nodeData)\n      .force(\n        'link',\n        forceLink(linkData)\n          // .distance(0.7)\n          .id((d) => {\n            return d.id;\n          })\n      )\n      .force('charge', forceManyBody().strength(-100000 / nodeData.length))\n      .force('x', forceX())\n      .force('y', forceY())\n      .force('center', forceCenter());\n    // initial zoom\n    var initialZoom = zoomIdentity.scale(0.55).translate(0, -70);\n    const zoomData = zoom().scaleExtent([0.5, 1.4]).on('zoom', zoomed);\n\n    const svg = select(this.node)\n      .append('svg')\n      .attr('class', 'graph-svg')\n      .attr('viewBox', [-width / 2, -height / 2, width, height]);\n\n    const g = svg.append('g');\n\n    const link = g\n      .append('g')\n      .attr('stroke', 'grey')\n      .attr('stroke-opacity', 0.6)\n      .selectAll('line')\n      .data(linkData)\n      .join('line')\n      .attr('class', 'graph-link')\n      .attr('stroke-width', (d) => Math.sqrt(d.value));\n\n    const node = g\n      .append('g')\n      .selectAll('circle')\n      .data(nodeData)\n      .join('g')\n      .call(this.drag(simulation))\n      .append('circle')\n      .on('dblclick', (e, d) => {\n        window.location.replace('/graph/' + d.uuid);\n      })\n      // .on('click', (e, d) => {\n      //   e.preventDefault();\n      //   this.props.showComponent('associationSider', d);\n      // })\n      .on('contextmenu', (e, d) => {\n        e.preventDefault();\n        if (d.type !== 'text') {\n          window.location.replace('/associations/' + d.uuid);\n        } else {\n          window.location.replace('/edit/text/' + d.uuid);\n        }\n      })\n      .attr('r', 7)\n      // .attr('cursor', 'grab')\n      .attr('cursor', 'none')\n      .attr('fill', '#16e998')\n      .attr('class', 'graph-node');\n\n    const text = selectAll('g g g')\n      .append('text')\n      .text((d) => d.name.substring(0, 100))\n      .attr('font-size', '0.8rem')\n      .attr('cursor', 'grab')\n      // .attr('cursor', 'none')\n      // .attr('stroke', 'white')\n      // .attr('stroke-width', 0.1)\n      .attr('class', 'graph-text');\n    // .call(this.drag(simulation));\n\n    svg.call(zoomData).call(zoomData.transform, initialZoom);\n\n    function zoomed({ transform }) {\n      g.attr('transform', transform);\n    }\n\n    simulation.on('tick', () => {\n      // update link location values\n      link\n        .attr('x1', (d) => d.source.x)\n        .attr('y1', (d) => d.source.y)\n        .attr('x2', (d) => d.target.x)\n        .attr('y2', (d) => d.target.y);\n      // update node location values\n      node.attr('cx', (d) => d.x).attr('cy', (d) => d.y);\n      // update text location values\n      text.attr('x', (d) => d.x + 7).attr('y', (d) => d.y - 7);\n    });\n\n    return svg.node();\n  };\n\n  drag = (simulation) => {\n    function dragstarted(event, d) {\n      if (!event.active) simulation.alphaTarget(0.3).restart();\n      d.fx = d.x;\n      d.fy = d.y;\n    }\n\n    function dragged(event, d) {\n      d.fx = event.x;\n      d.fy = event.y;\n    }\n\n    function dragended(event, d) {\n      if (!event.active) simulation.alphaTarget(0);\n      d.fx = null;\n      d.fy = null;\n    }\n\n    return drag().on('start', dragstarted).on('drag', dragged).on('end', dragended);\n  };\n\n  render() {\n    return (\n      <Layout className='page-layout'>\n        {this.renderMainSider()}\n        {this.renderAssociationSider()}\n        <Layout>\n          <Content\n            style={{\n              paddingTop: '0',\n            }}\n          >\n            <IOBar />\n            <div className='graph-container' ref={(node) => (this.node = node)}></div>\n            {/*  <IOBar />*/}\n          </Content>\n        </Layout>\n      </Layout>\n    );\n  }\n}\n\nconst mapStateToProps = (state) => {\n  return {\n    associations: state.associations.associationList,\n    graphData: state.graph.graphData,\n    loading: state.graph.isFetching,\n    associationSider: state.components.componentList['associationSider'],\n    mainSider: state.components.componentList['mainSider'],\n    nodeList: state.nodes.nodeList,\n    query: state.nodes.query,\n    isFetching: state.nodes.isFetching,\n  };\n};\n\nexport default connect(mapStateToProps, {\n  fetchNodes,\n  showComponent,\n  fetchGraphData,\n  setActiveNode,\n})(GraphBrowser);\n","import instance from '../../../api/instance';\nimport history from '../../../utils/history';\nimport {\n  FETCH_GRAPH_DATA,\n  FETCH_GRAPH_DATA_ERROR,\n  FETCH_GRAPH_DATA_SUCCESS,\n  RESET_APP,\n} from './types';\nimport { message } from 'antd';\n\n// fetch a list of nodes\nexport const fetchGraphData = (query) => async (dispatch) => {\n  try {\n    dispatch({ type: FETCH_GRAPH_DATA });\n    const response = await instance.get('/node/graph', {\n      params: { anchorNode: query.anchorNode, type: query.type, searchQuery: query.searchQuery },\n    });\n    dispatch({ type: FETCH_GRAPH_DATA_SUCCESS, payload: response.data, query });\n  } catch (err) {\n    dispatch({ type: FETCH_GRAPH_DATA_ERROR });\n    dispatch({ type: RESET_APP });\n    message.error('Could not fetch items', 1);\n    history.push('/');\n  }\n};\n","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { Layout, Icon } from 'antd';\n// custom code\nimport './css/Help.less';\nimport MainSider from '../elements/MainSider';\nimport IOBar from '../elements/IOBar';\n\nconst { Content } = Layout;\n\nclass Help extends Component {\n  componentDidMount() {\n    document.title = 'Help';\n    // temporary fix to undo whatever is setting overflow hidden on-login\n    document.body.style.removeProperty('overflow');\n  }\n\n  renderMainSider = () => {\n    if (this.props.mainSider) {\n      return <MainSider />;\n    }\n  };\n\n  render() {\n    return (\n      <Layout className='page-layout'>\n        <Layout>\n          {this.renderMainSider()}\n          <Content\n            style={{\n              minHeight: '100vh',\n              backgroundColor: '#e0dcc7',\n              textAlign: 'left',\n              paddingBottom: '3rem',\n            }}\n          >\n            <div style={{ position: 'fixed', width: '100%' }}>\n              <IOBar />\n            </div>\n            <div className='help-container' style={{ padding: '5.5rem 17rem 1rem' }}>\n              <p>\n                Hello there! Welcome to the help page! This is where you can get the help you need,\n                so you can rest easy. Allow me to explain exactly what is going on here. First\n                things first, you are on the help page! You can leave whenever you want or if you\n                like you can hang out here for a while. It's a nice place to hang out. There's all\n                kinds of wonderful things you learn while you are here.\n              </p>\n              <h2>What is Synthona?</h2>\n              <p>\n                Synthona allows you to create, explore, and share associative-maps made out of\n                content! That might sound confusing but it's really not so bad once you get\n                familiar. It's like learning to read, once you understand Synthona interactions with\n                the interface become second nature.{' '}\n                <b>\n                  The good news is that you cannot mess anything up, Synthona will not make any\n                  changes to any content outside itself.\n                </b>{' '}\n                Even if you upload a file, Synthona will only make a copy, the original file will\n                still exist on your computer. The worst thing you can do is delete something from\n                Synthona, but that action is clearly marked by a garbage can.\n              </p>\n              <h2>What should I do first?</h2>\n              <p>\n                You can start by uploading or creating some content, you do this by clicking the\n                rainbow button at the top of the page. This will transform it into a plus sign and\n                put the IO bar into <i>create-mode</i>.\n              </p>\n              <p>\n                From there, to the left of the input field there is a dropdown menu which contains\n                some content types. You can select one of those which will prepare the IO bar to\n                create that content. For most content types you can type a name for the node you're\n                about to create into the input field and it will automatically be added to the\n                generated node. The exception is urls which don't allow a name on creation since you\n                have to paste the url into that space instead. To finish creating a node, hit enter\n                in the input bar or click the button to the right side of the text input. That's it!\n                Now it's in the system.\n              </p>\n              <h2>What are nodes and associations?</h2>\n              <p>\n                Synthona is premised on the idea that all content is a <i>node</i> which can be\n                associated, connected, related, to any other piece of content. A connection between\n                any two pieces of content is called an <i>association</i>. If you understand these\n                two ideas, you understand Synthona! That's all there is to it, the rest is just\n                building on these two assumptions.\n              </p>\n              <h2>How do I edit the name of a node?</h2>\n              <p>If you double click the title it should turn into an editable text field.</p>\n              <h2>What are do all these icons mean?</h2>\n              <p>\n                If you hover over most icons for a couple of seconds a tooltip should show up which\n                explains what the button does, but I've written out a guide here as well so you can\n                be confident of what your clicks will accomplish.\n              </p>\n              <h3>\n                1) Associations <Icon type={'branches'} theme='outlined' />\n              </h3>\n              <p>\n                This is the icon you'll see whenever associations are in-play. It mostly appears on\n                node cards in the node explorer. Clicking it will typically bring up a menu which\n                lists the associations for a given node and allows you to add new ones.\n              </p>\n              <Icon type={'branches'} theme='outlined' className='help-icon' />\n              <h3>\n                2) Light Bulb <Icon type={'bulb'} theme='outlined' />\n              </h3>\n              <p>\n                The light bulb is the universal symbol for having a good idea, which is why it was\n                chosen as the \"good idea\" button. Whenever you click the light bulb icon the node in\n                question will be pushed to the top of the home page. You can click this button as\n                much as you want and nothing bad will happen!\n              </p>\n              <Icon type={'bulb'} theme='outlined' className='help-icon' />\n              <h3>\n                3) Visible <Icon type={'eye'} theme='outlined' />\n              </h3>\n              <p>\n                Clicking this icon allows you to toggle whether a node is visible on the homepage or\n                not. Nodes which are hidden from the homepage will only be accessible through their\n                associations. This allows you to hide content behind other content.\n              </p>\n              <Icon type={'eye'} theme='outlined' className='help-icon' />\n              <h3>\n                4) Searchable <Icon type={'search'} theme='outlined' />\n              </h3>\n              <p>\n                Clicking this icon allows you to toggle whether a node will appear in a search or\n                not.\n              </p>\n              <Icon type={'search'} theme='outlined' className='help-icon' />\n              <h3>\n                5) Delete <Icon type={'delete'} theme='outlined' />\n              </h3>\n              <p>\n                This is the garbage can, it lets you put delete nodes from the system! Not bad,\n                pretty good!\n              </p>\n              <Icon type={'delete'} theme='outlined' className='help-icon' />\n              <h3>\n                6) Synthona Package <Icon type={'deployment-unit'} theme='outlined' />\n              </h3>\n              <p>\n                Synthona packages allow you to share nodes and their associations between computers\n                as <i>.synth</i> files, which can be re-imported by anyone into any synthona\n                instance on any computer. These files are represented within synthona by this icon.\n                If you click this icon, it will generate an export package based on the node you\n                clicked it from. Synthona packages contain the node in question, all the nodes\n                associated with it, and their associations with each other.\n              </p>\n              <Icon type={'deployment-unit'} theme='outlined' className='help-icon' />\n              <h3>\n                7) Unpack Synthona Package <Icon type={'appstore'} theme='outlined' />\n              </h3>\n              <p>\n                If you have created or imported a Synthona package into your Synthona instance, you\n                will see this icon on the package page. Clicking it will \"unpack\" the package,\n                importing all the nodes and associations it contains into your profile. Once you\n                click this, it will be replaced by an \"undo\" <Icon type={'undo'} theme='outlined' />{' '}\n                icon which will allow you to \"repack\" the package. The undo option will delete all\n                the nodes which unpacking created, which makes unpacking a reversible operation.\n              </p>\n              <Icon type={'appstore'} theme='outlined' className='help-icon' />\n              <h2>Can I export all my data?</h2>\n              <p>\n                Yes, if you go to the options menu there is a button labeled \"export all user data\".\n                This will put all your nodes and associations into a .synth file which will be added\n                to your homepage. You can then click through to download that file. That .synth file\n                containing all your data can be imported into an updated version of the app, onto a\n                version on another computer, or stored as a backup. Also, although it's not really\n                designed for this, you could break the .synth file open to get at the files\n                themselves. If you need to get at the specific files in there, you can change the\n                file extension from .synth to .zip which should allow your computer to de-compress\n                the archive.\n              </p>\n              <h2>How do I bring data from an older version into the latest version of the app?</h2>\n              <p>\n                As mentioned in the previous question, you can go to the options menu on the older\n                version and click the \"export all user data\" option to get a .synth file containing\n                all your user data. You can then import that into the latest version you've\n                downloaded by unpacking it from within the new version. Once you have imported your\n                data into the new version, you can safely delete the old version of the app from\n                your computer.\n              </p>\n              <h2>Why are there so many concepts here!?</h2>\n              <p>\n                That's a good question! I tried to explain everything as best I could but I'm\n                worried it may still be confusing, if you have critiques of specific concepts or\n                ideas I am happy to hear them, because this application is always a work in progress\n                and I would like to make it easier to use! That said, there were certain concepts I\n                had to invent because they just didn't exist. My hope is that as people interact\n                with Synthona they will come up with their own ideas for improvements and ways to\n                increase the clarity of presentation.\n              </p>\n              <h2>What if I have an idea for a change to the app?</h2>\n              <p>\n                Synthona is an open-source project and is licensed under GPLv3 which means if you\n                want to take things into your own hands you're free to fork the project, but I am\n                also more than willing to hear out your concerns and try to implement changes myself\n                if I can! The goal here is to make something which benefits as many people as\n                possible.\n              </p>\n              <h2>I want to financially support development, what should I do?</h2>\n              <p>\n                There is a{' '}\n                <a\n                  href='https://www.patreon.com/synthona'\n                  target='_blank'\n                  rel='noopener noreferrer'\n                >\n                  patreon\n                </a>{' '}\n                you can contribute to and I may add more donation options in the future. Anything\n                helps, I spent quite a bit of time developing this idea and am currently between\n                jobs. I have a lot of ideas for improvements to this application including things\n                like P2P features, automatic updates, theme support, plugin support, a lot of other\n                node types, maps, web-features, analytics, social features, 3D features, and so much\n                more, but I can't afford to work on this full-time without enough funding to make\n                rent. This project was originally designed to function as a distrubuted p2p social\n                network and that is not really off the table, but there is still a lot of work to be\n                done before that is possible and funding would allow me to work on it.\n              </p>\n              <h2>Can I contact you with a bug report, feature request, or other inquiry?</h2>\n              <p>\n                Yes, please send an email to{' '}\n                <a\n                  href='mailto:synthona@gmail.com'\n                  target='_blank'\n                  rel='noopener noreferrer'\n                  type='email'\n                >\n                  synthona@gmail.com\n                </a>{' '}\n                and we will get things sorted out as soon as possible!\n              </p>\n            </div>\n          </Content>\n        </Layout>\n      </Layout>\n    );\n  }\n}\n\nconst mapStateToProps = (state) => {\n  return {\n    isSignedIn: state.auth.isSignedIn,\n    mainSider: state.components.componentList['mainSider'],\n  };\n};\n\nexport default connect(mapStateToProps)(Help);\n","import React, { Component, Fragment } from 'react';\nimport { Route, Switch } from 'react-router-dom';\nimport { connect } from 'react-redux';\n// custom code\nimport '../app.less';\nimport { isAuthenticated } from '../api/redux/actions';\n// custom components\nimport Login from './layouts/Login';\nimport Home from './layouts/Home';\nimport Profile from './layouts/Profile';\nimport Options from './layouts/Options';\nimport Activity from './layouts/Activity';\nimport QuillEditor from './QuillEditor/QuillEditor';\nimport Collections from './layouts/Collections';\nimport Spinner from './elements/Spinner';\nimport CreateAccount from './layouts/CreateAccount';\nimport AssociationBrowser from './layouts/AssociationBrowser';\nimport GraphBrowser from './layouts/GraphBrowser';\nimport Help from './layouts/Help';\n\nclass App extends Component {\n  componentDidMount() {\n    if (this.props.isAuth === null) {\n      this.props.isAuthenticated();\n    }\n  }\n  render() {\n    let routes;\n    if (this.props.isAuth) {\n      routes = (\n        <Switch>\n          <Route path='/' exact component={Home} />\n          <Route path='/profile/:username' exact component={Profile} />\n          <Route path='/activity' exact component={Activity} />\n          <Route path='/collections' exact component={Collections} />\n          <Route path='/edit/text/:uuid' exact component={QuillEditor} />\n          <Route path='/edit/profile' exact component={Options} />\n          <Route path='/associations/:uuid' exact component={AssociationBrowser} />\n          <Route path='/graph/:uuid?' exact component={GraphBrowser} />\n          <Route path='/help' exact component={Help} />\n        </Switch>\n      );\n    } else if (this.props.isFetchingAuth) {\n      routes = <Spinner />;\n    } else {\n      routes = (\n        <Switch>\n          <Route path='/' exact component={Login} />\n          <Route path='/create-account' exact component={CreateAccount} />\n          <Route component={Login} />\n        </Switch>\n      );\n    }\n    return <Fragment>{routes}</Fragment>;\n  }\n}\n\nconst mapStateToProps = (state) => {\n  return {\n    user: state.auth.user,\n    isFetchingAuth: state.auth.isFetching,\n    isAuth: state.auth.isAuth,\n  };\n};\n\nexport default connect(mapStateToProps, { isAuthenticated })(App);\n","import {\n  EDIT_TEXT_NODE,\n  EDIT_TEXT_NODE_SUCCESS,\n  EDIT_TEXT_NODE_ERROR,\n  FETCH_NODES,\n  FETCH_NODES_SUCCESS,\n  FETCH_NODES_ERROR,\n  UPDATE_NODE,\n  UPDATE_NODE_ERROR,\n  UPDATE_NODE_SUCCESS,\n  PROCESS_TEXT_NODE,\n  PROCESS_TEXT_NODE_SUCCESS,\n  PROCESS_TEXT_NODE_ERROR,\n  CREATE_FILE_NODE,\n  CREATE_FILE_NODE_SUCCESS,\n  CREATE_FILE_NODE_ERROR,\n  SEARCH_NODES,\n  SEARCH_NODES_SUCCESS,\n  SEARCH_NODES_ERROR,\n  MARK_NODE_VIEW,\n  MARK_NODE_VIEW_SUCCESS,\n  MARK_NODE_VIEW_ERROR,\n  CREATE_NODE,\n  CREATE_NODE_SUCCESS,\n  CREATE_NODE_ERROR,\n  SET_ACTIVE_NODE,\n  SET_ACTIVE_NODE_SUCCESS,\n  SET_ACTIVE_NODE_ERROR,\n  DELETE_NODE,\n  DELETE_NODE_ERROR,\n  DELETE_NODE_SUCCESS,\n  CLEAR_ACTIVE_NODE,\n  GENERATE_EXPORT,\n  GENERATE_EXPORT_ERROR,\n  GENERATE_EXPORT_SUCCESS,\n} from '../actions/types';\n\nconst INITIAL_STATE = {\n  isFetching: null,\n  isSaving: null,\n  nodeList: [],\n  totalItems: null,\n  query: { page: 1 },\n  activeNode: null,\n};\n\n// reducer for content nodes\nexport default (state = INITIAL_STATE, action) => {\n  switch (action.type) {\n    case FETCH_NODES:\n      return { ...state, isFetching: true };\n    case FETCH_NODES_SUCCESS:\n      var nodesArray;\n      // reset nodesArray if page number has decreased\n      if (action.query.page > state.query.page) {\n        nodesArray = [...state.nodeList];\n      } else {\n        nodesArray = [];\n      }\n      // update the nodelist with the new values\n      Object.values(action.payload.nodes).forEach((node) => {\n        // if (!nodesArray.some((item) => item.uuid === node.uuid)) {\n        //   nodesArray.push(node);\n        // }\n        nodesArray.push(node);\n      });\n      if (nodesArray.length > 100) {\n        // if the length gets too long free up some memory\n        nodesArray.splice(0, action.payload.nodes.length);\n      }\n      return {\n        ...state,\n        isFetching: null,\n        query: action.query,\n        totalItems: action.payload.totalItems,\n        nodeList: nodesArray,\n      };\n    case FETCH_NODES_ERROR:\n      return { ...state, isFetching: null };\n    case SEARCH_NODES:\n      return { ...state, isFetching: true };\n    case SEARCH_NODES_SUCCESS:\n      nodesArray = [];\n      // update the nodelist with the new values\n      Object.values(action.payload.nodes).forEach((node) => {\n        if (!nodesArray.some((item) => item.uuid === node.uuid)) {\n          nodesArray.push(node);\n        }\n      });\n      if (nodesArray.length > 100) {\n        // if the length gets too long free up some memory\n        nodesArray.splice(0, action.payload.nodes.length);\n      }\n      return {\n        ...state,\n        isFetching: null,\n        query: { page: 1, type: action.query.type, searchQuery: action.query.searchQuery },\n        totalItems: action.payload.totalItems,\n        nodeList: nodesArray,\n      };\n    case SEARCH_NODES_ERROR:\n      return { ...state, isFetching: null };\n    case UPDATE_NODE:\n      return { ...state, isSaving: true };\n    case UPDATE_NODE_ERROR:\n      return { ...state, isSaving: null };\n    case UPDATE_NODE_SUCCESS:\n      return {\n        ...state,\n        isSaving: null,\n        nodeList: state.nodeList.map((node) => {\n          if (node.uuid === action.result.uuid) {\n            node = action.result;\n          }\n          return node;\n        }),\n      };\n    case EDIT_TEXT_NODE:\n      return { ...state, isSaving: true };\n    case EDIT_TEXT_NODE_SUCCESS:\n      return {\n        ...state,\n        isSaving: null,\n        // update the content on the activeNode\n        activeNode: {\n          ...state.activeNode,\n          content: action.node.content,\n        },\n      };\n    case EDIT_TEXT_NODE_ERROR:\n      return { ...state, isSaving: null };\n    case PROCESS_TEXT_NODE:\n      return { ...state, isSaving: true };\n    case PROCESS_TEXT_NODE_SUCCESS:\n      return {\n        ...state,\n        isSaving: null,\n        // update the preview in the nodelist\n        // leave everything else as-is\n        nodeList: state.nodeList.map((node) => {\n          // only update it for the processsed node\n          if (node.uuid === action.node.uuid) {\n            node.preview = action.node.preview;\n          }\n          return node;\n        }),\n      };\n    case PROCESS_TEXT_NODE_ERROR:\n      return { ...state, isSaving: null };\n    case CREATE_FILE_NODE:\n      return { ...state, isSaving: true };\n    case CREATE_FILE_NODE_SUCCESS:\n      return {\n        ...state,\n        isFetching: null,\n        nodeList: [action.payload, ...state.nodeList],\n      };\n    case CREATE_FILE_NODE_ERROR:\n      return { ...state, isSaving: null };\n    case CREATE_NODE:\n      return { ...state, isSaving: true };\n    case CREATE_NODE_SUCCESS:\n      // add new node to list and move to front of node order\n      return {\n        ...state,\n        isFetching: null,\n        nodeList: [\n          action.payload,\n          ...state.nodeList.filter((node) => node.uuid !== action.payload.uuid),\n        ],\n        activeNode: action.payload.node,\n      };\n    case CREATE_NODE_ERROR:\n      return { ...state, isSaving: null };\n    case MARK_NODE_VIEW:\n      return { ...state, isSaving: true };\n    case MARK_NODE_VIEW_SUCCESS:\n      var newNodeList;\n      // only send the node back to the beginning if the user is at the top of the list\n      if (state.nodeList.length < 20) {\n        newNodeList = [\n          action.node,\n          ...state.nodeList.filter((node) => node.uuid !== action.node.uuid),\n        ];\n      } else {\n        // otherwise just make it \"disapear\" to reappaar when they return to the top\n        newNodeList = [...state.nodeList.filter((node) => node.uuid !== action.node.uuid)];\n      }\n      return {\n        ...state,\n        isSaving: null,\n        nodeList: newNodeList,\n      };\n    case MARK_NODE_VIEW_ERROR:\n      return { ...state, isSaving: null };\n    case SET_ACTIVE_NODE:\n      return { ...state, isFetching: true };\n    case SET_ACTIVE_NODE_SUCCESS:\n      return { ...state, isFetching: null, activeNode: action.payload.node };\n    case SET_ACTIVE_NODE_ERROR:\n      return { ...state, isFetching: null };\n    case CLEAR_ACTIVE_NODE:\n      return { ...state, activeNode: null };\n    case DELETE_NODE:\n      return { ...state, isSaving: true };\n    case DELETE_NODE_SUCCESS:\n      return {\n        ...state,\n        // filter the node out of the list\n        nodeList: [...state.nodeList.filter((node) => node.uuid !== action.uuid)],\n        isSaving: null,\n      };\n    case DELETE_NODE_ERROR:\n      return { ...state, isSaving: null };\n    case GENERATE_EXPORT:\n      return { ...state, isSaving: true };\n    case GENERATE_EXPORT_ERROR:\n      return {\n        ...state,\n        isSaving: null,\n      };\n    case GENERATE_EXPORT_SUCCESS:\n      return {\n        ...state,\n        isSaving: null,\n        nodeList: [action.payload, ...state.nodeList],\n        // activeNode: action.payload.node,\n      };\n    default:\n      return state;\n  }\n};\n","import { SHOW_COMPONENT, HIDE_COMPONENT } from '../actions/types';\n\nconst INITIAL_STATE = {\n  componentList: {},\n};\n\n// reducer for UI components which need to store redux state\nexport default (state = INITIAL_STATE, action) => {\n  switch (action.type) {\n    case SHOW_COMPONENT:\n      return {\n        ...state,\n        componentList: {\n          ...state.componentList,\n          [action.payload.type]: { content: action.payload.content, visible: true },\n        },\n      };\n    case HIDE_COMPONENT:\n      return {\n        ...state,\n        componentList: {\n          ...state.componentList,\n          [action.payload.type]: null,\n        },\n      };\n    default:\n      return state;\n  }\n};\n","import {\n  FETCH_GRAPH_DATA,\n  FETCH_GRAPH_DATA_ERROR,\n  FETCH_GRAPH_DATA_SUCCESS,\n} from '../actions/types';\n\nconst INITIAL_STATE = {\n  isFetching: null,\n  graphNodeList: [],\n  graphAssociationList: [],\n  totalItems: null,\n  query: { page: 1 },\n  activeNode: null,\n  graphData: null,\n};\n\n// reducer for content nodes\nexport default (state = INITIAL_STATE, action) => {\n  switch (action.type) {\n    case FETCH_GRAPH_DATA:\n      return { ...state, isFetching: true };\n    case FETCH_GRAPH_DATA_ERROR:\n      return { ...state, isFetching: null };\n    case FETCH_GRAPH_DATA_SUCCESS:\n      // format nodes\n      const nodeArray = [];\n      action.payload.nodes.map((node) => {\n        return nodeArray.push(node);\n      });\n      // format associations\n      const associationArray = [];\n      action.payload.associations.map((association) => {\n        const reformated = { source: association.nodeId, target: association.linkedNode };\n        return associationArray.push(reformated);\n      });\n      return {\n        ...state,\n        isFetching: null,\n        graphData: { nodes: nodeArray, associations: associationArray },\n      };\n    default:\n      return state;\n  }\n};\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Router } from 'react-router-dom';\nimport { Provider } from 'react-redux';\nimport { createStore, applyMiddleware, compose } from 'redux';\nimport reduxThunk from 'redux-thunk';\n//custom code\nimport history from './utils/history';\nimport App from './components/App';\nimport reducers from './api/redux/reducers';\n\n// add redux devtools\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\n// create store\nconst store = createStore(reducers, composeEnhancers(applyMiddleware(reduxThunk)));\n\nReactDOM.render(\n  <Provider store={store}>\n    <Router history={history}>\n      <App />\n    </Router>\n  </Provider>,\n  document.querySelector('#root')\n);\n","import { RESET_APP } from '../actions/types';\n// custom code\nimport authReducer from './authReducer';\nimport nodeReducer from './nodeReducer';\nimport componentReducer from './componentReducer';\nimport associationReducer from './associationReducer';\nimport graphReducer from './graphReducer';\n\n// custom combineReducers\nexport default (state = {}, action) => {\n  // reset app state if need-be\n  if (action.type === RESET_APP) {\n    state = {};\n  }\n\n  // return other reducers\n  return {\n    auth: authReducer(state.auth, action),\n    nodes: nodeReducer(state.nodes, action),\n    components: componentReducer(state.components, action),\n    associations: associationReducer(state.associations, action),\n    graph: graphReducer(state.graph, action),\n  };\n};\n","module.exports = __webpack_public_path__ + \"static/media/synthona-logo.bd307f5e.png\";","module.exports = __webpack_public_path__ + \"static/media/synthona-header.2a4785ed.png\";"],"sourceRoot":""}
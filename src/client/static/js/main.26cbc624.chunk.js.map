{"version":3,"sources":["utils/environment.js","resources/missing-file.png","utils/config.js","utils/history.js","api/instance.js","api/redux/actions/nodeActions.js","api/redux/actions/types.js","api/redux/actions/authActions.js","api/redux/actions/userActions.js","api/redux/actions/associationActions.js","api/redux/actions/componentActions.js","utils/theme.js","api/redux/actions/portActions.js","api/redux/actions/fileActions.js","components/Theme.js","components/layouts/Login.js","components/layouts/ForgotPassword.js","components/elements/Spinner.js","components/elements/MainSider.js","utils/validation.js","components/elements/IOBar.js","components/elements/node/NodeCardHeaderFull.js","components/elements/node/NodeCardHeader.js","types/render/core/Text.js","types/render/core/Image.js","types/render/core/Url.js","types/render/core/File.js","types/render/core/Folder.js","types/render/core/Audio.js","types/render/core/Package.js","types/render/core/Zip.js","types/render/core/Collection.js","types/render/core/User.js","types/render/NodeRenderer.js","components/elements/node/NodeCard.js","components/elements/association/AssociationLink.js","components/elements/association/AssociationLinkList.js","components/elements/association/AssociationSider.js","components/elements/node/NodeList.js","components/layouts/Home.js","components/layouts/Profile.js","components/elements/options/OptionListItem.js","components/elements/options/OptionsList.js","components/layouts/Options.js","components/elements/MainContent.js","components/layouts/Activity.js","components/elements/association/AssociationList.js","utils/renderlink.js","components/QuillEditor/QuillEditor.js","api/redux/reducers/associationReducer.js","api/redux/actions/textActions.js","components/elements/MainFooter.js","components/layouts/Collections.js","components/layouts/CreateAccount.js","components/elements/node/NodeCardFull.js","components/layouts/AssociationBrowser.js","components/layouts/GraphBrowser.js","api/redux/actions/graphActions.js","components/elements/node/PinList.js","components/elements/PinHeader.js","components/layouts/Pins.js","components/layouts/RandomRedirect.js","components/layouts/LaunchFile.js","components/electron/ElectronSearch.js","components/electron/ElectronMessage.js","components/App.js","api/redux/reducers/authReducer.js","api/redux/reducers/nodeReducer.js","api/redux/reducers/componentReducer.js","api/redux/reducers/graphReducer.js","index.js","api/redux/reducers/index.js","resources/cloud9.png","resources/synthona-logo.png"],"names":["isElectron","window","process","type","versions","electron","navigator","userAgent","indexOf","module","exports","clientConfig","storageKey","name","options","value","loadClientConfig","configArray","localStorage","getItem","map","item","localItem","removeItem","location","reload","configValue","JSON","parse","key","setItem","stringify","backendConfigMap","FULLSCREEN","OPEN_URLS_IN_BROWSER","HTTP_CACHE","CLEAR_CACHE_ON_START","ENABLE_HARDWARE_ACCELERATION","DEBUG","SERVER_PORT","CLIENT_PORT","CLIENT_BASE","APP_NAME","SUMMONING_KEY","backendConfigFilter","createBrowserHistory","CancelToken","axios","source","create","baseURL","REACT_APP_SERVER_PORT","hostname","port","withCredentials","cancelToken","token","fetchNodes","query","dispatch","a","instance","get","params","page","perPage","searchQuery","pinned","sortType","sortOrder","response","payload","data","history","push","searchNodes","message","error","updateNode","node","patch","uuid","preview","path","result","createUrlNode","put","isFile","content","linkedNode","markNodeView","setActiveNode","getRandomNode","replace","clearActiveNode","signOut","success","fetchUserByUsername","username","user","fetchAssociations","linkMode","bidirectional","nodeUUID","updateLinkStrength","nodeA","nodeB","showComponent","hideComponent","loadTheme","theme","colors","cardTitleColor","cardButtonColor","cardHeaderColor","cardBodyColor","cardTextColor","graphNodeColor","graphNodeBorderColor","graphNodeHoverColor","graphNodeBorderHoverColor","textEditorBackground","textEditorText","setupTheme","editorTheme","setupEditorTheme","generateInstanceExport","status","linkFileNodes","fileList","nodes","launchFileNode","openFileInExplorer","connect","props","useEffect","loadBackground","customImage","bgImage","defaultBackground","src","alt","style","width","height","position","backgroundColor","children","Content","Footer","Login","getUsername","onSubmit","values","setSubmitting","signIn","document","title","className","initialValues","email","password","confirmPassword","validationSchema","this","isSubmitting","role","aria-label","paddingRight","placeholder","component","disabled","to","Component","Yup","shape","required","min","state","isSignedIn","auth","formValues","displayName","ForgotPassword","forgotPassword","newPassword","confirmNewPassword","oneOf","Spinner","display","justifyContent","alignItems","alignment","size","Item","MainSider","signOutHandler","toggleSignoutModal","showSignoutModal","setState","body","removeProperty","renderDrawerClasses","animate","visible","mainSider","mask","showMask","placement","closable","onClose","e","mode","defaultSelectedKeys","onClick","avatar","defaultAvatar","icon","verticalAlign","marginTop","objectFit","margin","preventDefault","open","centered","onOk","okType","okText","onCancel","components","componentList","validUrl","URL","_","isImageUrl","url","match","includes","Header","Option","IOBar","toggleInputMode","inputMode","modeIcon","nodeTypes","toggleMainSider","toggleSortOrder","renderCreateFileNodeOption","commandHandler","target","blur","input","createNodeHandler","activeNode","createNode","selectElectronFile","selectLocalFile","selectElectronFolder","api","send","action","createElement","setAttribute","click","onchange","files","file","renderCreateFolderOption","renderSelectBefore","showSearch","showArrow","onChange","renderSelectAfter","Group","mouseEnterDelay","createType","queryType","fixed","marginRight","padding","href","onPressEnter","event","maxLength","defaultValue","addonBefore","addonAfter","id","delta","Delta","insert","NodeCardHeaderFull","saveName","updateActiveNode","nodeData","toggleDeleteModal","showDeleteModal","deleteHandler","deleting","deleteNode","toggleExportModal","showExportModal","exportHandler","generateExportByUUID","setUrlPreviewImage","togglePinned","pinnedState","setPreviewToLocalFilePath","clearNodePreview","renderTitle","editable","onBlur","autoFocus","onKeyPress","onFocus","select","color","onDoubleClick","renderContextualButtons","nodeMetaData","metadata","importing","expanded","removeImportsByPackage","unpackImport","showUrlPreviewImageModal","renderRevealInExplorerButton","renderExportButton","afterClose","getSelection","removeAllRanges","onKeyDown","delete","NodeCardHeader","tabIndex","renderLightbulbIcon","fontSize","textAlign","marginLeft","Text","element","shiftKey","handleClick","onContextMenu","handleAssociatonClick","renderNode","Image","fileLoadError","onFileLoadError","missingFileImage","onFullCardAction","launchExplorer","nodeCard","renderHeader","onClickAction","onError","imageClass","cursor","fullNode","Url","renderPreview","border","allowFullScreen","sandbox","rel","File","onContextAction","launchFile","full","Folder","minHeight","Audio","Package","Zip","Collection","onCollectionClick","previewCount","length","User","defaultHeader","NodeRenderer","handleNodeClick","linkedNodeUUID","siderNodeUUID","siderUUID","toggleHeader","showHeader","NodeCard","renderNodeCard","AssociationLink","handleDeleteAssociation","association","activeNodeUUID","deleteAssociationLink","pathname","removeFromAssociationList","renderAssociationLink","mouseLeaveDelay","deletedUUID","AssociationLinkList","loadMore","fetchAssociationLinkList","parseInt","renderAssociationLinkList","list","associations","isFetching","renderLoadMoreButton","listLength","totalItems","listStyle","associationLinkList","associationLinkListPage","totalLinkListItems","AssociationSider","createAssociationHandler","nodeToAssociate","siderNode","associationSiderData","autocompleteValues","forEach","nodeUUIDToAssociate","createAssociation","autocompleteOptions","inputText","renderAutocompleteValues","associationAutocomplete","newValues","hideInfoSider","renderContent","documentElement","cssText","onSearch","onSelect","NodeList","infiniteScroll","endReached","topOfPage","windowHeight","innerHeight","offsetHeight","html","docHeight","Math","max","scrollHeight","clientHeight","windowBottom","pageYOffset","renderNodeList","nodeList","encodeURIComponent","borderRadius","addEventListener","removeEventListener","totalNodes","Home","renderMainSider","scrollTo","top","behavior","Profile","toggleAvatarModal","avatarModal","initializeFromUrlParams","initialized","bio","header","nodeId","marginBottom","draggable","viewBox","d","footer","OptionListItem","borderBottom","float","keyName","checked","checkedChildren","unCheckedChildren","toString","optionObject","renderInputType","OptionsList","loadOptions","clientConfigValues","backendConfig","updateClientConfigValue","newValue","newConfig","updateBackendConfigValue","existingBackendConfig","showRestartModal","updates","restartHandler","renderOptionsList","configList","backendKey","clientKey","cancelText","Options","updatePassword","togglePasswordModal","changePassword","handleClearNodes","toggleDeleteNodesModal","clearAllNodes","showPasswordModal","showDeleteNodesModal","passwordModal","oldPassword","deleteAllNodesModal","passwordValue","deleteNodesValidation","setAvatar","test","updateUserAvatar","setHeader","updateUserHeader","renderDisplayName","saveDisplayName","updateUserInfo","renderBio","saveBio","renderUsername","saveUsername","updateUsername","renderEmail","saveEmail","updateEmail","regenerateCollectionPreviews","updatedUser","imageData","FormData","append","headers","MainContent","Activity","AssociationList","currentListLength","renderNodes","associationList","renderList","associationListPage","totalAssociationListItems","renderlink","split","CustomClipboard","scrollY","left","scrollX","defaultPrevented","quill","isEnabled","range","retain","index","container","scrollTop","focus","setTimeout","selection","update","Quill","sources","SILENT","concat","convert","updateContents","USER","setSelection","bounds","getBounds","scrollingContainer","import","register","CustomLink","removeAttribute","newAssociationList","QuillEditor","ref","componentDidUpdate","querySelectorAll","tool","stopPropagation","textUUID","initializing","text","readOnly","regeneratePreview","quillScrollY","scroll","textValue","getEditor","clear","expandHandler","disable","exitHandler","getText","substring","processTextNode","selectLocalImage","createFileNode","insertEmbed","RegExp","matcherImageHandler","image","modules","toolbar","font","indent","background","align","script","handlers","expand","exit","clipboard","matchVisual","matchers","keyboard","bindings","renderLinkEnter","prefix","handler","context","handleRenderlinking","renderLinkSpace","allowedFormats","regex","phraseLinks","matchAll","editor","phrase","renderlinkUrl","phraseBase","escapedPhraseString","phraseRegex","duplicateList","shortenedPhraseBase","lengthDiff","getLength","exclusionData","lastCreatedPhrase","exclusionList","contextualCreate","phraseIndex","link","formatText","renderClassName","handleChange","bind","overflow","getContents","fullDelta","editTextNode","isLoading","formats","scrollBy","fileData","origin","console","MainFooter","Collections","CreateAccount","createAccount","paddingLeft","NodeCardFull","AssociationBrowser","regenerateCollectionPreview","collectionNode","i","err","paddingTop","isDeleting","GraphBrowser","fetchGraphData","anchorNode","graphData","renderGraph","renderAssociationSider","associationSider","renderAssociationList","zoomed","transform","g","attr","linkData","innerWidth","simulation","forceSimulation","force","forceLink","forceManyBody","strength","forceX","forceY","forceCenter","initialZoom","zoomIdentity","scale","translate","zoomData","zoom","scaleExtent","on","svg","selectAll","join","sqrt","call","drag","currentTarget","fx","fy","x","y","raise","active","alphaTarget","restart","graph","loading","graphRenderLimit","PinList","renderPinList","PinHeader","Pins","RandomRedirect","setInterval","LaunchFile","referrer","ElectronSearch","handleElectronSearch","searchInput","current","React","createRef","ElectronMessage","renderElectronSearch","electronSearchData","renderUpdateAvailableModal","updateAvailable","receive","getElementById","config","simplifiedPath","fileName","lastIndexOf","folderList","folder","folderName","App","renderElectronMessage","isAuth","isAuthenticated","routes","exact","isFetchingAuth","INITIAL_STATE","isSaving","nodesArray","Object","some","linkNodesArray","filter","newNodeList","associationLinkListArray","associationsArray","associatedNode","addBackToList","newTotalLinkListItems","newTotalItems","graphNodeList","graphAssociationList","nodeArray","associationArray","reformated","composeEnhancers","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","authReducer","nodeReducer","componentReducer","associationReducer","graphReducer","applyMiddleware","reduxThunk","ReactDOM","render","querySelector"],"mappings":"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","file":"static/js/main.26cbc624.chunk.js","sourcesContent":["export const isElectron = () => {\n\t// Renderer process\n\tif (\n\t\ttypeof window !== 'undefined' &&\n\t\ttypeof window.process === 'object' &&\n\t\twindow.process.type === 'renderer'\n\t) {\n\t\treturn true;\n\t}\n\t// Main process\n\tif (\n\t\ttypeof process !== 'undefined' &&\n\t\ttypeof process.versions === 'object' &&\n\t\t!!process.versions.electron\n\t) {\n\t\treturn true;\n\t}\n\t// Detect the user agent when the `nodeIntegration` option is set to true\n\tif (\n\t\ttypeof navigator === 'object' &&\n\t\ttypeof navigator.userAgent === 'string' &&\n\t\tnavigator.userAgent.indexOf('Electron') >= 0\n\t) {\n\t\treturn true;\n\t}\n\n\treturn false;\n};\n","module.exports = __webpack_public_path__ + \"static/media/missing-file.20cda3d1.png\";","let clientConfigVersion = 1.1;\n\nlet clientConfig = [\n\t{\n\t\tstorageKey: \"theme\",\n\t\tname: \"Theme\",\n\t\ttype: \"dropdown\",\n\t\toptions: [\n\t\t\t\"classic\",\n\t\t\t\"light\",\n\t\t\t\"translucent\",\n\t\t\t\"translucent green\",\n\t\t\t\"translucent blue\",\n\t\t\t\"translucent red\",\n\t\t\t\"translucent yellow\",\n\t\t\t\"translucent orange\",\n\t\t],\n\t\tvalue: \"classic\",\n\t},\n\t{\n\t\tstorageKey: \"quill-theme\",\n\t\tname: \"Editor Theme\",\n\t\ttype: \"dropdown\",\n\t\toptions: [\n\t\t\t\"classic\",\n\t\t\t\"dark\",\n\t\t\t\"warm\",\n\t\t\t\"off-white\",\n\t\t\t\"green hacker\",\n\t\t\t\"iris hacker\",\n\t\t\t\"dark translucent\",\n\t\t],\n\t\tvalue: \"classic\",\n\t},\n\t{\n\t\tstorageKey: \"image-sizing\",\n\t\tname: \"Image Sizing\",\n\t\ttype: \"dropdown\",\n\t\toptions: [\"classic\", \"actual size\", \"fit-vertically\"],\n\t\tvalue: \"classic\",\n\t},\n\t{\n\t\tstorageKey: \"association-sort\",\n\t\tname: \"Association Sort Type\",\n\t\ttype: \"dropdown\",\n\t\toptions: [\"last accessed\", \"link strength\", \"created at\"],\n\t\tvalue: \"last updated\",\n\t},\n\t{\n\t\tstorageKey: \"association-sort-order\",\n\t\tname: \"Association Sort Order\",\n\t\ttype: \"dropdown\",\n\t\toptions: [\"desc\", \"asc\"],\n\t\tvalue: \"desc\",\n\t},\n\t{\n\t\tstorageKey: \"fallback-search\",\n\t\tname: \"Fallback Search\",\n\t\ttype: \"dropdown\",\n\t\toptions: [\"none\", \"google\"],\n\t\tvalue: \"none\",\n\t},\n\t{\n\t\tstorageKey: \"link-mode\",\n\t\tname: \"Link Mode\",\n\t\ttype: \"dropdown\",\n\t\toptions: [\"bidirectional\", \"unidirectional\"],\n\t\tvalue: \"bidirectional\",\n\t},\n\t{\n\t\tstorageKey: \"graph-render-limit\",\n\t\tname: \"Graph Render Limit\",\n\t\ttype: \"number\",\n\t\tvalue: 100,\n\t},\n];\n\nexports.loadClientConfig = () => {\n\t// return new Promise((resolve) => {\n\tlet localConfigVersion = localStorage.getItem(\"client-config-version\");\n\tlet configArray;\n\t// check to see if our version is up to date or not\n\tif (clientConfigVersion <= localConfigVersion) {\n\t\t// we're going to loop through our 'config array' definitions and load them from localstorage\n\t\tconfigArray = clientConfig.map((item) => {\n\t\t\tlet localItem = localStorage.getItem(item.storageKey);\n\t\t\t// handle case where a config item is missing\n\t\t\tif (!localItem) {\n\t\t\t\t// if the config has been tampered with we are going to run the 'update' case\n\t\t\t\tlocalStorage.removeItem(\"client-config-version\");\n\t\t\t\twindow.location.reload();\n\t\t\t}\n\t\t\tlet configValue = JSON.parse(localItem);\n\t\t\t// load the configItem value into the render template\n\t\t\titem.value = configValue;\n\t\t\t// return the item\n\t\t\treturn item;\n\t\t});\n\t} else {\n\t\t// loop through clientConfig definitions and store the default values into local storage\n\t\tconfigArray = clientConfig.map((item) => {\n\t\t\tlet key = item.storageKey;\n\t\t\t// store the value in local storage\n\t\t\tlocalStorage.setItem(key, JSON.stringify(item.value));\n\t\t\t// lets set up the iobar default sort order item too\n\t\t\tlocalStorage.setItem(\"sortOrder\", \"DESC\");\n\t\t\tlocalStorage.setItem(\"sortType\", \"recent\");\n\t\t\t// return value to array\n\t\t\treturn item;\n\t\t});\n\t\t// update the client-config-version to the latest\n\t\tlocalStorage.setItem(\"client-config-version\", clientConfigVersion);\n\t}\n\treturn configArray;\n};\n\n// some mappings for backend config stuff\nexports.backendConfigMap = {\n\tFULLSCREEN: {\n\t\ttype: \"boolean\",\n\t\tname: \"Fullscreen on Startup\",\n\t},\n\tOPEN_URLS_IN_BROWSER: {\n\t\ttype: \"boolean\",\n\t\tname: \"Open URLs in Browser\",\n\t},\n\tHTTP_CACHE: {\n\t\ttype: \"boolean\",\n\t\tname: \"Http Cache\",\n\t},\n\tCLEAR_CACHE_ON_START: {\n\t\ttype: \"boolean\",\n\t\tname: \"Clear Cache On Startup\",\n\t},\n\tENABLE_HARDWARE_ACCELERATION: {\n\t\ttype: \"boolean\",\n\t\tname: \"Hardware Acceleration\",\n\t},\n\tDEBUG: {\n\t\ttype: \"boolean\",\n\t\tname: \"Debug Mode\",\n\t},\n\tSERVER_PORT: {\n\t\ttype: \"number\",\n\t\tname: \"Server Port\",\n\t},\n\tCLIENT_PORT: {\n\t\ttype: \"number\",\n\t\tname: \"Client Port\",\n\t},\n\tCLIENT_BASE: {\n\t\ttype: \"string\",\n\t\tname: \"Client Base\",\n\t},\n\tAPP_NAME: {\n\t\ttype: \"string\",\n\t\tname: \"App Name\",\n\t},\n\tSUMMONING_KEY: {\n\t\ttype: \"dropdown\",\n\t\toptions: [\";\", \"y\", \"'\", \".\", \",\", \"[\", \"]\", \"-\", \"=\", \"none\"],\n\t\tname: \"Summoning Key\",\n\t},\n};\n\nexports.backendConfigFilter = [\n\t\"JWT_SECRET\",\n\t\"REFRESH_TOKEN_SECRET\",\n\t\"CONFIG_VERSION\",\n\t\"CLIENT_PORT\",\n\t\"SERVER_PORT\",\n\t\"ENABLE_HARDWARE_ACCELERATION\",\n\t\"CLIENT_BASE\",\n\t\"APP_NAME\",\n\t\"DEBUG\",\n\t\"CLEAR_CACHE_ON_START\",\n];\n","import { createBrowserHistory } from 'history';\nexport default createBrowserHistory();\n","import axios from 'axios';\nconst CancelToken = axios.CancelToken;\nconst source = CancelToken.source();\n\nexport default axios.create({\n\tbaseURL: process.env.REACT_APP_SERVER_PORT\n\t\t? 'http://' + window.location.hostname + ':' + process.env.REACT_APP_SERVER_PORT\n\t\t: 'http://' + window.location.hostname + ':' + window.location.port,\n\twithCredentials: true,\n\tcancelToken: source.token,\n});\n","import instance from \"../../../api/instance\";\nimport history from \"../../../utils/history\";\nimport {\n\tFETCH_NODES,\n\tFETCH_NODES_ERROR,\n\tFETCH_NODES_SUCCESS,\n\tUPDATE_NODE,\n\tUPDATE_NODE_SUCCESS,\n\tUPDATE_NODE_ERROR,\n\tUPDATE_ACTIVE_NODE,\n\tUPDATE_ACTIVE_NODE_ERROR,\n\tUPDATE_ACTIVE_NODE_SUCCESS,\n\tSEARCH_NODES,\n\tSEARCH_NODES_ERROR,\n\tSEARCH_NODES_SUCCESS,\n\tRESET_APP,\n\tCREATE_NODE,\n\tCREATE_NODE_SUCCESS,\n\tCREATE_NODE_ERROR,\n\tMARK_NODE_VIEW,\n\tMARK_NODE_VIEW_ERROR,\n\tMARK_NODE_VIEW_SUCCESS,\n\tSET_ACTIVE_NODE,\n\tSET_ACTIVE_NODE_SUCCESS,\n\tSET_ACTIVE_NODE_ERROR,\n\tDELETE_NODE,\n\tDELETE_NODE_ERROR,\n\tDELETE_NODE_SUCCESS,\n\tCLEAR_ACTIVE_NODE,\n\tCONTEXTUAL_CREATE_NODE,\n\tCONTEXTUAL_CREATE_NODE_ERROR,\n\tCONTEXTUAL_CREATE_NODE_SUCCESS,\n} from \"./types\";\nimport { message } from \"antd\";\nimport Delta from \"quill-delta\";\n\n// fetch a list of nodes\nexport const fetchNodes = (query) => async (dispatch) => {\n\ttry {\n\t\tdispatch({ type: FETCH_NODES });\n\t\tconst response = await instance.get(\"/node/search\", {\n\t\t\tparams: {\n\t\t\t\tpage: query.page,\n\t\t\t\tperPage: query.perPage,\n\t\t\t\ttype: query.type,\n\t\t\t\tsearchQuery: query.searchQuery,\n\t\t\t\tpinned: query.pinned,\n\t\t\t\tsortType: query.sortType,\n\t\t\t\tsortOrder: query.sortOrder,\n\t\t\t},\n\t\t});\n\t\tdispatch({ type: FETCH_NODES_SUCCESS, payload: response.data, query });\n\t} catch (err) {\n\t\tdispatch({ type: FETCH_NODES_ERROR });\n\t\tdispatch({ type: RESET_APP });\n\t\t// message.error('Could not fetch items', 1);\n\t\thistory.push(\"/\");\n\t}\n};\n\n// search the database\nexport const searchNodes = (query) => async (dispatch) => {\n\tif (query.type === \"all\") {\n\t\tquery.type = null;\n\t}\n\ttry {\n\t\tdispatch({ type: SEARCH_NODES });\n\t\tconst response = await instance.get(\"/node/search\", {\n\t\t\tparams: {\n\t\t\t\tpage: query.page,\n\t\t\t\ttype: query.type,\n\t\t\t\tsearchQuery: query.searchQuery,\n\t\t\t\tpinned: query.pinned,\n\t\t\t\tsortType: query.sortType,\n\t\t\t\tsortOrder: query.sortOrder,\n\t\t\t},\n\t\t});\n\t\tdispatch({ type: SEARCH_NODES_SUCCESS, payload: response.data, query });\n\t\thistory.push(\"/\");\n\t} catch (err) {\n\t\tdispatch({ type: SEARCH_NODES_ERROR });\n\t\tdispatch({ type: RESET_APP });\n\t\tmessage.error(\"Could not search nodes\", 1);\n\t\thistory.push(\"/\");\n\t}\n};\n\n// update node handler\nexport const updateNode = (node) => async (dispatch) => {\n\tdispatch({ type: UPDATE_NODE });\n\ttry {\n\t\tconst result = await instance.patch(\"/node\", {\n\t\t\tuuid: node.uuid,\n\t\t\tname: node.name,\n\t\t\tpreview: node.preview,\n\t\t\tpath: node.path,\n\t\t});\n\t\tdispatch({\n\t\t\ttype: UPDATE_NODE_SUCCESS,\n\t\t\tuuid: node.uuid,\n\t\t\tresult: result.data.node,\n\t\t});\n\t} catch (err) {\n\t\tdispatch({ type: UPDATE_NODE_ERROR });\n\t\tmessage.error(\"There was a problem saving your changes\", 1);\n\t\thistory.push(\"/\");\n\t}\n};\n\n// update node handler\nexport const clearNodePreview = (node) => async (dispatch) => {\n\tdispatch({ type: UPDATE_ACTIVE_NODE });\n\ttry {\n\t\tawait instance.patch(\"/node/preview/clear\", {\n\t\t\tuuid: node.uuid,\n\t\t});\n\t\twindow.location.reload();\n\t} catch (err) {\n\t\tmessage.error(\"There was a problem saving your changes\", 1);\n\t\thistory.push(\"/\");\n\t}\n};\n\n// special handler for updating the active node\nexport const updateActiveNode = (node) => async (dispatch) => {\n\tdispatch({ type: UPDATE_ACTIVE_NODE });\n\ttry {\n\t\tconst result = await instance.patch(\"/node\", {\n\t\t\tuuid: node.uuid,\n\t\t\tname: node.name,\n\t\t\tpreview: node.preview,\n\t\t\tpinned: node.pinned,\n\t\t});\n\t\tdispatch({\n\t\t\ttype: UPDATE_ACTIVE_NODE_SUCCESS,\n\t\t\tuuid: node.uuid,\n\t\t\tresult: result.data.node,\n\t\t});\n\t} catch (err) {\n\t\tdispatch({ type: UPDATE_ACTIVE_NODE_ERROR });\n\t\tmessage.error(\"There was a problem saving your changes\", 1);\n\t\thistory.push(\"/\");\n\t}\n};\n\nexport const createNode = (node, file) => async (dispatch) => {\n\tdispatch({ type: CREATE_NODE });\n\t// set content to empty quill delta for text node\n\tif (node.type === \"text\") {\n\t\tconst delta = new Delta();\n\t\tdelta.insert(node.name);\n\t\tnode.content = JSON.stringify(delta);\n\t}\n\ttry {\n\t\tconst response = await instance.put(\"/node\", {\n\t\t\tisFile: node.isFile,\n\t\t\ttype: node.type,\n\t\t\tname: node.name,\n\t\t\tpreview: node.preview,\n\t\t\tcontent: node.content,\n\t\t\tlinkedNode: node.linkedNode,\n\t\t});\n\t\tdispatch({\n\t\t\ttype: CREATE_NODE_SUCCESS,\n\t\t\tpayload: response.data.node,\n\t\t});\n\t\tif (response.status === 200 && node.type === \"text\") {\n\t\t\t// if successfully created, redirect the user to the edit node page\n\t\t\thistory.push(\"/edit/text/\" + response.data.node.uuid);\n\t\t}\n\t} catch (err) {\n\t\tdispatch({ type: CREATE_NODE_ERROR });\n\t\tmessage.error(\"There was a problem creating that node\", 1);\n\t\thistory.push(\"/\");\n\t}\n};\n\n// final processing of text node after closing the editor\nexport const contextualCreate = (phrase, linkedNodeUUID, exclusionList) => async (dispatch) => {\n\tdispatch({ type: CONTEXTUAL_CREATE_NODE });\n\t// set up initial delta\n\tconst delta = new Delta();\n\tdelta.insert(phrase);\n\tconst content = JSON.stringify(delta);\n\t// make the request\n\ttry {\n\t\tlet response = await instance.put(\"/node/contextual-create\", {\n\t\t\tname: phrase,\n\t\t\tcontent: content,\n\t\t\tlinkedNodeUUID: linkedNodeUUID,\n\t\t\texclusionList,\n\t\t});\n\t\tlet url = null;\n\t\tif (response.data && response.data.node.uuid && response.data.node.type === \"url\") {\n\t\t\t// url links should open the actual node's URL\n\t\t\turl = response.data.node.content;\n\t\t} else if (response.data && response.data.node.uuid) {\n\t\t\turl = `${window.location.origin}/renderlink/${response.data.node.type}/${response.data.node.uuid}`;\n\t\t}\n\t\tdispatch({\n\t\t\ttype: CONTEXTUAL_CREATE_NODE_SUCCESS,\n\t\t\tnode: response.data.node,\n\t\t\tassociation: response.data.association,\n\t\t});\n\t\treturn { url, name: response.data.node.name, uuid: response.data.node.uuid };\n\t} catch (err) {\n\t\tconsole.error(err);\n\t\tdispatch({ type: CONTEXTUAL_CREATE_NODE_ERROR });\n\t}\n};\n\nexport const createUrlNode = (node) => async (dispatch) => {\n\tdispatch({ type: CREATE_NODE });\n\ttry {\n\t\tconst response = await instance.put(\"/url\", {\n\t\t\tisFile: node.isFile,\n\t\t\ttype: node.type,\n\t\t\tname: node.name,\n\t\t\tpreview: node.preview,\n\t\t\tpath: node.path,\n\t\t\tcontent: node.content,\n\t\t\tlinkedNode: node.linkedNode,\n\t\t});\n\t\tdispatch({\n\t\t\ttype: CREATE_NODE_SUCCESS,\n\t\t\tpayload: response.data.node,\n\t\t});\n\t} catch (err) {\n\t\tdispatch({ type: CREATE_NODE_ERROR });\n\t\tmessage.error(\"There was a problem adding that URL\", 1);\n\t\thistory.push(\"/\");\n\t}\n};\n\nexport const markNodeView = (node) => async (dispatch) => {\n\tdispatch({ type: MARK_NODE_VIEW });\n\ttry {\n\t\tawait instance.patch(\"/node/viewed\", {\n\t\t\tuuid: node.uuid,\n\t\t});\n\t\tdispatch({ type: MARK_NODE_VIEW_SUCCESS, node });\n\t} catch (err) {\n\t\tdispatch({ type: MARK_NODE_VIEW_ERROR });\n\t\tmessage.error(\"Could not mark node view\", 1);\n\t\thistory.push(\"/\");\n\t}\n};\n\n// set active node\nexport const setActiveNode = (uuid) => async (dispatch) => {\n\tdispatch({ type: SET_ACTIVE_NODE });\n\ttry {\n\t\tconst response = await instance.get(\"/node\", {\n\t\t\tparams: { uuid },\n\t\t});\n\t\tdispatch({ type: SET_ACTIVE_NODE_SUCCESS, payload: response.data });\n\t} catch (err) {\n\t\tdispatch({ type: SET_ACTIVE_NODE_ERROR });\n\t\thistory.push(\"/\");\n\t\tmessage.error(\"Could not retrieve node\", 1);\n\t}\n};\n\n// get random node\nexport const getRandomNode = () => async (dispatch) => {\n\tdispatch({ type: SET_ACTIVE_NODE });\n\ttry {\n\t\tconst response = await instance.get(\"/node/random\");\n\t\tdispatch({ type: SET_ACTIVE_NODE_SUCCESS, payload: response.data });\n\t\twindow.location.replace(`/associations/${response.data.node.uuid}`);\n\t} catch (err) {\n\t\tdispatch({ type: SET_ACTIVE_NODE_ERROR });\n\t\thistory.push(\"/\");\n\t\tmessage.error(\"Could not retrieve values\", 1);\n\t}\n};\n\nexport const clearActiveNode = () => {\n\treturn {\n\t\ttype: CLEAR_ACTIVE_NODE,\n\t};\n};\n\n// delete text node handler\nexport const deleteNode = (uuid) => async (dispatch) => {\n\tdispatch({ type: DELETE_NODE });\n\ttry {\n\t\tconst response = await instance.delete(`/node`, { params: { uuid } });\n\t\tif (response.status === 200) {\n\t\t\thistory.push(\"/\");\n\t\t\tdispatch({ type: DELETE_NODE_SUCCESS, uuid: uuid });\n\t\t\tmessage.success(\"successfully deleted\", 1);\n\t\t}\n\t} catch (err) {\n\t\tdispatch({ type: DELETE_NODE_ERROR });\n\t\tmessage.error(\"There was a problem deleting the node\", 1);\n\t}\n};\n\n//regenerate collection previews\nexport const regenerateCollectionPreviews = () => async (dispatch) => {\n\ttry {\n\t\tawait instance.patch(`/collection/regenerate`);\n\t} catch (err) {\n\t\tmessage.error(\"There was a problem regenerating the collection previews\", 1);\n\t}\n};\n\n// clear all nodes\nexport const clearAllNodes = (formValues) => async (dispatch) => {\n\ttry {\n\t\tconst response = await instance.patch(\"/user/clear\", {\n\t\t\tpassword: formValues.passwordValue,\n\t\t});\n\t\tif (response.status === 200) {\n\t\t\thistory.push(\"/\");\n\t\t\tmessage.success(\"successfully deleted all your data :)\", 3);\n\t\t}\n\t} catch (err) {\n\t\tmessage.error(\"There was a problem, please try again\", 1);\n\t}\n};\n","export const RESET_APP = \"RESET_APP\";\n// modal actions\nexport const SHOW_COMPONENT = \"SHOW_COMPONENT\";\nexport const HIDE_COMPONENT = \"HIDE_COMPONENT\";\n// sign in\nexport const CREATE_ACCOUNT = \"CREATE_ACCOUNT\";\nexport const CREATE_ACCOUNT_SUCCESS = \"CREATE_ACCOUNT_SUCCESS\";\nexport const CREATE_ACCOUNT_ERROR = \"CREATE_ACCOUNT_ERROR\";\n// sign in\nexport const SIGN_IN = \"SIGN_IN\";\nexport const SIGN_IN_SUCCESS = \"SIGN_IN_SUCCESS\";\nexport const SIGN_IN_ERROR = \"SIGN_IN_ERROR\";\n// sign out\nexport const SIGN_OUT = \"SIGN_OUT\";\nexport const SIGN_OUT_ERROR = \"SIGN_OUT_ERROR\";\n// refresh auth\nexport const REFRESH_AUTH = \"REFRESH_AUTH\";\nexport const REFRESH_AUTH_SUCCESS = \"REFRESH_AUTH_SUCCESS\";\nexport const REFRESH_AUTH_ERROR = \"REFRESH_AUTH_ERROR\";\n// create node\nexport const CREATE_NODE = \"CREATE_NODE\";\nexport const CREATE_NODE_SUCCESS = \"CREATE_NODE_SUCCESS\";\nexport const CREATE_NODE_ERROR = \"CREATE_NODE_ERROR\";\n// fetch nodes\nexport const FETCH_NODES = \"FETCH_NODES\";\nexport const FETCH_NODES_SUCCESS = \"FETCH_NODES_SUCCESS\";\nexport const FETCH_NODES_ERROR = \"FETCH_NODES_ERROR\";\n// search nodes\nexport const SEARCH_NODES = \"SEARCH_NODES\";\nexport const SEARCH_NODES_SUCCESS = \"SEARCH_NODES_SUCCESS\";\nexport const SEARCH_NODES_ERROR = \"SEARCH_NODES_ERROR\";\n// update node\nexport const UPDATE_NODE = \"UPDATE_NODE\";\nexport const UPDATE_NODE_SUCCESS = \"UPDATE_NODE_SUCCESS\";\nexport const UPDATE_NODE_ERROR = \"UPDATE_NODE_ERROR\";\n// update active node\nexport const UPDATE_ACTIVE_NODE = \"UPDATE_ACTIVE_NODE\";\nexport const UPDATE_ACTIVE_NODE_ERROR = \"UPDATE_ACTIVE_NODE_ERROR\";\nexport const UPDATE_ACTIVE_NODE_SUCCESS = \"UPDATE_ACTIVE_NODE_SUCCESS\";\n// mark node view\nexport const MARK_NODE_VIEW = \"MARK_NODE_VIEW\";\nexport const MARK_NODE_VIEW_SUCCESS = \"MARK_NODE_VIEW_SUCCESS\";\nexport const MARK_NODE_VIEW_ERROR = \"MARK_NODE_VIEW_ERROR\";\n// edit text node\nexport const EDIT_TEXT_NODE = \"EDIT_TEXT_NODE\";\nexport const EDIT_TEXT_NODE_SUCCESS = \"EDIT_TEXT_NODE_SUCCESS\";\nexport const EDIT_TEXT_NODE_ERROR = \"EDIT_TEXT_NODE_ERROR\";\n// process text node\nexport const PROCESS_TEXT_NODE = \"PROCESS_TEXT_NODE\";\nexport const PROCESS_TEXT_NODE_SUCCESS = \"PROCESS_TEXT_NODE_SUCCESS\";\nexport const PROCESS_TEXT_NODE_ERROR = \"PROCESS_TEXT_NODE_ERROR\";\n// create file node\nexport const CREATE_FILE_NODE = \"CREATE_FILE_NODE\";\nexport const CREATE_FILE_NODE_SUCCESS = \" CREATE_FILE_NODE_SUCCESS\";\nexport const CREATE_FILE_NODE_ERROR = \"CREATE_FILE_NODE_ERROR\";\n// link file nodes\nexport const LINK_FILE_NODES = \"LINK_FILE_NODES\";\nexport const LINK_FILE_NODES_SUCCESS = \"LINK_FILE_NODES_SUCCESS\";\nexport const LINK_FILE_NODES_ERROR = \"LINK_FILE_NODES_ERROR\";\n// fetch user node\nexport const FETCH_USER_NODE = \"FETCH_USER_NODE\";\nexport const FETCH_USER_NODE_SUCCESS = \"FETCH_USER_NODE_SUCCESS\";\nexport const FETCH_USER_NODE_ERROR = \"FETCH_USER_NODE_ERROR\";\n// update user node\nexport const UPDATE_USER_NODE = \"UPDATE_USER_NODE\";\nexport const UPDATE_USER_NODE_SUCCESS = \"UPDATE_USER_NODE_SUCCESS\";\nexport const UPDATE_USER_NODE_ERROR = \"UPDATE_USER_NODE_ERROR\";\n// update user avatar\nexport const UPDATE_USER_AVATAR = \"UPDATE_USER_AVATAR\";\nexport const UPDATE_USER_AVATAR_SUCCESS = \"UPDATE_USER_AVATAR_SUCCESS\";\nexport const UPDATE_USER_AVATAR_ERROR = \"UPDATE_USER_NODE_ERROR\";\n// update user header image\nexport const UPDATE_USER_HEADER = \"UPDATE_USER_HEADER\";\nexport const UPDATE_USER_HEADER_SUCCESS = \"UPDATE_USER_HEADER_SUCCESS\";\nexport const UPDATE_USER_HEADER_ERROR = \"UPDATE_USER_HEADER_ERROR\";\n// create associations\nexport const CREATE_ASSOCIATION = \"CREATE_ASSOCIATION\";\nexport const CREATE_ASSOCIATION_SUCCESS = \"CREATE_ASSOCIATION_SUCCESS\";\nexport const CREATE_ASSOCIATION_ERROR = \"CREATE_ASSOCIATION_ERROR\";\n// fetch associations\nexport const FETCH_ASSOCIATIONS = \"FETCH_ASSOCIATIONS\";\nexport const FETCH_ASSOCIATIONS_SUCCESS = \"FETCH_ASSOCIATIONS_SUCCESS\";\nexport const FETCH_ASSOCIATIONS_ERROR = \"FETCH_ASSOCIATIONS_ERROR\";\n// reset association list\nexport const RESET_ASSOCIATIONS = \"RESET_ASSOCIATIONS\";\n// fetch association link list\nexport const FETCH_ASSOCIATION_LINK_LIST = \"FETCH_ASSOCIATIONS_LINK_LIST\";\nexport const FETCH_ASSOCIATION_LINK_LIST_SUCCESS = \"FETCH_ASSOCIATIONS_LINK_LIST_SUCCESS\";\nexport const FETCH_ASSOCIATION_LINK_LIST_ERROR = \"FETCH_ASSOCIATIONS_LINK_LIST_ERROR\";\n// reset association link list\nexport const RESET_ASSOCIATION_LINK_LIST = \"RESET_ASSOCIATION_LINK_LIST\";\n// set active node\nexport const SET_ACTIVE_NODE = \"SET_ACTIVE_NODE\";\nexport const SET_ACTIVE_NODE_SUCCESS = \"SET_ACTIVE_NODE_SUCCESS\";\nexport const SET_ACTIVE_NODE_ERROR = \"SET_ACTIVE_NODE_ERROR\";\n// clear active node\nexport const CLEAR_ACTIVE_NODE = \"CLEAR_ACTIVE_NODE\";\n// delete node\nexport const DELETE_NODE = \"DELETE_NODE\";\nexport const DELETE_NODE_SUCCESS = \"DELETE_NODE_SUCCESS\";\nexport const DELETE_NODE_ERROR = \"DELETE_NODE_ERROR\";\n// remove from association list\nexport const REMOVE_FROM_ASSOCIATION_LIST = \"REMOVE_FROM_ASSOCIATION_LIST\";\n// delete association link\nexport const DELETE_ASSOCIATION_LINK = \"DELETE_ASSOCIATION_LINK\";\nexport const DELETE_ASSOCIATION_LINK_SUCCESS = \"DELETE_ASSOCIATION_LINK_SUCCESS\";\nexport const DELETE_ASSOCIATION_LINK_ERROR = \"DELETE_ASSOCIATION_LINK_ERROR\";\n// generate instance export\nexport const GENERATE_EXPORT = \"GENERATE_EXPORT\";\nexport const GENERATE_EXPORT_ERROR = \"GENERATE_EXPORT_ERROR\";\nexport const GENERATE_EXPORT_SUCCESS = \"GENERATE_EXPORT_SUCCESS\";\n// fetch graph nodes\nexport const FETCH_GRAPH_DATA = \"FETCH_GRAPH_DATA\";\nexport const FETCH_GRAPH_DATA_ERROR = \"FETCH_GRAPH_DATA_ERROR\";\nexport const FETCH_GRAPH_DATA_SUCCESS = \"FETCH_GRAPH_DATA_SUCCESS\";\n// load theme\nexport const LOAD_THEME = \"LOAD_THEME\";\n// contextual create node\nexport const CONTEXTUAL_CREATE_NODE = \"CONTEXTUAL_CREATE_NODE\";\nexport const CONTEXTUAL_CREATE_NODE_ERROR = \"CONTEXTUAL_CREATE_NODE_ERROR\";\nexport const CONTEXTUAL_CREATE_NODE_SUCCESS = \"CONTEXTUAL_CREATE_NODE_SUCCESS\";\n","import instance from '../../../api/instance';\nimport history from '../../../utils/history';\nimport {\n\tCREATE_ACCOUNT,\n\tCREATE_ACCOUNT_SUCCESS,\n\tCREATE_ACCOUNT_ERROR,\n\tSIGN_IN,\n\tSIGN_IN_SUCCESS,\n\tSIGN_IN_ERROR,\n\tSIGN_OUT,\n\tSIGN_OUT_ERROR,\n\tREFRESH_AUTH,\n\tREFRESH_AUTH_SUCCESS,\n\tREFRESH_AUTH_ERROR,\n\tRESET_APP,\n} from './types';\nimport { message } from 'antd';\nimport { loadClientConfig } from '../../../utils/config';\n\n// Create Account Action handler\nexport const createAccount = (formValues) => async (dispatch) => {\n\t// let's take this as an opportunity to (re)initialize the backend config values in localstorage\n\tif (window.api) {\n\t\twindow.api.send('toMain', { action: 'get-backend-config' });\n\t}\n\t// lets also initialize some config values into storage/load them if they exist on this computer\n\tloadClientConfig();\n\t// dispatch create account action\n\tdispatch({ type: CREATE_ACCOUNT });\n\ttry {\n\t\tconst response = await instance.put('/auth/signup', formValues);\n\t\tlocalStorage.setItem('displayName', response.data.displayName);\n\t\tdispatch({ type: CREATE_ACCOUNT_SUCCESS, payload: response.data });\n\t\thistory.push('/');\n\t} catch (err) {\n\t\tdispatch({ type: CREATE_ACCOUNT_ERROR });\n\t\tmessage.error('There was a problem creating the account', 1);\n\t\thistory.push('/');\n\t}\n};\n\n// Sign In Action handler\nexport const signIn = (formValues) => async (dispatch) => {\n\tdispatch({ type: SIGN_IN });\n\t// lets also initialize some config values into storage/load them if they exist on this computer\n\tloadClientConfig();\n\ttry {\n\t\tconst response = await instance.put('/auth/login', formValues);\n\t\tlocalStorage.setItem('displayName', response.data.displayName);\n\t\tdispatch({ type: SIGN_IN_SUCCESS, payload: response.data });\n\t} catch (err) {\n\t\tdispatch({ type: SIGN_IN_ERROR });\n\t\tmessage.error('There was a problem signing in', 1);\n\t\thistory.push('/');\n\t}\n};\n\n// Sign Out Action Handler\nexport const signOut = () => async (dispatch) => {\n\tdispatch({ type: SIGN_OUT });\n\ttry {\n\t\tawait instance.get('/auth/signout');\n\t\tdispatch({ type: RESET_APP });\n\t\tmessage.success('Signed Out', 1);\n\t\t// send page redirect for the user\n\t\thistory.push('/');\n\t} catch (err) {\n\t\tdispatch({ type: SIGN_OUT_ERROR });\n\t\tmessage.error('There was a problem signing out', 1);\n\t}\n};\n\nexport const changePassword = (formValues) => async (dispatch) => {\n\ttry {\n\t\tconst response = await instance.patch('/auth/password', {\n\t\t\toldPassword: formValues.oldPassword,\n\t\t\tnewPassword: formValues.newPassword,\n\t\t});\n\t\tif (response.status === 200) {\n\t\t\tmessage.success('changed password', 1);\n\t\t}\n\t} catch (err) {\n\t\tmessage.error('Could not update password', 1);\n\t}\n};\n\nexport const forgotPassword = (formValues) => async (dispatch) => {\n\ttry {\n\t\tconst response = await instance.put('/auth/forgot-password', {\n\t\t\temail: formValues.email,\n\t\t\tnewPassword: formValues.newPassword,\n\t\t\tconfirmNewPassword: formValues.confirmNewPassword,\n\t\t});\n\t\tif (response.status === 200) {\n\t\t\twindow.location.replace('/');\n\t\t}\n\t} catch (err) {\n\t\tmessage.error('something went wrong', 1);\n\t}\n};\n\nexport const isAuthenticated = () => async (dispatch) => {\n\ttry {\n\t\tdispatch({ type: REFRESH_AUTH });\n\t\tconst response = await instance.get('/auth');\n\t\tdispatch({ type: REFRESH_AUTH_SUCCESS, payload: response.data });\n\t} catch (err) {\n\t\tdispatch({ type: REFRESH_AUTH_ERROR });\n\t}\n};\n","import instance from '../../../api/instance';\n// import history from '../history';\nimport {\n  FETCH_USER_NODE,\n  UPDATE_USER_NODE,\n  UPDATE_USER_NODE_ERROR,\n  UPDATE_USER_NODE_SUCCESS,\n  UPDATE_USER_AVATAR,\n  UPDATE_USER_AVATAR_SUCCESS,\n  UPDATE_USER_AVATAR_ERROR,\n  UPDATE_USER_HEADER,\n  UPDATE_USER_HEADER_SUCCESS,\n  UPDATE_USER_HEADER_ERROR,\n} from './types';\nimport { message } from 'antd';\n\n// get user by username handler\nexport const fetchUserByUsername = (username) => async (dispatch) => {\n  dispatch({ type: FETCH_USER_NODE });\n  try {\n    const response = await instance.get('/user/username', { params: { username } });\n    const user = response.data.user;\n    return user;\n    // TODO: once i add users a node type on the homepage, is when i should be adding this reducer\n    // dispatch({ type: FETCH_TEXT_NODE_SUCCESS, payload: response.data });\n  } catch (err) {\n    // dispatch({ type: FETCH_TEXT_NODE_ERROR });\n    message.error('Could not fetch user', 1);\n    // history.push('/');\n  }\n};\n\n// get user by username handler\n// export const fetchUserByEmail = email => async dispatch => {\n//   dispatch({ type: FETCH_USER_NODE });\n//   try {\n//     const response = await instance.get('/user/username', { params: { email } });\n//     const user = response.data.user;\n//     return user;\n//     // TODO: once i add users a node type on the homepage, is when i should be adding this reducer\n//     // dispatch({ type: FETCH_TEXT_NODE_SUCCESS, payload: response.data });\n//   } catch (err) {\n//     // dispatch({ type: FETCH_TEXT_NODE_ERROR });\n//     message.error('Could not fetch user', 1);\n//     // history.push('/');\n//   }\n// };\n\n// update user by username\nexport const updateUserInfo = (user) => async (dispatch) => {\n  dispatch({ type: UPDATE_USER_NODE });\n  try {\n    const response = await instance.patch('/user/info', {\n      username: user.username,\n      bio: user.bio,\n      displayName: user.displayName,\n    });\n    const updatedUser = response.data.user;\n    dispatch({ type: UPDATE_USER_NODE_SUCCESS, user: updatedUser });\n    return updatedUser;\n  } catch (err) {\n    dispatch({ type: UPDATE_USER_NODE_ERROR });\n    message.error('Could not update user', 1);\n  }\n};\n\n// update username\nexport const updateUsername = (username) => async (dispatch) => {\n  dispatch({ type: UPDATE_USER_NODE });\n  try {\n    const response = await instance.patch('/user/username', {\n      username: username,\n    });\n    const updatedUser = response.data.user;\n    dispatch({ type: UPDATE_USER_NODE_SUCCESS, user: updatedUser });\n    return updatedUser;\n  } catch (err) {\n    dispatch({ type: UPDATE_USER_NODE_ERROR });\n    message.error('Could not update user', 1);\n  }\n};\n\n// update user by username\nexport const updateEmail = (email) => async (dispatch) => {\n  dispatch({ type: UPDATE_USER_NODE });\n  try {\n    const response = await instance.patch('/user/email', {\n      email: email,\n    });\n    const updatedUser = response.data.user;\n    dispatch({ type: UPDATE_USER_NODE_SUCCESS, user: updatedUser });\n    return updatedUser;\n  } catch (err) {\n    dispatch({ type: UPDATE_USER_NODE_ERROR });\n    message.error('Could not update user', 1);\n  }\n};\n\n// update user avatar\nexport const updateUserAvatar = (file) => async (dispatch) => {\n  dispatch({ type: UPDATE_USER_AVATAR });\n  try {\n    // create image FormData\n    const imageData = new FormData();\n    imageData.append('image', file);\n    // send the request\n    const response = await instance.patch('/user/avatar', imageData, {\n      headers: { 'Content-Type': 'multipart/form-data' },\n    });\n    // if it's sucessful dispatch the success action\n    if (response.status === 200) {\n      dispatch({ type: UPDATE_USER_AVATAR_SUCCESS, url: response.data.url });\n      // return the image URL for immediate use\n      return response.data.url;\n    } else {\n      message.error('There was a problem uploading the image', 1);\n    }\n  } catch (err) {\n    dispatch({ type: UPDATE_USER_AVATAR_ERROR });\n    message.error('There was a problem uploading the image', 1);\n  }\n};\n\nexport const updateUserHeader = (file) => async (dispatch) => {\n  dispatch({ type: UPDATE_USER_HEADER });\n  try {\n    // create image FormData\n    const imageData = new FormData();\n    imageData.append('image', file);\n    // send the request\n    const response = await instance.patch('/user/header', imageData, {\n      headers: { 'Content-Type': 'multipart/form-data' },\n    });\n    // if it's sucessful dispatch the success action\n    if (response.status === 200) {\n      dispatch({ type: UPDATE_USER_HEADER_SUCCESS, url: response.data.url });\n      // return the image URL for immediate use\n      return response.data.url;\n    } else {\n      message.error('There was a problem uploading the image', 1);\n    }\n  } catch (err) {\n    dispatch({ type: UPDATE_USER_HEADER_ERROR });\n    message.error('There was a problem uploading the image', 1);\n  }\n};\n","import instance from \"../../../api/instance\";\nimport history from \"../../../utils/history\";\nimport {\n\tCREATE_ASSOCIATION,\n\tCREATE_ASSOCIATION_ERROR,\n\tCREATE_ASSOCIATION_SUCCESS,\n\tFETCH_ASSOCIATION_LINK_LIST,\n\tFETCH_ASSOCIATION_LINK_LIST_ERROR,\n\tFETCH_ASSOCIATION_LINK_LIST_SUCCESS,\n\tRESET_ASSOCIATION_LINK_LIST,\n\tFETCH_ASSOCIATIONS,\n\tFETCH_ASSOCIATIONS_ERROR,\n\tFETCH_ASSOCIATIONS_SUCCESS,\n\tRESET_ASSOCIATIONS,\n\tREMOVE_FROM_ASSOCIATION_LIST,\n\tDELETE_ASSOCIATION_LINK,\n\tDELETE_ASSOCIATION_LINK_SUCCESS,\n\tDELETE_ASSOCIATION_LINK_ERROR,\n\t// RESET_APP\n} from \"./types\";\nimport { message } from \"antd\";\n\n// fetch associations for associationLinklist\nexport const fetchAssociationLinkList = (query) => async (dispatch) => {\n\tlet linkMode = JSON.parse(localStorage.getItem(\"link-mode\"));\n\tlet bidirectional = linkMode === \"bidirectional\" ? \"yes\" : \"no\";\n\tlet sortType = JSON.parse(localStorage.getItem(\"association-sort\")) || \"last updated\";\n\tlet sortOrder = JSON.parse(localStorage.getItem(\"association-sort-order\")) || \"desc\";\n\ttry {\n\t\tif (!query.page) {\n\t\t\tdispatch({ type: RESET_ASSOCIATION_LINK_LIST });\n\t\t\tquery.page = 1;\n\t\t}\n\t\tdispatch({ type: FETCH_ASSOCIATION_LINK_LIST });\n\t\tconst response = await instance.get(\"/association\", {\n\t\t\tparams: { nodeUUID: query.nodeUUID, page: query.page, bidirectional, sortOrder, sortType },\n\t\t});\n\t\tdispatch({\n\t\t\ttype: FETCH_ASSOCIATION_LINK_LIST_SUCCESS,\n\t\t\tpayload: response.data,\n\t\t\tnodeUUID: query.nodeUUID,\n\t\t\tpage: query.page,\n\t\t});\n\t} catch (err) {\n\t\tdispatch({ type: FETCH_ASSOCIATION_LINK_LIST_ERROR });\n\t\tmessage.error(\"Could not fetch items\", 1);\n\t\thistory.push(\"/\");\n\t}\n};\n\n// fetch associations for associationList\nexport const fetchAssociations = (query) => async (dispatch) => {\n\tlet linkMode = JSON.parse(localStorage.getItem(\"link-mode\"));\n\tlet bidirectional = linkMode === \"bidirectional\" ? \"yes\" : \"no\";\n\tlet sortType = JSON.parse(localStorage.getItem(\"association-sort\")) || \"last updated\";\n\tlet sortOrder = JSON.parse(localStorage.getItem(\"association-sort-order\")) || \"desc\";\n\ttry {\n\t\tif (!query.page) {\n\t\t\tdispatch({ type: RESET_ASSOCIATIONS });\n\t\t\tquery.page = 1;\n\t\t}\n\t\tdispatch({ type: FETCH_ASSOCIATIONS });\n\t\tconst response = await instance.get(\"/association\", {\n\t\t\tparams: { nodeUUID: query.nodeUUID, page: query.page, bidirectional, sortOrder, sortType },\n\t\t});\n\t\tdispatch({\n\t\t\ttype: FETCH_ASSOCIATIONS_SUCCESS,\n\t\t\tpayload: response.data,\n\t\t\tnodeUUID: query.nodeUUID,\n\t\t\tpage: query.page,\n\t\t});\n\t} catch (err) {\n\t\tdispatch({ type: FETCH_ASSOCIATIONS_ERROR });\n\t\tmessage.error(\"Could not fetch items\", 1);\n\t\thistory.push(\"/\");\n\t}\n};\n\n// create a new association\nexport const createAssociation = (nodeUUID, linkedNodeUUID) => async (dispatch) => {\n\ttry {\n\t\tdispatch({ type: CREATE_ASSOCIATION });\n\t\tconst response = await instance.put(\"/association\", {\n\t\t\tnodeUUID,\n\t\t\tlinkedNodeUUID,\n\t\t});\n\t\tdispatch({\n\t\t\ttype: CREATE_ASSOCIATION_SUCCESS,\n\t\t\tassociation: response.data.association,\n\t\t\tnode: response.data.node,\n\t\t\tlinkedNode: response.data.linkedNode,\n\t\t\tnodeUUID,\n\t\t});\n\t} catch (err) {\n\t\tdispatch({ type: CREATE_ASSOCIATION_ERROR });\n\t\tmessage.error(\"Could not create association\", 1);\n\t\thistory.push(\"/\");\n\t}\n};\n\n// get autocomplete values for association creation\nexport const associationAutocomplete = (query) => async (dispatch) => {\n\tlet linkMode = JSON.parse(localStorage.getItem(\"link-mode\"));\n\tlet bidirectional = linkMode === \"bidirectional\" ? \"yes\" : \"no\";\n\ttry {\n\t\tconst response = await instance.get(\"/association/autocomplete\", {\n\t\t\tparams: { searchQuery: query.searchQuery, nodeUUID: query.uuid, bidirectional },\n\t\t});\n\t\treturn response.data.nodes;\n\t} catch (err) {\n\t\tmessage.error(\"Could not search nodes\", 1);\n\t\thistory.push(\"/\");\n\t}\n};\n\n// delete text node handler\nexport const deleteAssociationLink = (nodeA, nodeB) => async (dispatch) => {\n\tlet linkMode = JSON.parse(localStorage.getItem(\"link-mode\"));\n\tlet bidirectional = linkMode === \"bidirectional\" ? \"yes\" : \"no\";\n\tdispatch({ type: DELETE_ASSOCIATION_LINK });\n\ttry {\n\t\tconst response = await instance.delete(`/association`, {\n\t\t\tparams: { nodeA, nodeB, bidirectional },\n\t\t});\n\t\tif (response.status === 200) {\n\t\t\tdispatch({ type: DELETE_ASSOCIATION_LINK_SUCCESS, deletedUUID: response.data.deletedUUID });\n\t\t}\n\t} catch (err) {\n\t\tdispatch({ type: DELETE_ASSOCIATION_LINK_ERROR });\n\t\tmessage.error(\"There was a problem deleting the node\", 1);\n\t}\n};\n\n// remove from association list\nexport const removeFromAssociationList = (uuid) => {\n\treturn {\n\t\ttype: REMOVE_FROM_ASSOCIATION_LIST,\n\t\tdeletedUUID: uuid,\n\t};\n};\n\n// update the linkStrength for an association\nexport const updateLinkStrength = (nodeA, nodeB) => async (dispatch) => {\n\ttry {\n\t\tawait instance.put(\"/association/linkstrength\", {\n\t\t\tnodeA,\n\t\t\tnodeB,\n\t\t});\n\t} catch (err) {\n\t\tmessage.error(\"There was a problem with your request\", 1);\n\t}\n};\n","import { SHOW_COMPONENT, HIDE_COMPONENT, LOAD_THEME } from \"./types\";\nimport { setupTheme, setupEditorTheme } from \"../../../utils/theme\";\n\nexport const showComponent = (type, content) => {\n\treturn {\n\t\ttype: SHOW_COMPONENT,\n\t\tpayload: {\n\t\t\ttype: type,\n\t\t\tcontent: content,\n\t\t},\n\t};\n};\n\nexport const hideComponent = (type) => {\n\treturn {\n\t\ttype: HIDE_COMPONENT,\n\t\tpayload: {\n\t\t\ttype: type,\n\t\t},\n\t};\n};\n\nexport const loadTheme = () => {\n\tlet theme = setupTheme();\n\tlet editorTheme = setupEditorTheme();\n\treturn {\n\t\ttype: LOAD_THEME,\n\t\tpayload: {\n\t\t\ttheme,\n\t\t\teditorTheme,\n\t\t},\n\t};\n};\n","export const setupTheme = () => {\n\tlet theme = JSON.parse(localStorage.getItem(\"theme\"));\n\tlet colors = {};\n\tswitch (theme) {\n\t\tcase \"classic\":\n\t\t\tcolors = {\n\t\t\t\tcardTitleColor: \"#03fc88\",\n\t\t\t\tcardButtonColor: \"white\",\n\t\t\t\tcardHeaderColor: \"#111111\",\n\t\t\t\tcardBodyColor: \"#111111\",\n\t\t\t\tcardTextColor: \"#e7e7e7\",\n\t\t\t\tgraphNodeColor: \"#ffffff\",\n\t\t\t\tgraphNodeBorderColor: \"#fff019\",\n\t\t\t\tgraphNodeHoverColor: \"#f0ff99\",\n\t\t\t\tgraphNodeBorderHoverColor: \"#f0ff99\",\n\t\t\t\ttextEditorBackground: \"white\",\n\t\t\t\ttextEditorText: \"black\",\n\t\t\t};\n\t\t\tbreak;\n\t\tcase \"light\":\n\t\t\tcolors = {\n\t\t\t\tcardTitleColor: \"black\",\n\t\t\t\tcardButtonColor: \"black\",\n\t\t\t\tcardHeaderColor: \"#e7e7e7\",\n\t\t\t\tcardBodyColor: \"#e7e7e7\",\n\t\t\t\tcardTextColor: \"grey\",\n\t\t\t\tgraphNodeColor: \"#f0ff99\",\n\t\t\t\tgraphNodeBorderColor: \"#f0ff99\",\n\t\t\t\tgraphNodeHoverColor: \"white\",\n\t\t\t\tgraphNodeBorderHoverColor: \"white\",\n\t\t\t\ttextEditorBackground: \"white\",\n\t\t\t\ttextEditorText: \"black\",\n\t\t\t};\n\t\t\tbreak;\n\t\tcase \"translucent\":\n\t\t\tcolors = {\n\t\t\t\tcardTitleColor: \"#03fc88\",\n\t\t\t\tcardButtonColor: \"white\",\n\t\t\t\tcardHeaderColor: \"rgba(0, 0, 0, .6)\",\n\t\t\t\tcardBodyColor: \"rgba(0, 0, 0, .8)\",\n\t\t\t\tcardTextColor: \"#e7e7e7\",\n\t\t\t\tgraphNodeColor: \"#ffffff\",\n\t\t\t\tgraphNodeBorderColor: \"#fff019\",\n\t\t\t\tgraphNodeHoverColor: \"rgba(255, 255, 255, .4)\",\n\t\t\t\tgraphNodeBorderHoverColor: \"rgba(255, 255, 255, .4)\",\n\t\t\t\ttextEditorBackground: \"white\",\n\t\t\t\ttextEditorText: \"#272727\",\n\t\t\t};\n\t\t\tbreak;\n\t\tcase \"translucent green\":\n\t\t\tcolors = {\n\t\t\t\tcardTitleColor: \"#03fc88\",\n\t\t\t\tcardButtonColor: \"#03fc88\",\n\t\t\t\tcardHeaderColor: \"rgba(0, 0, 0, .6)\",\n\t\t\t\tcardBodyColor: \"rgba(0, 0, 0, .8)\",\n\t\t\t\tcardTextColor: \"#e7e7e7\",\n\t\t\t\tgraphNodeColor: \"#03fc88\",\n\t\t\t\tgraphNodeBorderColor: \"#03fc88\",\n\t\t\t\tgraphNodeHoverColor: \"rgba(3, 252, 136, .5)\",\n\t\t\t\tgraphNodeBorderHoverColor: \"rgba(3, 252, 136, .5)\",\n\t\t\t\ttextEditorBackground: \"white\",\n\t\t\t\ttextEditorText: \"#272727\",\n\t\t\t};\n\t\t\tbreak;\n\t\tcase \"translucent blue\":\n\t\t\tcolors = {\n\t\t\t\tcardTitleColor: \"#7bf2e2\",\n\t\t\t\tcardButtonColor: \"#7bf2a7\",\n\t\t\t\tcardHeaderColor: \"rgba(0, 0, 0, .6)\",\n\t\t\t\tcardBodyColor: \"rgba(0, 0, 0, .8)\",\n\t\t\t\tcardTextColor: \"#e7e7e7\",\n\t\t\t\tgraphNodeColor: \"#c3f9f2\",\n\t\t\t\tgraphNodeBorderColor: \"#3651ff\",\n\t\t\t\tgraphNodeHoverColor: \"rgba(50, 66, 168, .5)\",\n\t\t\t\tgraphNodeBorderHoverColor: \"rgba(50, 66, 168, .5)\",\n\t\t\t\ttextEditorBackground: \"white\",\n\t\t\t\ttextEditorText: \"#272727\",\n\t\t\t};\n\t\t\tbreak;\n\t\tcase \"translucent red\":\n\t\t\tcolors = {\n\t\t\t\tcardTitleColor: \"#ff709b\",\n\t\t\t\tcardButtonColor: \"#ff3d78\",\n\t\t\t\tcardHeaderColor: \"rgba(0, 0, 0, .6)\",\n\t\t\t\tcardBodyColor: \"rgba(0, 0, 0, .8)\",\n\t\t\t\tcardTextColor: \"#e7e7e7\",\n\t\t\t\tgraphNodeColor: \"#ff3d78\",\n\t\t\t\tgraphNodeBorderColor: \"#c70a43\",\n\t\t\t\tgraphNodeHoverColor: \"rgba(255, 61, 120, .5)\",\n\t\t\t\tgraphNodeBorderHoverColor: \"rgba(255, 61, 120, .5)\",\n\t\t\t\ttextEditorBackground: \"white\",\n\t\t\t\ttextEditorText: \"#272727\",\n\t\t\t};\n\t\t\tbreak;\n\t\tcase \"translucent yellow\":\n\t\t\tcolors = {\n\t\t\t\tcardTitleColor: \"#faff63\",\n\t\t\t\tcardButtonColor: \"#faff63\",\n\t\t\t\tcardHeaderColor: \"rgba(0, 0, 0, .6)\",\n\t\t\t\tcardBodyColor: \"rgba(0, 0, 0, .8)\",\n\t\t\t\tcardTextColor: \"#e7e7e7\",\n\t\t\t\tgraphNodeColor: \"#faff63\",\n\t\t\t\tgraphNodeBorderColor: \"#e7e7e7\",\n\t\t\t\tgraphNodeHoverColor: \"rgba(250, 255, 99, .5)\",\n\t\t\t\tgraphNodeBorderHoverColor: \"rgba(250, 255, 99, .5)\",\n\t\t\t\ttextEditorBackground: \"white\",\n\t\t\t\ttextEditorText: \"#272727\",\n\t\t\t};\n\t\t\tbreak;\n\t\tcase \"translucent orange\":\n\t\t\tcolors = {\n\t\t\t\tcardTitleColor: \"#ffa424\",\n\t\t\t\tcardButtonColor: \"#ffa424\",\n\t\t\t\tcardHeaderColor: \"rgba(0, 0, 0, .6)\",\n\t\t\t\tcardBodyColor: \"rgba(0, 0, 0, .8)\",\n\t\t\t\tcardTextColor: \"#e7e7e7\",\n\t\t\t\tgraphNodeColor: \"#ffa424\",\n\t\t\t\tgraphNodeBorderColor: \"#e7e7e7\",\n\t\t\t\tgraphNodeHoverColor: \"rgba(255, 164, 36, .5)\",\n\t\t\t\tgraphNodeBorderHoverColor: \"rgba(255, 164, 36, .5)\",\n\t\t\t\ttextEditorBackground: \"white\",\n\t\t\t\ttextEditorText: \"#272727\",\n\t\t\t};\n\t\t\tbreak;\n\t\tdefault:\n\t\t\tbreak;\n\t}\n\treturn colors;\n};\n\nexport const setupEditorTheme = () => {\n\tlet theme = JSON.parse(localStorage.getItem(\"quill-theme\"));\n\tlet colors = {};\n\tswitch (theme) {\n\t\tcase \"classic\":\n\t\t\tcolors = {\n\t\t\t\ttextEditorBackground: \"white\",\n\t\t\t\ttextEditorText: \"black\",\n\t\t\t};\n\t\t\tbreak;\n\t\tcase \"dark\":\n\t\t\tcolors = {\n\t\t\t\ttextEditorBackground: \"#272727\",\n\t\t\t\ttextEditorText: \"white\",\n\t\t\t};\n\t\t\tbreak;\n\t\tcase \"warm\":\n\t\t\tcolors = {\n\t\t\t\ttextEditorBackground: \"#FFF1DE\",\n\t\t\t\ttextEditorText: \"#272727\",\n\t\t\t};\n\t\t\tbreak;\n\t\tcase \"off white\":\n\t\t\tcolors = {\n\t\t\t\ttextEditorBackground: \"#FAF9F6\",\n\t\t\t\ttextEditorText: \"#272727\",\n\t\t\t};\n\t\t\tbreak;\n\t\tcase \"green hacker\":\n\t\t\tcolors = {\n\t\t\t\ttextEditorBackground: \"rgba(0, 0, 0, .8)\",\n\t\t\t\ttextEditorText: \"#03fc88\",\n\t\t\t};\n\t\t\tbreak;\n\t\tcase \"iris hacker\":\n\t\t\tcolors = {\n\t\t\t\ttextEditorBackground: \"rgba(0, 0, 0, .8)\",\n\t\t\t\ttextEditorText: \"#5D3FD3\",\n\t\t\t};\n\t\t\tbreak;\n\t\tcase \"dark translucent\":\n\t\t\tcolors = {\n\t\t\t\ttextEditorBackground: \"rgba(0, 0, 0, .8)\",\n\t\t\t\ttextEditorText: \"white\",\n\t\t\t};\n\t\t\tbreak;\n\t\tdefault:\n\t\t\tcolors = {\n\t\t\t\ttextEditorBackground: \"white\",\n\t\t\t\ttextEditorText: \"black\",\n\t\t\t};\n\t\t\tbreak;\n\t}\n\treturn colors;\n};\n","import instance from '../../../api/instance';\nimport history from '../../../utils/history';\nimport { GENERATE_EXPORT, GENERATE_EXPORT_ERROR, GENERATE_EXPORT_SUCCESS } from './types';\nimport { message } from 'antd';\n\n// export the instance data and get the url of the file\nexport const generateInstanceExport = () => async (dispatch) => {\n\tmessage.success('generating export!', 2);\n\ttry {\n\t\tdispatch({ type: GENERATE_EXPORT });\n\t\tconst response = await instance.put('/port/export/all');\n\t\tif (response.status === 200) {\n\t\t\tdispatch({ type: GENERATE_EXPORT_SUCCESS, payload: response.data });\n\t\t\t// redirect\n\t\t\thistory.push('/');\n\t\t}\n\t} catch (err) {\n\t\tdispatch({ type: GENERATE_EXPORT_ERROR });\n\t\tmessage.error('Could not export instance data', 1);\n\t\thistory.push('/');\n\t}\n};\n\n// generate export based on a node\nexport const generateExportByUUID = (uuid) => async (dispatch) => {\n\tlet linkMode = JSON.parse(localStorage.getItem('link-mode'));\n\tlet bidirectional = linkMode === 'bidirectional' ? 'yes' : 'no';\n\tmessage.success('generating export!', 2);\n\ttry {\n\t\tdispatch({ type: GENERATE_EXPORT });\n\t\tconst response = await instance.put('/port/export/', { uuid, bidirectional });\n\t\tif (response.status === 200) {\n\t\t\tdispatch({ type: GENERATE_EXPORT_SUCCESS, payload: response.data });\n\t\t\t// redirect\n\t\t\thistory.push('/');\n\t\t}\n\t} catch (err) {\n\t\tdispatch({ type: GENERATE_EXPORT_ERROR });\n\t\tmessage.error('Could not export instance data', 1);\n\t\thistory.push('/');\n\t}\n};\n\n// export the instance data and get the url of the file\nexport const unpackImport = (uuid) => async (dispatch) => {\n\ttry {\n\t\tconst response = await instance.put('/port/import/', { uuid });\n\t\tif (response.status === 200) {\n\t\t\tmessage.success('started import process!', 3);\n\t\t\thistory.push('/');\n\t\t}\n\t} catch (err) {\n\t\tmessage.error('Could not import instance data', 1);\n\t\thistory.push('/');\n\t}\n};\n\nexport const removeImportsByPackage = (uuid) => async (dispatch) => {\n\tmessage.success('removing imports...', 1);\n\ttry {\n\t\tconst response = await instance.patch('/port/export/undo/', { uuid });\n\t\tif (response.status === 200) {\n\t\t\thistory.push('/');\n\t\t}\n\t} catch (err) {\n\t\tmessage.error('Could not remove imports for this export', 1);\n\t\thistory.push('/');\n\t}\n};\n","import instance from '../../instance';\nimport {\n\tCREATE_FILE_NODE,\n\tCREATE_FILE_NODE_SUCCESS,\n\tCREATE_FILE_NODE_ERROR,\n\tLINK_FILE_NODES,\n\tLINK_FILE_NODES_SUCCESS,\n\tLINK_FILE_NODES_ERROR,\n} from './types';\nimport { message } from 'antd';\n\nexport const createFileNode = (file, name, linkedNode) => async (dispatch) => {\n\tdispatch({ type: CREATE_FILE_NODE });\n\ttry {\n\t\t// create image FormData\n\t\tconst fileData = new FormData();\n\t\tfileData.append('image', file);\n\t\tif (name) {\n\t\t\tfileData.append('name', name);\n\t\t}\n\t\tif (linkedNode) {\n\t\t\tfileData.append('linkedNode', linkedNode);\n\t\t}\n\t\t// send the request\n\t\tconst response = await instance.put('/file', fileData, {\n\t\t\theaders: { 'Content-Type': 'multipart/form-data' },\n\t\t});\n\t\t// if it's sucessful dispatch the success action\n\t\tif (response.status === 200) {\n\t\t\tdispatch({ type: CREATE_FILE_NODE_SUCCESS, payload: response.data.node });\n\t\t\t// return the image URL for immediate use\n\t\t\treturn response.data.node.preview;\n\t\t} else {\n\t\t\tmessage.error('There was a problem inserting the file', 1);\n\t\t}\n\t} catch (err) {\n\t\tdispatch({ type: CREATE_FILE_NODE_ERROR });\n\t\tmessage.error('There was a problem inserting the file', 1);\n\t}\n};\n\nexport const linkFileNodes = (fileList, linkedNode) => async (dispatch) => {\n\tdispatch({ type: LINK_FILE_NODES });\n\ttry {\n\t\t// send the request\n\t\tconst response = await instance.put('/file/link', {\n\t\t\tfileList: JSON.stringify(fileList),\n\t\t\tlinkedNode: linkedNode,\n\t\t});\n\t\t// if it's sucessful dispatch the success action\n\t\tif (response.status === 200) {\n\t\t\tdispatch({ type: LINK_FILE_NODES_SUCCESS, nodes: response.data.nodes });\n\t\t} else {\n\t\t\tmessage.error('There was a problem creating the file nodes', 1);\n\t\t}\n\t} catch (err) {\n\t\tdispatch({ type: LINK_FILE_NODES_ERROR });\n\t\tmessage.error('There was a problem creating the file nodes', 1);\n\t}\n};\n\nexport const launchFileNode = (uuid) => async (dispatch) => {\n\t// message.success('loading...', 1);\n\ttry {\n\t\t// send the request\n\t\tawait instance.put('/file/launch', { uuid });\n\t} catch (err) {\n\t\tmessage.error('There was a problem launching the file', 1);\n\t\twindow.location.reload();\n\t}\n};\n\nexport const openFileInExplorer = (uuid) => async (dispatch) => {\n\t// message.success('loading...', 1);\n\ttry {\n\t\t// send the request\n\t\tawait instance.put('/file/explorer', { uuid });\n\t} catch (err) {\n\t\tmessage.error('There was a problem opening the file in the file explorer', 1);\n\t\twindow.location.reload();\n\t}\n};\n","import React, { useEffect } from 'react';\nimport { connect } from 'react-redux';\nimport { loadTheme } from '../api/redux/actions';\nimport defaultBackground from '../resources/cloud9.png';\nimport { loadClientConfig } from '../utils/config';\n\n// theme wrapper component\nconst Theme = (props) => {\n\tuseEffect(() => {\n\t\t// go ahead and load the theme\n\t\tprops.loadTheme();\n\t\t// lets also reload config if its not set for some reason\n\t\tlet localConfigVersion = localStorage.getItem('client-config-version');\n\t\tif (!localConfigVersion) {\n\t\t\tloadClientConfig();\n\t\t}\n\t});\n\n\tconst loadBackground = () => {\n\t\tlet customImage = localStorage.getItem('background-image');\n\t\tlet bgImage = defaultBackground;\n\t\tif (customImage) {\n\t\t\tbgImage = customImage;\n\t\t}\n\t\treturn bgImage;\n\t};\n\n\treturn (\n\t\t<div>\n\t\t\t<img\n\t\t\t\tsrc={loadBackground() ? loadBackground() : defaultBackground}\n\t\t\t\talt='background'\n\t\t\t\tstyle={{\n\t\t\t\t\twidth: '100vw',\n\t\t\t\t\theight: '100vh',\n\t\t\t\t\tposition: 'fixed',\n\t\t\t\t\tbackgroundColor: '#272727',\n\t\t\t\t}}\n\t\t\t/>\n\t\t\t{props.children}\n\t\t</div>\n\t);\n};\n\nexport default connect(null, {\n\tloadTheme,\n})(Theme);\n","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { Link } from 'react-router-dom';\nimport { Formik, Form, Field, ErrorMessage } from 'formik';\nimport * as Yup from 'yup';\nimport { Layout, Card } from 'antd';\n// custom code\nimport { signIn } from '../../api/redux/actions';\nimport './css/Login.less';\n\n// destructure antd\nconst { Content, Footer } = Layout;\n\nclass Login extends Component {\n\tcomponentDidMount() {\n\t\tdocument.title = 'synthona';\n\t}\n\n\tgetUsername = () => {\n\t\t// const username = localStorage.getItem('displayName');\n\t\t// if (username) {\n\t\t//   return username;\n\t\t// } else {\n\t\t//   return 'synthona';\n\t\t// }\n\t\treturn 'synthona';\n\t};\n\n\tonSubmit = (values, { setSubmitting }) => {\n\t\tsetSubmitting(false);\n\t\tthis.props.signIn(values);\n\t};\n\n\trender() {\n\t\treturn (\n\t\t\t<Layout className='login-layout'>\n\t\t\t\t<Content className='login-content'>\n\t\t\t\t\t<Card className='login-card'>\n\t\t\t\t\t\t<Formik\n\t\t\t\t\t\t\tinitialValues={{ email: '', password: '', confirmPassword: '' }}\n\t\t\t\t\t\t\tvalidationSchema={validationSchema}\n\t\t\t\t\t\t\tonSubmit={this.onSubmit}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{({ isSubmitting }) => (\n\t\t\t\t\t\t\t\t<Form className='login-form'>\n\t\t\t\t\t\t\t\t\t<h1 className='login-title'>\n\t\t\t\t\t\t\t\t\t\t<span\n\t\t\t\t\t\t\t\t\t\t\trole='img'\n\t\t\t\t\t\t\t\t\t\t\taria-label='jsx-a11y/accessible-emoji'\n\t\t\t\t\t\t\t\t\t\t\tstyle={{ paddingRight: '0.5rem' }}\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t{' '}\n\t\t\t\t\t\t\t\t\t\t\t✨\n\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\tsynthona\n\t\t\t\t\t\t\t\t\t\t<span\n\t\t\t\t\t\t\t\t\t\t\trole='img'\n\t\t\t\t\t\t\t\t\t\t\taria-label='jsx-a11y/accessible-emoji'\n\t\t\t\t\t\t\t\t\t\t\tstyle={{ paddingRight: '0.5rem' }}\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t{'  '}✨\n\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t</h1>\n\t\t\t\t\t\t\t\t\t<Field type='email' name='email' placeholder='email' className='login-field' />\n\t\t\t\t\t\t\t\t\t<ErrorMessage name='email' component='div' className='login-error' />\n\t\t\t\t\t\t\t\t\t<Field\n\t\t\t\t\t\t\t\t\t\ttype='password'\n\t\t\t\t\t\t\t\t\t\tname='password'\n\t\t\t\t\t\t\t\t\t\tplaceholder='password'\n\t\t\t\t\t\t\t\t\t\tclassName='login-field'\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t<ErrorMessage name='password' component='div' className='login-error' />\n\t\t\t\t\t\t\t\t\t<ErrorMessage name='confirmPassword' component='div' className='login-error' />\n\t\t\t\t\t\t\t\t\t<button type='submit' disabled={isSubmitting} className='login-submit'>\n\t\t\t\t\t\t\t\t\t\tlogin\n\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t\t<Link to='/create-account' className='login-signup'>\n\t\t\t\t\t\t\t\t\t\tcreate account\n\t\t\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t\t\t</Form>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</Formik>\n\t\t\t\t\t\t<div className='login-after-card'>\n\t\t\t\t\t\t\t<Link to='/forgot-password' className='login-forgot-password'>\n\t\t\t\t\t\t\t\tlost password\n\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</Card>\n\t\t\t\t</Content>\n\t\t\t\t<Footer />\n\t\t\t</Layout>\n\t\t);\n\t}\n}\n\nconst validationSchema = Yup.object().shape({\n\temail: Yup.string().required().email('E-mail is not valid!'),\n\tpassword: Yup.string().required().min(5, 'Password has to be longer than 6 characters!'),\n});\n\nconst mapStateToProps = (state) => {\n\treturn { isSignedIn: state.auth.isSignedIn };\n};\n\nexport default connect(mapStateToProps, { signIn })(Login);\n","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { Link } from 'react-router-dom';\nimport { Formik, Form, Field, ErrorMessage } from 'formik';\nimport * as Yup from 'yup';\nimport { Layout, Card } from 'antd';\n// custom code\nimport { forgotPassword } from '../../api/redux/actions';\nimport './css/Login.less';\n\n// destructure antd\nconst { Content, Footer } = Layout;\n\nclass ForgotPassword extends Component {\n  componentDidMount() {\n    document.title = 'forgot password';\n  }\n\n  onSubmit = (values, { setSubmitting }) => {\n    setSubmitting(false);\n    this.props.forgotPassword(values);\n  };\n\n  render() {\n    return (\n      <Layout className='login-layout'>\n        <Content className='login-content'>\n          <Card className='login-card'>\n            <Formik\n              initialValues={{ email: '', password: '', confirmPassword: '' }}\n              validationSchema={validationSchema}\n              onSubmit={this.onSubmit}\n            >\n              {({ isSubmitting }) => (\n                <Form className='login-form'>\n                  <h1 className='login-title'>\n                    {' '}\n                    <span\n                      role='img'\n                      aria-label='jsx-a11y/accessible-emoji'\n                      style={{ paddingRight: '0.5rem' }}\n                    >\n                      {' '}\n                      ✨\n                    </span>\n                    lost password{' '}\n                    <span\n                      role='img'\n                      aria-label='jsx-a11y/accessible-emoji'\n                      style={{ paddingRight: '0.5rem' }}\n                    >\n                      {' '}\n                      ✨\n                    </span>\n                  </h1>\n                  <Field type='email' name='email' placeholder='email' className='login-field' />\n                  <ErrorMessage name='email' component='div' className='login-error' />\n                  <Field\n                    type='password'\n                    name='newPassword'\n                    placeholder='new password'\n                    className='login-field'\n                  />\n                  <ErrorMessage name='newPassword' component='div' className='login-error' />\n                  <Field\n                    type='password'\n                    name='confirmNewPassword'\n                    placeholder='confirm new password'\n                    className='login-field'\n                  />\n                  <ErrorMessage name='confirmNewPassword' component='div' className='login-error' />\n                  <button type='submit' disabled={isSubmitting} className='login-submit'>\n                    reset\n                  </button>\n                  <Link to='/' className='login-signup'>\n                    back to login\n                  </Link>\n                </Form>\n              )}\n            </Formik>\n          </Card>\n        </Content>\n        <Footer />\n      </Layout>\n    );\n  }\n}\n\nconst validationSchema = Yup.object().shape({\n  email: Yup.string().required().email('E-mail is not valid!'),\n  newPassword: Yup.string().required('new password is required'),\n  confirmNewPassword: Yup.string()\n    .required('please confirm new password')\n    .oneOf([Yup.ref('newPassword')], \"Your passwords don't match\"),\n});\n\nconst mapStateToProps = (state) => {\n  return { isSignedIn: state.auth.isSignedIn };\n};\n\nexport default connect(mapStateToProps, { forgotPassword })(ForgotPassword);\n","import React from 'react';\nimport { Layout } from 'antd';\nimport { Spin } from 'antd';\n\nconst Spinner = (props) => {\n\tconst spinnerAlignment = () => {\n\t\tif (props.alignment === 'top') {\n\t\t\treturn 'start';\n\t\t} else {\n\t\t\treturn 'center';\n\t\t}\n\t};\n\n\treturn (\n\t\t<Layout>\n\t\t\t<Spin\n\t\t\t\tstyle={{\n\t\t\t\t\theight: '100vh',\n\t\t\t\t\tdisplay: 'flex',\n\t\t\t\t\tjustifyContent: 'center',\n\t\t\t\t\talignItems: spinnerAlignment(),\n\t\t\t\t}}\n\t\t\t\tclassName='loading-spinner'\n\t\t\t\tsize='large'\n\t\t\t></Spin>\n\t\t</Layout>\n\t);\n};\n\nexport default Spinner;\n","import React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport { Menu, Avatar, Modal, Drawer, Icon } from 'antd';\nimport {\n\tsignOut,\n\thideComponent,\n\tgenerateInstanceExport,\n\tclearActiveNode,\n} from '../../api/redux/actions';\n// images\nimport defaultAvatar from '../../resources/synthona-logo.png';\n// custom code\nimport './css/MainSider.less';\nimport Spinner from './Spinner';\n// destructure antd components\nconst { Item } = Menu;\n\nclass MainSider extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\tshowSignoutModal: null,\n\t\t\tvisible: false,\n\t\t};\n\t}\n\n\tsignOutHandler = () => {\n\t\tthis.props.signOut();\n\t};\n\n\t// show modal to confirm deletion\n\ttoggleSignoutModal = () => {\n\t\tif (this.state.showSignoutModal) {\n\t\t\tthis.setState({ showSignoutModal: false });\n\t\t\t// temporary fix to remove overflow property being set on body by antd\n\t\t\tdocument.body.style.removeProperty('overflow');\n\t\t} else {\n\t\t\tthis.setState({ showSignoutModal: true });\n\t\t}\n\t};\n\n\trenderDrawerClasses = () => {\n\t\tif (this.props.animate === false) {\n\t\t\treturn 'page-sider no-animation';\n\t\t} else {\n\t\t\treturn 'page-sider';\n\t\t}\n\t};\n\n\trender() {\n\t\tif (this.props.mainSider === null) {\n\t\t\treturn <Spinner></Spinner>;\n\t\t}\n\n\t\treturn (\n\t\t\t<div className='sider-container'>\n\t\t\t\t<Drawer\n\t\t\t\t\tclassName={this.renderDrawerClasses()}\n\t\t\t\t\twidth='200px'\n\t\t\t\t\tmask={this.props.showMask}\n\t\t\t\t\tplacement='left'\n\t\t\t\t\tclosable={false}\n\t\t\t\t\tonClose={(e) => this.props.hideComponent('mainSider')}\n\t\t\t\t\tvisible={this.props.mainSider ? this.props.mainSider.visible : false}\n\t\t\t\t>\n\t\t\t\t\t<Menu mode='vertical' defaultSelectedKeys={['1']} className='sider-menu'>\n\t\t\t\t\t\t<Item>\n\t\t\t\t\t\t\t<Link\n\t\t\t\t\t\t\t\tto={`/profile/${this.props.user.username}`}\n\t\t\t\t\t\t\t\tonClick={(e) => this.props.hideComponent('mainSider')}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<Avatar\n\t\t\t\t\t\t\t\t\tclassName='nav-avatar'\n\t\t\t\t\t\t\t\t\tsrc={this.props.user.avatar || defaultAvatar}\n\t\t\t\t\t\t\t\t\ticon='user'\n\t\t\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\t\t\tdisplay: 'inline-block',\n\t\t\t\t\t\t\t\t\t\tverticalAlign: 'middle',\n\t\t\t\t\t\t\t\t\t\tmarginTop: '0.8rem',\n\t\t\t\t\t\t\t\t\t\twidth: '2.5rem',\n\t\t\t\t\t\t\t\t\t\theight: '2.5rem',\n\t\t\t\t\t\t\t\t\t\t// border: '0.1rem solid #272727',\n\t\t\t\t\t\t\t\t\t\tobjectFit: 'contain',\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t</Item>\n\t\t\t\t\t\t<Item className='sider-menu-item sider-title'>\n\t\t\t\t\t\t\t<Link\n\t\t\t\t\t\t\t\tto={`/profile/${this.props.user.username}`}\n\t\t\t\t\t\t\t\tonClick={(e) => this.props.hideComponent('mainSider')}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{/*  <b>@{this.props.user.username}</b>*/}\n\t\t\t\t\t\t\t\t<Icon type={'sketch'} theme='outlined' style={{ margin: '0' }} /> <b>Profile</b>\n\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t</Item>\n\t\t\t\t\t\t<Item className='sider-menu-item'>\n\t\t\t\t\t\t\t<Link to={`/`} onClick={(e) => this.props.hideComponent('mainSider')}>\n\t\t\t\t\t\t\t\tExplore\n\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t</Item>\n\t\t\t\t\t\t<Item className='sider-menu-item'>\n\t\t\t\t\t\t\t<Link to={`/pins`} onClick={(e) => this.props.hideComponent('mainSider')}>\n\t\t\t\t\t\t\t\tFavorites\n\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t</Item>\n\t\t\t\t\t\t<Item className='sider-menu-item'>\n\t\t\t\t\t\t\t<Link\n\t\t\t\t\t\t\t\tto={`/graph`}\n\t\t\t\t\t\t\t\tonClick={(e) => {\n\t\t\t\t\t\t\t\t\tthis.props.clearActiveNode();\n\t\t\t\t\t\t\t\t\tthis.props.hideComponent('mainSider');\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\tConstellation\n\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t</Item>\n\t\t\t\t\t\t<Item className='sider-menu-item'>\n\t\t\t\t\t\t\t<Link to={`/random`} onClick={(e) => this.props.hideComponent('mainSider')}>\n\t\t\t\t\t\t\t\tRandom\n\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t</Item>\n\t\t\t\t\t\t{/*<Item className='sider-menu-item'>\n              <Link to='/' onClick={(e) => this.props.hideComponent('mainSider')}>\n                Nodes\n              </Link>\n            </Item>\n            <Item className='sider-menu-item'>\n              <Link to='/' onClick={(e) => this.props.hideComponent('mainSider')}>\n                Map\n              </Link>\n            </Item>\n            <Item className='sider-menu-item'>\n              <Link to='/' onClick={(e) => this.props.hideComponent('mainSider')}>\n                Chat\n              </Link>\n                </Item>  */}\n\t\t\t\t\t\t<Item className='sider-menu-item'>\n\t\t\t\t\t\t\t<Link to={`/edit/profile/`} onClick={(e) => this.props.hideComponent('mainSider')}>\n\t\t\t\t\t\t\t\tOptions\n\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t</Item>\n\t\t\t\t\t\t<Item className='sider-menu-item'>\n\t\t\t\t\t\t\t<Link\n\t\t\t\t\t\t\t\tto='/help'\n\t\t\t\t\t\t\t\tonClick={(e) => {\n\t\t\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t\t\t\twindow.open(\n\t\t\t\t\t\t\t\t\t\t'https://github.com/synthona/synthona-help/blob/main/README.md',\n\t\t\t\t\t\t\t\t\t\t'_blank'\n\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\tthis.props.hideComponent('mainSider');\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\tHelp\n\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t</Item>\n\t\t\t\t\t\t<Item className='sider-menu-item'>\n\t\t\t\t\t\t\t<Link to='#' onClick={this.toggleSignoutModal}>\n\t\t\t\t\t\t\t\tSign Out\n\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t</Item>\n\t\t\t\t\t</Menu>\n\t\t\t\t</Drawer>\n\t\t\t\t{/* </Sider> */}\n\t\t\t\t<Modal\n\t\t\t\t\ttitle={this.props.user.displayName}\n\t\t\t\t\tvisible={this.state.showSignoutModal}\n\t\t\t\t\tclassName='signout-modal'\n\t\t\t\t\tcentered\n\t\t\t\t\tonOk={this.signOutHandler}\n\t\t\t\t\tokType='primary'\n\t\t\t\t\tokText='Sign Out'\n\t\t\t\t\tclosable={false}\n\t\t\t\t\tonCancel={this.toggleSignoutModal}\n\t\t\t\t>\n\t\t\t\t\t<p>Are you sure you want to sign out?</p>\n\t\t\t\t</Modal>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nconst mapStateToProps = (state) => {\n\treturn { user: state.auth.user, mainSider: state.components.componentList['mainSider'] };\n};\n\nexport default connect(mapStateToProps, {\n\tsignOut,\n\thideComponent,\n\tgenerateInstanceExport,\n\tclearActiveNode,\n})(MainSider);\n","export const validUrl = (value) => {\n\ttry {\n\t\tnew URL(value);\n\t} catch (_) {\n\t\treturn false;\n\t}\n\treturn true;\n};\n\nexport const isImageUrl = (url) => {\n\treturn url.match(/\\..+(jpeg|jpg|gif|png|webp)/) != null || url.includes('http://localhost');\n};\n","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport history from '../../utils/history';\nimport { isElectron } from '../../utils/environment';\nimport { Link } from 'react-router-dom';\nimport { Layout, Button, Input, Select, Icon, message, Tooltip } from 'antd';\n// custom code\nimport { validUrl, isImageUrl } from '../../utils/validation';\nimport './css/IOBar.less';\nimport {\n\tsignOut,\n\tlinkFileNodes,\n\tcreateUrlNode,\n\tcreateNode,\n\tsearchNodes,\n\tshowComponent,\n\thideComponent,\n\tgetRandomNode,\n\tclearActiveNode,\n} from '../../api/redux/actions';\n// destructure antd components\nconst { Header } = Layout;\nconst { Option } = Select;\n\nclass IOBar extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\tinput: this.props.query.searchQuery || '',\n\t\t\tnodeTypes: this.props.query.type || 'all',\n\t\t\tsortType: this.props.query.sortType,\n\t\t\tsortOrder: this.props.query.sortOrder,\n\t\t\tcreateType: null,\n\t\t\tqueryType: null,\n\t\t\tinputMode: 'query',\n\t\t\tmodeIcon: 'search',\n\t\t\tplaceholder: 'query',\n\t\t};\n\t}\n\t// show modal to confirm deletion\n\ttoggleInputMode = () => {\n\t\tif (this.state.inputMode === 'query') {\n\t\t\tthis.setState({\n\t\t\t\tinputMode: 'create',\n\t\t\t\tmodeIcon: 'plus',\n\t\t\t\tplaceholder: 'create',\n\t\t\t\tnodeTypes: 'text',\n\t\t\t});\n\t\t} else {\n\t\t\tthis.setState({\n\t\t\t\tinputMode: 'query',\n\t\t\t\tmodeIcon: 'search',\n\t\t\t\tplaceholder: 'query',\n\t\t\t\tnodeTypes: 'all',\n\t\t\t});\n\t\t}\n\t};\n\n\ttoggleMainSider = async () => {\n\t\tif (this.props.mainSider) {\n\t\t\tthis.props.hideComponent('mainSider');\n\t\t} else {\n\t\t\tthis.props.showComponent('mainSider');\n\t\t}\n\t};\n\n\ttoggleSortOrder = () => {\n\t\tif (this.state.sortOrder === 'ASC') {\n\t\t\tthis.setState({ sortOrder: 'DESC' });\n\t\t\tlocalStorage.setItem('sortOrder', 'DESC');\n\t\t} else {\n\t\t\tthis.setState({ sortOrder: 'ASC' });\n\t\t\tlocalStorage.setItem('sortOrder', 'ASC');\n\t\t}\n\t};\n\n\trenderCreateFileNodeOption = () => {\n\t\tif (isElectron() === true) {\n\t\t\treturn <Option value='file'>files</Option>;\n\t\t}\n\t};\n\n\t// handle text input\n\tcommandHandler = (e) => {\n\t\te.target.blur();\n\t\tswitch (this.state.inputMode) {\n\t\t\tcase 'query':\n\t\t\t\treturn this.props.searchNodes({\n\t\t\t\t\tsearchQuery: this.state.input || '',\n\t\t\t\t\ttype: this.state.nodeTypes,\n\t\t\t\t\tsortType: this.state.sortType,\n\t\t\t\t\tsortOrder: this.state.sortOrder,\n\t\t\t\t});\n\t\t\tcase 'create':\n\t\t\t\treturn this.createNodeHandler();\n\t\t\tdefault:\n\t\t\t\treturn;\n\t\t}\n\t};\n\t// handle the creation of different node types\n\tcreateNodeHandler = () => {\n\t\tvar linkedNode;\n\t\tif (this.props.activeNode) {\n\t\t\tlinkedNode = JSON.stringify(this.props.activeNode);\n\t\t}\n\t\tswitch (this.state.nodeTypes) {\n\t\t\tcase 'text':\n\t\t\t\tthis.props.createNode({\n\t\t\t\t\tisFile: false,\n\t\t\t\t\ttype: 'text',\n\t\t\t\t\tname: this.state.input,\n\t\t\t\t\tpreview: '',\n\t\t\t\t\tlinkedNode,\n\t\t\t\t});\n\t\t\t\t// clear the input bar\n\t\t\t\tthis.setState({ input: '' });\n\t\t\t\t// redirect\n\t\t\t\thistory.push('/');\n\t\t\t\tbreak;\n\t\t\tcase 'file':\n\t\t\t\tif (isElectron()) {\n\t\t\t\t\tthis.selectElectronFile();\n\t\t\t\t} else {\n\t\t\t\t\tthis.selectLocalFile(linkedNode);\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase 'folder':\n\t\t\t\tif (isElectron()) {\n\t\t\t\t\tthis.selectElectronFolder();\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase 'url':\n\t\t\t\t// if the URL is an image add an image node\n\t\t\t\tif (isImageUrl(this.state.input)) {\n\t\t\t\t\tthis.props.createNode({\n\t\t\t\t\t\tisFile: false,\n\t\t\t\t\t\ttype: 'image',\n\t\t\t\t\t\tname: this.state.input,\n\t\t\t\t\t\tpreview: this.state.input,\n\t\t\t\t\t\tcontent: this.state.input,\n\t\t\t\t\t\tlinkedNode,\n\t\t\t\t\t});\n\t\t\t\t\tthis.setState({ input: '' });\n\t\t\t\t\t// otherwise add a regular URL\n\t\t\t\t} else if (validUrl(this.state.input)) {\n\t\t\t\t\tthis.props.createUrlNode({\n\t\t\t\t\t\tisFile: false,\n\t\t\t\t\t\ttype: 'url',\n\t\t\t\t\t\tname: this.state.input,\n\t\t\t\t\t\tpreview: this.state.input,\n\t\t\t\t\t\tpath: this.state.input,\n\t\t\t\t\t\tcontent: this.state.input,\n\t\t\t\t\t\tlinkedNode,\n\t\t\t\t\t});\n\t\t\t\t\t// clear the input bar\n\t\t\t\t\tthis.setState({ input: '' });\n\t\t\t\t} else {\n\t\t\t\t\tmessage.error('You must enter a valid URL', 1);\n\t\t\t\t}\n\t\t\t\t// redirect\n\t\t\t\thistory.push('/');\n\t\t\t\tbreak;\n\t\t\tcase 'collection':\n\t\t\t\tthis.props.createNode({\n\t\t\t\t\tisFile: false,\n\t\t\t\t\ttype: 'collection',\n\t\t\t\t\tname: this.state.input,\n\t\t\t\t\tpreview: '',\n\t\t\t\t\tcontent: this.state.input,\n\t\t\t\t\tlinkedNode,\n\t\t\t\t});\n\t\t\t\t// clear the input bar\n\t\t\t\tthis.setState({ input: '' });\n\t\t\t\t// redirect\n\t\t\t\thistory.push('/');\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\treturn;\n\t\t}\n\t};\n\n\tselectElectronFile = () => {\n\t\tif (window.api) {\n\t\t\twindow.api.send('toMain', { action: 'show-file-picker' });\n\t\t}\n\t};\n\n\tselectElectronFolder = () => {\n\t\tif (window.api) {\n\t\t\twindow.api.send('toMain', { action: 'show-folder-picker' });\n\t\t}\n\t};\n\n\t// select an image.\n\tselectLocalFile = (linkedNode) => {\n\t\tconst input = document.createElement('input');\n\t\tinput.setAttribute('type', 'file');\n\t\tinput.setAttribute('multiple', true);\n\t\tinput.click();\n\t\t// Listen for uploading local file, then save to server\n\t\tinput.onchange = async () => {\n\t\t\tlet fileList = [];\n\t\t\tfor (let file of input.files) {\n\t\t\t\tfileList.push({ name: file.name, path: file.path });\n\t\t\t}\n\t\t\tawait this.props.linkFileNodes(fileList, linkedNode);\n\t\t\t// clear the input bar\n\t\t\tthis.setState({ input: '' });\n\t\t\thistory.push('/');\n\t\t};\n\t};\n\n\trenderCreateFolderOption = () => {\n\t\tif (isElectron() === true) {\n\t\t\treturn <Option value='folder'>folders</Option>;\n\t\t}\n\t};\n\n\t// include an \"all\" option for queries\n\trenderSelectBefore = () => {\n\t\tif (this.state.inputMode === 'query') {\n\t\t\treturn (\n\t\t\t\t<Select\n\t\t\t\t\tshowSearch\n\t\t\t\t\tshowArrow={false}\n\t\t\t\t\tvalue={this.state.nodeTypes}\n\t\t\t\t\tonChange={(value) => {\n\t\t\t\t\t\tthis.setState({ nodeTypes: value });\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t<Option value='all'>all</Option>\n\t\t\t\t\t<Option value='url'>urls</Option>\n\t\t\t\t\t<Option value='file'>file</Option>\n\t\t\t\t\t<Option value='folder'>folder</Option>\n\t\t\t\t\t<Option value='text'>text</Option>\n\t\t\t\t\t<Option value='image'>images</Option>\n\t\t\t\t\t<Option value='package'>packages</Option>\n\t\t\t\t\t<Option value='collection'>collections</Option>\n\t\t\t\t</Select>\n\t\t\t);\n\t\t} else {\n\t\t\t// exclude \"all\" option for creating nodes\n\t\t\treturn (\n\t\t\t\t<Select\n\t\t\t\t\tshowSearch\n\t\t\t\t\tshowArrow={false}\n\t\t\t\t\tvalue={this.state.nodeTypes}\n\t\t\t\t\tonChange={(value) => {\n\t\t\t\t\t\tthis.setState({ nodeTypes: value });\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t<Option value='text'>text</Option>\n\t\t\t\t\t<Option value='url'>url</Option>\n\t\t\t\t\t{this.renderCreateFileNodeOption()}\n\t\t\t\t\t{this.renderCreateFolderOption()}\n\t\t\t\t\t<Option value='collection'>collection</Option>\n\t\t\t\t</Select>\n\t\t\t);\n\t\t}\n\t};\n\n\t// we're going to render the far-right side of the input bar\n\t// which includes all the sort selection variables and buttons\n\trenderSelectAfter = () => {\n\t\treturn (\n\t\t\t<div className='io-input-sort'>\n\t\t\t\t<Input.Group>\n\t\t\t\t\t<Select\n\t\t\t\t\t\tshowSearch\n\t\t\t\t\t\tshowArrow={false}\n\t\t\t\t\t\tvalue={this.state.sortType}\n\t\t\t\t\t\tonChange={(value) => {\n\t\t\t\t\t\t\tthis.setState({ sortType: value });\n\t\t\t\t\t\t\tlocalStorage.setItem('sortType', value);\n\t\t\t\t\t\t}}\n\t\t\t\t\t>\n\t\t\t\t\t\t<Option value='recent'>\n\t\t\t\t\t\t\t<Icon type={'bulb'} theme='outlined' /> recent\n\t\t\t\t\t\t</Option>\n\t\t\t\t\t\t<Option value='views'>\n\t\t\t\t\t\t\t<Icon type={'thunderbolt'} theme='outlined' /> top\n\t\t\t\t\t\t</Option>\n\t\t\t\t\t\t<Option value='created'>\n\t\t\t\t\t\t\t<Icon type={'clock-circle'} theme='outlined' /> created\n\t\t\t\t\t\t</Option>\n\t\t\t\t\t</Select>\n\t\t\t\t\t<Tooltip title={this.state.sortOrder === 'DESC' ? 'a-z' : 'z-a'} mouseEnterDelay={1.1}>\n\t\t\t\t\t\t<Button className='io-input-button' onClick={() => this.toggleSortOrder()}>\n\t\t\t\t\t\t\t<Icon\n\t\t\t\t\t\t\t\ttype={this.state.sortOrder === 'DESC' ? 'arrow-up' : 'arrow-down'}\n\t\t\t\t\t\t\t\ttheme='outlined'\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t</Tooltip>\n\t\t\t\t</Input.Group>\n\t\t\t</div>\n\t\t);\n\t};\n\n\trender() {\n\t\treturn (\n\t\t\t<div>\n\t\t\t\t<Header className='page-header' style={this.props.fixed ? { position: 'fixed' } : null}>\n\t\t\t\t\t<ul className='nav-list'>\n\t\t\t\t\t\t<li className='nav-item io-sider-button mobile-visible' style={{ marginRight: '0' }}>\n\t\t\t\t\t\t\t<Button type='default' shape='circle' onClick={(e) => this.toggleMainSider()}>\n\t\t\t\t\t\t\t\t<Icon type={'bars'} theme='outlined' />\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t</li>\n\t\t\t\t\t\t<li className='nav-item io-sider-button' style={{ marginRight: '0.3rem' }}>\n\t\t\t\t\t\t\t<Tooltip title={'home'} mouseEnterDelay={1.1}>\n\t\t\t\t\t\t\t\t<Link type='default' to={`/`}>\n\t\t\t\t\t\t\t\t\t<Icon\n\t\t\t\t\t\t\t\t\t\ttype={'home'}\n\t\t\t\t\t\t\t\t\t\ttheme='filled'\n\t\t\t\t\t\t\t\t\t\t// style={{ color: '#3ce458' }}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t\t</Tooltip>\n\t\t\t\t\t\t</li>\n\t\t\t\t\t\t<li className='nav-item io-sider-button' style={{ marginRight: '-0.1rem' }}>\n\t\t\t\t\t\t\t<Tooltip title={'graph'} mouseEnterDelay={1.1}>\n\t\t\t\t\t\t\t\t<Link\n\t\t\t\t\t\t\t\t\ttype='default'\n\t\t\t\t\t\t\t\t\tto={`#`}\n\t\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\t\tthis.props.clearActiveNode();\n\t\t\t\t\t\t\t\t\t\twindow.location = '/graph';\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<Icon\n\t\t\t\t\t\t\t\t\t\ttype={'deployment-unit'}\n\t\t\t\t\t\t\t\t\t\ttheme='outlined'\n\t\t\t\t\t\t\t\t\t\t// style={{ color: '#ec486c' }}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t\t</Tooltip>\n\t\t\t\t\t\t</li>\n\t\t\t\t\t\t<li\n\t\t\t\t\t\t\tclassName='nav-item io-sider-button mobile-hidden'\n\t\t\t\t\t\t\tstyle={{ padding: '0', marginRight: '-0.1rem' }}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<Tooltip title={'random'} mouseEnterDelay={1.1}>\n\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\ttype='default'\n\t\t\t\t\t\t\t\t\tshape='circle'\n\t\t\t\t\t\t\t\t\tonClick={(e) => (window.location.href = '/random')}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<Icon\n\t\t\t\t\t\t\t\t\t\ttype={'thunderbolt'}\n\t\t\t\t\t\t\t\t\t\ttheme='filled'\n\t\t\t\t\t\t\t\t\t\t// style={{ color: 'yellow' }}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t</Tooltip>\n\t\t\t\t\t\t</li>\n\t\t\t\t\t\t<li className='nav-item io-sider-button' style={{ marginRight: '0.1rem' }}>\n\t\t\t\t\t\t\t<Tooltip title={'favorites'} mouseEnterDelay={1.1}>\n\t\t\t\t\t\t\t\t<Link type='default' to={`/pins`} style={{ marginRight: '0.3rem' }}>\n\t\t\t\t\t\t\t\t\t<Icon\n\t\t\t\t\t\t\t\t\t\ttype={'star'}\n\t\t\t\t\t\t\t\t\t\ttheme='filled'\n\t\t\t\t\t\t\t\t\t\t// style={{ color: 'yellow' }}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t\t</Tooltip>\n\t\t\t\t\t\t</li>\n\t\t\t\t\t\t<li className='nav-item create-node-button'>\n\t\t\t\t\t\t\t<Button type='default' shape='circle' onClick={(e) => this.toggleInputMode()}>\n\t\t\t\t\t\t\t\t<Icon type={this.state.modeIcon} theme='outlined' />\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t</li>\n\t\t\t\t\t\t<li className='nav-search'>\n\t\t\t\t\t\t\t<Input\n\t\t\t\t\t\t\t\tonPressEnter={(value, event) => this.commandHandler(value)}\n\t\t\t\t\t\t\t\tmaxLength={500}\n\t\t\t\t\t\t\t\tvalue={this.state.input}\n\t\t\t\t\t\t\t\tonChange={(e) => this.setState({ input: e.target.value })}\n\t\t\t\t\t\t\t\tdefaultValue={this.props.query.searchQuery || ''}\n\t\t\t\t\t\t\t\tplaceholder={this.state.placeholder}\n\t\t\t\t\t\t\t\taddonBefore={this.renderSelectBefore()}\n\t\t\t\t\t\t\t\taddonAfter={this.renderSelectAfter()}\n\t\t\t\t\t\t\t\tclassName='nav-search-input'\n\t\t\t\t\t\t\t\tid='nav-primary-search'\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</li>\n\t\t\t\t\t</ul>\n\t\t\t\t</Header>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nconst mapStateToProps = (state) => {\n\treturn {\n\t\tuser: state.auth.user,\n\t\tquery: state.nodes.query,\n\t\tmainSider: state.components.componentList['mainSider'],\n\t\tactiveNode: state.nodes.activeNode,\n\t};\n};\n\nexport default connect(mapStateToProps, {\n\tsignOut,\n\tsearchNodes,\n\tcreateNode,\n\tlinkFileNodes,\n\tcreateUrlNode,\n\tshowComponent,\n\thideComponent,\n\tgetRandomNode,\n\tclearActiveNode,\n})(IOBar);\n","import React, { Component, Fragment } from 'react';\nimport { connect } from 'react-redux';\nimport { Icon, Modal, Tooltip, message } from 'antd';\nimport { validUrl, isImageUrl } from '../../../utils/validation';\nimport { isElectron } from '../../../utils/environment';\nimport {\n\tshowComponent,\n\tunpackImport,\n\tupdateActiveNode,\n\tclearNodePreview,\n\topenFileInExplorer,\n\tdeleteNode,\n\tclearActiveNode,\n\tgenerateExportByUUID,\n\tremoveImportsByPackage,\n} from '../../../api/redux/actions';\n\nclass NodeCardHeaderFull extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\tname: this.props.nodeData.name,\n\t\t\tpreview: this.props.nodeData.preview,\n\t\t\tpinned: this.props.nodeData.pinned,\n\t\t\tpinnedState: 'outlined',\n\t\t\teditable: false,\n\t\t\tshowDeleteModal: null,\n\t\t\tshowExportModal: null,\n\t\t\tshowUrlPreviewImageModal: false,\n\t\t};\n\t}\n\n\tcomponentDidMount() {\n\t\t// set initial pinned state\n\t\tif (this.props.nodeData.pinned) {\n\t\t\tthis.setState({ pinnedState: 'filled' });\n\t\t} else {\n\t\t\tthis.setState({ pinnedState: 'outlined' });\n\t\t}\n\t}\n\n\t// update and save the document name\n\tsaveName = (name) => {\n\t\tif (this.state.name !== name) {\n\t\t\tthis.props.updateActiveNode({ uuid: this.props.nodeData.uuid, name });\n\t\t}\n\t\tthis.setState({ name: name });\n\t};\n\n\t// show modal to confirm deletion\n\ttoggleDeleteModal = () => {\n\t\tif (this.state.showDeleteModal) {\n\t\t\tthis.setState({ showDeleteModal: false });\n\t\t} else {\n\t\t\tthis.setState({ showDeleteModal: true });\n\t\t}\n\t};\n\n\t// delete the node\n\tdeleteHandler = async () => {\n\t\tthis.setState({ showDeleteModal: false });\n\t\tthis.setState({ deleting: true });\n\t\tawait this.props.deleteNode(this.props.nodeData.uuid);\n\t\tthis.props.clearActiveNode();\n\t};\n\n\t// show confirm export modal\n\ttoggleExportModal = () => {\n\t\tif (this.state.showExportModal) {\n\t\t\tthis.setState({ showExportModal: false });\n\t\t} else {\n\t\t\tthis.setState({ showExportModal: true });\n\t\t}\n\t};\n\n\t// delete the node\n\texportHandler = async () => {\n\t\tthis.setState({ showExportModal: false });\n\t\tawait this.props.generateExportByUUID(this.props.nodeData.uuid);\n\t};\n\n\t// select an image.\n\tsetUrlPreviewImage = (preview) => {\n\t\t// update the URL\n\t\tif (isImageUrl(preview) && validUrl(preview)) {\n\t\t\tmessage.success('updated the preview image');\n\t\t\tthis.props.updateActiveNode({ uuid: this.props.nodeData.uuid, preview: preview });\n\t\t} else if (preview === '') {\n\t\t\tmessage.success('removed the preview image');\n\t\t\tthis.props.updateActiveNode({ uuid: this.props.nodeData.uuid, preview: '' });\n\t\t} else {\n\t\t\tmessage.error('there was a problem setting the preview image', 1);\n\t\t}\n\t};\n\n\ttogglePinned = () => {\n\t\tif (this.state.pinned === true) {\n\t\t\tthis.setState({ pinned: false, pinnedState: 'outlined' });\n\t\t\tthis.props.updateActiveNode({ uuid: this.props.nodeData.uuid, pinned: false });\n\t\t} else {\n\t\t\tthis.setState({ pinned: true, pinnedState: 'filled' });\n\t\t\tthis.props.updateActiveNode({ uuid: this.props.nodeData.uuid, pinned: true });\n\t\t}\n\t};\n\n\t// select an image.\n\tsetPreviewToLocalFilePath = () => {\n\t\tif (this.props.nodeData.preview === null) {\n\t\t\tconst input = document.createElement('input');\n\t\t\tinput.setAttribute('type', 'file');\n\t\t\tinput.setAttribute('accept', [\n\t\t\t\t'image/gif',\n\t\t\t\t'image/jpg',\n\t\t\t\t'image/jpeg',\n\t\t\t\t'image/png',\n\t\t\t\t'image/webp',\n\t\t\t]);\n\t\t\tinput.click();\n\t\t\t// Listen for uploading local file, then save to server\n\t\t\tinput.onchange = async () => {\n\t\t\t\tconst file = input.files[0];\n\t\t\t\tthis.props.updateActiveNode({ uuid: this.props.nodeData.uuid, preview: file.path });\n\t\t\t};\n\t\t} else {\n\t\t\tthis.props.clearNodePreview(this.props.nodeData);\n\t\t}\n\t};\n\n\t// render the title\n\trenderTitle = () => {\n\t\tif (!this.state.editable) {\n\t\t\t// if it is not editable render the plain title\n\t\t\treturn (\n\t\t\t\t<h3\n\t\t\t\t\tclassName='full-card-title'\n\t\t\t\t\tstyle={{\n\t\t\t\t\t\tcolor: this.props.theme.cardTitleColor,\n\t\t\t\t\t}}\n\t\t\t\t\tonDoubleClick={(e) => {\n\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\tthis.setState({ editable: true });\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t{this.state.name}\n\t\t\t\t</h3>\n\t\t\t);\n\t\t} else {\n\t\t\t// when title is double clicked render the input field\n\t\t\treturn (\n\t\t\t\t<input\n\t\t\t\t\ttype='text'\n\t\t\t\t\tclassName='full-card-title'\n\t\t\t\t\tstyle={{\n\t\t\t\t\t\tbackgroundColor: 'transparent',\n\t\t\t\t\t}}\n\t\t\t\t\tonBlur={() => this.setState({ editable: null })}\n\t\t\t\t\tmaxLength='250'\n\t\t\t\t\tautoFocus\n\t\t\t\t\tplaceholder='name'\n\t\t\t\t\tvalue={this.state.name}\n\t\t\t\t\tonKeyPress={(e) => {\n\t\t\t\t\t\t// remove input on enter\n\t\t\t\t\t\tif (e.key === 'Enter') {\n\t\t\t\t\t\t\tthis.setState({ editable: null });\n\t\t\t\t\t\t}\n\t\t\t\t\t}}\n\t\t\t\t\tonChange={(e) => {\n\t\t\t\t\t\tthis.saveName(e.target.value);\n\t\t\t\t\t}}\n\t\t\t\t\tonFocus={(e) => {\n\t\t\t\t\t\te.target.select();\n\t\t\t\t\t}}\n\t\t\t\t></input>\n\t\t\t);\n\t\t}\n\t};\n\n\t// render header buttons for node types which need them\n\t// at the moment it's just .synth packages\n\trenderContextualButtons = () => {\n\t\tswitch (this.props.nodeData.type) {\n\t\t\tcase 'package':\n\t\t\t\tlet nodeMetaData = null;\n\t\t\t\t// unfortunately this is necessary due to something that changed on the backend\n\t\t\t\t// but checking only on packages here is better than checking on every request on the server\n\t\t\t\tif (this.props.nodeData.metadata) {\n\t\t\t\t\tlet metadataType = typeof this.props.nodeData.metadata;\n\t\t\t\t\t// parse it into JSON if it's a string\n\t\t\t\t\tif (metadataType === 'string') {\n\t\t\t\t\t\tnodeMetaData = JSON.parse(this.props.nodeData.metadata);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tnodeMetaData = this.props.nodeData.metadata;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t// go ahead and render accordingly\n\t\t\t\tif (nodeMetaData && nodeMetaData.importing) {\n\t\t\t\t\treturn <Fragment></Fragment>;\n\t\t\t\t} else if (nodeMetaData && nodeMetaData.expanded) {\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<Tooltip title={'restore'} mouseEnterDelay={1.1}>\n\t\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\tonClick={(e) => {\n\t\t\t\t\t\t\t\t\t\t// show the modal\n\t\t\t\t\t\t\t\t\t\tthis.props.removeImportsByPackage(this.props.nodeData.uuid);\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<Icon type={'undo'} theme='outlined' className='full-card-button' />\n\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t</Tooltip>\n\t\t\t\t\t);\n\t\t\t\t} else {\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<Tooltip title={'expand'} mouseEnterDelay={1.1}>\n\t\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\tonClick={(e) => {\n\t\t\t\t\t\t\t\t\t\t// show the modal\n\t\t\t\t\t\t\t\t\t\tthis.props.unpackImport(this.props.nodeData.uuid);\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<Icon type={'gift'} theme='filled' className='full-card-button' />\n\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t</Tooltip>\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\tcase 'url':\n\t\t\t\treturn (\n\t\t\t\t\t<Tooltip title={'preview image'} mouseEnterDelay={1.1}>\n\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\tonClick={(e) => {\n\t\t\t\t\t\t\t\t\t// show the modal\n\t\t\t\t\t\t\t\t\tthis.setState({ showUrlPreviewImageModal: true });\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<Icon type={'picture'} theme='outlined' className='full-card-button' />\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t</li>\n\t\t\t\t\t</Tooltip>\n\t\t\t\t);\n\t\t\tcase 'file':\n\t\t\t\tif (isElectron()) {\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<Tooltip title={'replace preview image'} mouseEnterDelay={1.1}>\n\t\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\tonClick={(e) => {\n\t\t\t\t\t\t\t\t\t\t// show the modal\n\t\t\t\t\t\t\t\t\t\tthis.setPreviewToLocalFilePath();\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<Icon type={'picture'} theme='outlined' className='full-card-button' />\n\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t</Tooltip>\n\t\t\t\t\t);\n\t\t\t\t} else {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\tcase 'audio':\n\t\t\t\treturn (\n\t\t\t\t\t<Tooltip title={'replace preview image'} mouseEnterDelay={1.1}>\n\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\tonClick={(e) => {\n\t\t\t\t\t\t\t\t\t// show the modal\n\t\t\t\t\t\t\t\t\tthis.setPreviewToLocalFilePath();\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<Icon type={'picture'} theme='outlined' className='full-card-button' />\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t</li>\n\t\t\t\t\t</Tooltip>\n\t\t\t\t);\n\t\t\tcase 'zip':\n\t\t\t\treturn (\n\t\t\t\t\t<Tooltip title={'replace preview image'} mouseEnterDelay={1.1}>\n\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\tonClick={(e) => {\n\t\t\t\t\t\t\t\t\t// show the modal\n\t\t\t\t\t\t\t\t\tthis.setPreviewToLocalFilePath();\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<Icon type={'picture'} theme='outlined' className='full-card-button' />\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t</li>\n\t\t\t\t\t</Tooltip>\n\t\t\t\t);\n\t\t\tcase 'image':\n\t\t\t\treturn (\n\t\t\t\t\t<Tooltip title={'set as app background'} mouseEnterDelay={1.1}>\n\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\tonClick={(e) => {\n\t\t\t\t\t\t\t\t\t// set the app background to this image\n\t\t\t\t\t\t\t\t\tlocalStorage.setItem('background-image', this.props.nodeData.preview);\n\t\t\t\t\t\t\t\t\twindow.location.reload();\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<Icon type={'layout'} className='full-card-button' />\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t</li>\n\t\t\t\t\t</Tooltip>\n\t\t\t\t);\n\t\t\tdefault:\n\t\t\t\treturn;\n\t\t}\n\t};\n\n\trenderRevealInExplorerButton = () => {\n\t\tif (this.props.nodeData.isFile) {\n\t\t\treturn (\n\t\t\t\t<Tooltip title={'open in file explorer'} mouseEnterDelay={1.1}>\n\t\t\t\t\t<li>\n\t\t\t\t\t\t<button\n\t\t\t\t\t\t\tonClick={(e) => {\n\t\t\t\t\t\t\t\t// show the modal\n\t\t\t\t\t\t\t\tthis.props.openFileInExplorer(this.props.nodeData.uuid);\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<Icon type={'folder-open'} theme='outlined' className='full-card-button' />\n\t\t\t\t\t\t</button>\n\t\t\t\t\t</li>\n\t\t\t\t</Tooltip>\n\t\t\t);\n\t\t}\n\t};\n\n\t// render the export button on non-package nodes\n\trenderExportButton = () => {\n\t\tif (this.props.nodeData.type !== 'package') {\n\t\t\treturn (\n\t\t\t\t<Tooltip title={'generate export'} mouseEnterDelay={1.1}>\n\t\t\t\t\t<li>\n\t\t\t\t\t\t<button\n\t\t\t\t\t\t\tonClick={(e) => {\n\t\t\t\t\t\t\t\tthis.toggleExportModal();\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<Icon type={'gift'} theme='outlined' className='full-card-button' />\n\t\t\t\t\t\t</button>\n\t\t\t\t\t</li>\n\t\t\t\t</Tooltip>\n\t\t\t);\n\t\t}\n\t};\n\n\trender() {\n\t\treturn (\n\t\t\t<div\n\t\t\t\tclassName='full-card-options'\n\t\t\t\tstyle={{\n\t\t\t\t\tbackgroundColor: this.props.theme.cardHeaderColor,\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t{this.renderTitle()}\n\t\t\t\t{/* <p className='full-card-options-date'>{this.props.nodeData.updatedAt}</p> */}\n\t\t\t\t<ul className='full-card-buttons-list'>\n\t\t\t\t\t<Tooltip title={'associations'} mouseEnterDelay={1.1}>\n\t\t\t\t\t\t<li className='mobile-visible'>\n\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\tonClick={(e) => {\n\t\t\t\t\t\t\t\t\t// show the modal\n\t\t\t\t\t\t\t\t\tthis.props.showComponent('associationSider', this.props.nodeData);\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<Icon type={'branches'} theme='outlined' className='full-card-button' />\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t</li>\n\t\t\t\t\t</Tooltip>\n\t\t\t\t\t<Tooltip title={'constellation'} mouseEnterDelay={1.1}>\n\t\t\t\t\t\t<li className='mobile-visible'>\n\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\tonClick={(e) => window.location.replace(`/graph/${this.props.nodeData.uuid}`)}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<Icon type={'deployment-unit'} theme='outlined' className='full-card-button' />\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t</li>\n\t\t\t\t\t</Tooltip>\n\t\t\t\t\t<Tooltip title={'heart'} mouseEnterDelay={1.1}>\n\t\t\t\t\t\t<li className='mobile-visible'>\n\t\t\t\t\t\t\t<button onClick={(e) => this.togglePinned()}>\n\t\t\t\t\t\t\t\t<Icon type={'heart'} theme={this.state.pinnedState} className='full-card-button' />\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t</li>\n\t\t\t\t\t</Tooltip>\n\t\t\t\t\t{this.renderContextualButtons()}\n\t\t\t\t\t{this.renderExportButton()}\n\t\t\t\t\t{this.renderRevealInExplorerButton()}\n\t\t\t\t\t<Tooltip title={'open in browser'} mouseEnterDelay={1.1}>\n\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\tonClick={(e) => window.open(`/associations/${this.props.nodeData.uuid}`, '_blank')}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<Icon type={'global'} theme='outlined' className='full-card-button' />\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t</li>\n\t\t\t\t\t</Tooltip>\n\t\t\t\t\t<Tooltip title={'delete'} mouseEnterDelay={1.1}>\n\t\t\t\t\t\t<li className='mobile-visible'>\n\t\t\t\t\t\t\t<button onClick={(e) => this.toggleDeleteModal()}>\n\t\t\t\t\t\t\t\t<Icon type={'delete'} theme='outlined' className='full-card-button delete' />\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t</li>\n\t\t\t\t\t</Tooltip>\n\t\t\t\t</ul>\n\t\t\t\t<Modal\n\t\t\t\t\ttitle='Confirm Deletion'\n\t\t\t\t\tvisible={this.state.showDeleteModal}\n\t\t\t\t\tclassName='delete-modal'\n\t\t\t\t\tcentered\n\t\t\t\t\tonOk={this.deleteHandler}\n\t\t\t\t\tafterClose={() => document.body.style.removeProperty('overflow')}\n\t\t\t\t\tokType='danger'\n\t\t\t\t\tokText='Delete'\n\t\t\t\t\tclosable={false}\n\t\t\t\t\tonCancel={this.toggleDeleteModal}\n\t\t\t\t>\n\t\t\t\t\t<p>\n\t\t\t\t\t\tAre you sure you want to delete <b>{this.props.nodeData.name || 'untitled'}</b>?\n\t\t\t\t\t</p>\n\t\t\t\t</Modal>\n\t\t\t\t<Modal\n\t\t\t\t\ttitle='Confirm Export'\n\t\t\t\t\tvisible={this.state.showExportModal}\n\t\t\t\t\tclassName='delete-modal'\n\t\t\t\t\tcentered\n\t\t\t\t\tonOk={this.exportHandler}\n\t\t\t\t\tafterClose={() => document.body.style.removeProperty('overflow')}\n\t\t\t\t\tokText='Generate'\n\t\t\t\t\tclosable={false}\n\t\t\t\t\tonCancel={this.toggleExportModal}\n\t\t\t\t>\n\t\t\t\t\t<p>\n\t\t\t\t\t\tGenerate export from <b>{this.props.nodeData.name || 'untitled'}</b>? The export will\n\t\t\t\t\t\tcontain <b>{this.props.nodeData.name || 'untitled'}</b> along with all its associations,\n\t\t\t\t\t\tand appear in the favorites when it is completed.\n\t\t\t\t\t</p>\n\t\t\t\t</Modal>\n\t\t\t\t<Modal\n\t\t\t\t\ttitle='Preview Image'\n\t\t\t\t\tvisible={this.state.showUrlPreviewImageModal}\n\t\t\t\t\tclassName='full-card-modal'\n\t\t\t\t\tcentered\n\t\t\t\t\tonOk={(e) => {\n\t\t\t\t\t\tthis.setState({ showUrlPreviewImageModal: false });\n\t\t\t\t\t\tthis.setUrlPreviewImage(this.state.preview);\n\t\t\t\t\t}}\n\t\t\t\t\tafterClose={() => {\n\t\t\t\t\t\tdocument.body.style.removeProperty('overflow');\n\t\t\t\t\t}}\n\t\t\t\t\tokText='save'\n\t\t\t\t\tclosable={false}\n\t\t\t\t\tonCancel={(e) => {\n\t\t\t\t\t\tthis.setState({\n\t\t\t\t\t\t\tpreview: this.props.nodeData.preview,\n\t\t\t\t\t\t\tshowUrlPreviewImageModal: false,\n\t\t\t\t\t\t});\n\t\t\t\t\t\twindow.getSelection().removeAllRanges();\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t<input\n\t\t\t\t\t\ttype='text'\n\t\t\t\t\t\tclassName='full-card-modal-input'\n\t\t\t\t\t\tautoFocus\n\t\t\t\t\t\tmaxLength='250'\n\t\t\t\t\t\tonFocus={(e) => {\n\t\t\t\t\t\t\te.target.select();\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tplaceholder='image URL'\n\t\t\t\t\t\tvalue={this.state.preview || ''}\n\t\t\t\t\t\tonKeyDown={(e) => {\n\t\t\t\t\t\t\tif (e.key === 'Enter') {\n\t\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t\t\tthis.setState({ showUrlPreviewImageModal: false });\n\t\t\t\t\t\t\t\tthis.setUrlPreviewImage(this.state.preview);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tonChange={(e) => this.setState({ preview: e.target.value })}\n\t\t\t\t\t></input>\n\t\t\t\t</Modal>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nconst mapStateToProps = (state) => {\n\treturn {\n\t\tnodeData: state.nodes.activeNode,\n\t\ttheme: state.components.theme,\n\t};\n};\n\nexport default connect(mapStateToProps, {\n\tshowComponent,\n\tupdateActiveNode,\n\tclearNodePreview,\n\tunpackImport,\n\topenFileInExplorer,\n\tdeleteNode,\n\tclearActiveNode,\n\tgenerateExportByUUID,\n\tremoveImportsByPackage,\n})(NodeCardHeaderFull);\n","import React, { Component } from 'react';\n// import { Link } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport { Icon } from 'antd';\nimport { markNodeView, showComponent, updateNode } from '../../../api/redux/actions';\n\nclass NodeCardHeader extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\tname: this.props.node.name,\n\t\t\teditable: false,\n\t\t};\n\t}\n\n\t// render the title\n\trenderTitle = () => {\n\t\tif (!this.state.editable) {\n\t\t\t// if it is not editable render the plain title\n\t\t\treturn (\n\t\t\t\t<h3\n\t\t\t\t\tclassName='nodelist-item-title'\n\t\t\t\t\ttabIndex={0}\n\t\t\t\t\tonKeyPress={(e) => {\n\t\t\t\t\t\tif (e.key === 'Enter') {\n\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t\tthis.setState({ editable: true });\n\t\t\t\t\t\t}\n\t\t\t\t\t}}\n\t\t\t\t\tstyle={{\n\t\t\t\t\t\tcolor: this.props.theme.cardTitleColor,\n\t\t\t\t\t}}\n\t\t\t\t\tonDoubleClick={(e) => {\n\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\tthis.setState({ editable: true });\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t{this.state.name}\n\t\t\t\t</h3>\n\t\t\t);\n\t\t} else {\n\t\t\t// when title is double clicked render the input field\n\t\t\treturn (\n\t\t\t\t<input\n\t\t\t\t\ttype='text'\n\t\t\t\t\tclassName='nodelist-item-title'\n\t\t\t\t\tstyle={{\n\t\t\t\t\t\tbackgroundColor: 'transparent',\n\t\t\t\t\t}}\n\t\t\t\t\tonBlur={() => this.setState({ editable: null })}\n\t\t\t\t\tmaxLength='250'\n\t\t\t\t\tautoFocus\n\t\t\t\t\tplaceholder='name'\n\t\t\t\t\tvalue={this.state.name}\n\t\t\t\t\tonKeyPress={(e) => {\n\t\t\t\t\t\t// remove input on enter\n\t\t\t\t\t\tif (e.key === 'Enter') {\n\t\t\t\t\t\t\tthis.setState({ editable: null });\n\t\t\t\t\t\t}\n\t\t\t\t\t}}\n\t\t\t\t\tonChange={(e) => {\n\t\t\t\t\t\tthis.saveName(e.target.value);\n\t\t\t\t\t}}\n\t\t\t\t\tonFocus={(e) => {\n\t\t\t\t\t\te.target.select();\n\t\t\t\t\t}}\n\t\t\t\t></input>\n\t\t\t);\n\t\t}\n\t};\n\n\t// the jump to top icon is only available when sorting by most recent\n\trenderLightbulbIcon = () => {\n\t\tlet sortType = localStorage.getItem('sortType');\n\t\tif (sortType === 'recent' || window.location.href.includes('associations')) {\n\t\t\treturn (\n\t\t\t\t<button onClick={(e) => this.props.markNodeView(this.props.node)}>\n\t\t\t\t\t<Icon\n\t\t\t\t\t\ttype={'bulb'}\n\t\t\t\t\t\ttheme='outlined'\n\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\tfontSize: '0.9rem',\n\t\t\t\t\t\t\tdisplay: 'block',\n\t\t\t\t\t\t\ttextAlign: 'center',\n\t\t\t\t\t\t\tpadding: '0',\n\t\t\t\t\t\t\tcolor: this.props.theme.cardButtonColor,\n\t\t\t\t\t\t}}\n\t\t\t\t\t/>\n\t\t\t\t</button>\n\t\t\t);\n\t\t}\n\t};\n\n\t// update and save the document name\n\tsaveName = (name) => {\n\t\tif (this.state.name !== name) {\n\t\t\tthis.props.updateNode({ uuid: this.props.node.uuid, name });\n\t\t\tthis.props.node.name = name;\n\t\t\tthis.setState({ name: name });\n\t\t}\n\t};\n\n\trender() {\n\t\treturn (\n\t\t\t<div\n\t\t\t\tclassName='nodelist-options'\n\t\t\t\tstyle={{\n\t\t\t\t\tbackgroundColor: this.props.theme.cardHeaderColor,\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t{this.renderTitle()}\n\t\t\t\t<div className='nodelist-options-buttons' style={{ marginLeft: 'auto' }}>\n\t\t\t\t\t<button\n\t\t\t\t\t\ttabIndex={0}\n\t\t\t\t\t\tonClick={(e) => window.location.replace('/graph/' + this.props.node.uuid)}\n\t\t\t\t\t>\n\t\t\t\t\t\t<Icon\n\t\t\t\t\t\t\ttype={'deployment-unit'}\n\t\t\t\t\t\t\ttheme='outlined'\n\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\tfontSize: '0.9rem',\n\t\t\t\t\t\t\t\tdisplay: 'block',\n\t\t\t\t\t\t\t\ttextAlign: 'center',\n\t\t\t\t\t\t\t\tpadding: '0',\n\t\t\t\t\t\t\t\tcolor: this.props.theme.cardButtonColor,\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</button>\n\t\t\t\t\t{this.renderLightbulbIcon()}\n\t\t\t\t\t<button\n\t\t\t\t\t\tonClick={(e) => {\n\t\t\t\t\t\t\t// set the active node so the modal has the node data\n\t\t\t\t\t\t\t// show the modal\n\t\t\t\t\t\t\tthis.props.showComponent('associationSider', this.props.node);\n\t\t\t\t\t\t}}\n\t\t\t\t\t>\n\t\t\t\t\t\t<Icon\n\t\t\t\t\t\t\ttype={'branches'}\n\t\t\t\t\t\t\ttheme='outlined'\n\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\tfontSize: '0.9rem',\n\t\t\t\t\t\t\t\tdisplay: 'block',\n\t\t\t\t\t\t\t\ttextAlign: 'center',\n\t\t\t\t\t\t\t\tpadding: '0',\n\t\t\t\t\t\t\t\tcolor: this.props.theme.cardButtonColor,\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</button>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nconst mapStateToProps = (state) => {\n\treturn {\n\t\ttheme: state.components.theme,\n\t};\n};\n\nexport default connect(mapStateToProps, {\n\tmarkNodeView,\n\tshowComponent,\n\tupdateNode,\n})(NodeCardHeader);\n","import React, { Fragment } from \"react\";\nimport { Link } from \"react-router-dom\";\n// for now these are in-common between nodes\nimport NodeCardHeaderFull from \"../../../components/elements/node/NodeCardHeaderFull\";\nimport NodeCardHeader from \"../../../components/elements/node/NodeCardHeader\";\n\nconst Text = (props) => {\n\tconst nodeCard = () => {\n\t\treturn (\n\t\t\t<li className=\"nodelist-item\">\n\t\t\t\t<NodeCardHeader node={props.node} />\n\t\t\t\t<Link\n\t\t\t\t\tto={`/edit/text/${props.node.uuid}`}\n\t\t\t\t\tonClick={(e) => {\n\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\tif (e.shiftKey) {\n\t\t\t\t\t\t\tprops.handleClick();\n\t\t\t\t\t\t\t// prevent the text from being selected\n\t\t\t\t\t\t\twindow.getSelection().removeAllRanges();\n\t\t\t\t\t\t\twindow.location.replace(`/edit/text/${props.node.uuid}`);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t\tprops.handleClick();\n\t\t\t\t\t\t\twindow.location.replace(`/associations/${props.node.uuid}`);\n\t\t\t\t\t\t}\n\t\t\t\t\t}}\n\t\t\t\t\tonKeyDown={(e) => {\n\t\t\t\t\t\tif (e.key === \"Enter\") {\n\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t\tprops.handleClick();\n\t\t\t\t\t\t\twindow.location.replace(`/edit/text/${props.node.uuid}`);\n\t\t\t\t\t\t}\n\t\t\t\t\t}}\n\t\t\t\t\tonContextMenu={(e) => {\n\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\tprops.handleClick();\n\t\t\t\t\t\t// prevent the text from being selected\n\t\t\t\t\t\twindow.getSelection().removeAllRanges();\n\t\t\t\t\t\twindow.location.replace(`/edit/text/${props.node.uuid}`);\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t<p\n\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\tcolor: props.theme.cardTextColor,\n\t\t\t\t\t\t\tbackgroundColor: props.theme.cardBodyColor,\n\t\t\t\t\t\t}}\n\t\t\t\t\t>\n\t\t\t\t\t\t{props.node.preview}\n\t\t\t\t\t</p>\n\t\t\t\t</Link>\n\t\t\t</li>\n\t\t);\n\t};\n\n\t// how the node will appear in collections\n\tconst collectionPreview = () => {\n\t\treturn (\n\t\t\t<Fragment>\n\t\t\t\t<p>{props.node.preview}</p>\n\t\t\t</Fragment>\n\t\t);\n\t};\n\n\tconst fullNode = () => {\n\t\treturn (\n\t\t\t<div className=\"full-node-item\">\n\t\t\t\t<NodeCardHeaderFull />\n\t\t\t\t<Link\n\t\t\t\t\tto={`/edit/text/${props.node.uuid}`}\n\t\t\t\t\tonContextMenu={(e) => {\n\t\t\t\t\t\twindow.getSelection().removeAllRanges();\n\t\t\t\t\t}} /*target='_blank' */\n\t\t\t\t>\n\t\t\t\t\t<p style={{ backgroundColor: props.theme.cardBodyColor }}>{props.node.preview}</p>\n\t\t\t\t</Link>\n\t\t\t</div>\n\t\t);\n\t};\n\n\tconst associationLink = () => {\n\t\treturn (\n\t\t\t<Link\n\t\t\t\tto={`/edit/text/${props.node.uuid}`}\n\t\t\t\tonClick={(e) => props.handleAssociatonClick()}\n\t\t\t\t// target='_blank'\n\t\t\t>\n\t\t\t\t{props.node.name}\n\t\t\t</Link>\n\t\t);\n\t};\n\n\t// render the requested element\n\tconst renderNode = () => {\n\t\tswitch (props.element) {\n\t\t\tcase \"card\":\n\t\t\t\treturn <Fragment>{nodeCard()}</Fragment>;\n\t\t\tcase \"preview\":\n\t\t\t\treturn <Fragment>{collectionPreview()}</Fragment>;\n\t\t\tcase \"full\":\n\t\t\t\treturn <Fragment>{fullNode()}</Fragment>;\n\t\t\tcase \"association-link\":\n\t\t\t\treturn <Fragment>{associationLink()}</Fragment>;\n\t\t\tdefault:\n\t\t\t\treturn;\n\t\t}\n\t};\n\n\treturn <Fragment>{renderNode()}</Fragment>;\n};\n\nexport { Text };\n","import React, { Fragment } from \"react\";\nimport { Link } from \"react-router-dom\";\n// for now these are in-common between nodes\nimport NodeCardHeaderFull from \"../../../components/elements/node/NodeCardHeaderFull\";\nimport missingFileImage from \"../../../resources/missing-file.png\";\nimport { isElectron } from \"../../../utils/environment\";\n\nconst Image = (props) => {\n\tlet fileLoadError = false;\n\n\tconst onFileLoadError = (e) => {\n\t\tif (props.node.isFile) {\n\t\t\te.target.src = missingFileImage;\n\t\t\tfileLoadError = true;\n\t\t}\n\t};\n\n\t// select an image.\n\tconst selectLocalFile = (e) => {\n\t\tconst input = document.createElement(\"input\");\n\t\tinput.setAttribute(\"type\", \"file\");\n\t\tinput.setAttribute(\"accept\", [\"image/gif\", \"image/jpg\", \"image/jpeg\", \"image/png\"]);\n\t\tinput.click();\n\t\t// Listen for uploading local file, then save to server\n\t\tinput.onchange = async () => {\n\t\t\tlet file = input.files[0];\n\t\t\tawait props.updateNode({ uuid: props.node.uuid, path: file.path, preview: file.path });\n\t\t\twindow.location.reload();\n\t\t};\n\t};\n\n\tconst onClickAction = (e) => {\n\t\te.preventDefault();\n\t\tprops.handleClick();\n\t\twindow.location.replace(`/associations/${props.node.uuid}`);\n\t};\n\n\t// const onContextAction = (e) => {\n\t// \tif (!fileLoadError && props.node.isFile) {\n\t// \t\te.preventDefault();\n\t// \t\tprops.handleClick();\n\t// \t\tprops.launchFile(props.node.uuid);\n\t// \t\t// window.location.replace(`/associations/${props.node.uuid}`);\n\t// \t} else if (isElectron() && props.node.isFile) {\n\t// \t\te.preventDefault();\n\t// \t\tselectLocalFile(e);\n\t// \t} else {\n\t// \t\te.preventDefault();\n\t// \t\twindow.location.replace(`/associations/${props.node.uuid}`);\n\t// \t}\n\t// };\n\n\tconst onFullCardAction = (e) => {\n\t\tif (!fileLoadError && props.node.isFile) {\n\t\t\te.preventDefault();\n\t\t\tprops.handleClick();\n\t\t\tprops.launchExplorer(props.node.uuid);\n\t\t} else if (isElectron() && props.node.isFile) {\n\t\t\te.preventDefault();\n\t\t\tselectLocalFile(e);\n\t\t} else {\n\t\t\te.preventDefault();\n\t\t\twindow.location.replace(`/associations/${props.node.uuid}`);\n\t\t}\n\t};\n\n\tconst nodeCard = () => {\n\t\tif (props.node.path === null && props.node.isFile) {\n\t\t\tfileLoadError = true;\n\t\t\tprops.node.preview = missingFileImage;\n\t\t}\n\t\treturn (\n\t\t\t<li className=\"nodelist-item\">\n\t\t\t\t{props.renderHeader()}\n\t\t\t\t<Link\n\t\t\t\t\tid=\"image-node-card-link\"\n\t\t\t\t\tto={`/associations/${props.node.uuid}`}\n\t\t\t\t\tonClick={(e) => {\n\t\t\t\t\t\tonClickAction(e);\n\t\t\t\t\t}}\n\t\t\t\t\t// onContextMenu={(e) => {\n\t\t\t\t\t// \t// onContextAction(e);\n\t\t\t\t\t// }}\n\t\t\t\t>\n\t\t\t\t\t<Fragment>\n\t\t\t\t\t\t<img\n\t\t\t\t\t\t\tsrc={props.node.preview}\n\t\t\t\t\t\t\talt={props.node.name}\n\t\t\t\t\t\t\tonError={(e) => onFileLoadError(e)}\n\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\tobjectFit: \"cover\",\n\t\t\t\t\t\t\t\twidth: \"100%\",\n\t\t\t\t\t\t\t\theight: \"13.2rem\",\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t></img>\n\t\t\t\t\t</Fragment>\n\t\t\t\t</Link>\n\t\t\t</li>\n\t\t);\n\t};\n\n\t// how the node will appear in collections\n\tconst collectionPreview = () => {\n\t\tif (props.node.path === null && props.node.isFile) {\n\t\t\tfileLoadError = true;\n\t\t\tprops.node.preview = missingFileImage;\n\t\t}\n\t\treturn (\n\t\t\t<Fragment>\n\t\t\t\t<img\n\t\t\t\t\tsrc={props.node.preview}\n\t\t\t\t\talt={props.node.name}\n\t\t\t\t\tonError={(e) => onFileLoadError(e)}\n\t\t\t\t\tstyle={{\n\t\t\t\t\t\tobjectFit: \"cover\",\n\t\t\t\t\t\theight: \"13.2rem\",\n\t\t\t\t\t\twidth: \"100%\",\n\t\t\t\t\t}}\n\t\t\t\t></img>\n\t\t\t</Fragment>\n\t\t);\n\t};\n\n\tconst fullNode = () => {\n\t\tif (props.node.path === null && props.node.isFile) {\n\t\t\tfileLoadError = true;\n\t\t\tprops.node.preview = missingFileImage;\n\t\t}\n\t\tlet imageScale = JSON.parse(localStorage.getItem(\"image-sizing\")) || \"classic\";\n\t\tlet imageClass = \"img-\" + imageScale.replace(\" \", \"-\");\n\t\treturn (\n\t\t\t<div className={\"full-node-item \" + imageClass}>\n\t\t\t\t<NodeCardHeaderFull />\n\t\t\t\t<img\n\t\t\t\t\tsrc={props.node.preview}\n\t\t\t\t\talt={props.node.name}\n\t\t\t\t\tonError={(e) => onFileLoadError(e)}\n\t\t\t\t\tstyle={{ cursor: \"pointer\" }}\n\t\t\t\t\tonClick={(e) => {\n\t\t\t\t\t\tonFullCardAction(e);\n\t\t\t\t\t}}\n\t\t\t\t></img>\n\t\t\t</div>\n\t\t);\n\t};\n\n\tconst associationLink = () => {\n\t\treturn (\n\t\t\t<Link\n\t\t\t\tto={`/associations/${props.node.uuid}`}\n\t\t\t\tonClick={(e) => props.handleAssociatonClick()}\n\t\t\t\t// target='_blank'\n\t\t\t>\n\t\t\t\t{props.node.name}\n\t\t\t</Link>\n\t\t);\n\t};\n\n\t// render the requested element\n\tconst renderNode = () => {\n\t\tswitch (props.element) {\n\t\t\tcase \"card\":\n\t\t\t\treturn <Fragment>{nodeCard()}</Fragment>;\n\t\t\tcase \"preview\":\n\t\t\t\treturn <Fragment>{collectionPreview()}</Fragment>;\n\t\t\tcase \"full\":\n\t\t\t\treturn <Fragment>{fullNode()}</Fragment>;\n\t\t\tcase \"association-link\":\n\t\t\t\treturn <Fragment>{associationLink()}</Fragment>;\n\t\t\tdefault:\n\t\t\t\treturn;\n\t\t}\n\t};\n\n\treturn <Fragment>{renderNode()}</Fragment>;\n};\n\nexport { Image };\n","import React, { Fragment } from \"react\";\nimport { Icon } from \"antd\";\nimport { Link } from \"react-router-dom\";\n// for now these are in-common between nodes\nimport NodeCardHeaderFull from \"../../../components/elements/node/NodeCardHeaderFull\";\nimport missingFileImage from \"../../../resources/missing-file.png\";\n\nconst Url = (props) => {\n\tconst urlIcon = \"bulb\";\n\n\tconst renderFullCardPreview = () => {\n\t\t// if the URL is a youtube embed, lets actually load the video here\n\t\tif (props.node.path.includes(\"https://www.youtube.com/embed/\")) {\n\t\t\treturn (\n\t\t\t\t<iframe\n\t\t\t\t\ttitle={props.node.name}\n\t\t\t\t\tsrc={props.node.path}\n\t\t\t\t\tstyle={{ width: \"100%\", height: \"100vh\", border: \"none\" }}\n\t\t\t\t\tallowFullScreen\n\t\t\t\t\tsandbox={\n\t\t\t\t\t\tprops.node.path.includes(\"https://www.youtube.com/embed/\")\n\t\t\t\t\t\t\t? \"allow-scripts allow-same-origin allow-popups\"\n\t\t\t\t\t\t\t: \"\"\n\t\t\t\t\t}\n\t\t\t\t\tid=\"node-card-iframe\"\n\t\t\t\t></iframe>\n\t\t\t);\n\t\t}\n\t\t// for anything else just display a link out to it\n\t\telse {\n\t\t\treturn (\n\t\t\t\t<a\n\t\t\t\t\thref={props.node.path}\n\t\t\t\t\ttarget=\"_blank\"\n\t\t\t\t\trel=\"noopener noreferrer\"\n\t\t\t\t\t// style={{ width: '100%' }}\n\t\t\t\t>\n\t\t\t\t\t{renderPreview()}\n\t\t\t\t</a>\n\t\t\t);\n\t\t}\n\t};\n\n\tconst renderPreview = () => {\n\t\tif (props.node.preview) {\n\t\t\treturn (\n\t\t\t\t<img\n\t\t\t\t\tsrc={props.node.preview}\n\t\t\t\t\talt={props.node.name}\n\t\t\t\t\tstyle={{\n\t\t\t\t\t\tobjectFit: \"cover\",\n\t\t\t\t\t\t// minHeight: '100%',\n\t\t\t\t\t\t// width: '100%',\n\t\t\t\t\t}}\n\t\t\t\t\tonError={(e) => (e.target.src = missingFileImage)}\n\t\t\t\t></img>\n\t\t\t);\n\t\t} else {\n\t\t\treturn (\n\t\t\t\t<Icon\n\t\t\t\t\ttype={urlIcon}\n\t\t\t\t\t// type={'star'}\n\t\t\t\t\ttheme=\"outlined\"\n\t\t\t\t\tstyle={{\n\t\t\t\t\t\tfontSize: \"5rem\",\n\t\t\t\t\t\tcolor: \"#b8b8b8\",\n\t\t\t\t\t\tdisplay: \"block\",\n\t\t\t\t\t\ttextAlign: \"center\",\n\t\t\t\t\t\tpadding: \"4.3rem 3.3rem 3.3rem\",\n\t\t\t\t\t\theight: \"13.2rem\",\n\t\t\t\t\t\tbackgroundColor: props.theme.cardBodyColor,\n\t\t\t\t\t}}\n\t\t\t\t/>\n\t\t\t);\n\t\t}\n\t};\n\n\tconst nodeCard = () => {\n\t\treturn (\n\t\t\t<li className=\"nodelist-item\">\n\t\t\t\t{props.renderHeader()}\n\t\t\t\t<a\n\t\t\t\t\thref={`/associations/${props.node.uuid}`}\n\t\t\t\t\trel=\"noopener noreferrer\"\n\t\t\t\t\tonClick={(e) => {\n\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\tprops.handleClick();\n\t\t\t\t\t\twindow.location.replace(`/associations/${props.node.uuid}`);\n\t\t\t\t\t}}\n\t\t\t\t\tonContextMenu={(e) => {\n\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\twindow.getSelection().removeAllRanges();\n\t\t\t\t\t\t// props.toggleHeader();\n\t\t\t\t\t\twindow.open(props.node.path, \"_blank\");\n\t\t\t\t\t}}\n\t\t\t\t\tstyle={{\n\t\t\t\t\t\twidth: \"100%\",\n\t\t\t\t\t\tbackgroundColor: props.theme.cardBodyColor,\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t{renderPreview()}\n\t\t\t\t</a>\n\t\t\t</li>\n\t\t);\n\t};\n\n\t// how the node will appear in collections\n\tconst collectionPreview = () => {\n\t\tif (props.node.preview) {\n\t\t\treturn (\n\t\t\t\t<Fragment>\n\t\t\t\t\t<img\n\t\t\t\t\t\tsrc={props.node.preview}\n\t\t\t\t\t\talt={props.node.name}\n\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\tobjectFit: \"cover\",\n\t\t\t\t\t\t\twidth: \"100%\",\n\t\t\t\t\t\t}}\n\t\t\t\t\t></img>\n\t\t\t\t</Fragment>\n\t\t\t);\n\t\t} else {\n\t\t\treturn (\n\t\t\t\t<Fragment>\n\t\t\t\t\t<Icon type={urlIcon} theme=\"outlined\" className=\"node-card-icon\" />\n\t\t\t\t</Fragment>\n\t\t\t);\n\t\t}\n\t};\n\n\tconst fullNode = () => {\n\t\tlet imageScale = JSON.parse(localStorage.getItem(\"image-sizing\")) || \"classic\";\n\t\tlet imageClass = \"img-\" + imageScale.replace(\" \", \"-\");\n\t\treturn (\n\t\t\t<div className={\"full-node-item \" + imageClass}>\n\t\t\t\t<NodeCardHeaderFull />\n\t\t\t\t{renderFullCardPreview()}\n\t\t\t\t{/* <p>{props.node.comment}</p> */}\n\t\t\t</div>\n\t\t);\n\t};\n\n\tconst associationLink = () => {\n\t\treturn (\n\t\t\t<Link to={`/associations/${props.node.uuid}`} onClick={(e) => props.handleAssociatonClick()}>\n\t\t\t\t{props.node.name}\n\t\t\t</Link>\n\t\t);\n\t};\n\n\t// render the requested element\n\tconst renderNode = () => {\n\t\tswitch (props.element) {\n\t\t\tcase \"card\":\n\t\t\t\treturn <Fragment>{nodeCard()}</Fragment>;\n\t\t\tcase \"preview\":\n\t\t\t\treturn <Fragment>{collectionPreview()}</Fragment>;\n\t\t\tcase \"full\":\n\t\t\t\treturn <Fragment>{fullNode()}</Fragment>;\n\t\t\tcase \"association-link\":\n\t\t\t\treturn <Fragment>{associationLink()}</Fragment>;\n\t\t\tdefault:\n\t\t\t\treturn;\n\t\t}\n\t};\n\n\treturn <Fragment>{renderNode()}</Fragment>;\n};\n\nexport { Url };\n","import React, { Fragment } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { Icon } from \"antd\";\n// custom code\nimport NodeCardHeaderFull from \"../../../components/elements/node/NodeCardHeaderFull\";\nimport NodeCardHeader from \"../../../components/elements/node/NodeCardHeader\";\nimport missingFileImage from \"../../../resources/missing-file.png\";\nimport { isElectron } from \"../../../utils/environment\";\n\nconst File = (props) => {\n\tlet fileLoadError = false;\n\n\t// select a replacement file\n\tconst selectLocalFile = (e) => {\n\t\tconst input = document.createElement(\"input\");\n\t\tinput.setAttribute(\"type\", \"file\");\n\t\tinput.click();\n\t\t// Listen for uploading local file, then save to server\n\t\tinput.onchange = async () => {\n\t\t\tlet file = input.files[0];\n\t\t\tawait props.updateNode({ uuid: props.node.uuid, path: file.path });\n\t\t\twindow.location.reload();\n\t\t};\n\t};\n\n\tconst onClickAction = (e) => {\n\t\tif (!fileLoadError) {\n\t\t\te.preventDefault();\n\t\t\tprops.handleClick();\n\t\t\twindow.location.replace(`/associations/${props.node.uuid}`);\n\t\t} else if (isElectron()) {\n\t\t\te.preventDefault();\n\t\t\tprops.handleClick();\n\t\t\twindow.location.replace(`/associations/${props.node.uuid}`);\n\t\t} else {\n\t\t\te.preventDefault();\n\t\t\twindow.location.replace(`/associations/${props.node.uuid}`);\n\t\t}\n\t};\n\n\tconst onContextAction = (e) => {\n\t\tif (!fileLoadError) {\n\t\t\te.preventDefault();\n\t\t\tprops.handleClick();\n\t\t\twindow.getSelection().removeAllRanges();\n\t\t\tprops.launchFile(props.node.uuid);\n\t\t} else if (isElectron()) {\n\t\t\te.preventDefault();\n\t\t\twindow.getSelection().removeAllRanges();\n\t\t\tselectLocalFile(e);\n\t\t} else {\n\t\t\te.preventDefault();\n\t\t\twindow.location.replace(`/associations/${props.node.uuid}`);\n\t\t}\n\t};\n\n\tconst onFullCardAction = (e) => {\n\t\tif (!fileLoadError) {\n\t\t\te.preventDefault();\n\t\t\tprops.handleClick();\n\t\t\tprops.launchFile(props.node.uuid);\n\t\t} else if (isElectron()) {\n\t\t\te.preventDefault();\n\t\t\tselectLocalFile(e);\n\t\t} else {\n\t\t\te.preventDefault();\n\t\t\twindow.location.replace(`/associations/${props.node.uuid}`);\n\t\t}\n\t};\n\n\tconst renderPreview = (full) => {\n\t\tif (props.node.path === null) {\n\t\t\tfileLoadError = true;\n\t\t\tprops.node.preview = missingFileImage;\n\t\t}\n\t\tif (props.node.preview) {\n\t\t\treturn (\n\t\t\t\t<Fragment>\n\t\t\t\t\t<img\n\t\t\t\t\t\tsrc={props.node.preview}\n\t\t\t\t\t\talt={props.node.name}\n\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\tobjectFit: \"cover\",\n\t\t\t\t\t\t\theight: full ? \"100%\" : \"13.2rem\",\n\t\t\t\t\t\t\twidth: \"100%\",\n\t\t\t\t\t\t}}\n\t\t\t\t\t></img>\n\t\t\t\t</Fragment>\n\t\t\t);\n\t\t} else {\n\t\t\treturn (\n\t\t\t\t<Icon\n\t\t\t\t\ttype={\"file\"}\n\t\t\t\t\tstyle={{\n\t\t\t\t\t\tcolor: \"white\",\n\t\t\t\t\t\tbackgroundColor: props.theme.cardBodyColor,\n\t\t\t\t\t\theight: full ? \"100%\" : \"13.2rem\",\n\t\t\t\t\t}}\n\t\t\t\t\ttheme=\"filled\"\n\t\t\t\t\tclassName=\"node-card-icon\"\n\t\t\t\t/>\n\t\t\t);\n\t\t}\n\t};\n\n\tconst nodeCard = () => {\n\t\treturn (\n\t\t\t<li className=\"nodelist-item\">\n\t\t\t\t<NodeCardHeader node={props.node} />\n\t\t\t\t<Link\n\t\t\t\t\tto={`/associations/${props.node.uuid}`}\n\t\t\t\t\tonClick={(e) => onClickAction(e)}\n\t\t\t\t\tonContextMenu={(e) => onContextAction(e)}\n\t\t\t\t\tstyle={{\n\t\t\t\t\t\twidth: \"100%\",\n\t\t\t\t\t\tbackgroundColor: props.theme.cardBodyColor,\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t{renderPreview()}\n\t\t\t\t</Link>\n\t\t\t</li>\n\t\t);\n\t};\n\n\t// how the node will appear in collections\n\tconst collectionPreview = () => {\n\t\treturn <Fragment>{renderPreview()}</Fragment>;\n\t};\n\n\tconst fullNode = () => {\n\t\treturn (\n\t\t\t<div className=\"full-node-item\">\n\t\t\t\t<NodeCardHeaderFull />\n\t\t\t\t<Link\n\t\t\t\t\tto={`/associations/${props.node.uuid}`}\n\t\t\t\t\tonClick={(e) => onFullCardAction(e)}\n\t\t\t\t\tonContextMenu={(e) => onContextAction(e)}\n\t\t\t\t>\n\t\t\t\t\t<Fragment>{renderPreview(true)}</Fragment>\n\t\t\t\t</Link>\n\t\t\t</div>\n\t\t);\n\t};\n\n\tconst associationLink = () => {\n\t\treturn (\n\t\t\t<Link to={`/associations/${props.node.uuid}`} onClick={(e) => props.handleAssociatonClick()}>\n\t\t\t\t{props.node.name}\n\t\t\t</Link>\n\t\t);\n\t};\n\n\t// render the requested element\n\tconst renderNode = () => {\n\t\tswitch (props.element) {\n\t\t\tcase \"card\":\n\t\t\t\treturn <Fragment>{nodeCard()}</Fragment>;\n\t\t\tcase \"preview\":\n\t\t\t\treturn <Fragment>{collectionPreview()}</Fragment>;\n\t\t\tcase \"full\":\n\t\t\t\treturn <Fragment>{fullNode()}</Fragment>;\n\t\t\tcase \"association-link\":\n\t\t\t\treturn <Fragment>{associationLink()}</Fragment>;\n\t\t\tdefault:\n\t\t\t\treturn;\n\t\t}\n\t};\n\n\treturn <Fragment>{renderNode()}</Fragment>;\n};\n\nexport { File };\n","import React, { Fragment } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { Icon } from \"antd\";\n// custom code\nimport NodeCardHeaderFull from \"../../../components/elements/node/NodeCardHeaderFull\";\nimport NodeCardHeader from \"../../../components/elements/node/NodeCardHeader\";\nimport missingFileImage from \"../../../resources/missing-file.png\";\nimport { isElectron } from \"../../../utils/environment\";\n\nconst Folder = (props) => {\n\tlet fileLoadError = false;\n\n\t// select a replacement file\n\tconst selectLocalFile = (e) => {\n\t\tconst input = document.createElement(\"input\");\n\t\tinput.setAttribute(\"type\", \"file\");\n\t\tinput.click();\n\t\t// Listen for uploading local file, then save to server\n\t\tinput.onchange = async () => {\n\t\t\tlet file = input.files[0];\n\t\t\tawait props.updateNode({ uuid: props.node.uuid, path: file.path });\n\t\t\twindow.location.reload();\n\t\t};\n\t};\n\n\tconst onClickAction = (e) => {\n\t\tif (!fileLoadError) {\n\t\t\te.preventDefault();\n\t\t\tprops.handleClick();\n\t\t\twindow.location.replace(`/associations/${props.node.uuid}`);\n\t\t} else if (isElectron()) {\n\t\t\te.preventDefault();\n\t\t\tprops.handleClick();\n\t\t\twindow.location.replace(`/associations/${props.node.uuid}`);\n\t\t} else {\n\t\t\te.preventDefault();\n\t\t\twindow.location.replace(`/associations/${props.node.uuid}`);\n\t\t}\n\t};\n\n\tconst onContextAction = (e) => {\n\t\tif (!fileLoadError) {\n\t\t\te.preventDefault();\n\t\t\tprops.handleClick();\n\t\t\tprops.launchFile(props.node.uuid);\n\t\t} else if (isElectron()) {\n\t\t\te.preventDefault();\n\t\t\tselectLocalFile(e);\n\t\t} else {\n\t\t\te.preventDefault();\n\t\t\twindow.location.replace(`/associations/${props.node.uuid}`);\n\t\t}\n\t};\n\n\tconst onFullCardAction = (e) => {\n\t\tif (!fileLoadError) {\n\t\t\te.preventDefault();\n\t\t\tprops.handleClick();\n\t\t\tprops.launchFile(props.node.uuid);\n\t\t} else if (isElectron()) {\n\t\t\te.preventDefault();\n\t\t\tselectLocalFile(e);\n\t\t} else {\n\t\t\te.preventDefault();\n\t\t\twindow.location.replace(`/associations/${props.node.uuid}`);\n\t\t}\n\t};\n\n\tconst renderPreview = () => {\n\t\tif (props.node.path === null) {\n\t\t\tfileLoadError = true;\n\t\t\tprops.node.preview = missingFileImage;\n\t\t}\n\t\tif (props.node.preview) {\n\t\t\treturn (\n\t\t\t\t<Fragment>\n\t\t\t\t\t<img\n\t\t\t\t\t\tsrc={props.node.preview}\n\t\t\t\t\t\talt={props.node.name}\n\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\tobjectFit: \"cover\",\n\t\t\t\t\t\t\tminHeight: \"100%\",\n\t\t\t\t\t\t\twidth: \"100%\",\n\t\t\t\t\t\t}}\n\t\t\t\t\t></img>\n\t\t\t\t</Fragment>\n\t\t\t);\n\t\t} else {\n\t\t\treturn (\n\t\t\t\t<Icon\n\t\t\t\t\ttype={\"folder\"}\n\t\t\t\t\tstyle={{\n\t\t\t\t\t\tcolor: \"white\",\n\t\t\t\t\t\tbackgroundColor: props.theme.cardBodyColor,\n\t\t\t\t\t\theight: \"13.2rem\",\n\t\t\t\t\t}}\n\t\t\t\t\ttheme='filled'\n\t\t\t\t\tclassName='node-card-icon'\n\t\t\t\t/>\n\t\t\t);\n\t\t}\n\t};\n\n\tconst nodeCard = () => {\n\t\treturn (\n\t\t\t<li className='nodelist-item'>\n\t\t\t\t<NodeCardHeader node={props.node} />\n\t\t\t\t<Link\n\t\t\t\t\tto={`/associations/${props.node.uuid}`}\n\t\t\t\t\tonClick={(e) => onClickAction(e)}\n\t\t\t\t\tonContextMenu={(e) => onContextAction(e)}\n\t\t\t\t\tstyle={{\n\t\t\t\t\t\twidth: \"100%\",\n\t\t\t\t\t\tbackgroundColor: props.theme.cardBodyColor,\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t{renderPreview()}\n\t\t\t\t</Link>\n\t\t\t</li>\n\t\t);\n\t};\n\n\t// how the node will appear in collections\n\tconst collectionPreview = () => {\n\t\treturn <Fragment>{renderPreview()}</Fragment>;\n\t};\n\n\tconst fullNode = () => {\n\t\treturn (\n\t\t\t<div className='full-node-item'>\n\t\t\t\t<NodeCardHeaderFull />\n\t\t\t\t<Link to={`/associations/${props.node.uuid}`} onClick={(e) => onFullCardAction(e)}>\n\t\t\t\t\t<Fragment>{renderPreview()}</Fragment>\n\t\t\t\t</Link>\n\t\t\t</div>\n\t\t);\n\t};\n\n\tconst associationLink = () => {\n\t\treturn (\n\t\t\t<Link to={`/associations/${props.node.uuid}`} onClick={(e) => props.handleAssociatonClick()}>\n\t\t\t\t{props.node.name}\n\t\t\t</Link>\n\t\t);\n\t};\n\n\t// render the requested element\n\tconst renderNode = () => {\n\t\tswitch (props.element) {\n\t\t\tcase \"card\":\n\t\t\t\treturn <Fragment>{nodeCard()}</Fragment>;\n\t\t\tcase \"preview\":\n\t\t\t\treturn <Fragment>{collectionPreview()}</Fragment>;\n\t\t\tcase \"full\":\n\t\t\t\treturn <Fragment>{fullNode()}</Fragment>;\n\t\t\tcase \"association-link\":\n\t\t\t\treturn <Fragment>{associationLink()}</Fragment>;\n\t\t\tdefault:\n\t\t\t\treturn;\n\t\t}\n\t};\n\n\treturn <Fragment>{renderNode()}</Fragment>;\n};\n\nexport { Folder };\n","import React, { Fragment } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { Icon } from \"antd\";\n// for now these are in-common between nodes\nimport NodeCardHeaderFull from \"../../../components/elements/node/NodeCardHeaderFull\";\nimport NodeCardHeader from \"../../../components/elements/node/NodeCardHeader\";\nimport missingFileImage from \"../../../resources/missing-file.png\";\nimport { isElectron } from \"../../../utils/environment\";\n\nconst Audio = (props) => {\n\tlet fileLoadError = false;\n\n\t// select a replacement file\n\tconst selectLocalFile = (e) => {\n\t\tconst input = document.createElement(\"input\");\n\t\tinput.setAttribute(\"type\", \"file\");\n\t\tinput.click();\n\t\t// Listen for uploading local file, then save to server\n\t\tinput.onchange = async () => {\n\t\t\tlet file = input.files[0];\n\t\t\tawait props.updateNode({ uuid: props.node.uuid, path: file.path });\n\t\t\twindow.location.reload();\n\t\t};\n\t};\n\n\tconst onClickAction = (e) => {\n\t\tif (!fileLoadError) {\n\t\t\te.preventDefault();\n\t\t\tprops.handleClick();\n\t\t\twindow.location.replace(`/associations/${props.node.uuid}`);\n\t\t} else if (isElectron()) {\n\t\t\te.preventDefault();\n\t\t\tselectLocalFile(e);\n\t\t} else {\n\t\t\te.preventDefault();\n\t\t\twindow.location.replace(`/associations/${props.node.uuid}`);\n\t\t}\n\t};\n\n\tconst onContextAction = (e) => {\n\t\tif (!fileLoadError) {\n\t\t\te.preventDefault();\n\t\t\tprops.handleClick();\n\t\t\tprops.launchFile(props.node.uuid);\n\t\t} else if (isElectron()) {\n\t\t\te.preventDefault();\n\t\t\tselectLocalFile(e);\n\t\t} else {\n\t\t\te.preventDefault();\n\t\t\twindow.location.replace(`/associations/${props.node.uuid}`);\n\t\t}\n\t};\n\n\tconst onFullCardAction = (e) => {\n\t\tif (!fileLoadError) {\n\t\t\te.preventDefault();\n\t\t\tprops.handleClick();\n\t\t\tprops.launchFile(props.node.uuid);\n\t\t} else if (isElectron()) {\n\t\t\te.preventDefault();\n\t\t\tselectLocalFile(e);\n\t\t} else {\n\t\t\te.preventDefault();\n\t\t\twindow.location.replace(`/associations/${props.node.uuid}`);\n\t\t}\n\t};\n\n\tconst renderPreview = () => {\n\t\tif (props.node.path === null) {\n\t\t\tfileLoadError = true;\n\t\t\tprops.node.preview = missingFileImage;\n\t\t}\n\t\tif (props.node.preview) {\n\t\t\treturn (\n\t\t\t\t<Fragment>\n\t\t\t\t\t<img\n\t\t\t\t\t\tsrc={props.node.preview}\n\t\t\t\t\t\talt={props.node.name}\n\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\tobjectFit: \"cover\",\n\t\t\t\t\t\t\theight: \"13.2rem\",\n\t\t\t\t\t\t\twidth: \"100%\",\n\t\t\t\t\t\t}}\n\t\t\t\t\t></img>\n\t\t\t\t</Fragment>\n\t\t\t);\n\t\t} else {\n\t\t\treturn (\n\t\t\t\t<Icon\n\t\t\t\t\ttype={\"sound\"}\n\t\t\t\t\tstyle={{ color: \"white\", backgroundColor: props.theme.cardBodyColor, height: \"13.2rem\" }}\n\t\t\t\t\ttheme=\"filled\"\n\t\t\t\t\tclassName=\"node-card-icon\"\n\t\t\t\t/>\n\t\t\t);\n\t\t}\n\t};\n\n\tconst nodeCard = () => {\n\t\treturn (\n\t\t\t<li className=\"nodelist-item\">\n\t\t\t\t<NodeCardHeader node={props.node} />\n\t\t\t\t<Link\n\t\t\t\t\tto={`/associations/${props.node.uuid}`}\n\t\t\t\t\tonClick={(e) => onClickAction(e)}\n\t\t\t\t\tonContextMenu={(e) => onContextAction(e)}\n\t\t\t\t\tstyle={{\n\t\t\t\t\t\twidth: \"100%\",\n\t\t\t\t\t\tbackgroundColor: props.theme.cardBodyColor,\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t{renderPreview()}\n\t\t\t\t</Link>\n\t\t\t</li>\n\t\t);\n\t};\n\n\t// how the node will appear in collections\n\tconst collectionPreview = () => {\n\t\treturn <Fragment>{renderPreview()}</Fragment>;\n\t};\n\n\tconst fullNode = () => {\n\t\treturn (\n\t\t\t<div className=\"full-node-item\">\n\t\t\t\t<NodeCardHeaderFull />\n\t\t\t\t<Link to={`/associations/${props.node.uuid}`} onClick={(e) => onFullCardAction(e)}>\n\t\t\t\t\t<Fragment>{renderPreview()}</Fragment>\n\t\t\t\t</Link>\n\t\t\t</div>\n\t\t);\n\t};\n\n\tconst associationLink = () => {\n\t\treturn (\n\t\t\t<Link to={`/associations/${props.node.uuid}`} onClick={(e) => props.handleAssociatonClick()}>\n\t\t\t\t{props.node.name}\n\t\t\t</Link>\n\t\t);\n\t};\n\n\t// render the requested element\n\tconst renderNode = () => {\n\t\tswitch (props.element) {\n\t\t\tcase \"card\":\n\t\t\t\treturn <Fragment>{nodeCard()}</Fragment>;\n\t\t\tcase \"preview\":\n\t\t\t\treturn <Fragment>{collectionPreview()}</Fragment>;\n\t\t\tcase \"full\":\n\t\t\t\treturn <Fragment>{fullNode()}</Fragment>;\n\t\t\tcase \"association-link\":\n\t\t\t\treturn <Fragment>{associationLink()}</Fragment>;\n\t\t\tdefault:\n\t\t\t\treturn;\n\t\t}\n\t};\n\n\treturn <Fragment>{renderNode()}</Fragment>;\n};\n\nexport { Audio };\n","import React, { Fragment } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { Icon } from \"antd\";\n// custom code\nimport NodeCardHeaderFull from \"../../../components/elements/node/NodeCardHeaderFull\";\nimport NodeCardHeader from \"../../../components/elements/node/NodeCardHeader\";\nimport missingFileImage from \"../../../resources/missing-file.png\";\nimport { isElectron } from \"../../../utils/environment\";\n\nconst Package = (props) => {\n\tlet fileLoadError = false;\n\n\t// select a replacement file\n\tconst selectLocalFile = (e) => {\n\t\tconst input = document.createElement(\"input\");\n\t\tinput.setAttribute(\"type\", \"file\");\n\t\tinput.click();\n\t\t// Listen for uploading local file, then save to server\n\t\tinput.onchange = async () => {\n\t\t\tlet file = input.files[0];\n\t\t\tawait props.updateNode({ uuid: props.node.uuid, path: file.path });\n\t\t\twindow.location.reload();\n\t\t};\n\t};\n\n\tconst onClickAction = (e) => {\n\t\tif (!fileLoadError) {\n\t\t\te.preventDefault();\n\t\t\tprops.handleClick();\n\t\t\twindow.location.replace(`/associations/${props.node.uuid}`);\n\t\t} else if (isElectron()) {\n\t\t\te.preventDefault();\n\t\t\tselectLocalFile(e);\n\t\t} else {\n\t\t\te.preventDefault();\n\t\t\twindow.location.replace(`/associations/${props.node.uuid}`);\n\t\t}\n\t};\n\n\tconst onContextAction = (e) => {\n\t\tif (!fileLoadError) {\n\t\t\te.preventDefault();\n\t\t\tprops.handleClick();\n\t\t\tprops.launchExplorer(props.node.uuid);\n\t\t} else if (isElectron()) {\n\t\t\te.preventDefault();\n\t\t\tselectLocalFile(e);\n\t\t} else {\n\t\t\te.preventDefault();\n\t\t\twindow.location.replace(`/associations/${props.node.uuid}`);\n\t\t}\n\t};\n\n\tconst onFullCardAction = (e) => {\n\t\tif (!fileLoadError) {\n\t\t\te.preventDefault();\n\t\t\tprops.handleClick();\n\t\t\tprops.launchExplorer(props.node.uuid);\n\t\t} else if (isElectron()) {\n\t\t\te.preventDefault();\n\t\t\tselectLocalFile(e);\n\t\t} else {\n\t\t\te.preventDefault();\n\t\t\twindow.location.replace(`/associations/${props.node.uuid}`);\n\t\t}\n\t};\n\n\tconst renderPreview = () => {\n\t\tif (props.node.path === null) {\n\t\t\tfileLoadError = true;\n\t\t\tprops.node.preview = missingFileImage;\n\t\t}\n\t\tif (props.node.preview) {\n\t\t\treturn (\n\t\t\t\t<Fragment>\n\t\t\t\t\t<img\n\t\t\t\t\t\tsrc={props.node.preview}\n\t\t\t\t\t\talt={props.node.name}\n\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\tobjectFit: \"cover\",\n\t\t\t\t\t\t\theight: \"13.2rem\",\n\t\t\t\t\t\t\twidth: \"100%\",\n\t\t\t\t\t\t}}\n\t\t\t\t\t></img>\n\t\t\t\t</Fragment>\n\t\t\t);\n\t\t} else {\n\t\t\treturn (\n\t\t\t\t<Icon\n\t\t\t\t\ttype={\"gift\"}\n\t\t\t\t\tstyle={{ color: \"white\", backgroundColor: props.theme.cardBodyColor, height: \"13.2rem\" }}\n\t\t\t\t\ttheme=\"filled\"\n\t\t\t\t\tclassName=\"node-card-icon\"\n\t\t\t\t/>\n\t\t\t);\n\t\t}\n\t};\n\n\tconst nodeCard = () => {\n\t\treturn (\n\t\t\t<li className=\"nodelist-item\">\n\t\t\t\t<NodeCardHeader node={props.node} />\n\t\t\t\t<Link\n\t\t\t\t\tto={`/associations/${props.node.uuid}`}\n\t\t\t\t\tonClick={(e) => onClickAction(e)}\n\t\t\t\t\tonContextMenu={(e) => onContextAction(e)}\n\t\t\t\t\tstyle={{\n\t\t\t\t\t\twidth: \"100%\",\n\t\t\t\t\t\tbackgroundColor: props.theme.cardBodyColor,\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t{renderPreview()}\n\t\t\t\t</Link>\n\t\t\t</li>\n\t\t);\n\t};\n\n\t// how the node will appear in collections\n\tconst collectionPreview = () => {\n\t\treturn <Fragment>{renderPreview()}</Fragment>;\n\t};\n\n\tconst fullNode = () => {\n\t\treturn (\n\t\t\t<div className=\"full-node-item\">\n\t\t\t\t<NodeCardHeaderFull />\n\t\t\t\t<Link to={`/associations/${props.node.uuid}`} onClick={(e) => onFullCardAction(e)}>\n\t\t\t\t\t<Fragment>{renderPreview()}</Fragment>\n\t\t\t\t</Link>\n\t\t\t</div>\n\t\t);\n\t};\n\n\tconst associationLink = () => {\n\t\treturn (\n\t\t\t<Link to={`/associations/${props.node.uuid}`} onClick={(e) => props.handleAssociatonClick()}>\n\t\t\t\t{props.node.name}\n\t\t\t</Link>\n\t\t);\n\t};\n\n\t// render the requested element\n\tconst renderNode = () => {\n\t\tswitch (props.element) {\n\t\t\tcase \"card\":\n\t\t\t\treturn <Fragment>{nodeCard()}</Fragment>;\n\t\t\tcase \"preview\":\n\t\t\t\treturn <Fragment>{collectionPreview()}</Fragment>;\n\t\t\tcase \"full\":\n\t\t\t\treturn <Fragment>{fullNode()}</Fragment>;\n\t\t\tcase \"association-link\":\n\t\t\t\treturn <Fragment>{associationLink()}</Fragment>;\n\t\t\tdefault:\n\t\t\t\treturn;\n\t\t}\n\t};\n\n\treturn <Fragment>{renderNode()}</Fragment>;\n};\n\nexport { Package };\n","import React, { Fragment } from 'react';\nimport { Link } from 'react-router-dom';\nimport { Icon } from 'antd';\n// custom code\nimport NodeCardHeaderFull from '../../../components/elements/node/NodeCardHeaderFull';\nimport NodeCardHeader from '../../../components/elements/node/NodeCardHeader';\nimport missingFileImage from '../../../resources/missing-file.png';\nimport { isElectron } from '../../../utils/environment';\n\nconst Zip = (props) => {\n\tlet fileLoadError = false;\n\n\t// select a replacement file\n\tconst selectLocalFile = (e) => {\n\t\tconst input = document.createElement('input');\n\t\tinput.setAttribute('type', 'file');\n\t\tinput.setAttribute('accept', ['application/zip']);\n\t\tinput.click();\n\t\t// Listen for uploading local file, then save to server\n\t\tinput.onchange = async () => {\n\t\t\tlet file = input.files[0];\n\t\t\tawait props.updateNode({ uuid: props.node.uuid, path: file.path });\n\t\t\twindow.location.reload();\n\t\t};\n\t};\n\n\tconst onClickAction = (e) => {\n\t\tif (!fileLoadError) {\n\t\t\te.preventDefault();\n\t\t\tprops.handleClick();\n\t\t\twindow.location.replace(`/associations/${props.node.uuid}`);\n\t\t} else if (isElectron()) {\n\t\t\te.preventDefault();\n\t\t\tselectLocalFile(e);\n\t\t} else {\n\t\t\te.preventDefault();\n\t\t\twindow.location.replace(`/associations/${props.node.uuid}`);\n\t\t}\n\t};\n\n\tconst onContextAction = (e) => {\n\t\tif (!fileLoadError) {\n\t\t\te.preventDefault();\n\t\t\tprops.handleClick();\n\t\t\tprops.launchExplorer(props.node.uuid);\n\t\t} else if (isElectron()) {\n\t\t\te.preventDefault();\n\t\t\tselectLocalFile(e);\n\t\t} else {\n\t\t\te.preventDefault();\n\t\t\twindow.location.replace(`/associations/${props.node.uuid}`);\n\t\t}\n\t};\n\n\tconst onFullCardAction = (e) => {\n\t\tif (!fileLoadError) {\n\t\t\te.preventDefault();\n\t\t\tprops.handleClick();\n\t\t\tprops.launchExplorer(props.node.uuid);\n\t\t} else if (isElectron()) {\n\t\t\te.preventDefault();\n\t\t\tselectLocalFile(e);\n\t\t} else {\n\t\t\te.preventDefault();\n\t\t\twindow.location.replace(`/associations/${props.node.uuid}`);\n\t\t}\n\t};\n\n\tconst renderPreview = () => {\n\t\tif (props.node.path === null) {\n\t\t\tfileLoadError = true;\n\t\t\tprops.node.preview = missingFileImage;\n\t\t}\n\t\tif (props.node.preview) {\n\t\t\treturn (\n\t\t\t\t<Fragment>\n\t\t\t\t\t<img\n\t\t\t\t\t\tsrc={props.node.preview}\n\t\t\t\t\t\talt={props.node.name}\n\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\tobjectFit: 'cover',\n\t\t\t\t\t\t\tminHeight: '100%',\n\t\t\t\t\t\t\twidth: '100%',\n\t\t\t\t\t\t}}\n\t\t\t\t\t></img>\n\t\t\t\t</Fragment>\n\t\t\t);\n\t\t} else {\n\t\t\treturn (\n\t\t\t\t<Icon\n\t\t\t\t\ttype={'file-zip'}\n\t\t\t\t\tstyle={{ color: 'white', backgroundColor: props.theme.cardBodyColor, height: '100%' }}\n\t\t\t\t\ttheme='filled'\n\t\t\t\t\tclassName='node-card-icon'\n\t\t\t\t/>\n\t\t\t);\n\t\t}\n\t};\n\n\tconst nodeCard = () => {\n\t\treturn (\n\t\t\t<li className='nodelist-item'>\n\t\t\t\t<NodeCardHeader node={props.node} />\n\t\t\t\t<Link\n\t\t\t\t\tto={`/associations/${props.node.uuid}`}\n\t\t\t\t\tonClick={(e) => onClickAction(e)}\n\t\t\t\t\tonContextMenu={(e) => onContextAction(e)}\n\t\t\t\t\tstyle={{\n\t\t\t\t\t\twidth: '100%',\n\t\t\t\t\t\tbackgroundColor: props.theme.cardBodyColor,\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t{renderPreview()}\n\t\t\t\t</Link>\n\t\t\t</li>\n\t\t);\n\t};\n\n\t// how the node will appear in collections\n\tconst collectionPreview = () => {\n\t\treturn <Fragment>{renderPreview()}</Fragment>;\n\t};\n\n\tconst fullNode = () => {\n\t\treturn (\n\t\t\t<div className='full-node-item'>\n\t\t\t\t<NodeCardHeaderFull />\n\t\t\t\t<Link to={`/associations/${props.node.uuid}`} onClick={(e) => onFullCardAction(e)}>\n\t\t\t\t\t<Fragment>{renderPreview()}</Fragment>\n\t\t\t\t</Link>\n\t\t\t</div>\n\t\t);\n\t};\n\n\tconst associationLink = () => {\n\t\treturn (\n\t\t\t<Link to={`/associations/${props.node.uuid}`} onClick={(e) => props.handleAssociatonClick()}>\n\t\t\t\t{props.node.name}\n\t\t\t</Link>\n\t\t);\n\t};\n\n\t// render the requested element\n\tconst renderNode = () => {\n\t\tswitch (props.element) {\n\t\t\tcase 'card':\n\t\t\t\treturn <Fragment>{nodeCard()}</Fragment>;\n\t\t\tcase 'preview':\n\t\t\t\treturn <Fragment>{collectionPreview()}</Fragment>;\n\t\t\tcase 'full':\n\t\t\t\treturn <Fragment>{fullNode()}</Fragment>;\n\t\t\tcase 'association-link':\n\t\t\t\treturn <Fragment>{associationLink()}</Fragment>;\n\t\t\tdefault:\n\t\t\t\treturn;\n\t\t}\n\t};\n\n\treturn <Fragment>{renderNode()}</Fragment>;\n};\n\nexport { Zip };\n","import React, { Fragment } from 'react';\nimport { Link } from 'react-router-dom';\nimport { Icon } from 'antd';\n// custom code\nimport NodeRenderer from '../NodeRenderer';\n// for now these are in-common between nodes\nimport NodeCardHeaderFull from '../../../components/elements/node/NodeCardHeaderFull';\n\nconst Collection = (props) => {\n\tconst onCollectionContextMenu = (e) => {\n\t\t// e.preventDefault();\n\t\t// window.location.replace(`/associations/${props.node.uuid}`);\n\t};\n\n\tconst onCollectionClick = (e) => {\n\t\te.preventDefault();\n\t\tprops.handleClick();\n\t\twindow.location.replace(`/associations/${props.node.uuid}`);\n\t};\n\n\tconst nodeCard = () => {\n\t\t// create the collection grid\n\t\tvar previewCount = 0;\n\t\tvar collectionPreview = null;\n\t\tvar preview = null;\n\t\t// check if the collection has a preview\n\t\tif (props.node.preview) {\n\t\t\tpreview = JSON.parse(props.node.preview);\n\t\t\tpreviewCount = preview.length;\n\t\t}\n\t\t// create the different grid types\n\t\tswitch (previewCount) {\n\t\t\tcase 0:\n\t\t\t\tcollectionPreview = (\n\t\t\t\t\t<li className='nodelist-item'>\n\t\t\t\t\t\t{props.renderHeader()}\n\t\t\t\t\t\t<Link\n\t\t\t\t\t\t\tto={`/associations/${props.node.uuid}`}\n\t\t\t\t\t\t\tonClick={(e) => onCollectionClick(e)}\n\t\t\t\t\t\t\tonContextMenu={(e) => onCollectionContextMenu(e)}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<Icon type={'branches'} theme='outlined' className='node-card-icon' />\n\t\t\t\t\t\t</Link>\n\t\t\t\t\t</li>\n\t\t\t\t);\n\t\t\t\treturn collectionPreview;\n\t\t\tcase 1:\n\t\t\t\tcollectionPreview = (\n\t\t\t\t\t<li className='nodelist-item'>\n\t\t\t\t\t\t{props.renderHeader()}\n\t\t\t\t\t\t<Link\n\t\t\t\t\t\t\tto={`/associations/${props.node.uuid}`}\n\t\t\t\t\t\t\tonClick={(e) => onCollectionClick(e)}\n\t\t\t\t\t\t\tonContextMenu={(e) => onCollectionContextMenu(e)}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<NodeRenderer type={preview[0].type} element={'preview'} node={preview[0]} />\n\t\t\t\t\t\t</Link>\n\t\t\t\t\t</li>\n\t\t\t\t);\n\t\t\t\treturn collectionPreview;\n\t\t\tcase 2:\n\t\t\t\tcollectionPreview = (\n\t\t\t\t\t<li className='nodelist-item nodelist-item-collection'>\n\t\t\t\t\t\t{props.renderHeader()}\n\t\t\t\t\t\t<Link\n\t\t\t\t\t\t\tto={`/associations/${props.node.uuid}`}\n\t\t\t\t\t\t\tonClick={(e) => onCollectionClick(e)}\n\t\t\t\t\t\t\tonContextMenu={(e) => onCollectionContextMenu(e)}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<ul className='nodelist-collection-grid'>\n\t\t\t\t\t\t\t\t<li className='nodelist-collection-grid-full-width'>\n\t\t\t\t\t\t\t\t\t<NodeRenderer type={preview[0].type} element={'preview'} node={preview[0]} />\n\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t<li className='nodelist-collection-grid-full-width'>\n\t\t\t\t\t\t\t\t\t<NodeRenderer type={preview[1].type} element={'preview'} node={preview[1]} />\n\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t</Link>\n\t\t\t\t\t</li>\n\t\t\t\t);\n\t\t\t\treturn collectionPreview;\n\t\t\tcase 3:\n\t\t\t\tcollectionPreview = (\n\t\t\t\t\t<li className='nodelist-item nodelist-item-collection'>\n\t\t\t\t\t\t{props.renderHeader()}\n\t\t\t\t\t\t<Link\n\t\t\t\t\t\t\tto={`/associations/${props.node.uuid}`}\n\t\t\t\t\t\t\tonClick={(e) => onCollectionClick(e)}\n\t\t\t\t\t\t\tonContextMenu={(e) => onCollectionContextMenu(e)}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<ul className='nodelist-collection-grid'>\n\t\t\t\t\t\t\t\t<li className='nodelist-collection-grid-full-width'>\n\t\t\t\t\t\t\t\t\t<NodeRenderer type={preview[0].type} element={'preview'} node={preview[0]} />\n\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t\t\t<NodeRenderer type={preview[1].type} element={'preview'} node={preview[1]} />\n\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t\t\t<NodeRenderer type={preview[2].type} element={'preview'} node={preview[2]} />\n\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t<li></li>\n\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t</Link>\n\t\t\t\t\t</li>\n\t\t\t\t);\n\t\t\t\treturn collectionPreview;\n\t\t\tcase 4:\n\t\t\t\tcollectionPreview = (\n\t\t\t\t\t<li className='nodelist-item nodelist-item-collection'>\n\t\t\t\t\t\t{props.renderHeader()}\n\t\t\t\t\t\t<Link\n\t\t\t\t\t\t\tto={`/associations/${props.node.uuid}`}\n\t\t\t\t\t\t\tonClick={(e) => onCollectionClick(e)}\n\t\t\t\t\t\t\tonContextMenu={(e) => onCollectionContextMenu(e)}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<ul className='nodelist-collection-grid'>\n\t\t\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t\t\t<NodeRenderer type={preview[0].type} element={'preview'} node={preview[0]} />\n\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t\t\t<NodeRenderer type={preview[1].type} element={'preview'} node={preview[1]} />\n\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t\t\t<NodeRenderer type={preview[2].type} element={'preview'} node={preview[2]} />\n\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t\t\t<NodeRenderer type={preview[3].type} element={'preview'} node={preview[3]} />\n\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t</Link>\n\t\t\t\t\t</li>\n\t\t\t\t);\n\t\t\t\treturn collectionPreview;\n\t\t\tdefault:\n\t\t\t\treturn;\n\t\t}\n\t};\n\n\tconst fullNode = () => {\n\t\treturn (\n\t\t\t<div className='full-node-item'>\n\t\t\t\t<NodeCardHeaderFull />\n\t\t\t</div>\n\t\t);\n\t};\n\n\tconst associationLink = () => {\n\t\treturn (\n\t\t\t<Link\n\t\t\t\tto={`/associations/${props.node.uuid}`}\n\t\t\t\tonClick={(e) => props.handleAssociatonClick()}\n\t\t\t\t// target='_blank'\n\t\t\t>\n\t\t\t\t{props.node.name}\n\t\t\t</Link>\n\t\t);\n\t};\n\n\t// render the requested element\n\tconst renderNode = () => {\n\t\tswitch (props.element) {\n\t\t\tcase 'card':\n\t\t\t\treturn <Fragment>{nodeCard()}</Fragment>;\n\t\t\tcase 'full':\n\t\t\t\treturn <Fragment>{fullNode()}</Fragment>;\n\t\t\tcase 'association-link':\n\t\t\t\treturn <Fragment>{associationLink()}</Fragment>;\n\t\t\tdefault:\n\t\t\t\treturn;\n\t\t}\n\t};\n\n\treturn <Fragment>{renderNode()}</Fragment>;\n};\n\nexport { Collection };\n","import React, { Fragment } from \"react\";\nimport { Link } from \"react-router-dom\";\n// for now these are in-common between nodes\nimport NodeCardHeaderFull from \"../../../components/elements/node/NodeCardHeaderFull\";\nimport defaultHeader from \"../../../resources/cloud9.png\";\n\nconst User = (props) => {\n\tconst nodeCard = () => {\n\t\treturn (\n\t\t\t<li className=\"nodelist-item\">\n\t\t\t\t{props.renderHeader()}\n\t\t\t\t<Link\n\t\t\t\t\tto={`/profile/${props.node.path}`}\n\t\t\t\t\treplace\n\t\t\t\t\tonClick={(e) => {\n\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\tprops.handleClick();\n\t\t\t\t\t\twindow.location.replace(`/profile/${props.node.path}`);\n\t\t\t\t\t}}\n\t\t\t\t\tonContextMenu={(e) => {\n\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\tprops.handleClick();\n\t\t\t\t\t\twindow.location.replace(`/profile/${props.node.path}`);\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t<img\n\t\t\t\t\t\tsrc={props.node.preview || defaultHeader}\n\t\t\t\t\t\talt={props.node.name}\n\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\tobjectFit: \"cover\",\n\t\t\t\t\t\t\theight: \"13.2rem\",\n\t\t\t\t\t\t\twidth: \"100%\",\n\t\t\t\t\t\t}}\n\t\t\t\t\t></img>\n\t\t\t\t</Link>\n\t\t\t</li>\n\t\t);\n\t};\n\n\t// how the node will appear in collections\n\tconst collectionPreview = () => {\n\t\treturn (\n\t\t\t<Fragment>\n\t\t\t\t<img\n\t\t\t\t\tsrc={props.node.preview || defaultHeader}\n\t\t\t\t\talt={props.node.name}\n\t\t\t\t\tstyle={{\n\t\t\t\t\t\tobjectFit: \"cover\",\n\t\t\t\t\t\tminHeight: \"100%\",\n\t\t\t\t\t\twidth: \"100%\",\n\t\t\t\t\t}}\n\t\t\t\t></img>\n\t\t\t</Fragment>\n\t\t);\n\t};\n\n\tconst fullNode = () => {\n\t\treturn (\n\t\t\t<div className=\"full-node-item\">\n\t\t\t\t<NodeCardHeaderFull />\n\t\t\t\t<Link to={`/profile/${props.node.path}`} /*target='_blank' */>\n\t\t\t\t\t<p>{props.node.name}</p>\n\t\t\t\t</Link>\n\t\t\t</div>\n\t\t);\n\t};\n\n\tconst associationLink = () => {\n\t\treturn (\n\t\t\t<Link\n\t\t\t\tto={`/profile/${props.node.path}`}\n\t\t\t\tonClick={(e) => props.handleAssociatonClick()}\n\t\t\t\t// target='blank'\n\t\t\t>\n\t\t\t\t{props.node.name}\n\t\t\t</Link>\n\t\t);\n\t};\n\n\t// render the requested element\n\tconst renderNode = () => {\n\t\tswitch (props.element) {\n\t\t\tcase \"card\":\n\t\t\t\treturn <Fragment>{nodeCard()}</Fragment>;\n\t\t\tcase \"preview\":\n\t\t\t\treturn <Fragment>{collectionPreview()}</Fragment>;\n\t\t\tcase \"full\":\n\t\t\t\treturn <Fragment>{fullNode()}</Fragment>;\n\t\t\tcase \"association-link\":\n\t\t\t\treturn <Fragment>{associationLink()}</Fragment>;\n\t\t\tdefault:\n\t\t\t\treturn;\n\t\t}\n\t};\n\n\treturn <Fragment>{renderNode()}</Fragment>;\n};\n\nexport { User };\n","// import the default node configurations\nimport React, { Component, Fragment } from 'react';\nimport { connect } from 'react-redux';\nimport {\n\tupdateLinkStrength,\n\thideComponent,\n\tlaunchFileNode,\n\topenFileInExplorer,\n\tupdateNode,\n} from '../../api/redux/actions';\nimport {\n\tText,\n\tImage,\n\tUrl,\n\tFile,\n\tFolder,\n\tAudio,\n\tPackage,\n\tZip,\n\tCollection,\n\tUser,\n} from './core/index';\nimport NodeCardHeader from '../../components/elements/node/NodeCardHeader';\n\nclass NodeRenderer extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\tshowHeader: true,\n\t\t};\n\t}\n\t// increment linkstrength if there is an activeNode\n\thandleNodeClick = () => {\n\t\tconst nodeUUID = this.props.node.uuid;\n\t\tif (this.props.activeNode) {\n\t\t\tconst linkedNodeUUID = this.props.activeNode.uuid;\n\t\t\t// increment the linkStrength on the server\n\t\t\tthis.props.updateLinkStrength(nodeUUID, linkedNodeUUID);\n\t\t}\n\t};\n\n\t// increment linkstrength on association sider clicks\n\thandleAssociatonClick = () => {\n\t\tthis.props.hideComponent('associationSider');\n\t\tif (this.props.siderNodeUUID && this.props.node.uuid) {\n\t\t\tconst siderUUID = this.props.siderNodeUUID;\n\t\t\tconst linkedNodeUUID = this.props.node.uuid;\n\t\t\t// increment the linkStrength on the server\n\t\t\tthis.props.updateLinkStrength(siderUUID, linkedNodeUUID);\n\t\t}\n\t};\n\n\ttoggleHeader = () => {\n\t\tif (this.state.showHeader) {\n\t\t\tthis.setState({ showHeader: false });\n\t\t} else {\n\t\t\tthis.setState({ showHeader: true });\n\t\t}\n\t};\n\n\trenderHeader = () => {\n\t\tif (this.state.showHeader) {\n\t\t\treturn <NodeCardHeader node={this.props.node} />;\n\t\t} else {\n\t\t\treturn;\n\t\t}\n\t};\n\n\trenderNode = () => {\n\t\tswitch (this.props.type) {\n\t\t\tcase 'text':\n\t\t\t\treturn (\n\t\t\t\t\t<Text\n\t\t\t\t\t\telement={this.props.element}\n\t\t\t\t\t\tnode={this.props.node}\n\t\t\t\t\t\thandleClick={this.handleNodeClick}\n\t\t\t\t\t\thandleAssociatonClick={this.handleAssociatonClick}\n\t\t\t\t\t\ttheme={this.props.theme}\n\t\t\t\t\t/>\n\t\t\t\t);\n\t\t\tcase 'image':\n\t\t\t\treturn (\n\t\t\t\t\t<Image\n\t\t\t\t\t\telement={this.props.element}\n\t\t\t\t\t\tnode={this.props.node}\n\t\t\t\t\t\thandleClick={this.handleNodeClick}\n\t\t\t\t\t\thandleAssociatonClick={this.handleAssociatonClick}\n\t\t\t\t\t\tupdateNode={this.props.updateNode}\n\t\t\t\t\t\ttoggleHeader={this.toggleHeader}\n\t\t\t\t\t\trenderHeader={this.renderHeader}\n\t\t\t\t\t\tlaunchExplorer={this.props.openFileInExplorer}\n\t\t\t\t\t\tlaunchFile={this.props.launchFileNode}\n\t\t\t\t\t/>\n\t\t\t\t);\n\t\t\tcase 'url':\n\t\t\t\treturn (\n\t\t\t\t\t<Url\n\t\t\t\t\t\telement={this.props.element}\n\t\t\t\t\t\tnode={this.props.node}\n\t\t\t\t\t\thandleClick={this.handleNodeClick}\n\t\t\t\t\t\thandleAssociatonClick={this.handleAssociatonClick}\n\t\t\t\t\t\ttoggleHeader={this.toggleHeader}\n\t\t\t\t\t\trenderHeader={this.renderHeader}\n\t\t\t\t\t\ttheme={this.props.theme}\n\t\t\t\t\t/>\n\t\t\t\t);\n\t\t\tcase 'file':\n\t\t\t\treturn (\n\t\t\t\t\t<File\n\t\t\t\t\t\telement={this.props.element}\n\t\t\t\t\t\tnode={this.props.node}\n\t\t\t\t\t\tupdateNode={this.props.updateNode}\n\t\t\t\t\t\thandleClick={this.handleNodeClick}\n\t\t\t\t\t\thandleAssociatonClick={this.handleAssociatonClick}\n\t\t\t\t\t\tlaunchFile={this.props.launchFileNode}\n\t\t\t\t\t\tlaunchExplorer={this.props.openFileInExplorer}\n\t\t\t\t\t\ttheme={this.props.theme}\n\t\t\t\t\t/>\n\t\t\t\t);\n\t\t\tcase 'folder':\n\t\t\t\treturn (\n\t\t\t\t\t<Folder\n\t\t\t\t\t\telement={this.props.element}\n\t\t\t\t\t\tnode={this.props.node}\n\t\t\t\t\t\tupdateNode={this.props.updateNode}\n\t\t\t\t\t\thandleClick={this.handleNodeClick}\n\t\t\t\t\t\thandleAssociatonClick={this.handleAssociatonClick}\n\t\t\t\t\t\tlaunchFile={this.props.launchFileNode}\n\t\t\t\t\t\tlaunchExplorer={this.props.openFileInExplorer}\n\t\t\t\t\t\ttheme={this.props.theme}\n\t\t\t\t\t/>\n\t\t\t\t);\n\t\t\tcase 'audio':\n\t\t\t\treturn (\n\t\t\t\t\t<Audio\n\t\t\t\t\t\telement={this.props.element}\n\t\t\t\t\t\tnode={this.props.node}\n\t\t\t\t\t\tupdateNode={this.props.updateNode}\n\t\t\t\t\t\thandleClick={this.handleNodeClick}\n\t\t\t\t\t\thandleAssociatonClick={this.handleAssociatonClick}\n\t\t\t\t\t\tlaunchFile={this.props.launchFileNode}\n\t\t\t\t\t\ttheme={this.props.theme}\n\t\t\t\t\t/>\n\t\t\t\t);\n\t\t\tcase 'package':\n\t\t\t\treturn (\n\t\t\t\t\t<Package\n\t\t\t\t\t\telement={this.props.element}\n\t\t\t\t\t\tnode={this.props.node}\n\t\t\t\t\t\tupdateNode={this.props.updateNode}\n\t\t\t\t\t\thandleClick={this.handleNodeClick}\n\t\t\t\t\t\thandleAssociatonClick={this.handleAssociatonClick}\n\t\t\t\t\t\tlaunchExplorer={this.props.openFileInExplorer}\n\t\t\t\t\t\ttheme={this.props.theme}\n\t\t\t\t\t/>\n\t\t\t\t);\n\t\t\tcase 'zip':\n\t\t\t\treturn (\n\t\t\t\t\t<Zip\n\t\t\t\t\t\telement={this.props.element}\n\t\t\t\t\t\tnode={this.props.node}\n\t\t\t\t\t\tupdateNode={this.props.updateNode}\n\t\t\t\t\t\thandleClick={this.handleNodeClick}\n\t\t\t\t\t\thandleAssociatonClick={this.handleAssociatonClick}\n\t\t\t\t\t\tlaunchExplorer={this.props.openFileInExplorer}\n\t\t\t\t\t\ttheme={this.props.theme}\n\t\t\t\t\t/>\n\t\t\t\t);\n\t\t\tcase 'collection':\n\t\t\t\treturn (\n\t\t\t\t\t<Collection\n\t\t\t\t\t\telement={this.props.element}\n\t\t\t\t\t\tnode={this.props.node}\n\t\t\t\t\t\thandleClick={this.handleNodeClick}\n\t\t\t\t\t\thandleAssociatonClick={this.handleAssociatonClick}\n\t\t\t\t\t\ttoggleHeader={this.toggleHeader}\n\t\t\t\t\t\trenderHeader={this.renderHeader}\n\t\t\t\t\t/>\n\t\t\t\t);\n\t\t\tcase 'user':\n\t\t\t\treturn (\n\t\t\t\t\t<User\n\t\t\t\t\t\telement={this.props.element}\n\t\t\t\t\t\tnode={this.props.node}\n\t\t\t\t\t\thandleClick={this.handleNodeClick}\n\t\t\t\t\t\thandleAssociatonClick={this.handleAssociatonClick}\n\t\t\t\t\t\ttoggleHeader={this.toggleHeader}\n\t\t\t\t\t\trenderHeader={this.renderHeader}\n\t\t\t\t\t/>\n\t\t\t\t);\n\t\t\tdefault:\n\t\t\t\treturn;\n\t\t}\n\t};\n\n\trender() {\n\t\treturn <Fragment>{this.renderNode()}</Fragment>;\n\t}\n}\n\nconst mapStateToProps = (state) => {\n\treturn {\n\t\ttheme: state.components.theme,\n\t};\n};\n\nexport default connect(mapStateToProps, {\n\tupdateLinkStrength,\n\thideComponent,\n\tlaunchFileNode,\n\topenFileInExplorer,\n\tupdateNode,\n})(NodeRenderer);\n","import React from 'react';\n//custom components\nimport NodeRenderer from '../../../types/render/NodeRenderer';\n\nconst NodeCard = (props) => {\n\tconst renderNodeCard = () => {\n\t\tif (props.node) {\n\t\t\treturn (\n\t\t\t\t<NodeRenderer\n\t\t\t\t\ttype={props.node.type}\n\t\t\t\t\telement={'card'}\n\t\t\t\t\tnode={props.node}\n\t\t\t\t\tactiveNode={props.activeNode}\n\t\t\t\t\ttheme={props.theme}\n\t\t\t\t/>\n\t\t\t);\n\t\t}\n\t};\n\n\treturn <div>{renderNodeCard()}</div>;\n};\n\nexport default NodeCard;\n","import React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport {\n\thideComponent,\n\tdeleteAssociationLink,\n\tremoveFromAssociationList,\n\tupdateLinkStrength,\n} from \"../../../api/redux/actions\";\nimport { Button, Tooltip } from \"antd\";\nimport \"./AssociationLinkList.less\";\n// node renderer\nimport NodeRenderer from \"../../../types/render/NodeRenderer\";\n\nclass AssociationLink extends Component {\n\thandleDeleteAssociation = () => {\n\t\t// sider node is the the node the sider was opened from\n\t\tvar siderNodeUUID = this.props.siderNodeUUID;\n\t\t// linked node is the node from the list, to be un-linked, un-associated\n\t\tvar linkedNodeUUID = this.props.association.uuid\n\t\t\t? this.props.association.uuid\n\t\t\t: this.props.association.linkedNodeUUID;\n\t\t// active node is only set when viewing an /association page, the node of the page itself\n\t\tif (this.props.activeNode) {\n\t\t\t// store the active node\n\t\t\tvar activeNodeUUID = this.props.activeNode.uuid;\n\t\t}\n\t\t// if both have values go ahead and delete the association\n\t\tif (siderNodeUUID && linkedNodeUUID) {\n\t\t\tthis.props.deleteAssociationLink(siderNodeUUID, linkedNodeUUID);\n\t\t\t// store pathname\n\t\t\tvar pathname = window.location.pathname;\n\t\t\t// handle removal from association list page if on association page if an associated node was removed\n\t\t\tif (\n\t\t\t\t(pathname.includes(\"associations\") || pathname.includes(\"/edit/text/\")) &&\n\t\t\t\tactiveNodeUUID &&\n\t\t\t\tactiveNodeUUID === siderNodeUUID\n\t\t\t) {\n\t\t\t\tthis.props.removeFromAssociationList(linkedNodeUUID);\n\t\t\t} else if (\n\t\t\t\t(pathname.includes(\"associations\") || pathname.includes(\"/edit/text/\")) &&\n\t\t\t\tactiveNodeUUID &&\n\t\t\t\tactiveNodeUUID === linkedNodeUUID\n\t\t\t) {\n\t\t\t\tthis.props.removeFromAssociationList(siderNodeUUID);\n\t\t\t\tthis.props.hideComponent(\"associationSider\");\n\t\t\t}\n\t\t}\n\t};\n\n\t// render card types\n\trenderAssociationLink = (association) => {\n\t\treturn (\n\t\t\t<li className=\"association-list-item\">\n\t\t\t\t<Tooltip title={association.name} mouseLeaveDelay={0} mouseEnterDelay={0.3}>\n\t\t\t\t\t<Button\n\t\t\t\t\t\ticon=\"close\"\n\t\t\t\t\t\tshape=\"circle\"\n\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\tonClick={(e) => this.handleDeleteAssociation()}\n\t\t\t\t\t/>\n\t\t\t\t\t<NodeRenderer\n\t\t\t\t\t\ttype={association.type}\n\t\t\t\t\t\telement={\"association-link\"}\n\t\t\t\t\t\tnode={association}\n\t\t\t\t\t\tsiderNodeUUID={this.props.siderNodeUUID}\n\t\t\t\t\t></NodeRenderer>\n\t\t\t\t</Tooltip>\n\t\t\t</li>\n\t\t);\n\t};\n\n\trender() {\n\t\treturn <div>{this.renderAssociationLink(this.props.association)}</div>;\n\t}\n}\n\nconst mapStateToProps = (state) => {\n\treturn {\n\t\tsiderNodeUUID: state.components.componentList[\"associationSider\"].content.uuid,\n\t\tactiveNode: state.nodes.activeNode,\n\t};\n};\n\nexport default connect(mapStateToProps, {\n\thideComponent,\n\tdeleteAssociationLink,\n\tremoveFromAssociationList,\n\tupdateLinkStrength,\n})(AssociationLink);\n","import React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\n// custom code\nimport \"../node/NodeList.less\";\nimport { fetchAssociationLinkList } from \"../../../api/redux/actions\";\n// import NodeCard from './NodeCard';\nimport Spinner from \"../Spinner\";\nimport AssociationLink from \"./AssociationLink\";\n\nclass AssociationLinkList extends Component {\n\tcomponentDidMount() {\n\t\tthis.props.fetchAssociationLinkList({ nodeUUID: this.props.nodeUUID });\n\t}\n\n\tloadMore = () => {\n\t\tthis.props.fetchAssociationLinkList({\n\t\t\tnodeUUID: this.props.nodeUUID,\n\t\t\tpage: parseInt(this.props.page) + 1,\n\t\t});\n\t};\n\n\trenderAssociationLinkList = () => {\n\t\t// go through the list of nodes and render them to the page\n\t\tconst list = this.props.associations;\n\t\tif (this.props.isFetching) {\n\t\t\treturn <Spinner alignment=\"top\"></Spinner>;\n\t\t}\n\t\t// if list exists render the links\n\t\tif (list !== null) {\n\t\t\treturn list.map((association) => {\n\t\t\t\treturn <AssociationLink key={association.uuid} association={association} />;\n\t\t\t});\n\t\t} else {\n\t\t\treturn <Spinner></Spinner>;\n\t\t}\n\t};\n\n\trenderLoadMoreButton = () => {\n\t\tvar listLength = this.props.associations.length;\n\t\t// if the total items is more than what is loaded show the load more button\n\t\tif (this.props.totalItems > listLength) {\n\t\t\treturn (\n\t\t\t\t<li style={{ listStyle: \"none\", marginTop: \"0.5rem\", textAlign: \"center\" }}>\n\t\t\t\t\t<button\n\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\tmargin: \"1rem 0\",\n\t\t\t\t\t\t\twidth: \"90%\",\n\t\t\t\t\t\t\tbackgroundColor: \"#272727\",\n\t\t\t\t\t\t\tcolor: \"#16e998\",\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tonClick={this.loadMore}\n\t\t\t\t\t>\n\t\t\t\t\t\tload more\n\t\t\t\t\t</button>\n\t\t\t\t</li>\n\t\t\t);\n\t\t}\n\t};\n\n\trender() {\n\t\treturn (\n\t\t\t<ul id=\"node-info-list\" className=\"association-list\">\n\t\t\t\t{this.renderAssociationLinkList()}\n\t\t\t\t{this.renderLoadMoreButton()}\n\t\t\t</ul>\n\t\t);\n\t}\n}\n\nconst mapStateToProps = (state) => {\n\treturn {\n\t\tassociations: state.associations.associationLinkList,\n\t\tpage: state.associations.associationLinkListPage,\n\t\ttotalItems: state.associations.totalLinkListItems,\n\t\tisFetching: state.associations.isFetching,\n\t\tactiveNode: state.nodes.activeNode,\n\t};\n};\n\nexport default connect(mapStateToProps, {\n\tfetchAssociationLinkList,\n})(AssociationLinkList);\n","import React, { Component } from 'react';\n// import { Link } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport { Drawer, AutoComplete, Tooltip } from 'antd';\nimport {\n\tsignOut,\n\thideComponent,\n\tcreateAssociation,\n\tassociationAutocomplete,\n} from '../../../api/redux/actions';\n// custom code\nimport AssociationLinkList from './AssociationLinkList';\n// destructure antd\nconst { Option } = AutoComplete;\n\nclass AssociationSider extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\tautocompleteOptions: null,\n\t\t\tautocompleteValues: null,\n\t\t\tinputText: '',\n\t\t};\n\t}\n\n\tcreateAssociationHandler = async (input) => {\n\t\t// get the uuid of the node to be associated\n\t\tconst nodeToAssociate = [];\n\t\tvar siderNode = this.props.associationSiderData.content;\n\t\tthis.state.autocompleteValues.forEach((node) => {\n\t\t\tif (node.uuid === input) {\n\t\t\t\tnodeToAssociate.push(node.uuid);\n\t\t\t}\n\t\t});\n\t\tconst nodeUUIDToAssociate = nodeToAssociate[0];\n\t\t// get this node uuid\n\t\tconst nodeUUID = siderNode.uuid;\n\t\t// associate the nodes\n\t\tawait this.props.createAssociation(nodeUUID, nodeUUIDToAssociate);\n\t\tthis.setState({ autocompleteOptions: [], autocompleteValues: null, inputText: '' });\n\t\t// re-render the autocomplete values so more can be added\n\t\tthis.renderAutocompleteValues('');\n\t};\n\n\trenderAutocompleteValues = async (input) => {\n\t\tvar siderNode = this.props.associationSiderData.content;\n\t\tthis.setState({ inputText: input });\n\t\tconst result = await this.props.associationAutocomplete({\n\t\t\tsearchQuery: input || '',\n\t\t\tuuid: siderNode.uuid,\n\t\t});\n\t\tif (result) {\n\t\t\tthis.setState({\n\t\t\t\tautocompleteValues: result.map((node) => {\n\t\t\t\t\treturn node;\n\t\t\t\t}),\n\t\t\t});\n\n\t\t\tconst newValues = result.map((node) => {\n\t\t\t\t// return the options objects\n\t\t\t\treturn (\n\t\t\t\t\t<Option key={node.uuid}>\n\t\t\t\t\t\t<Tooltip title={node.name} mouseEnterDelay={0.7} placement={'left'}>\n\t\t\t\t\t\t\t{node.name}\n\t\t\t\t\t\t</Tooltip>\n\t\t\t\t\t</Option>\n\t\t\t\t);\n\t\t\t});\n\t\t\tthis.setState({ autocompleteOptions: newValues });\n\t\t}\n\t};\n\n\thideInfoSider = () => {\n\t\t// reset state when the sider is hidden\n\t\tthis.setState({ autocompleteOptions: null, autocompleteValues: null, inputText: '' });\n\t\t// hide association sider component\n\t\tthis.props.hideComponent('associationSider');\n\t};\n\n\trenderContent = () => {\n\t\tif (this.props.associationSiderData) {\n\t\t\tvar siderNode = this.props.associationSiderData.content;\n\t\t\treturn (\n\t\t\t\t<div className='node-info-sider-container' style={{ textAlign: 'center' }}>\n\t\t\t\t\t<Drawer\n\t\t\t\t\t\tclassName='node-info-sider'\n\t\t\t\t\t\tplacement='right'\n\t\t\t\t\t\tclosable={false}\n\t\t\t\t\t\ttitle={siderNode.name}\n\t\t\t\t\t\tonClose={() => {\n\t\t\t\t\t\t\tthis.hideInfoSider();\n\t\t\t\t\t\t\t// temporary fix to remove overflow property being set on body by antd\n\t\t\t\t\t\t\tdocument.documentElement.style.cssText = '';\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tvisible={this.props.associationSiderData.visible}\n\t\t\t\t\t>\n\t\t\t\t\t\t{/*  <Link className='node-info-sider-header' to={`/associations/${siderNode.uuid}`}>\n              {siderNode.name}\n            </Link>\n            <p style={{ color: 'white' }}>{siderNode.preview}</p> */}\n\t\t\t\t\t\t<AutoComplete\n\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\twidth: 200,\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\tplaceholder='associate'\n\t\t\t\t\t\t\tvalue={this.state.inputText}\n\t\t\t\t\t\t\tonSearch={(value) => this.renderAutocompleteValues(value)}\n\t\t\t\t\t\t\tonFocus={(value) => this.renderAutocompleteValues(value)}\n\t\t\t\t\t\t\tonSelect={(value) => this.createAssociationHandler(value)}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{this.state.autocompleteOptions}\n\t\t\t\t\t\t</AutoComplete>\n\t\t\t\t\t\t<br />\n\t\t\t\t\t\t<AssociationLinkList nodeUUID={siderNode.uuid} />\n\t\t\t\t\t</Drawer>\n\t\t\t\t</div>\n\t\t\t);\n\t\t}\n\t};\n\n\trender() {\n\t\treturn <div>{this.renderContent()}</div>;\n\t}\n}\n\nconst mapStateToProps = (state) => {\n\treturn {\n\t\tassociationSiderData: state.components.componentList['associationSider'],\n\t\tpage: state.associations.associationLinkListPage,\n\t};\n};\n\nexport default connect(mapStateToProps, {\n\tsignOut,\n\thideComponent,\n\tcreateAssociation,\n\tassociationAutocomplete,\n})(AssociationSider);\n","import React, { Component, Fragment } from \"react\";\nimport { connect } from \"react-redux\";\n// custom code\nimport \"./NodeList.less\";\nimport { fetchNodes } from \"../../../api/redux/actions\";\nimport NodeCard from \"./NodeCard\";\nimport AssociationSider from \"../association/AssociationSider\";\n// import NodeCardFull from '../node/NodeCardFull';\n\nclass NodeList extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\ttopOfPage: false,\n\t\t};\n\t}\n\n\tcomponentDidMount() {\n\t\tthis.props.fetchNodes({\n\t\t\t// page: this.props.query.page > 1 ? this.props.query.page - 1 : this.props.query.page,\n\t\t\tpage: 1,\n\t\t\ttype: this.props.query.type,\n\t\t\tsearchQuery: this.props.query.searchQuery,\n\t\t\tsortType: this.props.query.sortType,\n\t\t\tsortOrder: this.props.query.sortOrder,\n\t\t});\n\t\twindow.addEventListener(\"scroll\", this.infiniteScroll);\n\t}\n\n\tcomponentWillUnmount() {\n\t\twindow.removeEventListener(\"scroll\", this.infiniteScroll);\n\t}\n\n\tinfiniteScroll = (e) => {\n\t\tif (this.endReached() && !this.props.isFetching) {\n\t\t\tthis.setState({ topOfPage: false });\n\t\t\t// fetch the next page\n\t\t\tthis.props.fetchNodes({\n\t\t\t\tpage: this.props.query.page + 1,\n\t\t\t\ttype: this.props.query.type,\n\t\t\t\tsearchQuery: this.props.query.searchQuery,\n\t\t\t\tsortType: this.props.query.sortType,\n\t\t\t\tsortOrder: this.props.query.sortOrder,\n\t\t\t});\n\t\t}\n\t};\n\n\tendReached = () => {\n\t\t// window calculations to tell when the user scrolls to the bottom\n\t\tconst windowHeight =\n\t\t\t\"innerHeight\" in window ? window.innerHeight : document.documentElement.offsetHeight;\n\t\tconst body = document.body;\n\t\tconst html = document.documentElement;\n\t\tconst docHeight = Math.max(\n\t\t\tbody.scrollHeight,\n\t\t\tbody.offsetHeight,\n\t\t\thtml.clientHeight,\n\t\t\thtml.scrollHeight,\n\t\t\thtml.offsetHeight\n\t\t);\n\t\tconst windowBottom = windowHeight + window.pageYOffset;\n\t\t// check if the top is reached\n\t\tif (window.pageYOffset < 1 && !this.props.isFetching && !this.state.topOfPage) {\n\t\t\tthis.setState({ topOfPage: true });\n\t\t\t// at the top of the page, reset the nodelist\n\t\t\tthis.props.fetchNodes({\n\t\t\t\tpage: 1,\n\t\t\t\ttype: this.props.query.type,\n\t\t\t\tsearchQuery: this.props.query.searchQuery,\n\t\t\t\tsortType: this.props.query.sortType,\n\t\t\t\tsortOrder: this.props.query.sortOrder,\n\t\t\t});\n\t\t}\n\t\t// if it's not the top of the page go ahead and fetch more\n\t\t// return windowBottom >= docHeight - 733;\n\t\treturn windowBottom >= docHeight - 1000;\n\t};\n\n\trenderNodeList = () => {\n\t\t// go through the list of nodes and render them to the page\n\t\tconst nodeList = this.props.nodes;\n\t\t// if there are nodes go ahead and render\n\t\tif (nodeList !== null && nodeList.length > 0) {\n\t\t\treturn nodeList.map((node) => {\n\t\t\t\tif (node.uuid) {\n\t\t\t\t\t// return <NodeCardFull key={node.uuid} node={node} />\n\t\t\t\t\treturn <NodeCard key={node.uuid} node={node} />;\n\t\t\t\t} else {\n\t\t\t\t\treturn <Fragment></Fragment>;\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t\t// adding a bit of a fallback search. more to come on this probably\n\t\telse if (this.props.query.searchQuery && !this.props.isFetching) {\n\t\t\tlet fallbackOption = JSON.parse(localStorage.getItem(\"fallback-search\"));\n\t\t\tif (fallbackOption !== \"none\") {\n\t\t\t\treturn (\n\t\t\t\t\t<div\n\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t// height: '100vh',\n\t\t\t\t\t\t\tmarginTop: \"1rem\",\n\t\t\t\t\t\t\tdisplay: \"flex\",\n\t\t\t\t\t\t\tjustifyContent: \"center\",\n\t\t\t\t\t\t\talignItems: \"top\",\n\t\t\t\t\t\t\tcolor: \"white\",\n\t\t\t\t\t\t}}\n\t\t\t\t\t>\n\t\t\t\t\t\t<a\n\t\t\t\t\t\t\ttarget=\"_blank\"\n\t\t\t\t\t\t\trel=\"noopener noreferrer\"\n\t\t\t\t\t\t\thref={`https://www.google.com/search?q=${encodeURIComponent(\n\t\t\t\t\t\t\t\tthis.props.query.searchQuery\n\t\t\t\t\t\t\t)}`}\n\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\tbackgroundColor: \"#272727\",\n\t\t\t\t\t\t\t\tcolor: \"white\",\n\t\t\t\t\t\t\t\tborderRadius: \"3px\",\n\t\t\t\t\t\t\t\tpadding: \"0.5rem 1rem\",\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\tno matches ~ search online instead?\n\t\t\t\t\t\t</a>\n\t\t\t\t\t</div>\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\t};\n\n\trender() {\n\t\treturn (\n\t\t\t<div className=\"nodelist-container\">\n\t\t\t\t<ul className=\"nodelist\">{this.renderNodeList()}</ul>\n\t\t\t\t<AssociationSider />\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nconst mapStateToProps = (state) => {\n\treturn {\n\t\tnodes: state.nodes.nodeList,\n\t\tquery: state.nodes.query,\n\t\ttotalNodes: state.nodes.totalItems,\n\t\tisFetching: state.nodes.isFetching,\n\t};\n};\n\nexport default connect(mapStateToProps, { fetchNodes })(NodeList);\n","import React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport { Layout } from \"antd\";\n// custom code\nimport MainSider from \"../elements/MainSider\";\nimport IOBar from \"../elements/IOBar\";\nimport NodeList from \"../elements/node/NodeList\";\n\nconst { Content } = Layout;\n\nclass Home extends Component {\n\tcomponentDidMount() {\n\t\tdocument.title = \"home\";\n\t\t// temporary fix to undo whatever is setting overflow hidden on-login\n\t\tdocument.body.style.removeProperty(\"overflow\");\n\t\twindow.scrollTo({ top: 0, behavior: \"smooth\" });\n\t\t// clear stored quill editor scrollposition if there is one\n\t\tlocalStorage.removeItem(\"quillScrollY\");\n\t}\n\n\trenderMainSider = () => {\n\t\tif (this.props.mainSider) {\n\t\t\treturn <MainSider />;\n\t\t}\n\t};\n\n\trender() {\n\t\treturn (\n\t\t\t<Layout className=\"page-layout\">\n\t\t\t\t<Layout>\n\t\t\t\t\t{this.renderMainSider()}\n\t\t\t\t\t<Content style={{ minHeight: \"100vh\" }}>\n\t\t\t\t\t\t<IOBar />\n\t\t\t\t\t\t<div className=\"list-container\">\n\t\t\t\t\t\t\t<NodeList />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</Content>\n\t\t\t\t</Layout>\n\t\t\t</Layout>\n\t\t);\n\t}\n}\n\nconst mapStateToProps = (state) => {\n\treturn {\n\t\tisSignedIn: state.auth.isSignedIn,\n\t\tmainSider: state.components.componentList[\"mainSider\"],\n\t};\n};\n\nexport default connect(mapStateToProps)(Home);\n","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { Layout, message, Modal } from 'antd';\n// custom code\nimport Spinner from '../elements/Spinner';\nimport {\n\tfetchUserByUsername,\n\tshowComponent,\n\thideComponent,\n\tmarkNodeView,\n} from '../../api/redux/actions';\nimport './css/Profile.less';\nimport NodeList from '../elements/node/NodeList';\nimport MainSider from '../elements/MainSider';\nimport IOBar from '../elements/IOBar';\n// import default images\nimport defaultHeader from '../../resources/cloud9.png';\nimport defaultAvatar from '../../resources/synthona-logo.png';\n\nconst { Content } = Layout;\n\nclass Profile extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\tinitialized: false,\n\t\t\tusername: '',\n\t\t\tdisplayName: '',\n\t\t\tbio: '',\n\t\t\tavatar: null,\n\t\t\theader: null,\n\t\t\tavatarModal: false,\n\t\t};\n\t}\n\n\tcomponentDidMount() {\n\t\tdocument.title = this.props.match.params.username;\n\t\tthis.initializeFromUrlParams();\n\t}\n\n\tcomponentDidUpdate() {\n\t\tdocument.body.style.removeProperty('overflow');\n\t\tif (this.state.username !== this.props.match.params.username) {\n\t\t\tdocument.title = this.props.match.params.username;\n\t\t\tthis.initializeFromUrlParams();\n\t\t}\n\t}\n\n\tcomponentWillUnmount() {\n\t\tthis.props.hideComponent('mainSider');\n\t}\n\n\ttoggleAvatarModal = () => {\n\t\tif (this.state.avatarModal === false) {\n\t\t\tthis.setState({ avatarModal: true });\n\t\t} else {\n\t\t\tthis.setState({ avatarModal: false });\n\t\t}\n\t};\n\n\trenderMainSider = () => {\n\t\tif (this.props.mainSider) {\n\t\t\treturn <MainSider />;\n\t\t}\n\t};\n\n\t// load the text node and set the local id state.\n\tinitializeFromUrlParams = async () => {\n\t\t// fetch the user info from the server\n\t\tconst user = await this.props.fetchUserByUsername(this.props.match.params.username);\n\t\tif (user) {\n\t\t\tthis.setState({\n\t\t\t\tinitialized: true,\n\t\t\t\tusername: user.username,\n\t\t\t\tdisplayName: user.displayName,\n\t\t\t\tbio: user.bio,\n\t\t\t\tavatar: user.avatar,\n\t\t\t\theader: user.header,\n\t\t\t});\n\t\t\t// mark the profile as viewed\n\t\t\tthis.props.markNodeView({ uuid: user.nodeId });\n\t\t\t// set the page title\n\t\t\tdocument.title = user.displayName;\n\t\t} else {\n\t\t\tmessage.error('there was a problem loading the user');\n\t\t\tthis.props.history.push('/');\n\t\t}\n\t};\n\n\trender() {\n\t\tif (!this.state.initialized) {\n\t\t\treturn (\n\t\t\t\t<Layout className='page-layout'>\n\t\t\t\t\t<Layout>\n\t\t\t\t\t\t<Layout>\n\t\t\t\t\t\t\t<Spinner />\n\t\t\t\t\t\t</Layout>\n\t\t\t\t\t</Layout>\n\t\t\t\t</Layout>\n\t\t\t);\n\t\t}\n\n\t\treturn (\n\t\t\t<div className='profile-container'>\n\t\t\t\t{/*  <MainSider showMask={false} animate={false} />*/}\n\t\t\t\t{this.renderMainSider()}\n\t\t\t\t<Layout>\n\t\t\t\t\t<Content style={{ marginBottom: '0' }} className='Profile'>\n\t\t\t\t\t\t<IOBar />\n\t\t\t\t\t\t<div className='profile-card'>\n\t\t\t\t\t\t\t<button href={`/profile/${this.state.username}`}>\n\t\t\t\t\t\t\t\t<div className='Profile-header'>\n\t\t\t\t\t\t\t\t\t<img src={this.state.header || defaultHeader} alt='example' draggable='false' />\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t{/* <button href={`/profile/${this.state.username}`}> */}\n\t\t\t\t\t\t\t<div className='Profile-avatar'>\n\t\t\t\t\t\t\t\t<img\n\t\t\t\t\t\t\t\t\tsrc={this.state.avatar || defaultAvatar}\n\t\t\t\t\t\t\t\t\talt={'profile'}\n\t\t\t\t\t\t\t\t\tdraggable='false'\n\t\t\t\t\t\t\t\t\tonClick={this.toggleAvatarModal}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t{/* </button> */}\n\t\t\t\t\t\t\t<div className='Profile-info'>\n\t\t\t\t\t\t\t\t<h2 className='Profile-displayName'>\n\t\t\t\t\t\t\t\t\t{this.state.displayName}\n\t\t\t\t\t\t\t\t\t<div className='verified-sign-container'>\n\t\t\t\t\t\t\t\t\t\t<svg\n\t\t\t\t\t\t\t\t\t\t\tviewBox='0 0 24 24'\n\t\t\t\t\t\t\t\t\t\t\taria-label='Verified account'\n\t\t\t\t\t\t\t\t\t\t\tclassName='verified-sign'\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t<g>\n\t\t\t\t\t\t\t\t\t\t\t\t<path d='M22.5 12.5c0-1.58-.875-2.95-2.148-3.6.154-.435.238-.905.238-1.4 0-2.21-1.71-3.998-3.818-3.998-.47 0-.92.084-1.336.25C14.818 2.415 13.51 1.5 12 1.5s-2.816.917-3.437 2.25c-.415-.165-.866-.25-1.336-.25-2.11 0-3.818 1.79-3.818 4 0 .494.083.964.237 1.4-1.272.65-2.147 2.018-2.147 3.6 0 1.495.782 2.798 1.942 3.486-.02.17-.032.34-.032.514 0 2.21 1.708 4 3.818 4 .47 0 .92-.086 1.335-.25.62 1.334 1.926 2.25 3.437 2.25 1.512 0 2.818-.916 3.437-2.25.415.163.865.248 1.336.248 2.11 0 3.818-1.79 3.818-4 0-.174-.012-.344-.033-.513 1.158-.687 1.943-1.99 1.943-3.484zm-6.616-3.334l-4.334 6.5c-.145.217-.382.334-.625.334-.143 0-.288-.04-.416-.126l-.115-.094-2.415-2.415c-.293-.293-.293-.768 0-1.06s.768-.294 1.06 0l1.77 1.767 3.825-5.74c.23-.345.696-.436 1.04-.207.346.23.44.696.21 1.04z'></path>\n\t\t\t\t\t\t\t\t\t\t\t</g>\n\t\t\t\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</h2>\n\t\t\t\t\t\t\t\t<i className='Profile-username'>{`@${this.state.username}`}</i>\n\t\t\t\t\t\t\t\t<p className='Profile-bio'>{this.state.bio}</p>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<Modal\n\t\t\t\t\t\t\ttitle={this.state.displayName}\n\t\t\t\t\t\t\tvisible={this.state.avatarModal}\n\t\t\t\t\t\t\tclassName='profile-modal'\n\t\t\t\t\t\t\tcentered\n\t\t\t\t\t\t\tonCancel={this.toggleAvatarModal}\n\t\t\t\t\t\t\tclosable={false}\n\t\t\t\t\t\t\tfooter={null}\n\t\t\t\t\t\t\tafterClose={() => {\n\t\t\t\t\t\t\t\t// temporary fix to remove overflow property being set on body by antd\n\t\t\t\t\t\t\t\tdocument.body.style.removeProperty('overflow');\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<img src={this.state.avatar || defaultAvatar} alt={'avatar'}></img>\n\t\t\t\t\t\t</Modal>\n\t\t\t\t\t\t<NodeList />\n\t\t\t\t\t</Content>\n\t\t\t\t</Layout>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nconst mapStateToProps = (state) => {\n\treturn { user: state.auth.user, mainSider: state.components.componentList['mainSider'] };\n};\n\nexport default connect(mapStateToProps, {\n\tfetchUserByUsername,\n\tshowComponent,\n\thideComponent,\n\tmarkNodeView,\n})(Profile);\n","import React from \"react\";\nimport { Switch } from \"antd\";\n//custom components\n// import NodeRenderer from '../../../types/render/NodeRenderer';\n\nconst OptionListItem = (props) => {\n\t// render the input type for each value\n\tconst renderInputType = () => {\n\t\tswitch (props.type) {\n\t\t\tcase \"string\":\n\t\t\t\treturn (\n\t\t\t\t\t<input\n\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\tdefaultValue={props.value}\n\t\t\t\t\t\tstyle={{ float: \"right\", margin: 0, padding: 0 }}\n\t\t\t\t\t\tonBlur={(e) => {\n\t\t\t\t\t\t\tprops.onChange(props.keyName, e.target.value);\n\t\t\t\t\t\t}}\n\t\t\t\t\t></input>\n\t\t\t\t);\n\t\t\tcase \"boolean\":\n\t\t\t\treturn (\n\t\t\t\t\t// <div style={{ float: 'right', margin: 0, padding: 0 }}>{props.value.toString()}</div>\n\t\t\t\t\t<Switch\n\t\t\t\t\t\tchecked={props.value}\n\t\t\t\t\t\tcheckedChildren=\"\"\n\t\t\t\t\t\tunCheckedChildren=\"\"\n\t\t\t\t\t\tstyle={{ float: \"right\", margin: 0, padding: 0 }}\n\t\t\t\t\t\tonBlur={(e) => {\n\t\t\t\t\t\t\tprops.onChange(props.keyName, !props.value);\n\t\t\t\t\t\t}}\n\t\t\t\t\t/>\n\t\t\t\t);\n\t\t\tcase \"number\":\n\t\t\t\treturn (\n\t\t\t\t\t<input\n\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\tdefaultValue={props.value.toString()}\n\t\t\t\t\t\tstyle={{ float: \"right\", margin: 0, padding: 0 }}\n\t\t\t\t\t\tonBlur={(e) => {\n\t\t\t\t\t\t\tprops.onChange(props.keyName, parseInt(e.target.value));\n\t\t\t\t\t\t}}\n\t\t\t\t\t></input>\n\t\t\t\t);\n\t\t\tcase \"dropdown\":\n\t\t\t\t// build options list for select dropdown\n\t\t\t\tlet options = props.optionObject.options.map((item) => {\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<option value={item} key={item}>\n\t\t\t\t\t\t\t{item}\n\t\t\t\t\t\t</option>\n\t\t\t\t\t);\n\t\t\t\t});\n\t\t\t\t// return the select dropdown\n\t\t\t\treturn (\n\t\t\t\t\t<select\n\t\t\t\t\t\tname={props.keyName}\n\t\t\t\t\t\tid={props.keyName}\n\t\t\t\t\t\tdefaultValue={props.value}\n\t\t\t\t\t\tstyle={{ float: \"right\", margin: 0, padding: 0 }}\n\t\t\t\t\t\tonChange={(e) => {\n\t\t\t\t\t\t\tprops.onChange(props.keyName, e.target.value);\n\t\t\t\t\t\t}}\n\t\t\t\t\t>\n\t\t\t\t\t\t{options}\n\t\t\t\t\t</select>\n\t\t\t\t);\n\t\t\tdefault:\n\t\t\t\treturn;\n\t\t}\n\t};\n\n\t// render the option item\n\tconst renderOptionItem = () => {\n\t\treturn (\n\t\t\t<li\n\t\t\t\tstyle={{\n\t\t\t\t\tcolor: \"black\",\n\t\t\t\t\twidth: \"100%\",\n\t\t\t\t\tbackgroundColor: \"white\",\n\t\t\t\t\tpadding: \"0.7rem 1.7rem\",\n\t\t\t\t\tmargin: 0,\n\t\t\t\t\tborderBottom: \"1px solid grey\",\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t<div style={{ float: \"left\", margin: 0, padding: 0 }}>{props.name}</div>\n\t\t\t\t{renderInputType()}\n\t\t\t</li>\n\t\t);\n\t};\n\n\treturn <div>{renderOptionItem()}</div>;\n};\n\nexport default OptionListItem;\n","import React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\n// custom code\nimport { fetchNodes, loadTheme } from \"../../../api/redux/actions\";\nimport OptionListItem from \"./OptionListItem\";\nimport { isElectron } from \"../../../utils/environment\";\nimport { Modal } from \"antd\";\nimport { backendConfigMap, backendConfigFilter, loadClientConfig } from \"../../../utils/config.js\";\n\nclass OptionsList extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\ttopOfPage: false,\n\t\t\tbackendConfig: null,\n\t\t\tclientConfig: null,\n\t\t\tshowRestartModal: false,\n\t\t};\n\t}\n\n\t// if this is the host device (is-electron) we'll get the backend config & client config\n\t// otherwise we'll only load the client config. if there's no client config in localstorage\n\t// we need to generate it with default values to make it available\n\tloadOptions = () => {\n\t\tlet clientConfigValues = loadClientConfig();\n\t\tthis.setState({ clientConfig: clientConfigValues });\n\t\tif (isElectron) {\n\t\t\t// load backend config\n\t\t\tthis.setState({\n\t\t\t\tbackendConfig: isElectron ? JSON.parse(localStorage.getItem(\"backend-config\")) : null,\n\t\t\t});\n\t\t}\n\t};\n\n\tcomponentDidMount() {\n\t\t// reload backend config\n\t\tif (window.api) {\n\t\t\twindow.api.send(\"toMain\", { action: \"get-backend-config\" });\n\t\t}\n\t\t// load everything else\n\t\tthis.loadOptions();\n\t}\n\n\t// a function to update the config values to be passed into each\n\tupdateClientConfigValue = (keyName, newValue) => {\n\t\tlet existingClientConfig = this.state.clientConfig;\n\t\t// loop through existing config to update it\n\t\tlet newConfig = existingClientConfig.map((item) => {\n\t\t\t// when we find our value lets update it in localstorage and in our live rendered UI config object\n\t\t\tif (keyName === item.storageKey) {\n\t\t\t\t// update the value in this particular config object\n\t\t\t\titem.value = newValue;\n\t\t\t\t// copy it to localstorage as well\n\t\t\t\tlocalStorage.setItem(keyName, JSON.stringify(newValue));\n\t\t\t\tif (keyName === \"theme\") {\n\t\t\t\t\t// if we set the theme we should reload it in our redux state\n\t\t\t\t\tthis.props.loadTheme();\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn item;\n\t\t});\n\t\tthis.setState({ clientConfig: newConfig });\n\t};\n\n\t// a function to update the config values to be passed into each\n\tupdateBackendConfigValue = (keyName, newValue) => {\n\t\tlet existingBackendConfig = this.state.backendConfig;\n\t\tlet newConfig = {\n\t\t\t...existingBackendConfig,\n\t\t\t[keyName]: newValue,\n\t\t};\n\t\tthis.setState({ backendConfig: newConfig, showRestartModal: true });\n\t\t// update the values in local storage\n\t\twindow.localStorage.setItem(\"backend-config\", JSON.stringify(newConfig));\n\t\t// we also need to send the updated version to the backend app\n\t\tif (window.api) {\n\t\t\twindow.api.send(\"toMain\", {\n\t\t\t\taction: \"update-backend-config\",\n\t\t\t\tupdates: newConfig,\n\t\t\t});\n\t\t}\n\t};\n\n\trestartHandler = () => {\n\t\tif (window.api) {\n\t\t\twindow.api.send(\"toMain\", {\n\t\t\t\taction: \"restart-app\",\n\t\t\t});\n\t\t}\n\t};\n\n\trenderOptionsList = () => {\n\t\tif (this.state.clientConfig) {\n\t\t\t// prepare the options lists\n\t\t\tlet configList = [];\n\t\t\tlet backendConfig = this.state.backendConfig;\n\t\t\tlet clientConfig = this.state.clientConfig;\n\t\t\t// let's go ahead and load all this up\n\t\t\tif (!!backendConfig) {\n\t\t\t\t// load backend config values\n\t\t\t\tfor (var backendKey in backendConfig) {\n\t\t\t\t\tif (!backendConfigFilter.includes(backendKey)) {\n\t\t\t\t\t\tconfigList.push(\n\t\t\t\t\t\t\t<OptionListItem\n\t\t\t\t\t\t\t\tkey={backendConfigMap[backendKey].name}\n\t\t\t\t\t\t\t\tkeyName={backendKey}\n\t\t\t\t\t\t\t\ttype={backendConfigMap[backendKey].type}\n\t\t\t\t\t\t\t\tname={backendConfigMap[backendKey].name}\n\t\t\t\t\t\t\t\toptionObject={backendConfigMap[backendKey]}\n\t\t\t\t\t\t\t\tvalue={backendConfig[backendKey]}\n\t\t\t\t\t\t\t\tonChange={this.updateBackendConfigValue}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\t// add client config values\n\t\t\tfor (var clientKey in clientConfig) {\n\t\t\t\tif (clientKey !== \"CONFIG_VERSION\") {\n\t\t\t\t\tconfigList.push(\n\t\t\t\t\t\t<OptionListItem\n\t\t\t\t\t\t\tkey={clientConfig[clientKey].name}\n\t\t\t\t\t\t\tkeyName={clientConfig[clientKey].storageKey}\n\t\t\t\t\t\t\tname={clientConfig[clientKey].name}\n\t\t\t\t\t\t\tvalue={clientConfig[clientKey].value}\n\t\t\t\t\t\t\ttype={clientConfig[clientKey].type}\n\t\t\t\t\t\t\toptionObject={clientConfig[clientKey]}\n\t\t\t\t\t\t\tonChange={this.updateClientConfigValue}\n\t\t\t\t\t\t/>\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn configList;\n\t\t}\n\t};\n\n\trender() {\n\t\treturn (\n\t\t\t<div className=\"options-list-container\">\n\t\t\t\t<ul className=\"options-list\" style={{ padding: 0, margin: 0 }}>\n\t\t\t\t\t{this.renderOptionsList()}\n\t\t\t\t</ul>\n\t\t\t\t<Modal\n\t\t\t\t\ttitle=\"Restart Required\"\n\t\t\t\t\tvisible={this.state.showRestartModal}\n\t\t\t\t\tclassName=\"delete-modal\"\n\t\t\t\t\tcentered\n\t\t\t\t\tonOk={this.restartHandler}\n\t\t\t\t\tafterClose={() => document.body.style.removeProperty(\"overflow\")}\n\t\t\t\t\tokType=\"danger\"\n\t\t\t\t\tokText=\"Restart\"\n\t\t\t\t\tcancelText=\"Wait\"\n\t\t\t\t\tclosable={false}\n\t\t\t\t\tonCancel={() => this.setState({ showRestartModal: false })}\n\t\t\t\t>\n\t\t\t\t\t<p>\n\t\t\t\t\t\tThis configuration change requires an app restart to take effect, do you want to restart\n\t\t\t\t\t\tnow or wait?\n\t\t\t\t\t</p>\n\t\t\t\t</Modal>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nconst mapStateToProps = (state) => {\n\treturn {\n\t\tquery: state.nodes.query,\n\t\ttotalNodes: state.nodes.totalItems,\n\t\tisFetching: state.nodes.isFetching,\n\t};\n};\n\nexport default connect(mapStateToProps, { fetchNodes, loadTheme })(OptionsList);\n","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { Layout, message, Icon, Button, Modal } from 'antd';\nimport { Formik, Form, Field, ErrorMessage } from 'formik';\nimport * as Yup from 'yup';\n// custom code\nimport {\n\tfetchUserByUsername,\n\tupdateUserInfo,\n\tupdateUserAvatar,\n\tupdateUserHeader,\n\tupdateUsername,\n\tupdateEmail,\n\tchangePassword,\n\tclearAllNodes,\n\tshowComponent,\n\tgenerateInstanceExport,\n\tregenerateCollectionPreviews,\n\thideComponent,\n} from '../../api/redux/actions';\nimport './css/Options.less';\n// import IOBar from '../elements/IOBar';\n// import NodeList from '../elements/node/NodeList';\nimport OptionsList from '../elements/options/OptionsList';\nimport MainSider from '../elements/MainSider';\nimport IOBar from '../elements/IOBar';\n// import default images\nimport defaultHeader from '../../resources/cloud9.png';\nimport defaultAvatar from '../../resources/synthona-logo.png';\n\nconst { Content } = Layout;\n\nclass Options extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\tshowPasswordModal: false,\n\t\t\tshowDeleteNodesModal: false,\n\t\t\tshowExportModal: false,\n\t\t\tinitialized: false,\n\t\t\tusername: '',\n\t\t\temail: '',\n\t\t\tdisplayName: '',\n\t\t\tbio: '',\n\t\t\tavatar: null,\n\t\t\theader: null,\n\t\t};\n\t}\n\n\tcomponentDidMount() {\n\t\tdocument.title = `Edit Profile`;\n\t\t// temporary fix to undo whatever is setting overflow hidden on-login\n\t\tdocument.body.style.removeProperty('overflow');\n\t\tthis.initializeFromUrlParams();\n\t}\n\n\tupdatePassword = (values, { setSubmitting }) => {\n\t\tthis.togglePasswordModal();\n\t\tsetSubmitting(false);\n\t\tthis.props.changePassword(values);\n\t};\n\n\thandleClearNodes = (values, { setSubmitting }) => {\n\t\tthis.toggleDeleteNodesModal();\n\t\tsetSubmitting(false);\n\t\tthis.props.clearAllNodes(values);\n\t};\n\n\t// show modal to confirm deletion\n\ttogglePasswordModal = () => {\n\t\tif (this.state.showPasswordModal) {\n\t\t\tthis.setState({ showPasswordModal: false });\n\t\t} else {\n\t\t\tthis.setState({ showPasswordModal: true });\n\t\t}\n\t};\n\n\t// show modal to confirm deletion\n\ttoggleDeleteNodesModal = () => {\n\t\tif (this.state.showDeleteNodesModal) {\n\t\t\tthis.setState({ showDeleteNodesModal: false });\n\t\t} else {\n\t\t\tthis.setState({ showDeleteNodesModal: true });\n\t\t}\n\t};\n\n\t// show confirm export modal\n\ttoggleExportModal = () => {\n\t\tif (this.state.showExportModal) {\n\t\t\tthis.setState({ showExportModal: false });\n\t\t} else {\n\t\t\tthis.setState({ showExportModal: true });\n\t\t}\n\t};\n\n\t// delete the node\n\texportHandler = async () => {\n\t\tthis.setState({ showExportModal: false });\n\t\tawait this.props.generateInstanceExport();\n\t};\n\n\tpasswordModal = () => {\n\t\treturn (\n\t\t\t<Formik\n\t\t\t\tinitialValues={{ oldPassword: '', newPassword: '', confirmNewPassword: '' }}\n\t\t\t\tvalidationSchema={validationSchema}\n\t\t\t\tonSubmit={this.updatePassword}\n\t\t\t\tstyle={{ display: 'inline-block' }}\n\t\t\t>\n\t\t\t\t{({ isSubmitting }) => (\n\t\t\t\t\t<Form className='password-modal-form'>\n\t\t\t\t\t\t<Field\n\t\t\t\t\t\t\ttype='password'\n\t\t\t\t\t\t\tname='oldPassword'\n\t\t\t\t\t\t\tplaceholder='old password'\n\t\t\t\t\t\t\tclassName='password-modal-field'\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<ErrorMessage name='oldPassword' component='div' />\n\t\t\t\t\t\t<Field\n\t\t\t\t\t\t\ttype='password'\n\t\t\t\t\t\t\tname='newPassword'\n\t\t\t\t\t\t\tplaceholder='new password'\n\t\t\t\t\t\t\tclassName='password-modal-field'\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<ErrorMessage name='newPassword' component='div' />\n\t\t\t\t\t\t<Field\n\t\t\t\t\t\t\ttype='password'\n\t\t\t\t\t\t\tname='confirmNewPassword'\n\t\t\t\t\t\t\tplaceholder='confirm new password'\n\t\t\t\t\t\t\tclassName='password-modal-field'\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<ErrorMessage name='confirmNewPassword' component='div' />\n\t\t\t\t\t\t<button type='submit' disabled={isSubmitting}>\n\t\t\t\t\t\t\tchange password\n\t\t\t\t\t\t</button>\n\t\t\t\t\t</Form>\n\t\t\t\t)}\n\t\t\t</Formik>\n\t\t);\n\t};\n\n\tdeleteAllNodesModal = () => {\n\t\treturn (\n\t\t\t<Formik\n\t\t\t\tinitialValues={{ passwordValue: '', confirmPassword: '' }}\n\t\t\t\tvalidationSchema={deleteNodesValidation}\n\t\t\t\tonSubmit={this.handleClearNodes}\n\t\t\t\tstyle={{ display: 'inline-block' }}\n\t\t\t>\n\t\t\t\t{({ isSubmitting }) => (\n\t\t\t\t\t<Form className='password-modal-form'>\n\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\tAre you are you want to delete all nodes and associations for this user? This action\n\t\t\t\t\t\t\tis not reversible, it's recommended that u make a backup first.\n\t\t\t\t\t\t</p>\n\t\t\t\t\t\t<Field\n\t\t\t\t\t\t\ttype='password'\n\t\t\t\t\t\t\tname='passwordValue'\n\t\t\t\t\t\t\tplaceholder='password'\n\t\t\t\t\t\t\tclassName='password-modal-field'\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<ErrorMessage name='passwordValue' component='div' />\n\t\t\t\t\t\t<Field\n\t\t\t\t\t\t\ttype='password'\n\t\t\t\t\t\t\tname='confirmPassword'\n\t\t\t\t\t\t\tplaceholder='confirm password'\n\t\t\t\t\t\t\tclassName='password-modal-field'\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<ErrorMessage name='confirmPassword' component='div' />\n\t\t\t\t\t\t<button\n\t\t\t\t\t\t\ttype='danger'\n\t\t\t\t\t\t\tdisabled={isSubmitting}\n\t\t\t\t\t\t\tstyle={{ color: 'white', backgroundColor: 'red' }}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\tyes, i want to delete all my data\n\t\t\t\t\t\t</button>\n\t\t\t\t\t</Form>\n\t\t\t\t)}\n\t\t\t</Formik>\n\t\t);\n\t};\n\n\t// load the profile\n\tinitializeFromUrlParams = async () => {\n\t\t// fetch the user info from the server\n\t\tconst user = await this.props.fetchUserByUsername(this.props.user.username);\n\t\tif (user && !this.state.initialized) {\n\t\t\tthis.setState({\n\t\t\t\tinitialized: true,\n\t\t\t\tusername: user.username,\n\t\t\t\temail: this.props.user.email,\n\t\t\t\tdisplayName: user.displayName,\n\t\t\t\tbio: user.bio,\n\t\t\t\tavatar: user.avatar,\n\t\t\t\theader: user.header,\n\t\t\t});\n\t\t} else {\n\t\t\tmessage.error('there was a problem loading your profile');\n\t\t\tthis.props.history.push('/');\n\t\t}\n\t};\n\n\t// select an image.\n\tsetAvatar = () => {\n\t\tconst input = document.createElement('input');\n\t\tinput.setAttribute('type', 'file');\n\t\tinput.click();\n\t\t// Listen for uploading local image, then save to server\n\t\tinput.onchange = async () => {\n\t\t\tconst file = input.files[0];\n\t\t\t// make sure file is an image\n\t\t\tif (/^image\\//.test(file.type)) {\n\t\t\t\t// save the image to the server\n\t\t\t\tconst url = await this.props.updateUserAvatar(file);\n\t\t\t\tthis.setState({ avatar: url });\n\t\t\t} else {\n\t\t\t\tmessage.error('The file must be an image', 1);\n\t\t\t}\n\t\t};\n\t};\n\n\tsetHeader = () => {\n\t\tconst input = document.createElement('input');\n\t\tinput.setAttribute('type', 'file');\n\t\tinput.click();\n\t\t// Listen for uploading local image, then save to server\n\t\tinput.onchange = async () => {\n\t\t\tconst file = input.files[0];\n\t\t\t// make sure file is an image\n\t\t\tif (/^image\\//.test(file.type)) {\n\t\t\t\t// save the image to the server\n\t\t\t\tconst url = await this.props.updateUserHeader(file);\n\t\t\t\tthis.setState({ header: url });\n\t\t\t} else {\n\t\t\t\tmessage.error('The file must be an image', 1);\n\t\t\t}\n\t\t};\n\t};\n\n\t// render display name\n\trenderDisplayName = () => {\n\t\treturn (\n\t\t\t<input\n\t\t\t\ttype='text'\n\t\t\t\tclassName='Options-display-name'\n\t\t\t\tplaceholder='Display Name'\n\t\t\t\tvalue={this.state.displayName}\n\t\t\t\tonChange={(e) => this.saveDisplayName(e.target.value)}\n\t\t\t></input>\n\t\t);\n\t};\n\n\t// update and save the displayName\n\tsaveDisplayName = (displayName) => {\n\t\tif (this.state.displayName !== displayName) {\n\t\t\tthis.props.updateUserInfo({\n\t\t\t\tusername: this.props.user.username,\n\t\t\t\tdisplayName: displayName,\n\t\t\t});\n\t\t\tlocalStorage.setItem('displayName', displayName);\n\t\t\tdocument.title = displayName;\n\t\t\tthis.setState({ displayName });\n\t\t}\n\t};\n\n\t// render the profile bio\n\trenderBio = () => {\n\t\treturn (\n\t\t\t<textarea\n\t\t\t\ttype='text'\n\t\t\t\tclassName='Options-bio'\n\t\t\t\tplaceholder='Bio'\n\t\t\t\tvalue={this.state.bio}\n\t\t\t\tonChange={(e) => this.saveBio(e.target.value)}\n\t\t\t></textarea>\n\t\t);\n\t};\n\n\t// update and save the bio\n\tsaveBio = (bio) => {\n\t\tif (this.state.bio !== bio) {\n\t\t\tthis.props.updateUserInfo({\n\t\t\t\tusername: this.props.user.username,\n\t\t\t\tbio: bio,\n\t\t\t});\n\t\t\tthis.setState({ bio });\n\t\t}\n\t};\n\n\t// render the profile username\n\trenderUsername = () => {\n\t\treturn (\n\t\t\t<input\n\t\t\t\ttype='text'\n\t\t\t\tclassName='Options-standard-input'\n\t\t\t\tplaceholder='username'\n\t\t\t\tvalue={this.state.username}\n\t\t\t\tonChange={(e) => this.saveUsername(e.target.value)}\n\t\t\t></input>\n\t\t);\n\t};\n\n\t// update and save the username\n\tsaveUsername = (username) => {\n\t\tif (this.state.username !== username) {\n\t\t\tthis.props.updateUsername(username);\n\t\t\tthis.setState({ username });\n\t\t}\n\t};\n\n\t// render the profile email\n\trenderEmail = () => {\n\t\treturn (\n\t\t\t<input\n\t\t\t\ttype='text'\n\t\t\t\tclassName='Options-standard-input'\n\t\t\t\tplaceholder='email'\n\t\t\t\tvalue={this.state.email}\n\t\t\t\tonChange={(e) => this.saveEmail(e.target.value)}\n\t\t\t></input>\n\t\t);\n\t};\n\n\t// update and save the email\n\tsaveEmail = (email) => {\n\t\tif (this.state.email !== email) {\n\t\t\tthis.props.updateEmail(email);\n\t\t\tthis.setState({ email });\n\t\t}\n\t};\n\n\trenderMainSider = () => {\n\t\tif (this.props.mainSider) {\n\t\t\treturn <MainSider />;\n\t\t}\n\t};\n\n\tcomponentWillUnmount() {\n\t\t// remove any selections on exit\n\t\twindow.getSelection().removeAllRanges();\n\t\t// hide mainsider again\n\t\tthis.props.hideComponent('mainSider');\n\t}\n\n\trender() {\n\t\treturn (\n\t\t\t<Layout className='Options-container'>\n\t\t\t\t{/* \t<MainSider showMask={false} animate={false} />*/}\n\t\t\t\t{this.renderMainSider()}\n\t\t\t\t<Layout>\n\t\t\t\t\t<Content className='Options'>\n\t\t\t\t\t\t<IOBar />\n\t\t\t\t\t\t<div className='Options-card'>\n\t\t\t\t\t\t\t<button onClick={this.setHeader}>\n\t\t\t\t\t\t\t\t<div className='Options-header'>\n\t\t\t\t\t\t\t\t\t<Icon type='camera' className='Options-header-edit-icon' />\n\t\t\t\t\t\t\t\t\t<img src={this.state.header || defaultHeader} alt='example' draggable='false' />\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t<button onClick={this.setAvatar}>\n\t\t\t\t\t\t\t\t<div className='Options-avatar'>\n\t\t\t\t\t\t\t\t\t<Icon type='camera' className='Options-avatar-edit-icon' />\n\t\t\t\t\t\t\t\t\t<img src={this.state.avatar || defaultAvatar} alt={'profile'} draggable='false' />\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t<div className='Options-info'>\n\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\ttype='default'\n\t\t\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\t\t\tmargin: '0 0 10px',\n\t\t\t\t\t\t\t\t\t\tbackgroundColor: 'white',\n\t\t\t\t\t\t\t\t\t\twidth: '10rem',\n\t\t\t\t\t\t\t\t\t\tpadding: '0.5rem',\n\t\t\t\t\t\t\t\t\t\tdisplay: 'inline-block',\n\t\t\t\t\t\t\t\t\t\ttextAlign: 'center',\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\tonClick={(e) => {\n\t\t\t\t\t\t\t\t\t\tthis.toggleExportModal();\n\t\t\t\t\t\t\t\t\t\t// this.props.generateInstanceExport();\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\texport all user data\n\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t<br />\n\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\ttype='default'\n\t\t\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\t\t\tmargin: '0 0 10px',\n\t\t\t\t\t\t\t\t\t\tbackgroundColor: 'white',\n\t\t\t\t\t\t\t\t\t\twidth: '10rem',\n\t\t\t\t\t\t\t\t\t\tpadding: '0.5rem',\n\t\t\t\t\t\t\t\t\t\tdisplay: 'inline-block',\n\t\t\t\t\t\t\t\t\t\ttextAlign: 'center',\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\tonClick={(e) => this.togglePasswordModal()}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\tchange password\n\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t<br />\n\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\ttype='default'\n\t\t\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\t\t\tmargin: '0 0 10px',\n\t\t\t\t\t\t\t\t\t\tbackgroundColor: 'white',\n\t\t\t\t\t\t\t\t\t\twidth: '10rem',\n\t\t\t\t\t\t\t\t\t\tpadding: '0.5rem',\n\t\t\t\t\t\t\t\t\t\tdisplay: 'inline-block',\n\t\t\t\t\t\t\t\t\t\ttextAlign: 'center',\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\tonClick={(e) => {\n\t\t\t\t\t\t\t\t\t\twindow.location.replace(`/profile/${this.props.user.username}`);\n\t\t\t\t\t\t\t\t\t\tthis.props.regenerateCollectionPreviews();\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\tregenerate previews\n\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t<br />\n\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\ttype='danger'\n\t\t\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\t\t\tmargin: '0 0 10px',\n\t\t\t\t\t\t\t\t\t\tbackgroundColor: 'red',\n\t\t\t\t\t\t\t\t\t\twidth: '10rem',\n\t\t\t\t\t\t\t\t\t\tpadding: '0.5rem',\n\t\t\t\t\t\t\t\t\t\tdisplay: 'inline-block',\n\t\t\t\t\t\t\t\t\t\ttextAlign: 'center',\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\tonClick={(e) => this.toggleDeleteNodesModal()}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\tdelete all data\n\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t<br />\n\t\t\t\t\t\t\t\t{this.renderDisplayName()}\n\t\t\t\t\t\t\t\t{this.renderUsername()}\n\t\t\t\t\t\t\t\t{this.renderEmail()}\n\t\t\t\t\t\t\t\t{this.renderBio()}\n\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\ttype='default'\n\t\t\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\t\t\tmargin: '0 0 10px',\n\t\t\t\t\t\t\t\t\t\tbackgroundColor: 'white',\n\t\t\t\t\t\t\t\t\t\twidth: '4rem',\n\t\t\t\t\t\t\t\t\t\tdisplay: 'inline-block',\n\t\t\t\t\t\t\t\t\t\ttextAlign: 'center',\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\tonClick={(e) => this.props.history.push(`/profile/${this.props.user.username}`)}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\tdone\n\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t<Modal\n\t\t\t\t\t\t\t\t\ttitle='change password'\n\t\t\t\t\t\t\t\t\tvisible={this.state.showPasswordModal}\n\t\t\t\t\t\t\t\t\tclassName='password-modal'\n\t\t\t\t\t\t\t\t\tcentered\n\t\t\t\t\t\t\t\t\tafterClose={() => document.body.style.removeProperty('overflow')}\n\t\t\t\t\t\t\t\t\tfooter={null}\n\t\t\t\t\t\t\t\t\tclosable={false}\n\t\t\t\t\t\t\t\t\tonCancel={this.togglePasswordModal}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{this.passwordModal()}\n\t\t\t\t\t\t\t\t</Modal>\n\t\t\t\t\t\t\t\t<Modal\n\t\t\t\t\t\t\t\t\ttitle='delete all data'\n\t\t\t\t\t\t\t\t\tvisible={this.state.showDeleteNodesModal}\n\t\t\t\t\t\t\t\t\tclassName='password-modal'\n\t\t\t\t\t\t\t\t\tcentered\n\t\t\t\t\t\t\t\t\tafterClose={() => document.body.style.removeProperty('overflow')}\n\t\t\t\t\t\t\t\t\tfooter={null}\n\t\t\t\t\t\t\t\t\tclosable={false}\n\t\t\t\t\t\t\t\t\tonCancel={this.toggleDeleteNodesModal}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{this.deleteAllNodesModal()}\n\t\t\t\t\t\t\t\t</Modal>\n\t\t\t\t\t\t\t\t<Modal\n\t\t\t\t\t\t\t\t\ttitle='Confirm Export'\n\t\t\t\t\t\t\t\t\tvisible={this.state.showExportModal}\n\t\t\t\t\t\t\t\t\tclassName='delete-modal'\n\t\t\t\t\t\t\t\t\tcentered\n\t\t\t\t\t\t\t\t\tonOk={this.exportHandler}\n\t\t\t\t\t\t\t\t\tokText='Generate'\n\t\t\t\t\t\t\t\t\tclosable={false}\n\t\t\t\t\t\t\t\t\tafterClose={() => document.body.style.removeProperty('overflow')}\n\t\t\t\t\t\t\t\t\tonCancel={this.toggleExportModal}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\t\t\t\tGenerate export from <b>{this.props.user.displayName || 'untitled'}</b>? The\n\t\t\t\t\t\t\t\t\t\texport will contain the profile picture, header, bio, along with all this user's\n\t\t\t\t\t\t\t\t\t\tnodes & associations, and appear in your favorites when it is completed. This\n\t\t\t\t\t\t\t\t\t\tmay take a few minutes.\n\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t</Modal>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<OptionsList />\n\t\t\t\t\t</Content>\n\t\t\t\t</Layout>\n\t\t\t</Layout>\n\t\t);\n\t}\n}\n\nconst validationSchema = Yup.object().shape({\n\toldPassword: Yup.string().required('old password is required'),\n\tnewPassword: Yup.string()\n\t\t.min(5, 'Password has to be longer than 6 characters!')\n\t\t.required('password is required'),\n\tconfirmNewPassword: Yup.string()\n\t\t.required('please confirm new password')\n\t\t.oneOf([Yup.ref('newPassword')], \"Your passwords don't match\"),\n});\n\nconst deleteNodesValidation = Yup.object().shape({\n\tpasswordValue: Yup.string()\n\t\t.min(5, 'Password has to be longer than 6 characters!')\n\t\t.required('password is required'),\n\tconfirmPassword: Yup.string()\n\t\t.required('please confirm password')\n\t\t.min(5, 'Password has to be longer than 6 characters!')\n\t\t.oneOf([Yup.ref('passwordValue')], \"Your passwords don't match\"),\n});\n\nconst mapStateToProps = (state) => {\n\treturn { user: state.auth.user, mainSider: state.components.componentList['mainSider'] };\n};\n\nexport default connect(mapStateToProps, {\n\tfetchUserByUsername,\n\tupdateUserInfo,\n\tupdateUserAvatar,\n\tupdateUserHeader,\n\tupdateUsername,\n\tupdateEmail,\n\tclearAllNodes,\n\tchangePassword,\n\tshowComponent,\n\tgenerateInstanceExport,\n\tregenerateCollectionPreviews,\n\thideComponent,\n})(Options);\n","import React from 'react';\nimport { Layout } from 'antd';\n// custom code\nimport './css/Page.less';\n// destructure antd components\nconst { Content } = Layout;\n\nconst MainContent = (props) => {\n  return (\n    <Layout className='page-content'>\n      <Content style={{ backgroundColor: '#272727' }}>{props.children}</Content>\n    </Layout>\n  );\n};\n\nexport default MainContent;\n","import React, { Component } from 'react';\nimport { Layout } from 'antd';\n// custom code\nimport '../elements/css/Page.less';\nimport MainContent from '../elements/MainContent';\nimport IOBar from '../elements/IOBar';\nimport MainSider from '../elements/MainSider';\n\nclass Activity extends Component {\n  render() {\n    return (\n      <Layout className='page-layout'>\n        <IOBar />\n        <Layout>\n          <MainSider />\n          <MainContent />\n        </Layout>\n      </Layout>\n    );\n  }\n}\n\nexport default Activity;\n","import React, { Component, Fragment } from 'react';\nimport { connect } from 'react-redux';\n// custom code\nimport '../node/NodeList.less';\nimport { fetchAssociations, getRandomNode } from '../../../api/redux/actions';\nimport NodeCard from '../node/NodeCard';\nimport AssociationSider from './AssociationSider';\nimport Spinner from '../Spinner';\n\nclass AssociationList extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\ttopOfPage: false,\n\t\t\t// redirectInterval: setInterval(this.advanceToRandomNode, 333),\n\t\t};\n\t}\n\n\tcomponentDidMount() {\n\t\twindow.addEventListener('scroll', this.infiniteScroll);\n\t\t// window.addEventListener('mousemove', this.resetAdvanceCounter);\n\t\t// this.advanceToRandomNode();\n\t}\n\n\tcomponentWillUnmount() {\n\t\twindow.removeEventListener('scroll', this.infiniteScroll);\n\t}\n\n\t// resetAdvanceCounter = () => {\n\t// \tconsole.log('removing interval');\n\t// \tconsole.log(this.state.redirectInterval);\n\t// \tif (this.state.redirectInterval) {\n\t// \t\tclearInterval(this.state.redirectInterval);\n\t// \t\tthis.setState({ redirectInterval: setInterval(this.advanceToRandomNode, 10000) });\n\t// \t}\n\t// };\n\n\t// commenting this out for now.\n\t// was experimenting with random automated wandering, screensaver style\n\t// maybe will revisit this\n\t// advanceToRandomNode = () => {\n\t// \tlet flash = localStorage.getItem('flash');\n\t// \tconsole.log(flash);\n\t// \tif (flash) {\n\t// \t\twindow.location.replace(`/flash`);\n\t// \t\treturn;\n\t// \t}\n\t// \tlet maxNumber = Math.floor(Math.random() * this.props.associations.length + 1);\n\t// \tif (this.props.associations.length > 0) {\n\t// \t\tlet uuid = this.props.associations[this.props.associations.length - maxNumber].uuid;\n\t// \t\twindow.location.replace(`/associations/${uuid}`);\n\t// \t} else {\n\t// \t\tthis.props.getRandomNode();\n\t// \t}\n\t// \tlocalStorage.setItem('flash', true);\n\t// };\n\n\tinfiniteScroll = (e) => {\n\t\tvar currentListLength = this.props.associations.length;\n\t\tif (\n\t\t\tthis.endReached() &&\n\t\t\tthis.props.activeNode &&\n\t\t\tcurrentListLength < this.props.totalNodes &&\n\t\t\t!this.props.isFetching\n\t\t) {\n\t\t\tthis.setState({ topOfPage: false });\n\t\t\t// fetch the next page\n\t\t\tthis.props.fetchAssociations({\n\t\t\t\tpage: this.props.page + 1,\n\t\t\t\tnodeUUID: this.props.activeNode.uuid,\n\t\t\t});\n\t\t}\n\t};\n\n\tendReached = () => {\n\t\t// window calculations to tell when the user scrolls to the bottom\n\t\tconst windowHeight =\n\t\t\t'innerHeight' in window ? window.innerHeight : document.documentElement.offsetHeight;\n\t\tconst body = document.body;\n\t\tconst html = document.documentElement;\n\t\tconst docHeight = Math.max(\n\t\t\tbody.scrollHeight,\n\t\t\tbody.offsetHeight,\n\t\t\thtml.clientHeight,\n\t\t\thtml.scrollHeight,\n\t\t\thtml.offsetHeight\n\t\t);\n\t\tconst windowBottom = windowHeight + window.pageYOffset;\n\t\t// check if the top is reached\n\t\tif (window.pageYOffset < 1 && !this.props.isFetching && !this.state.topOfPage) {\n\t\t\tthis.setState({ topOfPage: true });\n\t\t\t// at the top of the page, reset the associationlist\n\t\t\tthis.props.fetchAssociations({\n\t\t\t\tpage: 1,\n\t\t\t\tnodeUUID: this.props.activeNode.uuid,\n\t\t\t});\n\t\t}\n\t\t// TODO: need to find a way to calculate the \"window top\" as well\n\t\t// so i can decrement the page number when the user scrolls up\n\t\t// this is necessary so redux doesn't have to store everything\n\t\treturn windowBottom >= docHeight - 733;\n\t};\n\n\trenderNodes = () => {\n\t\t// go through the list of nodes and render them to the page\n\t\tconst associationList = this.props.associations;\n\t\t// render the association list as cards\n\t\tif (associationList !== null) {\n\t\t\treturn associationList.map((association) => {\n\t\t\t\treturn (\n\t\t\t\t\t<NodeCard key={association.uuid} node={association} activeNode={this.props.activeNode} />\n\t\t\t\t);\n\t\t\t});\n\t\t} else {\n\t\t\treturn <Spinner></Spinner>;\n\t\t}\n\t};\n\n\trenderList = () => {\n\t\tif (this.props.totalNodes > 0) {\n\t\t\treturn (\n\t\t\t\t<ul style={{ backgroundColor: 'black' }} className='nodelist'>\n\t\t\t\t\t{this.renderNodes()}\n\t\t\t\t</ul>\n\t\t\t);\n\t\t} else {\n\t\t\treturn <Fragment></Fragment>;\n\t\t}\n\t};\n\n\trender() {\n\t\treturn (\n\t\t\t<div>\n\t\t\t\t{this.renderList()}\n\t\t\t\t<AssociationSider />\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nconst mapStateToProps = (state) => {\n\treturn {\n\t\tassociations: state.associations.associationList,\n\t\tisFetching: state.associations.isFetching,\n\t\tactiveNode: state.nodes.activeNode,\n\t\tpage: state.associations.associationListPage,\n\t\ttotalNodes: state.associations.totalAssociationListItems,\n\t};\n};\n\nexport default connect(mapStateToProps, { fetchAssociations, getRandomNode })(AssociationList);\n","export const renderlink = (renderlink) => {\n\tlet type = renderlink.split(\"/\")[4];\n\tlet uuid = renderlink.split(\"/\")[5];\n\n\tswitch (type) {\n\t\tcase \"text\":\n\t\t\twindow.location.replace(`/edit/text/${uuid}`);\n\t\t\tbreak;\n\t\tcase \"file\":\n\t\t\twindow.location.replace(`/launch-file/${uuid}`);\n\t\t\tbreak;\n\t\tcase \"audio\":\n\t\t\twindow.location.replace(`/launch-file/${uuid}`);\n\t\t\tbreak;\n\t\tcase \"folder\":\n\t\t\twindow.location.replace(`/launch-file/${uuid}`);\n\t\t\tbreak;\n\t\tcase \"image\":\n\t\t\twindow.location.replace(`/associations/${uuid}`);\n\t\t\tbreak;\n\t\tcase \"collection\":\n\t\t\twindow.location.replace(`/associations/${uuid}`);\n\t\t\tbreak;\n\t\tcase \"zip\":\n\t\t\twindow.location.replace(`/associations/${uuid}`);\n\t\t\tbreak;\n\t\tcase \"package\":\n\t\t\twindow.location.replace(`/associations/${uuid}`);\n\t\t\tbreak;\n\t\tcase \"user\":\n\t\t\twindow.location.replace(`/associations/${uuid}`);\n\t\t\tbreak;\n\t\tdefault:\n\t\t\twindow.open(renderlink, \"_blank\");\n\t\t\tbreak;\n\t}\n};\n","import React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport ReactQuill, { Quill } from \"react-quill\";\nimport Delta from \"quill-delta\";\n// import BlotFormatter, { AlignAction, DeleteAction, ImageSpec } from 'quill-blot-formatter';\nimport { Layout, message } from \"antd\";\nimport \"react-quill/dist/quill.snow.css\";\nimport AssociationList from \"../elements/association/AssociationList\";\nimport AssociationSider from \"../elements/association/AssociationSider\";\nimport NodeCardHeaderFull from \"../elements/node/NodeCardHeaderFull\";\nimport IOBar from \"../elements/IOBar\";\n// custom components\nimport Spinner from \"../elements/Spinner\";\nimport { renderlink } from \"../../utils/renderlink\";\n// redux handlers\nimport {\n\teditTextNode,\n\tprocessTextNode,\n\tcreateFileNode,\n\tsetActiveNode,\n\tcontextualCreate,\n\tupdateNode,\n\tfetchAssociations,\n\tmarkNodeView,\n} from \"../../api/redux/actions\";\n// import custom editor css\nimport \"./QuillEditor.less\";\nimport MainSider from \"../elements/MainSider\";\n// destructure antd components\nconst { Content } = Layout;\n\n// register custom clipboard to handle bugs with the way the default one works\nconst Clipboard = Quill.import(\"modules/clipboard\");\n// https://github.com/quilljs/quill/issues/1374\nclass CustomClipboard extends Clipboard {\n\tonPaste(e) {\n\t\t// get current page offset before paste\n\t\tconst top = window.scrollY;\n\t\tconst left = window.scrollX;\n\n\t\tif (e.defaultPrevented || !this.quill.isEnabled()) return;\n\t\tlet range = this.quill.getSelection();\n\t\tlet delta = new Delta().retain(range.index);\n\t\tthis.container.style.top =\n\t\t\t(\n\t\t\t\twindow.pageYOffset ||\n\t\t\t\tdocument.documentElement.scrollTop ||\n\t\t\t\tdocument.body.scrollTop ||\n\t\t\t\t0\n\t\t\t).toString() + \"px\";\n\t\tthis.container.focus();\n\t\tsetTimeout(() => {\n\t\t\tthis.quill.selection.update(Quill.sources.SILENT);\n\t\t\tdelta = delta.concat(this.convert()).delete(range.length);\n\t\t\tthis.quill.updateContents(delta, Quill.sources.USER);\n\t\t\tthis.quill.setSelection(delta.length() - range.length, Quill.sources.SILENT);\n\t\t\tlet bounds = this.quill.getBounds(delta.length() - range.length, Quill.sources.SILENT);\n\t\t\tthis.quill.scrollingContainer.scrollTop = bounds.top;\n\n\t\t\t// scroll window to previous position after paste\n\t\t\twindow.scrollTo({ top, left });\n\t\t}, 1);\n\t}\n}\n\nQuill.register(\"modules/clipboard\", CustomClipboard, true);\n\n// register custom LINK\nvar Link = Quill.import(\"formats/link\");\nclass CustomLink extends Link {\n\tstatic create(value) {\n\t\tlet node = super.create(value);\n\t\t// value = this.sanitize(value);\n\t\tnode.setAttribute(\"href\", value);\n\t\tnode.removeAttribute(\"target\");\n\t\tnode.addEventListener(\"click\", function (e) {\n\t\t\tif (e.shiftKey) {\n\t\t\t\tif (value.includes(\"renderlink\")) {\n\t\t\t\t\trenderlink(value);\n\t\t\t\t} else {\n\t\t\t\t\twindow.open(value, \"_blank\");\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t\tnode.addEventListener(\"contextmenu\", function (e) {\n\t\t\te.preventDefault();\n\t\t\tif (value.includes(\"renderlink\")) {\n\t\t\t\trenderlink(value);\n\t\t\t} else {\n\t\t\t\twindow.open(value, \"_blank\");\n\t\t\t}\n\t\t});\n\t\treturn node;\n\t}\n}\n\nQuill.register(CustomLink, true);\n\nclass QuillEditor extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\ttext: \"\",\n\t\t\tname: \"\",\n\t\t\texpanded: localStorage.getItem(\"expanded\"),\n\t\t\tuuid: null,\n\t\t\terror: null,\n\t\t\tinitializing: false,\n\t\t\treadOnly: true,\n\t\t};\n\t\tthis.handleChange = this.handleChange.bind(this);\n\t}\n\n\tref = (quill) => {\n\t\tthis.quill = quill;\n\t};\n\n\tcomponentDidMount() {\n\t\tdocument.body.style.overflow = \"auto\";\n\t\tdocument.body.style.height = \"100%\";\n\t\tdocument.documentElement.style.height = \"100%\";\n\t\t// prevent quill from jumping to top\n\t\tdocument.querySelectorAll(\".ql-picker\").forEach((tool) => {\n\t\t\ttool.addEventListener(\"mousedown\", function (event) {\n\t\t\t\tevent.preventDefault();\n\t\t\t\tevent.stopPropagation();\n\t\t\t});\n\t\t});\n\t\t// initialize\n\t\tthis.initializeFromUrlParams();\n\t}\n\n\tcomponentDidUpdate = async () => {\n\t\t// prevent quill from jumping to top\n\t\tdocument.querySelectorAll(\".ql-picker\").forEach((tool) => {\n\t\t\ttool.addEventListener(\"mousedown\", function (event) {\n\t\t\t\tevent.preventDefault();\n\t\t\t\tevent.stopPropagation();\n\t\t\t});\n\t\t});\n\t\t// if the url has changed reload\n\t\tvar textUUID = this.props.match.params.uuid;\n\t\tif (this.state.uuid !== textUUID && this.state.initializing === false) {\n\t\t\tthis.setState({\n\t\t\t\ttext: \"\",\n\t\t\t\tname: \"\",\n\t\t\t\texpanded: localStorage.getItem(\"expanded\"),\n\t\t\t\tuuid: null,\n\t\t\t\terror: null,\n\t\t\t\tinitializing: true,\n\t\t\t\treadOnly: true,\n\t\t\t});\n\t\t\tthis.regeneratePreview();\n\t\t\tthis.initializeFromUrlParams();\n\t\t}\n\t\tlet quillScrollY = JSON.parse(localStorage.getItem(\"quillScrollY\"));\n\t\tif (quillScrollY && quillScrollY.uuid === textUUID) {\n\t\t\twindow.scrollTo({ top: quillScrollY.scroll });\n\t\t}\n\t};\n\n\t// load the text node and set the local id state.\n\tinitializeFromUrlParams = async () => {\n\t\t// check url params\n\t\tvar textUUID = this.props.match.params.uuid;\n\t\twindow.addEventListener(\"scroll\", () => {\n\t\t\tlocalStorage.setItem(\n\t\t\t\t\"quillScrollY\",\n\t\t\t\tJSON.stringify({\n\t\t\t\t\tuuid: textUUID,\n\t\t\t\t\tscroll: window.scrollY,\n\t\t\t\t})\n\t\t\t);\n\t\t});\n\t\t// clear short term memory from last time\n\t\tlocalStorage.removeItem(\"exclusionData\");\n\t\t// set the local state id equal to the value in the url\n\t\tthis.setState({ uuid: textUUID });\n\t\tawait this.props.setActiveNode(textUUID);\n\t\tif (this.props.nodeData && this.props.nodeData.content) {\n\t\t\t// if there is content set the local editor state equal to it\n\t\t\tdocument.title = this.props.nodeData.name || \"Untitled\";\n\t\t\tvar textValue = JSON.parse(this.props.nodeData.content);\n\t\t\tthis.setState({\n\t\t\t\ttext: textValue,\n\t\t\t\tname: this.props.nodeData.name,\n\t\t\t\tinitializing: false,\n\t\t\t\treadOnly: false,\n\t\t\t});\n\t\t\tthis.props.markNodeView(this.props.nodeData);\n\t\t\t// clear undo history to prevent undo from deleting everything\n\t\t\tconst editor = this.quill.getEditor();\n\t\t\teditor.history.clear();\n\t\t\tthis.props.fetchAssociations({ nodeUUID: textUUID });\n\t\t} else {\n\t\t\t// if there's no content return an error message\n\t\t\tthis.setState({ error: true });\n\t\t\tthis.props.history.push(\"/\");\n\t\t}\n\t};\n\n\t// toggle fullscreen\n\texpandHandler = () => {\n\t\tif (this.state.expanded === null) {\n\t\t\tthis.setState({ expanded: \"expanded\" });\n\t\t\tlocalStorage.setItem(\"expanded\", \"expanded\");\n\t\t} else {\n\t\t\tthis.setState({ expanded: null });\n\t\t\tlocalStorage.removeItem(\"expanded\");\n\t\t}\n\t\tthis.quill.getEditor().disable();\n\t};\n\n\t// exit the editor and return to the home screen\n\texitHandler = async () => {\n\t\t// generate the preview and do whatever processing will be\n\t\t// necessary to process the node\n\t\t// TODO: alter this so it stores a condensed version of the document instead of plain text\n\t\tlocalStorage.removeItem(\"exclusionData\");\n\t\tthis.regeneratePreview();\n\t\tthis.props.history.push(\"/\");\n\t};\n\n\tregeneratePreview = () => {\n\t\tif (!this.state.deleting && !this.state.error && this.state.uuid !== null && this.quill) {\n\t\t\tconst previewLength = 500;\n\t\t\tconst editor = this.quill.getEditor();\n\t\t\t// process the text node\n\t\t\tconst content = editor.getText();\n\t\t\tconst preview = content.substring(0, previewLength);\n\t\t\tthis.props.nodeData.preview = preview;\n\t\t\t// wait for preview to update before going back to homepage so it will be up to date\n\t\t\tthis.props.processTextNode({ uuid: this.state.uuid, preview });\n\t\t}\n\t};\n\n\t// select an image.\n\tselectLocalImage = () => {\n\t\tconst input = document.createElement(\"input\");\n\t\tinput.setAttribute(\"type\", \"file\");\n\t\tinput.setAttribute(\"accept\", [\"image/gif\", \"image/jpg\", \"image/jpeg\", \"image/png\"]);\n\t\tinput.click();\n\n\t\t// Listen for uploading local image, then save to server\n\t\tinput.onchange = async () => {\n\t\t\tconst file = input.files[0];\n\n\t\t\t// make sure file is an image\n\t\t\tif (/^image\\//.test(file.type)) {\n\t\t\t\t// save the image to the server\n\t\t\t\tconst url = await this.props.createFileNode(\n\t\t\t\t\tfile,\n\t\t\t\t\tnull,\n\t\t\t\t\tJSON.stringify(this.props.nodeData)\n\t\t\t\t);\n\t\t\t\t// push image url to rich editor.\n\t\t\t\tconst range = this.quill.getEditor().getSelection();\n\t\t\t\tthis.quill.getEditor().insertEmbed(range.index, \"image\", url);\n\t\t\t} else {\n\t\t\t\tmessage.error(\"The file must be an image\", 1);\n\t\t\t}\n\t\t};\n\t};\n\n\tisImageUrl = (url) => {\n\t\tvar expression =\n\t\t\t/[-a-zA-Z0-9@:%._+~#=]{1,256}\\.[a-zA-Z0-9()]{1,6}\\b([-a-zA-Z0-9()@:%_+.~#?&//=]*)?/gi;\n\t\tvar regex = new RegExp(expression);\n\t\treturn regex.test(url);\n\t};\n\n\t// handle pasting of images\n\t// these could potentially be stored in a special database table? I'm not sure if\n\t// externally linked images would be a node type? I don't see why not. i think they're urls\n\tmatcherImageHandler = (node, delta) => {\n\t\tconst url = node.src;\n\t\tconst newDelta = new Delta();\n\t\treturn newDelta.insert({ image: url });\n\t};\n\n\tmodules = {\n\t\ttoolbar: {\n\t\t\tcontainer: [\n\t\t\t\t[{ header: [1, 2, 3, 4, 5, false] }],\n\t\t\t\t[{ font: [] }],\n\t\t\t\t[{ indent: \"-1\" }, { indent: \"+1\" }],\n\t\t\t\t[\"bold\", \"italic\", \"underline\", \"strike\"],\n\t\t\t\t[\n\t\t\t\t\t{\n\t\t\t\t\t\tcolor: [\n\t\t\t\t\t\t\t\"\",\n\t\t\t\t\t\t\t\"#fff\",\n\t\t\t\t\t\t\t\"#bbbbbb\",\n\t\t\t\t\t\t\t\"#df0000\",\n\t\t\t\t\t\t\t\"#a80b44\",\n\t\t\t\t\t\t\t\"#ff0062\",\n\t\t\t\t\t\t\t\"#df1f95\",\n\t\t\t\t\t\t\t\"#9933ff\",\n\t\t\t\t\t\t\t\"#c06be2\",\n\t\t\t\t\t\t\t\"#c8f0ae\",\n\t\t\t\t\t\t\t\"#7fba00\",\n\t\t\t\t\t\t\t\"#45d458\",\n\t\t\t\t\t\t\t\"#31d697\",\n\t\t\t\t\t\t\t\"#00dfd3\",\n\t\t\t\t\t\t\t\"#67edff\",\n\t\t\t\t\t\t\t\"#00a4ef\",\n\t\t\t\t\t\t\t\"#4178df\",\n\t\t\t\t\t\t\t\"#4d2ff7\",\n\t\t\t\t\t\t\t\"#000080\",\n\t\t\t\t\t\t\t\"#56007a\",\n\t\t\t\t\t\t\t\"#007c25\",\n\t\t\t\t\t\t\t\"#e2d58a\",\n\t\t\t\t\t\t\t\"#f8cc52\",\n\t\t\t\t\t\t\t\"#fff12b\",\n\t\t\t\t\t\t\t\"#eb875f\",\n\t\t\t\t\t\t\t\"#ff4500\",\n\t\t\t\t\t\t\t\"#f40000\",\n\t\t\t\t\t\t\t\"#a0390d\",\n\t\t\t\t\t\t],\n\t\t\t\t\t},\n\t\t\t\t\t{ background: [] },\n\t\t\t\t],\n\t\t\t\t[{ align: null }, { align: \"center\" }, { align: \"right\" }, { align: \"justify\" }],\n\t\t\t\t[{ list: \"ordered\" }, { list: \"bullet\" }],\n\t\t\t\t[{ script: \"sub\" }, { script: \"super\" }], // superscript/subscript\n\t\t\t\t[\"code-block\", \"blockquote\"],\n\t\t\t\t[\"link\", \"image\", \"video\"],\n\t\t\t\t[\"clean\"],\n\t\t\t\t[\"expand\", \"exit\"],\n\t\t\t],\n\t\t\thandlers: {\n\t\t\t\texpand: this.expandHandler,\n\t\t\t\texit: this.exitHandler,\n\t\t\t\timage: this.selectLocalImage,\n\t\t\t},\n\t\t},\n\t\tclipboard: {\n\t\t\tmatchVisual: false,\n\t\t\tmatchers: [[\"img\", this.matcherImageHandler]],\n\t\t},\n\t\tkeyboard: {\n\t\t\tbindings: {\n\t\t\t\trenderLinkEnter: {\n\t\t\t\t\tkey: \"Enter\",\n\t\t\t\t\tprefix: /\\[\\[.*?\\]\\]/g,\n\t\t\t\t\thandler: async (range, context) => {\n\t\t\t\t\t\tawait this.handleRenderlinking(context);\n\t\t\t\t\t\treturn;\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t\trenderLinkSpace: {\n\t\t\t\t\tkey: 32,\n\t\t\t\t\tprefix: /\\[\\[.*?\\]\\]/g,\n\t\t\t\t\thandler: async (range, context) => {\n\t\t\t\t\t\tawait this.handleRenderlinking(context);\n\t\t\t\t\t\treturn;\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t},\n\t\t},\n\t\t// blotFormatter: {\n\t\t//   overlay: {\n\t\t//     style: {\n\t\t//       border: '2px solid #41e254',\n\t\t//     },\n\t\t//   },\n\t\t// },\n\t};\n\n\tallowedFormats = [\n\t\t\"header\",\n\t\t\"font\",\n\t\t\"indent\",\n\t\t\"bold\",\n\t\t\"italic\",\n\t\t\"underline\",\n\t\t\"strike\",\n\t\t\"color\",\n\t\t\"background\",\n\t\t\"align\",\n\t\t\"list\",\n\t\t\"script\",\n\t\t\"code-block\",\n\t\t\"blockquote\",\n\t\t\"link\",\n\t\t\"image\",\n\t\t\"video\",\n\t];\n\n\thandleRenderlinking = async (context) => {\n\t\tlet regex = /\\[\\[.*?\\]\\]/g;\n\t\tlet phraseLinks = [...context.prefix.matchAll(regex)];\n\t\tlet linkedNodeUUID = this.props.nodeData.uuid;\n\t\tconst editor = this.quill.getEditor();\n\t\t//============================================================================\n\t\tfor (let phrase of phraseLinks) {\n\t\t\tlet name;\n\t\t\tlet renderlinkUrl;\n\t\t\tlet phraseBase = phrase[0].substring(2, phrase[0].length - 2);\n\t\t\tlet escapedPhraseString = phraseBase.replace(/[.*+?^${}()|[\\]]/g, \"\\\\$&\");\n\t\t\tlet phraseRegex = new RegExp(\"\\\\[\\\\[\" + escapedPhraseString + \"\\\\]\\\\]\", \"g\");\n\t\t\tlet duplicateList = [...editor.getText(0).matchAll(phraseRegex)];\n\t\t\t// only take the first 255 characters of the phrase for DB (just in case)\n\t\t\tlet shortenedPhraseBase = phraseBase.substring(0, 255);\n\t\t\t// editor.getText(0) omits non-text chars so we need to know the diff for later\n\t\t\tlet lengthDiff = editor.getLength(0) - editor.getText(0).length;\n\t\t\t// variables for short term memory system\n\t\t\tlet exclusionData = localStorage.getItem(\"exclusionData\")\n\t\t\t\t? JSON.parse(localStorage.getItem(\"exclusionData\"))\n\t\t\t\t: null;\n\t\t\tlet lastCreatedPhrase = exclusionData ? exclusionData.name : null;\n\t\t\tlet exclusionList = [];\n\t\t\t// we wanna clear short term memory if the user has typed a new phrase, or if\n\t\t\t// there are duplicates of this same phrase already in the document\n\t\t\tif (lastCreatedPhrase !== phraseBase || duplicateList.length > 1) {\n\t\t\t\tlocalStorage.removeItem(\"exclusionData\");\n\t\t\t\texclusionList = [];\n\t\t\t} else if (exclusionData) {\n\t\t\t\t// if we have typed the same phrase twice and yet there are no duplicates\n\t\t\t\t// we will go ahead and keep our short term memory exclusion list going\n\t\t\t\texclusionList = [...exclusionData.list];\n\t\t\t}\n\t\t\t// we have to make the request\n\t\t\tlet result = await this.props.contextualCreate(\n\t\t\t\tshortenedPhraseBase,\n\t\t\t\tlinkedNodeUUID,\n\t\t\t\texclusionList\n\t\t\t);\n\t\t\t// if we get a result back lets format it in the document\n\t\t\tif (result) {\n\t\t\t\trenderlinkUrl = result.url;\n\t\t\t\tname = result.name;\n\t\t\t\t// now we're going to loop through to update the actual document\n\t\t\t\tif (duplicateList.length === 1) {\n\t\t\t\t\t// if theres only 1, we will also update the name contents\n\t\t\t\t\tlet phraseIndex = duplicateList[0].index;\n\t\t\t\t\tif (name && renderlinkUrl) {\n\t\t\t\t\t\teditor.updateContents(\n\t\t\t\t\t\t\tnew Delta()\n\t\t\t\t\t\t\t\t.retain(phraseIndex + lengthDiff)\n\t\t\t\t\t\t\t\t.delete(phraseBase.length + 4)\n\t\t\t\t\t\t\t\t.insert(\"[[\" + name + \"]]\", { link: renderlinkUrl })\n\t\t\t\t\t\t\t\t.insert(\" \")\n\t\t\t\t\t\t);\n\t\t\t\t\t}\n\t\t\t\t} else if (duplicateList.length > 1) {\n\t\t\t\t\t// if theres a lot of duplicates all we can do is set the links correctly\n\t\t\t\t\t// we're not going to replace any text in this case because it will mess up the indexes\n\t\t\t\t\t// and cause a whole bunch of problems. its not necessary anyways\n\t\t\t\t\tif (renderlinkUrl) {\n\t\t\t\t\t\tduplicateList.forEach((value) => {\n\t\t\t\t\t\t\teditor.formatText(value.index, phraseBase.length + 4, \"link\", renderlinkUrl);\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t// update the exclusion data based on our latest result as long as\n\t\t\t\t// the input phrase is not identical to the returned value from DB\n\t\t\t\tif (name !== phraseBase) {\n\t\t\t\t\tlocalStorage.setItem(\n\t\t\t\t\t\t\"exclusionData\",\n\t\t\t\t\t\tJSON.stringify({\n\t\t\t\t\t\t\tlist: [...exclusionList, result.uuid],\n\t\t\t\t\t\t\tname: phraseBase,\n\t\t\t\t\t\t})\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn;\n\t};\n\n\t// render the main navbar\n\trenderHeader = () => {\n\t\t// Only render the header if the editor is  expanded\n\t\tif (this.state.expanded === null && this.props.nodeData) {\n\t\t\treturn (\n\t\t\t\t<div>\n\t\t\t\t\t{/* <div style={{ height: '3rem' }}>\n\t\t\t\t\t\t<IOBar fixed={true} />\n\t\t\t\t\t</div>*/}\n\t\t\t\t\t<div style={{ height: \"3rem\" }}>\n\t\t\t\t\t\t<IOBar fixed={true} />\n\t\t\t\t\t</div>\n\t\t\t\t\t<NodeCardHeaderFull />\n\t\t\t\t</div>\n\t\t\t);\n\t\t}\n\t};\n\n\thandleChange(content, delta, source, editor) {\n\t\t// Check to see if the document has changed before saving.\n\t\t// TODO: i think this comparison is broken\n\t\tif (editor.getContents() !== this.state.text && this.state.initializing === false) {\n\t\t\tconst fullDelta = JSON.stringify(editor.getContents());\n\t\t\tthis.props.editTextNode({\n\t\t\t\tuuid: this.props.match.params.uuid,\n\t\t\t\tcontent: fullDelta,\n\t\t\t});\n\t\t\tthis.setState({ text: content });\n\t\t\tthis.regeneratePreview();\n\t\t}\n\t}\n\n\trenderMainSider = () => {\n\t\tif (this.props.mainSider) {\n\t\t\treturn <MainSider />;\n\t\t}\n\t};\n\n\trenderClassName = () => {\n\t\tlet documentWidth = JSON.parse(localStorage.getItem(\"quill-document-width\")) || \"\";\n\t\tlet documentClass = \"quill-\" + documentWidth.replace(\" \", \"-\");\n\t\t// return the classname\n\t\treturn documentClass;\n\t};\n\n\tcomponentWillUnmount() {\n\t\t// clear styles\n\t\tdocument.body.style.overflow = null;\n\t\tdocument.body.style.height = null;\n\t\tdocument.documentElement.style.overflow = null;\n\t\tdocument.documentElement.style.height = null;\n\t\tlocalStorage.removeItem(\"exclusionData\");\n\t\twindow.getSelection().removeAllRanges();\n\t}\n\n\trender() {\n\t\tif (this.props.isLoading) {\n\t\t\treturn (\n\t\t\t\t<Layout className=\"page-layout\">\n\t\t\t\t\t<Layout>\n\t\t\t\t\t\t<Layout>\n\t\t\t\t\t\t\t{this.renderHeader()}\n\t\t\t\t\t\t\t<Spinner />\n\t\t\t\t\t\t</Layout>\n\t\t\t\t\t</Layout>\n\t\t\t\t</Layout>\n\t\t\t);\n\t\t}\n\n\t\treturn (\n\t\t\t<Layout className=\"page-layout\">\n\t\t\t\t{this.renderMainSider()}\n\t\t\t\t<Content className={\"text-editor-content \" + this.state.expanded}>\n\t\t\t\t\t{this.renderHeader()}\n\t\t\t\t\t<ReactQuill\n\t\t\t\t\t\tvalue={this.state.text}\n\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\tbackgroundColor: this.props.editorTheme\n\t\t\t\t\t\t\t\t? this.props.editorTheme.textEditorBackground\n\t\t\t\t\t\t\t\t: null,\n\t\t\t\t\t\t\tcolor: this.props.editorTheme ? this.props.editorTheme.textEditorText : null,\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tclassName={this.renderClassName()}\n\t\t\t\t\t\tonChange={this.handleChange}\n\t\t\t\t\t\tmodules={this.modules}\n\t\t\t\t\t\tref={this.ref}\n\t\t\t\t\t\treadOnly={this.state.readOnly}\n\t\t\t\t\t\tformats={this.allowedFormats}\n\t\t\t\t\t\tscrollingContainer={\"body\"}\n\t\t\t\t\t\tonKeyDown={(e) => {\n\t\t\t\t\t\t\tif (e.key !== \"Enter\") {\n\t\t\t\t\t\t\t\tlocalStorage.setItem(\n\t\t\t\t\t\t\t\t\t\"quillScrollY\",\n\t\t\t\t\t\t\t\t\tJSON.stringify({\n\t\t\t\t\t\t\t\t\t\tuuid: this.state.uuid,\n\t\t\t\t\t\t\t\t\t\tscroll: window.scrollY,\n\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\twindow.scrollBy({ top: 20 });\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tonBlur={() => {\n\t\t\t\t\t\t\tlocalStorage.setItem(\n\t\t\t\t\t\t\t\t\"quillScrollY\",\n\t\t\t\t\t\t\t\tJSON.stringify({\n\t\t\t\t\t\t\t\t\tuuid: this.state.uuid,\n\t\t\t\t\t\t\t\t\tscroll: window.scrollY,\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t// check to see if we should regenerate preview\n\t\t\t\t\t\t\tif (this.props.nodeData.preview.length < 500) {\n\t\t\t\t\t\t\t\tthis.regeneratePreview();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}}\n\t\t\t\t\t></ReactQuill>\n\t\t\t\t\t<AssociationSider />\n\t\t\t\t\t<AssociationList />\n\t\t\t\t</Content>\n\t\t\t</Layout>\n\t\t);\n\t}\n}\n\nconst mapStateToProps = (state) => {\n\treturn {\n\t\tnodeData: state.nodes.activeNode,\n\t\tisLoading: state.nodes.isFetching,\n\t\tmainSider: state.components.componentList[\"mainSider\"],\n\t\teditorTheme: state.components.editorTheme,\n\t};\n};\n\nexport default connect(mapStateToProps, {\n\teditTextNode,\n\tprocessTextNode,\n\tcreateFileNode,\n\tcontextualCreate,\n\tupdateNode,\n\tsetActiveNode,\n\tfetchAssociations,\n\tmarkNodeView,\n})(QuillEditor);\n","import {\n\tFETCH_ASSOCIATION_LINK_LIST,\n\tFETCH_ASSOCIATION_LINK_LIST_SUCCESS,\n\tFETCH_ASSOCIATION_LINK_LIST_ERROR,\n\tRESET_ASSOCIATION_LINK_LIST,\n\tCREATE_ASSOCIATION_SUCCESS,\n\tCREATE_ASSOCIATION,\n\tCREATE_ASSOCIATION_ERROR,\n\tFETCH_ASSOCIATIONS,\n\tFETCH_ASSOCIATIONS_SUCCESS,\n\tFETCH_ASSOCIATIONS_ERROR,\n\tRESET_ASSOCIATIONS,\n\tMARK_NODE_VIEW,\n\tMARK_NODE_VIEW_ERROR,\n\tMARK_NODE_VIEW_SUCCESS,\n\tDELETE_ASSOCIATION_LINK,\n\tDELETE_ASSOCIATION_LINK_ERROR,\n\tDELETE_ASSOCIATION_LINK_SUCCESS,\n\tREMOVE_FROM_ASSOCIATION_LIST,\n\tSET_ACTIVE_NODE,\n\tSET_ACTIVE_NODE_ERROR,\n\tSET_ACTIVE_NODE_SUCCESS,\n\tCONTEXTUAL_CREATE_NODE,\n\tCONTEXTUAL_CREATE_NODE_ERROR,\n\tCONTEXTUAL_CREATE_NODE_SUCCESS,\n} from \"../actions/types\";\n\nconst INITIAL_STATE = {\n\tisFetching: null,\n\tisSaving: null,\n\tassociationLinkList: [],\n\tassociationList: [],\n\ttotalLinkListItems: null,\n\ttotalAssociationListItems: null,\n\tassociationListPage: 1,\n\tassociationLinkListPage: 1,\n\tactiveNode: null,\n};\n\nlet newAssociationList;\n\n// reducer for content nodes\nexport default (state = INITIAL_STATE, action) => {\n\tswitch (action.type) {\n\t\tcase FETCH_ASSOCIATION_LINK_LIST:\n\t\t\treturn { ...state, isFetching: true };\n\t\tcase FETCH_ASSOCIATION_LINK_LIST_SUCCESS:\n\t\t\t// // format the associations data and include new values\n\t\t\tvar associationLinkListArray = [...state.associationLinkList];\n\t\t\t// update the association link list with the new values\n\t\t\tObject.values(action.payload.associations).forEach((node) => {\n\t\t\t\tif (!associationLinkListArray.some((item) => item.uuid === node.uuid)) {\n\t\t\t\t\tassociationLinkListArray.push(node);\n\t\t\t\t}\n\t\t\t});\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tisFetching: null,\n\t\t\t\ttotalLinkListItems: action.payload.totalItems,\n\t\t\t\tassociationLinkList: associationLinkListArray,\n\t\t\t\tassociationLinkListPage: action.page || 1,\n\t\t\t};\n\t\tcase FETCH_ASSOCIATION_LINK_LIST_ERROR:\n\t\t\treturn { ...state, isFetching: null };\n\t\tcase RESET_ASSOCIATION_LINK_LIST:\n\t\t\treturn { ...state, associationLinkList: [] };\n\t\tcase FETCH_ASSOCIATIONS:\n\t\t\treturn { ...state, isFetching: true };\n\t\tcase FETCH_ASSOCIATIONS_SUCCESS:\n\t\t\t// format the associations data and include new values\n\t\t\tvar associationsArray = [...state.associationList];\n\t\t\t// update the association link list with the new values\n\t\t\tObject.values(action.payload.associations).forEach((node) => {\n\t\t\t\tif (!associationsArray.some((item) => item.uuid === node.uuid)) {\n\t\t\t\t\tassociationsArray.push(node);\n\t\t\t\t}\n\t\t\t});\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tisFetching: null,\n\t\t\t\ttotalAssociationListItems: action.payload.totalItems,\n\t\t\t\tassociationList: associationsArray,\n\t\t\t\tassociationListPage: action.page || 1,\n\t\t\t};\n\t\tcase FETCH_ASSOCIATIONS_ERROR:\n\t\t\treturn { ...state, isFetching: null };\n\t\tcase RESET_ASSOCIATIONS:\n\t\t\treturn { ...state, associationList: [] };\n\t\tcase CREATE_ASSOCIATION:\n\t\t\treturn { ...state, isSaving: true };\n\t\tcase CREATE_ASSOCIATION_SUCCESS:\n\t\t\tvar associatedNode;\n\t\t\t// check whichever is the associated node to the list\n\t\t\tif (action.nodeUUID && action.linkedNode.uuid === action.nodeUUID) {\n\t\t\t\tassociatedNode = action.node;\n\t\t\t} else {\n\t\t\t\tassociatedNode = action.linkedNode;\n\t\t\t}\n\t\t\t// only add the node to the association list if one of the nodes is the activeNode\n\t\t\tif (state.activeNode && action.nodeUUID === state.activeNode.uuid) {\n\t\t\t\tnewAssociationList = [associatedNode, ...state.associationList];\n\t\t\t} else {\n\t\t\t\tnewAssociationList = [...state.associationList];\n\t\t\t}\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tisFetching: null,\n\t\t\t\tassociationLinkList: [associatedNode, ...state.associationLinkList],\n\t\t\t\tassociationList: newAssociationList,\n\t\t\t\ttotalAssociationListItems: state.totalAssociationListItems + 1,\n\t\t\t};\n\t\tcase CREATE_ASSOCIATION_ERROR:\n\t\t\treturn { ...state, isSaving: null };\n\t\tcase CONTEXTUAL_CREATE_NODE:\n\t\t\treturn { ...state, isSaving: true };\n\t\tcase CONTEXTUAL_CREATE_NODE_ERROR:\n\t\t\treturn { ...state, isSaving: null };\n\t\tcase CONTEXTUAL_CREATE_NODE_SUCCESS:\n\t\t\t// add new node to list and move to front of node order\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tisFetching: null,\n\t\t\t\tassociationList: [\n\t\t\t\t\taction.node,\n\t\t\t\t\t...state.associationList.filter(\n\t\t\t\t\t\t(association) =>\n\t\t\t\t\t\t\tassociation.nodeUUID !== action.node.uuid &&\n\t\t\t\t\t\t\tassociation.linkedNodeUUID !== action.node.uuid &&\n\t\t\t\t\t\t\tassociation.uuid !== action.node.uuid\n\t\t\t\t\t),\n\t\t\t\t],\n\t\t\t\ttotalAssociationListItems: state.totalAssociationListItems + 1,\n\t\t\t};\n\t\tcase MARK_NODE_VIEW:\n\t\t\treturn { ...state, isSaving: true };\n\t\tcase MARK_NODE_VIEW_SUCCESS:\n\t\t\t// only add back to list if the node was already in the list\n\t\t\tvar addBackToList = state.associationList.some((node) => node.uuid === action.node.uuid)\n\t\t\t\t? action.node\n\t\t\t\t: false;\n\t\t\t// use addBackToList to determine what should be returned\n\t\t\tif (addBackToList) {\n\t\t\t\tnewAssociationList = [\n\t\t\t\t\tstate.associationList.some((node) => node.uuid === action.node.uuid) ? action.node : null,\n\t\t\t\t\t...state.associationList.filter((node) => node.uuid !== action.node.uuid),\n\t\t\t\t];\n\t\t\t} else {\n\t\t\t\tnewAssociationList = [...state.associationList];\n\t\t\t}\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tisFetching: null,\n\t\t\t\t// move the viewed node to the front of the list\n\t\t\t\tassociationList: newAssociationList,\n\t\t\t};\n\t\tcase MARK_NODE_VIEW_ERROR:\n\t\t\treturn { ...state, isSaving: null };\n\t\tcase SET_ACTIVE_NODE:\n\t\t\treturn { ...state, isFetching: true };\n\t\tcase SET_ACTIVE_NODE_SUCCESS:\n\t\t\treturn { ...state, isFetching: null, activeNode: action.payload.node };\n\t\tcase SET_ACTIVE_NODE_ERROR:\n\t\t\treturn { ...state, isFetching: null };\n\t\tcase DELETE_ASSOCIATION_LINK:\n\t\t\treturn { ...state, isSaving: true };\n\t\tcase DELETE_ASSOCIATION_LINK_SUCCESS:\n\t\t\t// update total items\n\t\t\tvar newTotalLinkListItems = state.totalLinkListItems - 1;\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tisSaving: null,\n\t\t\t\tassociationLinkList: [\n\t\t\t\t\t...state.associationLinkList.filter((node) => node.uuid !== action.deletedUUID),\n\t\t\t\t],\n\t\t\t\ttotalLinkListItems: newTotalLinkListItems,\n\t\t\t};\n\t\tcase DELETE_ASSOCIATION_LINK_ERROR:\n\t\t\treturn { ...state, isSaving: null };\n\t\tcase REMOVE_FROM_ASSOCIATION_LIST:\n\t\t\t// update total items\n\t\t\tvar newTotalItems = state.totalAssociationListItems - 1;\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tisSaving: null,\n\t\t\t\tassociationList: [\n\t\t\t\t\t...state.associationList.filter((node) => node.uuid !== action.deletedUUID),\n\t\t\t\t],\n\t\t\t\ttotalAssociationListItems: newTotalItems,\n\t\t\t};\n\t\tdefault:\n\t\t\treturn state;\n\t}\n};\n","import instance from \"../../../api/instance\";\nimport history from \"../../../utils/history\";\nimport {\n\tEDIT_TEXT_NODE,\n\tEDIT_TEXT_NODE_SUCCESS,\n\tEDIT_TEXT_NODE_ERROR,\n\tPROCESS_TEXT_NODE,\n\tPROCESS_TEXT_NODE_SUCCESS,\n\tPROCESS_TEXT_NODE_ERROR,\n} from \"./types\";\nimport { message } from \"antd\";\n\n// edit text node handler\nexport const editTextNode = (node) => async (dispatch) => {\n\tdispatch({ type: EDIT_TEXT_NODE });\n\ttry {\n\t\tawait instance.patch(\"/text\", {\n\t\t\tuuid: node.uuid,\n\t\t\tcontent: node.content,\n\t\t});\n\t\tdispatch({\n\t\t\ttype: EDIT_TEXT_NODE_SUCCESS,\n\t\t\tnode: node,\n\t\t});\n\t} catch (err) {\n\t\tdispatch({ type: EDIT_TEXT_NODE_ERROR });\n\t\tmessage.error(\"There was a problem saving your changes\", 1);\n\t\thistory.push(\"/\");\n\t}\n};\n\n// final processing of text node after closing the editor\nexport const processTextNode = (node) => async (dispatch) => {\n\tdispatch({ type: PROCESS_TEXT_NODE });\n\ttry {\n\t\tawait instance.patch(\"/text/process\", { uuid: node.uuid, preview: node.preview });\n\t\tdispatch({ type: PROCESS_TEXT_NODE_SUCCESS, node, preview: node.preview });\n\t} catch (err) {\n\t\tdispatch({ type: PROCESS_TEXT_NODE_ERROR });\n\t}\n};\n","import React from 'react';\nimport { Layout } from 'antd';\n// custom code\nimport './css/Page.less';\n// destructure antd components\nconst { Footer } = Layout;\n\nconst MainFooter = () => {\n  return <Footer className='page-footer' />;\n};\n\nexport default MainFooter;\n","import React, { Component } from 'react';\nimport { Layout } from 'antd';\n// custom code\nimport '../elements/css/Page.less';\nimport MainContent from '../elements/MainContent';\nimport IOBar from '../elements/IOBar';\n// import MainSider from '../elements/MainSider';\nimport MainFooter from '../elements/MainFooter';\n\nclass Collections extends Component {\n  render() {\n    return (\n      <Layout className='page-layout'>\n        <IOBar />\n        <Layout>\n          <MainContent>Collections</MainContent>\n        </Layout>\n        <MainFooter />\n      </Layout>\n    );\n  }\n}\n\nexport default Collections;\n","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { Link } from 'react-router-dom';\nimport { Formik, Form, Field, ErrorMessage } from 'formik';\nimport * as Yup from 'yup';\nimport { Layout, Card } from 'antd';\n// custom code\nimport { createAccount } from '../../api/redux/actions';\nimport './css/Login.less';\n\n// destructure antd\nconst { Content, Footer } = Layout;\n\nclass CreateAccount extends Component {\n  componentDidMount() {\n    document.title = 'Create Account';\n  }\n\n  onSubmit = (values, { setSubmitting }) => {\n    setSubmitting(false);\n    this.props.createAccount(values);\n  };\n\n  render() {\n    return (\n      <Layout className='login-layout'>\n        <Content className='login-content'>\n          <Card className='login-card'>\n            <Formik\n              initialValues={{ email: '', password: '', confirmPassword: '' }}\n              validationSchema={validationSchema}\n              onSubmit={this.onSubmit}\n            >\n              {({ isSubmitting }) => (\n                <Form className='login-form'>\n                  <h1 className='login-title'>\n                    <span\n                      role='img'\n                      aria-label='jsx-a11y/accessible-emoji'\n                      style={{ paddingRight: '0.5rem' }}\n                    >\n                      ✨\n                    </span>\n                    create user\n                    <span\n                      role='img'\n                      aria-label='jsx-a11y/accessible-emoji'\n                      style={{ paddingLeft: '0.5rem' }}\n                    >\n                      ✨\n                    </span>\n                  </h1>\n                  <Field type='email' name='email' placeholder='email' className='login-field' />\n                  <ErrorMessage name='email' component='div' />\n                  <Field\n                    type='username'\n                    name='username'\n                    placeholder='username'\n                    className='login-field'\n                  />\n                  <ErrorMessage name='username' component='div' />\n                  <Field\n                    type='password'\n                    name='password'\n                    placeholder='password'\n                    className='login-field'\n                  />\n                  <ErrorMessage name='password' component='div' />\n                  <Field\n                    type='password'\n                    name='confirmPassword'\n                    placeholder='confirm password'\n                    className='login-field'\n                  />\n                  <ErrorMessage name='confirmPassword' component='div' />\n                  <button type='submit' disabled={isSubmitting} className='login-submit'>\n                    create account\n                  </button>\n                  <Link to='/' style={{ textAlign: 'center' }} className='login-signup'>\n                    back to login\n                  </Link>\n                </Form>\n              )}\n            </Formik>\n          </Card>\n        </Content>\n        <Footer />\n      </Layout>\n    );\n  }\n}\n\nconst validationSchema = Yup.object().shape({\n  email: Yup.string().email('E-mail is not valid!').required('email is required'),\n  username: Yup.string().required('username is required'),\n  password: Yup.string()\n    .min(5, 'Password has to be longer than 6 characters!')\n    .required('password is required'),\n  confirmPassword: Yup.string()\n    .required('please confirm password')\n    .oneOf([Yup.ref('password')], \"Your passwords don't match\"),\n});\n\nconst mapStateToProps = (state) => {\n  return { isSignedIn: state.auth.isSignedIn };\n};\n\nexport default connect(mapStateToProps, { createAccount })(CreateAccount);\n","import React, { Fragment } from 'react';\n//custom components\nimport NodeRenderer from '../../../types/render/NodeRenderer';\nimport './NodeCardFull.less';\n\nconst NodeCardFull = (props) => {\n  const renderNodeCard = () => {\n    if (props.node) {\n      return <NodeRenderer type={props.node.type} element={'full'} node={props.node} />;\n    }\n  };\n\n  return <Fragment>{renderNodeCard()}</Fragment>;\n};\n\nexport default NodeCardFull;\n","import React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport { Layout } from \"antd\";\nimport {\n\tsetActiveNode,\n\tclearActiveNode,\n\tfetchAssociations,\n\tmarkNodeView,\n\tupdateNode,\n} from \"../../api/redux/actions\";\nimport MainSider from \"../elements/MainSider\";\nimport NodeCardFull from \"../elements/node/NodeCardFull\";\nimport Spinner from \"../elements/Spinner\";\nimport IOBar from \"../elements/IOBar\";\nimport AssociationList from \"../elements/association/AssociationList\";\nimport { message } from \"antd\";\nconst { Content } = Layout;\n\nclass AssociationBrowser extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\tinitialized: false,\n\t\t\tuuid: null,\n\t\t};\n\t}\n\n\tcomponentDidMount() {\n\t\tif (!this.state.initialized) {\n\t\t\tthis.initializeFromUrlParams();\n\t\t}\n\t}\n\n\tcomponentDidUpdate() {\n\t\tvar uuid = this.props.match.params.uuid;\n\t\t// re-initialize if the URL changes\n\t\tif (this.state.initialized && this.state.uuid !== uuid) {\n\t\t\tthis.setState({ initialized: false });\n\t\t\tthis.initializeFromUrlParams();\n\t\t}\n\t}\n\n\tcomponentWillUnmount() {\n\t\tthis.props.clearActiveNode();\n\t}\n\n\t// intialize the association page\n\tinitializeFromUrlParams = async () => {\n\t\tvar uuid = this.props.match.params.uuid;\n\t\twindow.scrollTo({ top: 0 });\n\t\tawait this.props.setActiveNode(uuid);\n\t\tif (this.props.activeNode !== null) {\n\t\t\tthis.props.markNodeView(this.props.activeNode);\n\t\t}\n\t\t// fetch the user info from the server\n\t\tawait this.props.fetchAssociations({ nodeUUID: uuid });\n\t\tif (this.props.associations !== null && this.props.activeNode !== null) {\n\t\t\tthis.setState({\n\t\t\t\tinitialized: true,\n\t\t\t\tuuid: uuid,\n\t\t\t});\n\t\t\t// update collection preview if necessary\n\t\t\tif (this.props.activeNode.type && this.props.activeNode.type === \"collection\") {\n\t\t\t\tthis.regenerateCollectionPreview(this.props.activeNode, this.props.associations);\n\t\t\t}\n\t\t\tdocument.title = this.props.activeNode.name;\n\t\t} else {\n\t\t\tmessage.error(\"there was a problem loading the associations\");\n\t\t\tthis.props.history.push(\"/\");\n\t\t}\n\t};\n\n\tregenerateCollectionPreview = async (collectionNode, associationList) => {\n\t\ttry {\n\t\t\tif (collectionNode && associationList) {\n\t\t\t\tvar i = 0;\n\t\t\t\tvar node;\n\t\t\t\tvar preview = [];\n\t\t\t\t// get the first 4 non-collection non-user associated nodes and add them to the new preview\n\t\t\t\twhile (i < associationList.length && preview.length < 4) {\n\t\t\t\t\tnode = associationList[i];\n\t\t\t\t\tif (node.type === \"image\" || node.type === \"url\" || node.type === \"text\") {\n\t\t\t\t\t\tpreview.push({\n\t\t\t\t\t\t\ttype: node.type,\n\t\t\t\t\t\t\tpreview: node.preview,\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t\ti++;\n\t\t\t\t}\n\t\t\t\tthis.props.updateNode({ uuid: collectionNode.uuid, preview: JSON.stringify(preview) });\n\t\t\t}\n\t\t} catch (err) {\n\t\t\tthis.props.history.push(\"/\");\n\t\t}\n\t};\n\n\trenderNode = () => {\n\t\tif (this.state.uuid !== null && this.state.uuid === this.props.activeNode.uuid) {\n\t\t\treturn <NodeCardFull node={this.props.activeNode} />;\n\t\t} else {\n\t\t\treturn <Spinner></Spinner>;\n\t\t}\n\t};\n\n\trenderMainSider = () => {\n\t\tif (this.props.mainSider) {\n\t\t\treturn <MainSider />;\n\t\t}\n\t};\n\n\trender() {\n\t\treturn (\n\t\t\t<Layout className=\"page-layout\">\n\t\t\t\t{this.renderMainSider()}\n\t\t\t\t<Layout>\n\t\t\t\t\t<Content\n\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\tpaddingTop: \"0\",\n\t\t\t\t\t\t\tminHeight: \"100vh\",\n\t\t\t\t\t\t}}\n\t\t\t\t\t>\n\t\t\t\t\t\t<IOBar />\n\t\t\t\t\t\t<div className=\"list-container\">{this.renderNode()}</div>\n\t\t\t\t\t\t<AssociationList />\n\t\t\t\t\t</Content>\n\t\t\t\t</Layout>\n\t\t\t</Layout>\n\t\t);\n\t}\n}\n\nconst mapStateToProps = (state) => {\n\treturn {\n\t\tassociations: state.associations.associationList,\n\t\tisLoading: state.nodes.isFetching,\n\t\tactiveNode: state.nodes.activeNode,\n\t\tmainSider: state.components.componentList[\"mainSider\"],\n\t\tisDeleting: state.nodes.isDeleting,\n\t};\n};\n\nexport default connect(mapStateToProps, {\n\tsetActiveNode,\n\tclearActiveNode,\n\tfetchAssociations,\n\tmarkNodeView,\n\tupdateNode,\n})(AssociationBrowser);\n","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport {\n\tfetchNodes,\n\tfetchAssociations,\n\tshowComponent,\n\tfetchGraphData,\n\tsetActiveNode,\n} from '../../api/redux/actions';\nimport { Layout, message } from 'antd';\nimport { select, selectAll } from 'd3-selection';\nimport { drag } from 'd3-drag';\nimport { forceSimulation, forceLink, forceManyBody, forceCenter, forceX, forceY } from 'd3-force';\nimport { zoom, zoomIdentity } from 'd3-zoom';\n//custom components\nimport './css/GraphBrowser.less';\nimport MainSider from '../elements/MainSider';\nimport AssociationSider from '../elements/association/AssociationSider';\nimport AssociationList from '../elements/association/AssociationList';\nimport IOBar from '../elements/IOBar';\n// destructure antd layout\nconst { Content } = Layout;\n\nclass GraphBrowser extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\tinitialized: false,\n\t\t\tuuid: null,\n\t\t};\n\t}\n\n\tcomponentDidMount() {\n\t\tdocument.title = 'constellation';\n\t\tif (!this.state.initialized) {\n\t\t\tthis.initializeFromUrlParams();\n\t\t}\n\t}\n\n\tcomponentDidUpdate() {\n\t\tvar uuid = this.props.match.params.uuid;\n\t\t// re-initialize if the URL changes\n\t\tif (this.state.initialized && this.state.uuid !== uuid) {\n\t\t\tthis.setState({ initialized: false });\n\t\t\tthis.initializeFromUrlParams();\n\t\t}\n\t}\n\n\t// intialize the association page\n\tinitializeFromUrlParams = async () => {\n\t\tvar uuid = this.props.match.params.uuid;\n\t\t// fetch the graph data\n\t\tawait this.props.fetchGraphData({\n\t\t\tanchorNode: uuid,\n\t\t\ttype: this.props.query.type,\n\t\t\tsearchQuery: this.props.query.searchQuery,\n\t\t});\n\t\t// if all that was successful, finish initialization\n\t\tif (this.props.graphData !== null) {\n\t\t\tthis.setState({\n\t\t\t\tinitialized: true,\n\t\t\t\tuuid: uuid,\n\t\t\t});\n\t\t\t// render graph\n\t\t\tthis.renderGraph();\n\t\t\tif (uuid) {\n\t\t\t\tawait this.props.setActiveNode(uuid);\n\t\t\t\tawait this.props.fetchAssociations({ nodeUUID: uuid });\n\t\t\t}\n\t\t} else {\n\t\t\tmessage.error('there was a problem loading the data');\n\t\t\tthis.props.history.push('/');\n\t\t}\n\t};\n\n\trenderMainSider = () => {\n\t\tif (this.props.mainSider) {\n\t\t\treturn <MainSider />;\n\t\t}\n\t};\n\n\t// renderBackgroundImage = () => {\n\t//   if (this.props.graphData) {\n\t//     const graphData = this.props.graphData.nodes;\n\t//     for (let item of graphData) {\n\t//       if (item.type === 'image') {\n\t//         // const imageUrl = item.path || item.preview;\n\t//         // return { backgroundImage: `url(${imageUrl})` };\n\t//         return null;\n\t//       }\n\t//     }\n\t//     // return { backgroundImage: `url(${})` };\n\t//     return null;\n\t//   }\n\t// };\n\n\trenderAssociationSider = () => {\n\t\tif (this.props.associationSider) {\n\t\t\treturn <AssociationSider />;\n\t\t}\n\t};\n\n\trenderAssociationList = () => {\n\t\tif (this.props.associations && this.props.associations.length > 0 && this.props.activeNode) {\n\t\t\t// let graphData = this.props.graphData;\n\t\t\t// return (\n\t\t\t//   <div>\n\t\t\t//   <NodeCardFull node={this.props.graphData.nodes[0]} />\n\t\t\t//   <div>\n\t\t\t// )\n\t\t\treturn <AssociationList />;\n\t\t}\n\t};\n\n\trenderGraph = async () => {\n\t\t// node data\n\t\tconst nodeData = this.props.graphData.nodes;\n\t\t// link data\n\t\tconst linkData = this.props.graphData.associations;\n\t\t// width and height\n\t\tconst height = window.innerHeight;\n\t\tconst width = window.innerWidth;\n\t\t// const nodeScale = 23;\n\t\tconst nodeScale = 33;\n\n\t\t// simulation\n\t\tconst simulation = forceSimulation(nodeData)\n\t\t\t.force(\n\t\t\t\t'link',\n\t\t\t\tforceLink(linkData)\n\t\t\t\t\t// .distance(0.7)\n\t\t\t\t\t.id((d) => {\n\t\t\t\t\t\treturn d.id;\n\t\t\t\t\t})\n\t\t\t)\n\t\t\t.force('charge', forceManyBody().strength(-700000 / nodeData.length))\n\t\t\t.force('x', forceX())\n\t\t\t.force('y', forceY())\n\t\t\t.force('center', forceCenter());\n\t\t// initial zoom\n\t\t// var initialZoom = zoomIdentity.scale(0.55).translate(0, -15);\n\t\tvar initialZoom = zoomIdentity.scale(0.17).translate(0, -15);\n\t\tconst zoomData = zoom().scaleExtent([0.1, 1.7]).on('zoom', zoomed);\n\n\t\tconst svg = select(this.node)\n\t\t\t.append('svg')\n\t\t\t.attr('class', 'graph-svg')\n\t\t\t.attr('viewBox', [-width / 2, -height / 2, width, height])\n\t\t\t.on('contextmenu', (e) => {\n\t\t\t\te.preventDefault();\n\t\t\t});\n\n\t\tconst g = svg.append('g');\n\n\t\tconst link = g\n\t\t\t.append('g')\n\t\t\t.attr('stroke', 'white')\n\t\t\t.attr('stroke-opacity', 0.7)\n\t\t\t.selectAll('line')\n\t\t\t.data(linkData)\n\t\t\t.join('line')\n\t\t\t.attr('class', 'graph-link')\n\t\t\t.attr('stroke-width', (d) => Math.sqrt(d.value));\n\n\t\tconst node = g\n\t\t\t.append('g')\n\t\t\t.selectAll('circle')\n\t\t\t.data(nodeData)\n\t\t\t.join('g')\n\t\t\t.call(this.drag(simulation))\n\t\t\t.append('circle')\n\t\t\t.attr('fill', this.props.theme.graphNodeColor)\n\t\t\t.attr('stroke', this.props.theme.graphNodeBorderColor)\n\t\t\t.on('contextmenu', (e, d) => {\n\t\t\t\te.preventDefault();\n\t\t\t\twindow.location.replace('/graph/' + d.uuid);\n\t\t\t})\n\t\t\t.on('mouseover', (e, d) => {\n\t\t\t\tselect(e.currentTarget).style('fill', this.props.theme.graphNodeHoverColor);\n\t\t\t\tselect(e.currentTarget).style('stroke', this.props.theme.graphNodeBorderHoverColor);\n\n\t\t\t\td.fx = null;\n\t\t\t\td.fy = null;\n\t\t\t})\n\t\t\t.on('mouseout', (e, d) => {\n\t\t\t\tselect(e.currentTarget).style('fill', this.props.theme.graphNodeColor);\n\t\t\t\tselect(e.currentTarget).style('stroke', this.props.theme.graphNodeBorderColor);\n\n\t\t\t\td.fx = null;\n\t\t\t\td.fy = null;\n\t\t\t})\n\t\t\t// .on('click', (e, d) => {\n\t\t\t//   e.preventDefault();\n\t\t\t//   this.props.showComponent('associationSider', d);\n\t\t\t// })\n\t\t\t.on('dblclick', (e, d) => {\n\t\t\t\te.preventDefault();\n\t\t\t\tif (d.type === 'text') {\n\t\t\t\t\twindow.location.replace('/edit/text/' + d.uuid);\n\t\t\t\t} else if (d.type === 'user') {\n\t\t\t\t\twindow.location.replace(`/profile/${this.props.user.username}`);\n\t\t\t\t} else {\n\t\t\t\t\twindow.location.replace('/associations/' + d.uuid);\n\t\t\t\t}\n\t\t\t})\n\t\t\t.attr('r', nodeScale)\n\t\t\t// .attr('cursor', 'grab')\n\t\t\t.attr('cursor', 'none')\n\t\t\t// .attr('fill', '#16e998')\n\t\t\t.attr('class', 'graph-node');\n\n\t\tconst text = selectAll('g g g')\n\t\t\t.append('text')\n\t\t\t.text((d) => d.name.substring(0, 100))\n\t\t\t.attr('font-size', '0.8rem')\n\t\t\t.attr('cursor', 'grab')\n\t\t\t// .on('mouseover', (e, d) => {\n\t\t\t// \t// on mouseover without a click run simulation\n\t\t\t// \td.fx = null;\n\t\t\t// \td.fy = null;\n\t\t\t// })\n\t\t\t// .attr('cursor', 'none')\n\t\t\t// .attr('stroke', 'white')\n\t\t\t// .attr('stroke-width', 0.1)\n\t\t\t.attr('class', 'graph-text');\n\t\t// .call(this.drag(simulation));\n\n\t\tsvg.call(zoomData).call(zoomData.transform, initialZoom);\n\n\t\tfunction zoomed({ transform }) {\n\t\t\tg.attr('transform', transform);\n\t\t}\n\n\t\tsimulation.on('tick', () => {\n\t\t\t// update link location values\n\t\t\tlink\n\t\t\t\t.attr('x1', (d) => d.source.x)\n\t\t\t\t.attr('y1', (d) => d.source.y)\n\t\t\t\t.attr('x2', (d) => d.target.x)\n\t\t\t\t.attr('y2', (d) => d.target.y);\n\t\t\t// update node location values\n\t\t\tnode.attr('cx', (d) => d.x).attr('cy', (d) => d.y);\n\t\t\t// update text location values\n\t\t\ttext.attr('x', (d) => d.x + nodeScale).attr('y', (d) => d.y - nodeScale);\n\t\t});\n\n\t\treturn svg.node();\n\t};\n\n\tdrag = (simulation) => {\n\t\tfunction dragstarted(event, d) {\n\t\t\t// move the dragged item to the top\n\t\t\tvar sel = select(this);\n\t\t\tsel.raise();\n\t\t\t// hide cursor\n\t\t\tdocument.body.style.cursor = 'none';\n\t\t\t// handle updating of coords\n\t\t\tif (!event.active) simulation.alphaTarget(0.3).restart();\n\t\t\td.fx = d.x;\n\t\t\td.fy = d.y;\n\t\t}\n\n\t\tfunction dragged(event, d) {\n\t\t\tdocument.body.style.cursor = 'none';\n\t\t\td.fx = event.x;\n\t\t\td.fy = event.y;\n\t\t}\n\n\t\tfunction dragended(event, d) {\n\t\t\tif (!event.active) simulation.alphaTarget(0);\n\t\t\t// d.fx = null;\n\t\t\t// d.fy = null;\n\t\t\twindow.setTimeout(() => {\n\t\t\t\t// show cursor\n\t\t\t\tdocument.body.style.cursor = 'auto';\n\t\t\t}, 333);\n\t\t}\n\n\t\treturn drag().on('start', dragstarted).on('drag', dragged).on('end', dragended);\n\t};\n\n\trender() {\n\t\treturn (\n\t\t\t<Layout className='page-layout'>\n\t\t\t\t{this.renderMainSider()}\n\t\t\t\t{this.renderAssociationSider()}\n\t\t\t\t<Layout>\n\t\t\t\t\t<Content\n\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\tpaddingTop: '0',\n\t\t\t\t\t\t}}\n\t\t\t\t\t>\n\t\t\t\t\t\t{/*  <IOBar />*/}\n\t\t\t\t\t\t<IOBar />\n\t\t\t\t\t\t<div\n\t\t\t\t\t\t\tclassName='graph-container'\n\t\t\t\t\t\t\t// style={this.renderBackgroundImage()}\n\t\t\t\t\t\t\tref={(node) => (this.node = node)}\n\t\t\t\t\t\t></div>\n\t\t\t\t\t\t{this.renderAssociationList()}\n\t\t\t\t\t</Content>\n\t\t\t\t</Layout>\n\t\t\t</Layout>\n\t\t);\n\t}\n}\n\nconst mapStateToProps = (state) => {\n\treturn {\n\t\tassociations: state.associations.associationList,\n\t\tuser: state.auth.user,\n\t\tactiveNode: state.nodes.activeNode,\n\t\tgraphData: state.graph.graphData,\n\t\tloading: state.graph.isFetching,\n\t\tassociationSider: state.components.componentList['associationSider'],\n\t\tmainSider: state.components.componentList['mainSider'],\n\t\tnodeList: state.nodes.nodeList,\n\t\tquery: state.nodes.query,\n\t\tisFetching: state.nodes.isFetching,\n\t\ttheme: state.components.theme,\n\t};\n};\n\nexport default connect(mapStateToProps, {\n\tfetchNodes,\n\tshowComponent,\n\tfetchGraphData,\n\tfetchAssociations,\n\tsetActiveNode,\n})(GraphBrowser);\n","import instance from '../../../api/instance';\nimport history from '../../../utils/history';\nimport {\n\tFETCH_GRAPH_DATA,\n\tFETCH_GRAPH_DATA_ERROR,\n\tFETCH_GRAPH_DATA_SUCCESS,\n\tRESET_APP,\n} from './types';\nimport { message } from 'antd';\n\n// fetch a list of nodes\nexport const fetchGraphData = (query) => async (dispatch) => {\n\tlet linkMode = JSON.parse(localStorage.getItem('link-mode'));\n\tlet bidirectional = linkMode === 'bidirectional' ? 'yes' : 'no';\n\tlet graphRenderLimit = JSON.parse(localStorage.getItem('graph-render-limit'));\n\t// default to 100 if there's no value\n\tif (!graphRenderLimit) {\n\t\tgraphRenderLimit = 100;\n\t}\n\t// lets make our request now\n\ttry {\n\t\tdispatch({ type: FETCH_GRAPH_DATA });\n\t\tconst response = await instance.get('/node/graph', {\n\t\t\tparams: {\n\t\t\t\tanchorNode: query.anchorNode,\n\t\t\t\ttype: query.type,\n\t\t\t\tsearchQuery: query.searchQuery,\n\t\t\t\tgraphRenderLimit: graphRenderLimit,\n\t\t\t\tbidirectional,\n\t\t\t},\n\t\t});\n\t\tdispatch({ type: FETCH_GRAPH_DATA_SUCCESS, payload: response.data, query });\n\t} catch (err) {\n\t\tdispatch({ type: FETCH_GRAPH_DATA_ERROR });\n\t\tdispatch({ type: RESET_APP });\n\t\tmessage.error('Could not fetch items', 1);\n\t\thistory.push('/');\n\t}\n};\n","import React, { Component, Fragment } from 'react';\nimport { connect } from 'react-redux';\n// custom code\nimport './NodeList.less';\nimport { fetchNodes } from '../../../api/redux/actions';\nimport NodeCard from './NodeCard';\nimport AssociationSider from '../association/AssociationSider';\nimport Spinner from '../Spinner';\n\nclass PinList extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\ttopOfPage: false,\n\t\t};\n\t}\n\n\tcomponentDidMount() {\n\t\tthis.props.fetchNodes({\n\t\t\tpage: 1,\n\t\t\ttype: this.props.query.type,\n\t\t\tsearchQuery: this.props.query.searchQuery,\n\t\t\tpinned: true,\n\t\t\tsortType: this.props.query.sortType,\n\t\t\tsortOrder: this.props.query.sortOrder,\n\t\t});\n\t\twindow.addEventListener('scroll', this.infiniteScroll);\n\t}\n\n\tcomponentWillUnmount() {\n\t\twindow.removeEventListener('scroll', this.infiniteScroll);\n\t}\n\n\tinfiniteScroll = (e) => {\n\t\tif (this.endReached() && !this.props.isFetching) {\n\t\t\tthis.setState({ topOfPage: false });\n\t\t\t// fetch the next page\n\t\t\tthis.props.fetchNodes({\n\t\t\t\tpage: this.props.query.page + 1,\n\t\t\t\ttype: this.props.query.type,\n\t\t\t\tsearchQuery: this.props.query.searchQuery,\n\t\t\t\tpinned: true,\n\t\t\t\tsortType: this.props.query.sortType,\n\t\t\t\tsortOrder: this.props.query.sortOrder,\n\t\t\t});\n\t\t}\n\t};\n\n\tendReached = () => {\n\t\t// window calculations to tell when the user scrolls to the bottom\n\t\tconst windowHeight =\n\t\t\t'innerHeight' in window ? window.innerHeight : document.documentElement.offsetHeight;\n\t\tconst body = document.body;\n\t\tconst html = document.documentElement;\n\t\tconst docHeight = Math.max(\n\t\t\tbody.scrollHeight,\n\t\t\tbody.offsetHeight,\n\t\t\thtml.clientHeight,\n\t\t\thtml.scrollHeight,\n\t\t\thtml.offsetHeight\n\t\t);\n\t\tconst windowBottom = windowHeight + window.pageYOffset;\n\t\t// check if the top is reached\n\t\tif (window.pageYOffset < 1 && !this.props.isFetching && !this.state.topOfPage) {\n\t\t\tthis.setState({ topOfPage: true });\n\t\t\t// at the top of the page, reset the nodelist\n\t\t\tthis.props.fetchNodes({\n\t\t\t\tpage: 1,\n\t\t\t\ttype: this.props.query.type,\n\t\t\t\tsearchQuery: this.props.query.searchQuery,\n\t\t\t\tpinned: true,\n\t\t\t\tsortType: this.props.query.sortType,\n\t\t\t\tsortOrder: this.props.query.sortOrder,\n\t\t\t});\n\t\t}\n\t\t// if it's not the top of the page go ahead and fetch more\n\t\treturn windowBottom >= docHeight - 733;\n\t};\n\n\trenderPinList = () => {\n\t\t// go through the list of nodes and render them to the page\n\t\tconst nodeList = this.props.nodes;\n\t\t// if there are nodes go ahead and render\n\t\tif (nodeList !== null) {\n\t\t\treturn nodeList.map((node) => {\n\t\t\t\tif (node.uuid) {\n\t\t\t\t\t// return <NodeCardFull key={node.uuid} node={node} />\n\t\t\t\t\treturn <NodeCard key={node.uuid} node={node} />;\n\t\t\t\t} else {\n\t\t\t\t\treturn <Fragment></Fragment>;\n\t\t\t\t}\n\t\t\t});\n\t\t} else {\n\t\t\treturn <Spinner></Spinner>;\n\t\t}\n\t};\n\n\trender() {\n\t\treturn (\n\t\t\t<div className='nodelist-container'>\n\t\t\t\t<ul className='nodelist'>{this.renderPinList()}</ul>\n\t\t\t\t<AssociationSider />\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nconst mapStateToProps = (state) => {\n\treturn {\n\t\tnodes: state.nodes.nodeList,\n\t\tquery: state.nodes.query,\n\t\ttotalNodes: state.nodes.totalItems,\n\t\tisFetching: state.nodes.isFetching,\n\t};\n};\n\nexport default connect(mapStateToProps, { fetchNodes })(PinList);\n","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { Link } from 'react-router-dom';\nimport { Layout, Button, Select, Icon } from 'antd';\n// custom code\nimport './css/IOBar.less';\nimport {\n\tsignOut,\n\tcreateUrlNode,\n\tsearchNodes,\n\tshowComponent,\n\thideComponent,\n} from '../../api/redux/actions';\n// destructure antd components\nconst { Header } = Layout;\nconst { Option } = Select;\n\nclass PinHeader extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\tinput: this.props.query.searchQuery || '',\n\t\t\tnodeTypes: this.props.query.type || 'all',\n\t\t};\n\t}\n\n\ttoggleMainSider = async () => {\n\t\tif (this.props.mainSider) {\n\t\t\tthis.props.hideComponent('mainSider');\n\t\t} else {\n\t\t\tthis.props.showComponent('mainSider');\n\t\t}\n\t};\n\n\t// handle text input\n\tcommandHandler = () => {\n\t\treturn this.props.searchNodes({\n\t\t\tsearchQuery: this.state.input,\n\t\t\ttype: this.state.nodeTypes,\n\t\t});\n\t};\n\n\t// include an \"all\" option for queries\n\trenderSelectBefore = () => {\n\t\treturn (\n\t\t\t<Select\n\t\t\t\tshowSearch\n\t\t\t\tshowArrow={false}\n\t\t\t\tvalue={this.state.nodeTypes}\n\t\t\t\tonChange={(value) => this.setState({ nodeTypes: value })}\n\t\t\t>\n\t\t\t\t<Option value='all'>all</Option>\n\t\t\t\t<Option value='url'>urls</Option>\n\t\t\t\t<Option value='text'>text</Option>\n\t\t\t\t<Option value='file'>file</Option>\n\t\t\t\t<Option value='image'>images</Option>\n\t\t\t\t<Option value='collection'>collections</Option>\n\t\t\t</Select>\n\t\t);\n\t};\n\n\trender() {\n\t\treturn (\n\t\t\t<div>\n\t\t\t\t<Header className='page-header'>\n\t\t\t\t\t<ul\n\t\t\t\t\t\tclassName='nav-list'\n\t\t\t\t\t\tstyle={{ width: 'auto', justifyContent: 'left', marginLeft: '1.1rem' }}\n\t\t\t\t\t>\n\t\t\t\t\t\t<li className='nav-item io-sider-button mobile-visible' style={{ marginRight: '0' }}>\n\t\t\t\t\t\t\t<Button type='default' shape='circle' onClick={(e) => this.toggleMainSider()}>\n\t\t\t\t\t\t\t\t<Icon type={'bars'} theme='outlined' />\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t</li>\n\t\t\t\t\t\t<li className='nav-item io-sider-button' style={{ marginRight: '0.5rem' }}>\n\t\t\t\t\t\t\t<Link type='default' to={`/graph`}>\n\t\t\t\t\t\t\t\t<Icon\n\t\t\t\t\t\t\t\t\ttype={'deployment-unit'}\n\t\t\t\t\t\t\t\t\ttheme='outlined'\n\t\t\t\t\t\t\t\t\t// style={{ color: '#ec486c' }}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t</li>\n\t\t\t\t\t\t<li className='nav-item io-sider-button'>\n\t\t\t\t\t\t\t<Link type='default' to={`/`}>\n\t\t\t\t\t\t\t\t<Icon\n\t\t\t\t\t\t\t\t\ttype={'home'}\n\t\t\t\t\t\t\t\t\ttheme='filled'\n\t\t\t\t\t\t\t\t\t// style={{ color: '#3ce458' }}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t</li>\n\t\t\t\t\t\t<li className='nav-item'>\n\t\t\t\t\t\t\t<p style={{ color: 'grey', paddingLeft: '0.7rem' }}>favorites</p>\n\t\t\t\t\t\t</li>\n\t\t\t\t\t</ul>\n\t\t\t\t</Header>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nconst mapStateToProps = (state) => {\n\treturn {\n\t\tuser: state.auth.user,\n\t\tquery: state.nodes.query,\n\t\tmainSider: state.components.componentList['mainSider'],\n\t\tactiveNode: state.nodes.activeNode,\n\t};\n};\n\nexport default connect(mapStateToProps, {\n\tsignOut,\n\tsearchNodes,\n\tcreateUrlNode,\n\tshowComponent,\n\thideComponent,\n})(PinHeader);\n","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { Layout } from 'antd';\n// custom code\nimport MainSider from '../elements/MainSider';\nimport PinList from '../elements/node/PinList';\nimport PinHeader from '../elements/PinHeader';\n\nconst { Content } = Layout;\n\nclass Pins extends Component {\n\tcomponentDidMount() {\n\t\tdocument.title = 'pins';\n\t\t// temporary fix to undo whatever is setting overflow hidden on-login\n\t\tdocument.body.style.removeProperty('overflow');\n\t\twindow.scrollTo({ top: 0, behavior: 'smooth' });\n\t}\n\n\trenderMainSider = () => {\n\t\tif (this.props.mainSider) {\n\t\t\treturn <MainSider />;\n\t\t}\n\t};\n\n\trender() {\n\t\treturn (\n\t\t\t<Layout className='page-layout'>\n\t\t\t\t<Layout>\n\t\t\t\t\t{this.renderMainSider()}\n\t\t\t\t\t<Content style={{ minHeight: '100vh' }}>\n\t\t\t\t\t\t<PinHeader />\n\t\t\t\t\t\t<div className='list-container'>\n\t\t\t\t\t\t\t<PinList />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</Content>\n\t\t\t\t</Layout>\n\t\t\t</Layout>\n\t\t);\n\t}\n}\n\nconst mapStateToProps = (state) => {\n\treturn {\n\t\tisSignedIn: state.auth.isSignedIn,\n\t\tmainSider: state.components.componentList['mainSider'],\n\t};\n};\n\nexport default connect(mapStateToProps)(Pins);\n","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { Layout } from 'antd';\nimport { getRandomNode } from '../../api/redux/actions';\n// custom code\n\nclass RandomRedirect extends Component {\n\tcomponentDidMount() {\n\t\tlocalStorage.setItem('flash', false);\n\t\tsetInterval(this.props.getRandomNode(), 50);\n\t}\n\n\trender() {\n\t\treturn <Layout style={{ height: '100vh' }}></Layout>;\n\t}\n}\n\nexport default connect(null, { getRandomNode })(RandomRedirect);\n","import React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport { Layout } from \"antd\";\nimport { launchFileNode, markNodeView } from \"../../api/redux/actions\";\n// custom code\n\nclass LaunchFile extends Component {\n\tcomponentDidMount() {\n\t\tvar uuid = this.props.match.params.uuid;\n\t\tthis.props.markNodeView({ uuid });\n\t\tthis.props.launchFileNode(uuid);\n\t\t// go back\n\t\tif (window.document.referrer.includes(\"/edit/text/\")) {\n\t\t\twindow.location.replace(window.document.referrer);\n\t\t} else {\n\t\t\twindow.location.replace(`/`);\n\t\t}\n\t}\n\n\trender() {\n\t\treturn <Layout style={{ height: \"100vh\" }}></Layout>;\n\t}\n}\n\nexport default connect(null, { launchFileNode, markNodeView })(LaunchFile);\n","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\n// import { message } from 'antd';\nimport './ElectronSearch.less';\n\n// this component sends \"search strings\" to electron findInPage\nclass ElectronSearch extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.searchInput = React.createRef();\n\t}\n\n\tcomponentWillUnmount() {\n\t\twindow.api.send('toMain', { action: 'hide-search' });\n\t}\n\n\thandleElectronSearch = (e) => {\n\t\twindow.api.send('toMain', { action: 'search', query: e.target.value });\n\n\t\tsetTimeout(() => {\n\t\t\tthis.searchInput.current.focus();\n\t\t}, 100);\n\t};\n\n\trender() {\n\t\treturn (\n\t\t\t<div className='electron-search'>\n\t\t\t\t<input\n\t\t\t\t\ttype='text'\n\t\t\t\t\tautoFocus\n\t\t\t\t\tref={this.searchInput}\n\t\t\t\t\tid='electron-search-input'\n\t\t\t\t\tonKeyPress={(e) => {\n\t\t\t\t\t\tif (e.key === 'Enter') {\n\t\t\t\t\t\t\tthis.handleElectronSearch(e);\n\t\t\t\t\t\t}\n\t\t\t\t\t}}\n\t\t\t\t></input>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default connect(null, {})(ElectronSearch);\n","// SPECIAL COMPONENT\n// this is a special component to integrate with redux\n// while also sending & recieving messages from electron\nimport React, { Component, Fragment } from 'react';\nimport { connect } from 'react-redux';\nimport ElectronSearch from './ElectronSearch';\nimport { showComponent, hideComponent, linkFileNodes } from '../../api/redux/actions';\nimport { message, Modal } from 'antd';\nimport history from '../../utils/history';\n\n// a place to send & recieve messages to & from electron\nclass ElectronMessage extends Component {\n\tcomponentDidMount() {\n\t\t// load up window.api.recieve function\n\t\tif (window.api) {\n\t\t\twindow.api.receive('fromMain', async (data) => {\n\t\t\t\tvar linkedNode;\n\n\t\t\t\tswitch (data.message) {\n\t\t\t\t\tcase 'search':\n\t\t\t\t\t\tif (!this.props.electronSearchData) {\n\t\t\t\t\t\t\tthis.props.showComponent('electronSearch');\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tthis.props.hideComponent('electronSearch');\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn;\n\t\t\t\t\tcase 'update-available':\n\t\t\t\t\t\tif (!this.props.updateAvailable) {\n\t\t\t\t\t\t\tthis.props.showComponent('updateAvailable');\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tthis.props.hideComponent('updateAvailable');\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn;\n\t\t\t\t\tcase 'search-all':\n\t\t\t\t\t\t// autofocus on the search bar, if it is onscreen & not selected\n\t\t\t\t\t\tif (document.getElementById('nav-primary-search')) {\n\t\t\t\t\t\t\twindow.scrollTo({ top: 0 });\n\t\t\t\t\t\t\tdocument.getElementById('nav-primary-search').select();\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\thistory.push('/');\n\t\t\t\t\t\t\twindow.scrollTo({ top: 0 });\n\t\t\t\t\t\t\tdocument.getElementById('nav-primary-search').select();\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn;\n\t\t\t\t\tcase 'latest-version':\n\t\t\t\t\t\tmessage.success('Synthona Is Up To Date', 2);\n\t\t\t\t\t\treturn;\n\t\t\t\t\tcase 'load-backend-config':\n\t\t\t\t\t\twindow.localStorage.setItem('backend-config', JSON.stringify(data.config));\n\t\t\t\t\t\treturn;\n\t\t\t\t\tcase 'file-pick-success':\n\t\t\t\t\t\tif (this.props.activeNode) {\n\t\t\t\t\t\t\tlinkedNode = JSON.stringify(this.props.activeNode);\n\t\t\t\t\t\t}\n\t\t\t\t\t\t// okay! well pretty much this is when we should take this list of files and send it to the backend. that simple\n\t\t\t\t\t\tlet fileName;\n\t\t\t\t\t\tlet fileList = [];\n\t\t\t\t\t\tfor (let file of data.files) {\n\t\t\t\t\t\t\t// in order to get the fileName we have to replace windows backslashes \\ with /\n\t\t\t\t\t\t\tlet simplifiedPath = file.replace(/\\\\/g, '/');\n\t\t\t\t\t\t\t// get the filename out of the corrected paths\n\t\t\t\t\t\t\tfileName = simplifiedPath.substring(simplifiedPath.lastIndexOf('/') + 1);\n\t\t\t\t\t\t\t// add to the filelist, for the path, use whichever was provided by the system\n\t\t\t\t\t\t\tfileList.push({ name: fileName, path: file });\n\t\t\t\t\t\t}\n\t\t\t\t\t\tawait this.props.linkFileNodes(fileList, linkedNode);\n\t\t\t\t\t\treturn;\n\t\t\t\t\tcase 'folder-pick-success':\n\t\t\t\t\t\tif (this.props.activeNode) {\n\t\t\t\t\t\t\tlinkedNode = JSON.stringify(this.props.activeNode);\n\t\t\t\t\t\t}\n\t\t\t\t\t\t// okay! well pretty much this is when we should take this list of files and send it to the backend. that simple\n\t\t\t\t\t\tlet folderName;\n\t\t\t\t\t\tlet folderList = [];\n\t\t\t\t\t\tfor (let folder of data.files) {\n\t\t\t\t\t\t\t// in order to get the fileName we have to replace windows backslashes \\ with /\n\t\t\t\t\t\t\tlet simplifiedPath = folder.replace(/\\\\/g, '/');\n\t\t\t\t\t\t\t// get the filename out of the corrected paths\n\t\t\t\t\t\t\tfolderName = simplifiedPath.substring(simplifiedPath.lastIndexOf('/') + 1);\n\t\t\t\t\t\t\t// add to the filelist, for the path, use whichever was provided by the system\n\t\t\t\t\t\t\tfolderList.push({ name: folderName, path: folder });\n\t\t\t\t\t\t}\n\t\t\t\t\t\tawait this.props.linkFileNodes(folderList, linkedNode);\n\t\t\t\t\t\treturn;\n\t\t\t\t\tdefault:\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t}\n\n\trenderElectronSearch = () => {\n\t\tif (this.props.electronSearchData && this.props.electronSearchData.visible) {\n\t\t\treturn <ElectronSearch />;\n\t\t}\n\t};\n\n\trenderUpdateAvailableModal = () => {\n\t\tif (this.props.updateAvailable && this.props.updateAvailable.visible) {\n\t\t\treturn (\n\t\t\t\t<Modal\n\t\t\t\t\ttitle={'A New Version Is Available!'}\n\t\t\t\t\tvisible={true}\n\t\t\t\t\tclassName='signout-modal'\n\t\t\t\t\tcentered\n\t\t\t\t\tonOk={(e) => window.open('http://www.synthona.net', '_blank')}\n\t\t\t\t\tokType='primary'\n\t\t\t\t\tokText='Yes!'\n\t\t\t\t\tclosable={false}\n\t\t\t\t\tonCancel={() => this.props.hideComponent('updateAvailable')}\n\t\t\t\t>\n\t\t\t\t\t<p>An upgrade for Synthona is available. Do you want to know more?</p>\n\t\t\t\t</Modal>\n\t\t\t);\n\t\t}\n\t};\n\n\trender() {\n\t\treturn (\n\t\t\t<Fragment>\n\t\t\t\t{this.renderElectronSearch()}\n\t\t\t\t{this.renderUpdateAvailableModal()}\n\t\t\t</Fragment>\n\t\t);\n\t}\n}\n\nconst mapStateToProps = (state) => {\n\treturn {\n\t\telectronSearchData: state.components.componentList['electronSearch'],\n\t\tupdateAvailable: state.components.componentList['updateAvailable'],\n\t\tactiveNode: state.nodes.activeNode,\n\t};\n};\n\nexport default connect(mapStateToProps, { showComponent, hideComponent, linkFileNodes })(\n\tElectronMessage\n);\n","import React, { Component } from \"react\";\nimport { Route, Switch } from \"react-router-dom\";\nimport { connect } from \"react-redux\";\n// custom code\nimport \"../app.less\";\nimport { isElectron } from \"../utils/environment\";\nimport { isAuthenticated } from \"../api/redux/actions\";\n// custom components\nimport Theme from \"./Theme\";\nimport Login from \"./layouts/Login\";\nimport ForgotPassword from \"./layouts/ForgotPassword\";\nimport Home from \"./layouts/Home\";\nimport Profile from \"./layouts/Profile\";\nimport Options from \"./layouts/Options\";\nimport Activity from \"./layouts/Activity\";\nimport QuillEditor from \"./QuillEditor/QuillEditor\";\nimport Collections from \"./layouts/Collections\";\nimport Spinner from \"./elements/Spinner\";\nimport CreateAccount from \"./layouts/CreateAccount\";\nimport AssociationBrowser from \"./layouts/AssociationBrowser\";\nimport GraphBrowser from \"./layouts/GraphBrowser\";\nimport Pins from \"./layouts/Pins\";\nimport RandomRedirect from \"./layouts/RandomRedirect\";\nimport LaunchFile from \"./layouts/LaunchFile\";\n// special\nimport ElectronMessage from \"./electron/ElectronMessage\";\n\nclass App extends Component {\n\tcomponentDidMount() {\n\t\tif (this.props.isAuth === null) {\n\t\t\tthis.props.isAuthenticated();\n\t\t}\n\t\t// if (window.api) {\n\t\t// \twindow.api.receive('fromMain', (data) => {\n\t\t// \t\tconsole.log(data);\n\t\t// \t});\n\t\t// }\n\t\t// window.api.send('toMain', 'some data');\n\t}\n\n\trenderElectronMessage = () => {\n\t\t// initialize the electron-message module\n\t\t// if this is an electron environment\n\t\tif (isElectron()) {\n\t\t\treturn <ElectronMessage />;\n\t\t}\n\t};\n\n\trender() {\n\t\tlet routes;\n\t\tif (this.props.isAuth) {\n\t\t\troutes = (\n\t\t\t\t<Theme>\n\t\t\t\t\t<Switch>\n\t\t\t\t\t\t<Route path=\"/\" exact component={Home} />\n\t\t\t\t\t\t<Route path=\"/profile/:username\" exact component={Profile} />\n\t\t\t\t\t\t<Route path=\"/activity\" exact component={Activity} />\n\t\t\t\t\t\t<Route path=\"/collections\" exact component={Collections} />\n\t\t\t\t\t\t<Route path=\"/edit/text/:uuid\" exact component={QuillEditor} />\n\t\t\t\t\t\t<Route path=\"/edit/profile\" exact component={Options} />\n\t\t\t\t\t\t<Route path=\"/associations/:uuid\" exact component={AssociationBrowser} />\n\t\t\t\t\t\t<Route path=\"/graph/:uuid?\" exact component={GraphBrowser} />\n\t\t\t\t\t\t<Route path=\"/pins\" exact component={Pins} />\n\t\t\t\t\t\t<Route path=\"/random\" exact component={RandomRedirect} />\n\t\t\t\t\t\t<Route path=\"/launch-file/:uuid\" exact component={LaunchFile} />\n\t\t\t\t\t</Switch>\n\t\t\t\t</Theme>\n\t\t\t);\n\t\t} else if (this.props.isFetchingAuth) {\n\t\t\troutes = <Spinner />;\n\t\t} else {\n\t\t\troutes = (\n\t\t\t\t<Switch>\n\t\t\t\t\t<Route path=\"/\" exact component={Login} />\n\t\t\t\t\t<Route path=\"/create-account\" exact component={CreateAccount} />\n\t\t\t\t\t<Route path=\"/forgot-password\" exact component={ForgotPassword} />\n\t\t\t\t\t<Route component={Login} />\n\t\t\t\t</Switch>\n\t\t\t);\n\t\t}\n\t\treturn (\n\t\t\t<div style={{ backgroundColor: \"#272727\" }}>\n\t\t\t\t{this.renderElectronMessage()}\n\t\t\t\t{routes}\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nconst mapStateToProps = (state) => {\n\treturn {\n\t\tuser: state.auth.user,\n\t\tisFetchingAuth: state.auth.isFetching,\n\t\tisAuth: state.auth.isAuth,\n\t};\n};\n\nexport default connect(mapStateToProps, { isAuthenticated })(App);\n","import {\n  CREATE_ACCOUNT,\n  CREATE_ACCOUNT_SUCCESS,\n  CREATE_ACCOUNT_ERROR,\n  SIGN_IN,\n  SIGN_IN_SUCCESS,\n  SIGN_IN_ERROR,\n  SIGN_OUT,\n  SIGN_OUT_ERROR,\n  REFRESH_AUTH,\n  REFRESH_AUTH_SUCCESS,\n  REFRESH_AUTH_ERROR,\n  UPDATE_USER_NODE,\n  UPDATE_USER_NODE_ERROR,\n  UPDATE_USER_NODE_SUCCESS,\n  UPDATE_USER_AVATAR,\n  UPDATE_USER_AVATAR_SUCCESS,\n  UPDATE_USER_AVATAR_ERROR,\n  UPDATE_USER_HEADER,\n  UPDATE_USER_HEADER_SUCCESS,\n  UPDATE_USER_HEADER_ERROR,\n} from '../actions/types';\n\nconst INITIAL_STATE = {\n  isAuth: null,\n  isFetching: null,\n  user: null,\n};\n\n// reducer for authentication state and user object\nexport default (state = INITIAL_STATE, action) => {\n  switch (action.type) {\n    case CREATE_ACCOUNT:\n      return { ...state, isFetching: true };\n    case CREATE_ACCOUNT_SUCCESS:\n      return {\n        ...state,\n        isFetching: false,\n        user: action.payload,\n        isAuth: true,\n      };\n    case CREATE_ACCOUNT_ERROR:\n      return { ...state, isFetching: null, user: null, isAuth: false };\n    case SIGN_IN:\n      return { ...state, isFetching: true };\n    case SIGN_IN_SUCCESS:\n      return {\n        ...state,\n        isFetching: false,\n        user: action.payload,\n        isAuth: true,\n      };\n    case SIGN_IN_ERROR:\n      return { ...state, isFetching: null, user: null, isAuth: false };\n    case SIGN_OUT:\n      return { ...state, isFetching: true };\n    case SIGN_OUT_ERROR:\n      return { ...state, isFetching: null };\n    case REFRESH_AUTH:\n      return {\n        ...state,\n        isFetching: true,\n        user: action.payload,\n        isAuth: action.isAuth,\n      };\n    case REFRESH_AUTH_SUCCESS:\n      return { isFetching: null, user: action.payload, isAuth: true };\n    case REFRESH_AUTH_ERROR:\n      return { ...state, isFetching: null, user: null, isAuth: false };\n    case UPDATE_USER_NODE:\n      return { ...state, isFetching: true };\n    case UPDATE_USER_NODE_SUCCESS:\n      return { ...state, isFetching: null, user: action.user };\n    case UPDATE_USER_NODE_ERROR:\n      return { ...state, isFetching: null };\n    case UPDATE_USER_AVATAR:\n      return { ...state, isFetching: true };\n    case UPDATE_USER_AVATAR_SUCCESS:\n      window.location.reload();\n      return { ...state, isFetching: null, user: { ...state.user, avatar: action.url } };\n    case UPDATE_USER_AVATAR_ERROR:\n      return { ...state, isFetching: null };\n    case UPDATE_USER_HEADER:\n      return { ...state, isFetching: true };\n    case UPDATE_USER_HEADER_SUCCESS:\n      window.location.reload();\n      return { ...state, isFetching: null, user: { ...state.user, header: action.url } };\n    case UPDATE_USER_HEADER_ERROR:\n      return { ...state, isFetching: null };\n    default:\n      return state;\n  }\n};\n","import {\n\tEDIT_TEXT_NODE,\n\tEDIT_TEXT_NODE_SUCCESS,\n\tEDIT_TEXT_NODE_ERROR,\n\tFETCH_NODES,\n\tFETCH_NODES_SUCCESS,\n\tFETCH_NODES_ERROR,\n\tUPDATE_NODE,\n\tUPDATE_NODE_ERROR,\n\tUPDATE_NODE_SUCCESS,\n\tUPDATE_ACTIVE_NODE,\n\tUPDATE_ACTIVE_NODE_ERROR,\n\tUPDATE_ACTIVE_NODE_SUCCESS,\n\tPROCESS_TEXT_NODE,\n\tPROCESS_TEXT_NODE_SUCCESS,\n\tPROCESS_TEXT_NODE_ERROR,\n\tCREATE_FILE_NODE,\n\tCREATE_FILE_NODE_SUCCESS,\n\tCREATE_FILE_NODE_ERROR,\n\tLINK_FILE_NODES,\n\tLINK_FILE_NODES_ERROR,\n\tLINK_FILE_NODES_SUCCESS,\n\tSEARCH_NODES,\n\tSEARCH_NODES_SUCCESS,\n\tSEARCH_NODES_ERROR,\n\tMARK_NODE_VIEW,\n\tMARK_NODE_VIEW_SUCCESS,\n\tMARK_NODE_VIEW_ERROR,\n\tCREATE_NODE,\n\tCREATE_NODE_SUCCESS,\n\tCREATE_NODE_ERROR,\n\tSET_ACTIVE_NODE,\n\tSET_ACTIVE_NODE_SUCCESS,\n\tSET_ACTIVE_NODE_ERROR,\n\tDELETE_NODE,\n\tDELETE_NODE_ERROR,\n\tDELETE_NODE_SUCCESS,\n\tCLEAR_ACTIVE_NODE,\n\tGENERATE_EXPORT,\n\tGENERATE_EXPORT_ERROR,\n\tGENERATE_EXPORT_SUCCESS,\n} from \"../actions/types\";\n\nconst INITIAL_STATE = {\n\tisFetching: null,\n\tisSaving: null,\n\tisDeleting: null,\n\tnodeList: [],\n\ttotalItems: null,\n\tquery: {\n\t\tpage: 1,\n\t\tsortOrder: localStorage.getItem(\"sortOrder\") || \"DESC\",\n\t\tsortType: localStorage.getItem(\"sortType\") || \"recent\",\n\t},\n\tactiveNode: null,\n};\n\n// reducer for content nodes\nexport default (state = INITIAL_STATE, action) => {\n\tswitch (action.type) {\n\t\tcase FETCH_NODES:\n\t\t\treturn { ...state, isFetching: true };\n\t\tcase FETCH_NODES_SUCCESS:\n\t\t\tvar nodesArray;\n\t\t\t// reset nodesArray if page number has decreased\n\t\t\tif (action.query.page > state.query.page) {\n\t\t\t\tnodesArray = [...state.nodeList];\n\t\t\t} else {\n\t\t\t\tnodesArray = [];\n\t\t\t}\n\t\t\t// update the nodelist with the new values\n\t\t\tObject.values(action.payload.nodes).forEach((node) => {\n\t\t\t\tif (!nodesArray.some((item) => item.uuid === node.uuid)) {\n\t\t\t\t\tnodesArray.push(node);\n\t\t\t\t}\n\t\t\t});\n\t\t\t// if (nodesArray.length > 100) {\n\t\t\t// \t// if the length gets too long free up some memory\n\t\t\t// \tnodesArray.splice(0, action.payload.nodes.length);\n\t\t\t// }\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tisFetching: null,\n\t\t\t\tquery: action.query,\n\t\t\t\ttotalItems: action.payload.totalItems,\n\t\t\t\tnodeList: nodesArray,\n\t\t\t};\n\t\tcase FETCH_NODES_ERROR:\n\t\t\treturn { ...state, isFetching: null };\n\t\tcase SEARCH_NODES:\n\t\t\treturn { ...state, isFetching: true };\n\t\tcase SEARCH_NODES_SUCCESS:\n\t\t\tnodesArray = [];\n\t\t\t// update the nodelist with the new values\n\t\t\tObject.values(action.payload.nodes).forEach((node) => {\n\t\t\t\tif (!nodesArray.some((item) => item.uuid === node.uuid)) {\n\t\t\t\t\tnodesArray.push(node);\n\t\t\t\t}\n\t\t\t});\n\t\t\t// if (nodesArray.length > 100) {\n\t\t\t// \t// if the length gets too long free up some memory\n\t\t\t// \tnodesArray.splice(0, action.payload.nodes.length);\n\t\t\t// }\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tisFetching: null,\n\t\t\t\tquery: {\n\t\t\t\t\tpage: 1,\n\t\t\t\t\ttype: action.query.type,\n\t\t\t\t\tsearchQuery: action.query.searchQuery,\n\t\t\t\t\tsortType: action.query.sortType,\n\t\t\t\t\tsortOrder: action.query.sortOrder,\n\t\t\t\t},\n\t\t\t\ttotalItems: action.payload.totalItems,\n\t\t\t\tnodeList: nodesArray,\n\t\t\t};\n\t\tcase SEARCH_NODES_ERROR:\n\t\t\treturn { ...state, isFetching: null };\n\t\tcase UPDATE_NODE:\n\t\t\treturn { ...state, isSaving: true };\n\t\tcase UPDATE_NODE_ERROR:\n\t\t\treturn { ...state, isSaving: null };\n\t\tcase UPDATE_NODE_SUCCESS:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tisSaving: null,\n\t\t\t\tnodeList: state.nodeList.map((node) => {\n\t\t\t\t\tif (node.uuid === action.result.uuid) {\n\t\t\t\t\t\tnode = action.result;\n\t\t\t\t\t}\n\t\t\t\t\treturn node;\n\t\t\t\t}),\n\t\t\t};\n\t\tcase UPDATE_ACTIVE_NODE:\n\t\t\treturn { ...state, isSaving: true };\n\t\tcase UPDATE_ACTIVE_NODE_ERROR:\n\t\t\treturn { ...state, isSaving: null };\n\t\tcase UPDATE_ACTIVE_NODE_SUCCESS:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tisSaving: null,\n\t\t\t\tactiveNode: action.result.uuid === state.activeNode.uuid ? action.result : state.activeNode,\n\t\t\t\tnodeList: state.nodeList.map((node) => {\n\t\t\t\t\tif (node.uuid === action.result.uuid) {\n\t\t\t\t\t\tnode = action.result;\n\t\t\t\t\t}\n\t\t\t\t\treturn node;\n\t\t\t\t}),\n\t\t\t};\n\t\tcase EDIT_TEXT_NODE:\n\t\t\treturn { ...state, isSaving: true };\n\t\tcase EDIT_TEXT_NODE_SUCCESS:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tisSaving: null,\n\t\t\t\t// update the content on the activeNode\n\t\t\t\tactiveNode: {\n\t\t\t\t\t...state.activeNode,\n\t\t\t\t\tcontent: action.node.content,\n\t\t\t\t},\n\t\t\t};\n\t\tcase EDIT_TEXT_NODE_ERROR:\n\t\t\treturn { ...state, isSaving: null };\n\t\tcase PROCESS_TEXT_NODE:\n\t\t\treturn { ...state, isSaving: true };\n\t\tcase PROCESS_TEXT_NODE_SUCCESS:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tisSaving: null,\n\t\t\t\t// update the preview in the nodelist\n\t\t\t\t// leave everything else as-is\n\t\t\t\tnodeList: state.nodeList.map((node) => {\n\t\t\t\t\t// only update it for the processsed node\n\t\t\t\t\tif (node.uuid === action.node.uuid) {\n\t\t\t\t\t\tnode.preview = action.node.preview;\n\t\t\t\t\t}\n\t\t\t\t\treturn node;\n\t\t\t\t}),\n\t\t\t};\n\t\tcase PROCESS_TEXT_NODE_ERROR:\n\t\t\treturn { ...state, isSaving: null };\n\t\tcase CREATE_FILE_NODE:\n\t\t\treturn { ...state, isSaving: true };\n\t\tcase CREATE_FILE_NODE_SUCCESS:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tisFetching: null,\n\t\t\t\tnodeList: [action.payload, ...state.nodeList],\n\t\t\t};\n\t\tcase CREATE_FILE_NODE_ERROR:\n\t\t\treturn { ...state, isSaving: null };\n\t\tcase LINK_FILE_NODES:\n\t\t\treturn { ...state, isSaving: true };\n\t\tcase LINK_FILE_NODES_SUCCESS:\n\t\t\tvar linkNodesArray = [];\n\t\t\t// update the nodelist with the new values\n\t\t\taction.nodes.forEach((node) => {\n\t\t\t\tlinkNodesArray.push(node);\n\t\t\t});\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tisSaving: null,\n\t\t\t\tnodeList: [...linkNodesArray, ...state.nodeList],\n\t\t\t};\n\t\tcase LINK_FILE_NODES_ERROR:\n\t\t\treturn { ...state, isSaving: null };\n\t\tcase CREATE_NODE:\n\t\t\treturn { ...state, isSaving: true };\n\t\tcase CREATE_NODE_SUCCESS:\n\t\t\t// add new node to list and move to front of node order\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tisFetching: null,\n\t\t\t\tnodeList: [\n\t\t\t\t\taction.payload,\n\t\t\t\t\t...state.nodeList.filter((node) => node.uuid !== action.payload.uuid),\n\t\t\t\t],\n\t\t\t\tactiveNode: action.payload.node,\n\t\t\t};\n\t\tcase CREATE_NODE_ERROR:\n\t\t\treturn { ...state, isSaving: null };\n\t\tcase MARK_NODE_VIEW:\n\t\t\treturn { ...state, isSaving: true };\n\t\tcase MARK_NODE_VIEW_SUCCESS:\n\t\t\tvar newNodeList;\n\t\t\t// only send the node back to the beginning if the user is at the top of the list\n\t\t\tif (state.nodeList.length < 50) {\n\t\t\t\tnewNodeList = [\n\t\t\t\t\taction.node,\n\t\t\t\t\t...state.nodeList.filter((node) => node.uuid !== action.node.uuid),\n\t\t\t\t];\n\t\t\t} else {\n\t\t\t\t// otherwise just make it \"disapear\" to reappaar when they return to the top\n\t\t\t\tnewNodeList = [...state.nodeList.filter((node) => node.uuid !== action.node.uuid)];\n\t\t\t}\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tisSaving: null,\n\t\t\t\tnodeList: newNodeList,\n\t\t\t};\n\t\tcase MARK_NODE_VIEW_ERROR:\n\t\t\treturn { ...state, isSaving: null };\n\t\tcase SET_ACTIVE_NODE:\n\t\t\treturn { ...state, isFetching: true };\n\t\tcase SET_ACTIVE_NODE_SUCCESS:\n\t\t\treturn { ...state, isFetching: null, activeNode: action.payload.node };\n\t\tcase SET_ACTIVE_NODE_ERROR:\n\t\t\treturn { ...state, isFetching: null };\n\t\tcase CLEAR_ACTIVE_NODE:\n\t\t\treturn { ...state, activeNode: null };\n\t\tcase DELETE_NODE:\n\t\t\treturn { ...state, isDeleting: true };\n\t\tcase DELETE_NODE_SUCCESS:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\t// filter the node out of the list\n\t\t\t\tnodeList: [...state.nodeList.filter((node) => node.uuid !== action.uuid)],\n\t\t\t\tisDeleting: null,\n\t\t\t};\n\t\tcase DELETE_NODE_ERROR:\n\t\t\treturn { ...state, isDeleting: null };\n\t\tcase GENERATE_EXPORT:\n\t\t\treturn { ...state, isSaving: true };\n\t\tcase GENERATE_EXPORT_ERROR:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tisSaving: null,\n\t\t\t};\n\t\tcase GENERATE_EXPORT_SUCCESS:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tisSaving: null,\n\t\t\t};\n\t\tdefault:\n\t\t\treturn state;\n\t}\n};\n","import { SHOW_COMPONENT, HIDE_COMPONENT, LOAD_THEME } from \"../actions/types\";\n\nconst INITIAL_STATE = {\n\tcomponentList: {},\n};\n\n// reducer for UI components which need to store redux state\nexport default (state = INITIAL_STATE, action) => {\n\tswitch (action.type) {\n\t\tcase SHOW_COMPONENT:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tcomponentList: {\n\t\t\t\t\t...state.componentList,\n\t\t\t\t\t[action.payload.type]: { content: action.payload.content, visible: true },\n\t\t\t\t},\n\t\t\t};\n\t\tcase HIDE_COMPONENT:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tcomponentList: {\n\t\t\t\t\t...state.componentList,\n\t\t\t\t\t[action.payload.type]: null,\n\t\t\t\t},\n\t\t\t};\n\t\tcase LOAD_THEME:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\ttheme: action.payload.theme,\n\t\t\t\teditorTheme: action.payload.editorTheme,\n\t\t\t};\n\t\tdefault:\n\t\t\treturn state;\n\t}\n};\n","import {\n\tFETCH_GRAPH_DATA,\n\tFETCH_GRAPH_DATA_ERROR,\n\tFETCH_GRAPH_DATA_SUCCESS,\n} from '../actions/types';\n\nconst INITIAL_STATE = {\n\tisFetching: null,\n\tgraphNodeList: [],\n\tgraphAssociationList: [],\n\ttotalItems: null,\n\tquery: { page: 1 },\n\tactiveNode: null,\n\tgraphData: null,\n};\n\n// reducer for content nodes\nexport default (state = INITIAL_STATE, action) => {\n\tswitch (action.type) {\n\t\tcase FETCH_GRAPH_DATA:\n\t\t\treturn { ...state, isFetching: true };\n\t\tcase FETCH_GRAPH_DATA_ERROR:\n\t\t\treturn { ...state, isFetching: null };\n\t\tcase FETCH_GRAPH_DATA_SUCCESS:\n\t\t\t// format nodes\n\t\t\tconst nodeArray = [];\n\t\t\taction.payload.nodes.map((node) => {\n\t\t\t\treturn nodeArray.push(node);\n\t\t\t});\n\t\t\t// format associations\n\t\t\tconst associationArray = [];\n\t\t\taction.payload.associations.map((association) => {\n\t\t\t\tconst reformated = { source: association.nodeId, target: association.linkedNode };\n\t\t\t\treturn associationArray.push(reformated);\n\t\t\t});\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tisFetching: null,\n\t\t\t\tgraphData: { nodes: nodeArray, associations: associationArray },\n\t\t\t};\n\t\tdefault:\n\t\t\treturn state;\n\t}\n};\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Router } from 'react-router-dom';\nimport { Provider } from 'react-redux';\nimport { createStore, applyMiddleware, compose } from 'redux';\nimport reduxThunk from 'redux-thunk';\n//custom code\nimport history from './utils/history';\nimport App from './components/App';\nimport reducers from './api/redux/reducers';\n\n// add redux devtools\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\n// create store\nconst store = createStore(reducers, composeEnhancers(applyMiddleware(reduxThunk)));\n\nReactDOM.render(\n  <Provider store={store}>\n    <Router history={history}>\n      <App />\n    </Router>\n  </Provider>,\n  document.querySelector('#root')\n);\n","import { RESET_APP } from '../actions/types';\n// custom code\nimport authReducer from './authReducer';\nimport nodeReducer from './nodeReducer';\nimport componentReducer from './componentReducer';\nimport associationReducer from './associationReducer';\nimport graphReducer from './graphReducer';\n\n// custom combineReducers\nexport default (state = {}, action) => {\n  // reset app state if need-be\n  if (action.type === RESET_APP) {\n    state = {};\n  }\n\n  // return other reducers\n  return {\n    auth: authReducer(state.auth, action),\n    nodes: nodeReducer(state.nodes, action),\n    components: componentReducer(state.components, action),\n    associations: associationReducer(state.associations, action),\n    graph: graphReducer(state.graph, action),\n  };\n};\n","module.exports = __webpack_public_path__ + \"static/media/cloud9.22dc8cce.png\";","module.exports = __webpack_public_path__ + \"static/media/synthona-logo.b740604b.png\";"],"sourceRoot":""}
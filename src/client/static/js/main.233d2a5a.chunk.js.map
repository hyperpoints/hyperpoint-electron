{"version":3,"sources":["utils/environment.js","resources/missing-file.png","utils/config.js","utils/history.js","api/instance.js","api/redux/actions/nodeActions.js","api/redux/actions/types.js","api/redux/actions/authActions.js","api/redux/actions/userActions.js","api/redux/actions/associationActions.js","api/redux/actions/componentActions.js","utils/theme.js","api/redux/actions/portActions.js","api/redux/actions/fileActions.js","components/Theme.js","components/layouts/Login.js","components/layouts/ForgotPassword.js","components/elements/Spinner.js","components/elements/MainSider.js","utils/validation.js","components/elements/IOBar.js","components/elements/node/NodeCardHeaderFull.js","components/elements/node/NodeCardHeader.js","types/render/core/Text.js","types/render/core/Image.js","types/render/core/Url.js","types/render/core/File.js","types/render/core/Audio.js","types/render/core/Package.js","types/render/core/Zip.js","types/render/core/Collection.js","types/render/core/User.js","types/render/NodeRenderer.js","components/elements/node/NodeCard.js","components/elements/association/AssociationLink.js","components/elements/association/AssociationLinkList.js","components/elements/association/AssociationSider.js","components/elements/node/NodeList.js","components/layouts/Home.js","components/layouts/Profile.js","components/elements/options/OptionListItem.js","components/elements/options/OptionsList.js","components/layouts/Options.js","components/elements/MainContent.js","components/layouts/Activity.js","components/elements/association/AssociationList.js","components/QuillEditor/QuillEditor.js","api/redux/reducers/associationReducer.js","api/redux/actions/textActions.js","components/elements/MainFooter.js","components/layouts/Collections.js","components/layouts/CreateAccount.js","components/elements/node/NodeCardFull.js","components/layouts/AssociationBrowser.js","components/layouts/GraphBrowser.js","api/redux/actions/graphActions.js","components/elements/node/PinList.js","components/elements/PinHeader.js","components/layouts/Pins.js","components/layouts/RandomRedirect.js","components/electron/ElectronSearch.js","components/electron/ElectronMessage.js","components/App.js","api/redux/reducers/authReducer.js","api/redux/reducers/nodeReducer.js","api/redux/reducers/componentReducer.js","api/redux/reducers/graphReducer.js","index.js","api/redux/reducers/index.js","resources/cloud9.png","resources/synthona-logo.png"],"names":["isElectron","window","process","type","versions","electron","navigator","userAgent","indexOf","module","exports","clientConfig","storageKey","name","options","value","loadClientConfig","configArray","console","log","localStorage","getItem","map","item","configValue","JSON","parse","clear","location","reload","key","setItem","stringify","backendConfigMap","FULLSCREEN","OPEN_URLS_IN_BROWSER","HTTP_CACHE","CLEAR_CACHE_ON_START","ENABLE_HARDWARE_ACCELERATION","DEBUG","SERVER_PORT","CLIENT_PORT","CLIENT_BASE","APP_NAME","backendConfigFilter","createBrowserHistory","CancelToken","axios","source","create","baseURL","hostname","withCredentials","cancelToken","token","fetchNodes","query","dispatch","a","instance","get","params","page","searchQuery","pinned","sortType","sortOrder","response","payload","data","history","push","searchNodes","message","error","updateNode","node","patch","uuid","preview","path","result","createNode","file","delta","Delta","insert","content","put","isFile","linkedNode","status","createUrlNode","markNodeView","setActiveNode","getRandomNode","replace","clearActiveNode","signOut","success","fetchUserByUsername","username","user","fetchAssociationLinkList","linkMode","bidirectional","nodeUUID","fetchAssociations","updateLinkStrength","nodeA","nodeB","showComponent","hideComponent","loadTheme","theme","colors","cardTitleColor","cardButtonColor","cardHeaderColor","cardBodyColor","cardTextColor","graphNodeColor","graphNodeBorderColor","graphNodeHoverColor","graphNodeBorderHoverColor","textEditorBackground","textEditorText","setupTheme","generateInstanceExport","openFileInExplorer","connect","props","useEffect","style","backgroundImage","customImage","bgImage","test","loadBackground","backgroundColor","backgroundSize","backgroundRepeat","children","Content","Footer","Login","getUsername","onSubmit","values","setSubmitting","signIn","document","title","className","initialValues","email","password","confirmPassword","validationSchema","this","isSubmitting","role","aria-label","paddingRight","placeholder","component","disabled","to","Component","Yup","shape","required","min","state","isSignedIn","auth","formValues","displayName","ForgotPassword","forgotPassword","newPassword","confirmNewPassword","oneOf","Spinner","height","display","justifyContent","alignItems","alignment","size","Item","MainSider","signOutHandler","toggleSignoutModal","showSignoutModal","setState","body","removeProperty","renderDrawerClasses","animate","visible","mainSider","width","mask","showMask","placement","closable","onClose","e","mode","defaultSelectedKeys","onClick","src","avatar","defaultAvatar","icon","verticalAlign","marginTop","objectFit","margin","preventDefault","open","centered","onOk","okType","okText","onCancel","components","componentList","validUrl","URL","_","isImageUrl","url","match","includes","Header","Option","IOBar","toggleInputMode","inputMode","modeIcon","nodeTypes","toggleMainSider","toggleSortOrder","renderCreateFileNodeOption","commandHandler","target","blur","input","createNodeHandler","activeNode","selectLocalFile","createElement","setAttribute","click","onchange","fileList","files","linkFileNodes","renderSelectBefore","showSearch","showArrow","onChange","renderSelectAfter","Group","mouseEnterDelay","createType","queryType","fixed","position","marginRight","padding","href","onPressEnter","event","maxLength","defaultValue","addonBefore","addonAfter","id","nodes","NodeCardHeaderFull","saveName","updateActiveNode","nodeData","toggleDeleteModal","showDeleteModal","deleteHandler","deleting","deleteNode","toggleExportModal","showExportModal","exportHandler","generateExportByUUID","setUrlPreviewImage","togglePinned","pinnedState","setPreviewToLocalFilePath","clearNodePreview","renderTitle","editable","onBlur","autoFocus","onKeyPress","onFocus","select","color","onDoubleClick","renderContextualButtons","metadata","importing","expanded","removeImportsByPackage","unpackImport","showUrlPreviewImageModal","renderRevealInExplorerButton","renderExportButton","afterClose","getSelection","removeAllRanges","onKeyDown","delete","NodeCardHeader","renderLightbulbIcon","fontSize","textAlign","marginLeft","Text","element","onContextMenu","handleClick","handleAssociatonClick","renderNode","Image","fileLoadError","onFileLoadError","missingFileImage","onFullCardAction","launchFile","nodeCard","renderHeader","onClickAction","alt","onError","minHeight","imageClass","cursor","fullNode","Url","renderPreview","border","allowFullScreen","sandbox","rel","File","onContextAction","Audio","Package","launchExplorer","Zip","Collection","onCollectionClick","previewCount","length","User","defaultHeader","NodeRenderer","handleNodeClick","linkedNodeUUID","siderNodeUUID","siderUUID","toggleHeader","showHeader","launchFileNode","NodeCard","renderNodeCard","AssociationLink","handleDeleteAssociation","association","activeNodeUUID","deleteAssociationLink","pathname","removeFromAssociationList","renderAssociationLink","mouseLeaveDelay","deletedUUID","AssociationLinkList","loadMore","parseInt","renderAssociationLinkList","list","associations","isFetching","renderLoadMoreButton","listLength","totalItems","listStyle","associationLinkList","associationLinkListPage","totalLinkListItems","AssociationSider","createAssociationHandler","nodeToAssociate","siderNode","associationSiderData","autocompleteValues","forEach","nodeUUIDToAssociate","createAssociation","autocompleteOptions","inputText","renderAutocompleteValues","associationAutocomplete","newValues","hideInfoSider","renderContent","documentElement","cssText","onSearch","onSelect","NodeList","infiniteScroll","endReached","topOfPage","windowHeight","innerHeight","offsetHeight","html","docHeight","Math","max","scrollHeight","clientHeight","windowBottom","pageYOffset","renderNodeList","nodeList","encodeURIComponent","borderRadius","addEventListener","removeEventListener","totalNodes","Home","renderMainSider","scrollTo","top","behavior","Profile","toggleAvatarModal","avatarModal","initializeFromUrlParams","initialized","bio","header","nodeId","marginBottom","draggable","viewBox","d","footer","OptionListItem","borderBottom","float","keyName","checked","checkedChildren","unCheckedChildren","toString","optionObject","renderInputType","OptionsList","loadOptions","clientConfigValues","backendConfig","updateClientConfigValue","newValue","newConfig","updateBackendConfigValue","existingBackendConfig","showRestartModal","api","send","action","updates","restartHandler","renderOptionsList","configList","backendKey","clientKey","cancelText","Options","updatePassword","togglePasswordModal","changePassword","handleClearNodes","toggleDeleteNodesModal","clearAllNodes","showPasswordModal","showDeleteNodesModal","passwordModal","oldPassword","deleteAllNodesModal","passwordValue","deleteNodesValidation","setAvatar","updateUserAvatar","setHeader","updateUserHeader","renderDisplayName","saveDisplayName","updateUserInfo","renderBio","saveBio","renderUsername","saveUsername","updateUsername","renderEmail","saveEmail","updateEmail","updatedUser","imageData","FormData","append","headers","MainContent","Activity","AssociationList","currentListLength","renderNodes","associationList","renderList","associationListPage","totalAssociationListItems","CustomClipboard","left","pageXOffset","defaultPrevented","quill","isEnabled","range","retain","index","container","scrollTop","focus","setTimeout","selection","update","Quill","sources","SILENT","concat","convert","updateContents","USER","setSelection","bounds","getBounds","scrollingContainer","import","register","newAssociationList","QuillEditor","ref","componentDidUpdate","querySelectorAll","tool","stopPropagation","textUUID","initializing","text","readOnly","regeneratePreview","textValue","getEditor","expandHandler","removeItem","exitHandler","getText","substring","processTextNode","selectLocalImage","createFileNode","insertEmbed","RegExp","matcherImageHandler","image","modules","toolbar","font","indent","background","align","script","handlers","expand","exit","clipboard","matchVisual","matchers","allowedFormats","renderClassName","handleChange","bind","overflow","editor","getContents","fullDelta","editTextNode","isLoading","formats","fileData","MainFooter","Collections","CreateAccount","createAccount","paddingLeft","NodeCardFull","AssociationBrowser","regenerateCollectionPreview","collectionNode","i","err","paddingTop","isDeleting","GraphBrowser","fetchGraphData","anchorNode","graphData","renderGraph","renderAssociationSider","associationSider","renderAssociationList","zoomed","transform","g","attr","linkData","innerWidth","simulation","forceSimulation","force","forceLink","forceManyBody","strength","forceX","forceY","forceCenter","initialZoom","zoomIdentity","scale","translate","zoomData","zoom","scaleExtent","on","svg","link","selectAll","join","sqrt","call","drag","currentTarget","fx","fy","x","y","raise","active","alphaTarget","restart","graph","loading","graphRenderLimit","PinList","renderPinList","PinHeader","Pins","RandomRedirect","setInterval","ElectronSearch","handleElectronSearch","searchInput","current","React","createRef","ElectronMessage","renderElectronSearch","electronSearchData","renderUpdateAvailableModal","updateAvailable","receive","getElementById","config","App","renderElectronMessage","isAuth","isAuthenticated","routes","exact","isFetchingAuth","INITIAL_STATE","isSaving","nodesArray","Object","some","linkNodesArray","filter","newNodeList","associationLinkListArray","associationsArray","associatedNode","associated","original","addBackToList","newTotalLinkListItems","newTotalItems","graphNodeList","graphAssociationList","nodeArray","associationArray","reformated","composeEnhancers","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","authReducer","nodeReducer","componentReducer","associationReducer","graphReducer","applyMiddleware","reduxThunk","ReactDOM","render","querySelector"],"mappings":"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","file":"static/js/main.233d2a5a.chunk.js","sourcesContent":["export const isElectron = () => {\n\t// Renderer process\n\tif (\n\t\ttypeof window !== 'undefined' &&\n\t\ttypeof window.process === 'object' &&\n\t\twindow.process.type === 'renderer'\n\t) {\n\t\treturn true;\n\t}\n\t// Main process\n\tif (\n\t\ttypeof process !== 'undefined' &&\n\t\ttypeof process.versions === 'object' &&\n\t\t!!process.versions.electron\n\t) {\n\t\treturn true;\n\t}\n\t// Detect the user agent when the `nodeIntegration` option is set to true\n\tif (\n\t\ttypeof navigator === 'object' &&\n\t\ttypeof navigator.userAgent === 'string' &&\n\t\tnavigator.userAgent.indexOf('Electron') >= 0\n\t) {\n\t\treturn true;\n\t}\n\n\treturn false;\n};\n","module.exports = __webpack_public_path__ + \"static/media/missing-file.20cda3d1.png\";","let clientConfigVersion = 1.0;\n\nlet clientConfig = [\n\t{\n\t\tstorageKey: 'theme',\n\t\tname: 'Theme',\n\t\ttype: 'dropdown',\n\t\toptions: [\n\t\t\t'classic',\n\t\t\t'light',\n\t\t\t'translucent',\n\t\t\t'translucent green',\n\t\t\t'translucent blue',\n\t\t\t'translucent red',\n\t\t\t'translucent yellow',\n\t\t\t'translucent orange',\n\t\t],\n\t\tvalue: 'classic',\n\t},\n\t{\n\t\tstorageKey: 'image-sizing',\n\t\tname: 'Image Sizing',\n\t\ttype: 'dropdown',\n\t\toptions: ['classic', 'actual size', 'fit-vertically'],\n\t\tvalue: 'classic',\n\t},\n\t{\n\t\tstorageKey: 'quill-document-width',\n\t\tname: 'Document Page Width',\n\t\ttype: 'dropdown',\n\t\toptions: ['classic', 'full width'],\n\t\tvalue: 'full width',\n\t},\n\t{\n\t\tstorageKey: 'link-mode',\n\t\tname: 'Link Mode',\n\t\ttype: 'dropdown',\n\t\toptions: ['unidirectional', 'bidirectional'],\n\t\tvalue: 'unidirectional',\n\t},\n\t{\n\t\tstorageKey: 'graph-render-limit',\n\t\tname: 'Graph Render Limit',\n\t\ttype: 'number',\n\t\tvalue: 100,\n\t},\n];\n\nexports.loadClientConfig = () => {\n\tconsole.log('loading the client config from our special new function');\n\t// return new Promise((resolve) => {\n\tlet localConfigVersion = localStorage.getItem('client-config-version');\n\tlet configArray;\n\t// check to see if our version is up to date or not\n\tif (clientConfigVersion <= localConfigVersion) {\n\t\t// we're going to loop through our 'config array' definitions and load them from localstorage\n\t\tconfigArray = clientConfig.map((item) => {\n\t\t\tlet configValue = JSON.parse(localStorage.getItem(item.storageKey));\n\t\t\t// handle case where a config item is missing\n\t\t\tif (!configValue) {\n\t\t\t\t// if the config has been tampered with we are going to run the 'update' case\n\t\t\t\tlocalStorage.clear('client-config-version');\n\t\t\t\twindow.location.reload();\n\t\t\t}\n\t\t\t// load the configItem value into the render template\n\t\t\titem.value = configValue;\n\t\t\t// return the item\n\t\t\treturn item;\n\t\t});\n\t} else {\n\t\t// loop through clientConfig definitions and store the default values into local storage\n\t\tconfigArray = clientConfig.map((item) => {\n\t\t\tlet key = item.storageKey;\n\t\t\t// store the value in local storage\n\t\t\tlocalStorage.setItem(key, JSON.stringify(item.value));\n\t\t\t// lets set up the iobar default sort order item too\n\t\t\tlocalStorage.setItem('sortOrder', 'DESC');\n\t\t\tlocalStorage.setItem('sortType', 'recent');\n\t\t\t// return value to array\n\t\t\treturn item;\n\t\t});\n\t\t// update the client-config-version to the latest\n\t\tlocalStorage.setItem('client-config-version', clientConfigVersion);\n\t}\n\treturn configArray;\n};\n\n// some mappings for backend config stuff\nexports.backendConfigMap = {\n\tFULLSCREEN: {\n\t\ttype: 'boolean',\n\t\tname: 'Fullscreen on Startup',\n\t},\n\tOPEN_URLS_IN_BROWSER: {\n\t\ttype: 'boolean',\n\t\tname: 'Open URLs in Browser',\n\t},\n\tHTTP_CACHE: {\n\t\ttype: 'boolean',\n\t\tname: 'Http Cache',\n\t},\n\tCLEAR_CACHE_ON_START: {\n\t\ttype: 'boolean',\n\t\tname: 'Clear Cache On Startup',\n\t},\n\tENABLE_HARDWARE_ACCELERATION: {\n\t\ttype: 'boolean',\n\t\tname: 'Hardware Acceleration',\n\t},\n\tDEBUG: {\n\t\ttype: 'boolean',\n\t\tname: 'Debug Mode',\n\t},\n\tSERVER_PORT: {\n\t\ttype: 'number',\n\t\tname: 'Server Port',\n\t},\n\tCLIENT_PORT: {\n\t\ttype: 'number',\n\t\tname: 'Client Port',\n\t},\n\tCLIENT_BASE: {\n\t\ttype: 'string',\n\t\tname: 'Client Base',\n\t},\n\tAPP_NAME: {\n\t\ttype: 'string',\n\t\tname: 'App Name',\n\t},\n};\n\nexports.backendConfigFilter = [\n\t'JWT_SECRET',\n\t'REFRESH_TOKEN_SECRET',\n\t'CONFIG_VERSION',\n\t'CLIENT_PORT',\n\t'SERVER_PORT',\n\t'ENABLE_HARDWARE_ACCELERATION',\n\t'CLIENT_BASE',\n\t'APP_NAME',\n\t'DEBUG',\n\t'CLEAR_CACHE_ON_START',\n];\n","import { createBrowserHistory } from 'history';\nexport default createBrowserHistory();\n","import axios from 'axios';\nconst CancelToken = axios.CancelToken;\nconst source = CancelToken.source();\n\nexport default axios.create({\n\tbaseURL: process.env.REACT_APP_SERVER_PORT\n\t\t? 'http://' + window.location.hostname + ':' + process.env.REACT_APP_SERVER_PORT\n\t\t: 'http://' + window.location.hostname + ':' + window.location.port,\n\twithCredentials: true,\n\tcancelToken: source.token,\n});\n","import instance from '../../../api/instance';\nimport history from '../../../utils/history';\nimport {\n\tFETCH_NODES,\n\tFETCH_NODES_ERROR,\n\tFETCH_NODES_SUCCESS,\n\tUPDATE_NODE,\n\tUPDATE_NODE_SUCCESS,\n\tUPDATE_NODE_ERROR,\n\tUPDATE_ACTIVE_NODE,\n\tUPDATE_ACTIVE_NODE_ERROR,\n\tUPDATE_ACTIVE_NODE_SUCCESS,\n\tSEARCH_NODES,\n\tSEARCH_NODES_ERROR,\n\tSEARCH_NODES_SUCCESS,\n\tRESET_APP,\n\tCREATE_NODE,\n\tCREATE_NODE_SUCCESS,\n\tCREATE_NODE_ERROR,\n\tMARK_NODE_VIEW,\n\tMARK_NODE_VIEW_ERROR,\n\tMARK_NODE_VIEW_SUCCESS,\n\tSET_ACTIVE_NODE,\n\tSET_ACTIVE_NODE_SUCCESS,\n\tSET_ACTIVE_NODE_ERROR,\n\tDELETE_NODE,\n\tDELETE_NODE_ERROR,\n\tDELETE_NODE_SUCCESS,\n\tCLEAR_ACTIVE_NODE,\n} from './types';\nimport { message } from 'antd';\nimport Delta from 'quill-delta';\n\n// fetch a list of nodes\nexport const fetchNodes = (query) => async (dispatch) => {\n\ttry {\n\t\tdispatch({ type: FETCH_NODES });\n\t\tconst response = await instance.get('/node/search', {\n\t\t\tparams: {\n\t\t\t\tpage: query.page,\n\t\t\t\ttype: query.type,\n\t\t\t\tsearchQuery: query.searchQuery,\n\t\t\t\tpinned: query.pinned,\n\t\t\t\tsortType: query.sortType,\n\t\t\t\tsortOrder: query.sortOrder,\n\t\t\t},\n\t\t});\n\t\tdispatch({ type: FETCH_NODES_SUCCESS, payload: response.data, query });\n\t} catch (err) {\n\t\tdispatch({ type: FETCH_NODES_ERROR });\n\t\tdispatch({ type: RESET_APP });\n\t\t// message.error('Could not fetch items', 1);\n\t\thistory.push('/');\n\t}\n};\n\n// search the database\nexport const searchNodes = (query) => async (dispatch) => {\n\tif (query.type === 'all') {\n\t\tquery.type = null;\n\t}\n\ttry {\n\t\tdispatch({ type: SEARCH_NODES });\n\t\tconst response = await instance.get('/node/search', {\n\t\t\tparams: {\n\t\t\t\tpage: query.page,\n\t\t\t\ttype: query.type,\n\t\t\t\tsearchQuery: query.searchQuery,\n\t\t\t\tpinned: query.pinned,\n\t\t\t\tsortType: query.sortType,\n\t\t\t\tsortOrder: query.sortOrder,\n\t\t\t},\n\t\t});\n\t\tdispatch({ type: SEARCH_NODES_SUCCESS, payload: response.data, query });\n\t\thistory.push('/');\n\t} catch (err) {\n\t\tdispatch({ type: SEARCH_NODES_ERROR });\n\t\tdispatch({ type: RESET_APP });\n\t\tmessage.error('Could not search nodes', 1);\n\t\thistory.push('/');\n\t}\n};\n\n// update node handler\nexport const updateNode = (node) => async (dispatch) => {\n\tdispatch({ type: UPDATE_NODE });\n\ttry {\n\t\tconst result = await instance.patch('/node', {\n\t\t\tuuid: node.uuid,\n\t\t\tname: node.name,\n\t\t\tpreview: node.preview,\n\t\t\tpath: node.path,\n\t\t});\n\t\tdispatch({\n\t\t\ttype: UPDATE_NODE_SUCCESS,\n\t\t\tuuid: node.uuid,\n\t\t\tresult: result.data.node,\n\t\t});\n\t} catch (err) {\n\t\tdispatch({ type: UPDATE_NODE_ERROR });\n\t\tmessage.error('There was a problem saving your changes', 1);\n\t\thistory.push('/');\n\t}\n};\n\n// update node handler\nexport const clearNodePreview = (node) => async (dispatch) => {\n\tdispatch({ type: UPDATE_ACTIVE_NODE });\n\ttry {\n\t\tawait instance.patch('/node/preview/clear', {\n\t\t\tuuid: node.uuid,\n\t\t});\n\t\twindow.location.reload();\n\t} catch (err) {\n\t\tmessage.error('There was a problem saving your changes', 1);\n\t\thistory.push('/');\n\t}\n};\n\n// special handler for updating the active node\nexport const updateActiveNode = (node) => async (dispatch) => {\n\tdispatch({ type: UPDATE_ACTIVE_NODE });\n\ttry {\n\t\tconst result = await instance.patch('/node', {\n\t\t\tuuid: node.uuid,\n\t\t\tname: node.name,\n\t\t\tpreview: node.preview,\n\t\t\tpinned: node.pinned,\n\t\t});\n\t\tdispatch({\n\t\t\ttype: UPDATE_ACTIVE_NODE_SUCCESS,\n\t\t\tuuid: node.uuid,\n\t\t\tresult: result.data.node,\n\t\t});\n\t} catch (err) {\n\t\tdispatch({ type: UPDATE_ACTIVE_NODE_ERROR });\n\t\tmessage.error('There was a problem saving your changes', 1);\n\t\thistory.push('/');\n\t}\n};\n\nexport const createNode = (node, file) => async (dispatch) => {\n\tdispatch({ type: CREATE_NODE });\n\t// set content to empty quill delta for text node\n\tif (node.type === 'text') {\n\t\tconst delta = new Delta();\n\t\tdelta.insert(node.name);\n\t\tnode.content = JSON.stringify(delta);\n\t}\n\ttry {\n\t\tconst response = await instance.put('/node', {\n\t\t\tisFile: node.isFile,\n\t\t\ttype: node.type,\n\t\t\tname: node.name,\n\t\t\tpreview: node.preview,\n\t\t\tcontent: node.content,\n\t\t\tlinkedNode: node.linkedNode,\n\t\t});\n\t\tdispatch({\n\t\t\ttype: CREATE_NODE_SUCCESS,\n\t\t\tpayload: response.data.node,\n\t\t});\n\t\tif (response.status === 200 && node.type === 'text') {\n\t\t\t// if successfully created, redirect the user to the edit node page\n\t\t\thistory.push('/edit/text/' + response.data.node.uuid);\n\t\t}\n\t} catch (err) {\n\t\tdispatch({ type: CREATE_NODE_ERROR });\n\t\tmessage.error('There was a problem creating that node', 1);\n\t\thistory.push('/');\n\t}\n};\n\nexport const createUrlNode = (node) => async (dispatch) => {\n\tdispatch({ type: CREATE_NODE });\n\ttry {\n\t\tconst response = await instance.put('/url', {\n\t\t\tisFile: node.isFile,\n\t\t\ttype: node.type,\n\t\t\tname: node.name,\n\t\t\tpreview: node.preview,\n\t\t\tpath: node.path,\n\t\t\tcontent: node.content,\n\t\t\tlinkedNode: node.linkedNode,\n\t\t});\n\t\tdispatch({\n\t\t\ttype: CREATE_NODE_SUCCESS,\n\t\t\tpayload: response.data.node,\n\t\t});\n\t} catch (err) {\n\t\tdispatch({ type: CREATE_NODE_ERROR });\n\t\tmessage.error('There was a problem adding that URL', 1);\n\t\thistory.push('/');\n\t}\n};\n\nexport const markNodeView = (node) => async (dispatch) => {\n\tdispatch({ type: MARK_NODE_VIEW });\n\ttry {\n\t\tawait instance.patch('/node/viewed', {\n\t\t\tuuid: node.uuid,\n\t\t});\n\t\tdispatch({ type: MARK_NODE_VIEW_SUCCESS, node });\n\t} catch (err) {\n\t\tdispatch({ type: MARK_NODE_VIEW_ERROR });\n\t\tmessage.error('Could not mark node view', 1);\n\t\thistory.push('/');\n\t}\n};\n\n// set active node\nexport const setActiveNode = (uuid) => async (dispatch) => {\n\tdispatch({ type: SET_ACTIVE_NODE });\n\ttry {\n\t\tconst response = await instance.get('/node', {\n\t\t\tparams: { uuid },\n\t\t});\n\t\tdispatch({ type: SET_ACTIVE_NODE_SUCCESS, payload: response.data });\n\t} catch (err) {\n\t\tdispatch({ type: SET_ACTIVE_NODE_ERROR });\n\t\thistory.push('/');\n\t\tmessage.error('Could not retrieve values', 1);\n\t}\n};\n\n// get random node\nexport const getRandomNode = () => async (dispatch) => {\n\tdispatch({ type: SET_ACTIVE_NODE });\n\ttry {\n\t\tconst response = await instance.get('/node/random');\n\t\tdispatch({ type: SET_ACTIVE_NODE_SUCCESS, payload: response.data });\n\t\twindow.location.replace(`/associations/${response.data.node.uuid}`);\n\t} catch (err) {\n\t\tdispatch({ type: SET_ACTIVE_NODE_ERROR });\n\t\thistory.push('/');\n\t\tmessage.error('Could not retrieve values', 1);\n\t}\n};\n\nexport const clearActiveNode = () => {\n\treturn {\n\t\ttype: CLEAR_ACTIVE_NODE,\n\t};\n};\n\n// delete text node handler\nexport const deleteNode = (uuid) => async (dispatch) => {\n\tdispatch({ type: DELETE_NODE });\n\ttry {\n\t\tconst response = await instance.delete(`/node`, { params: { uuid } });\n\t\tif (response.status === 200) {\n\t\t\thistory.push('/');\n\t\t\tdispatch({ type: DELETE_NODE_SUCCESS, uuid: uuid });\n\t\t\tmessage.success('successfully deleted', 1);\n\t\t}\n\t} catch (err) {\n\t\tdispatch({ type: DELETE_NODE_ERROR });\n\t\tmessage.error('There was a problem deleting the node', 1);\n\t}\n};\n\n//regenerate collection previews\nexport const regenerateCollectionPreviews = () => async (dispatch) => {\n\ttry {\n\t\tawait instance.patch(`/collection/regenerate`);\n\t} catch (err) {\n\t\tmessage.error('There was a problem regenerating the collection previews', 1);\n\t}\n};\n\n// clear all nodes\nexport const clearAllNodes = (formValues) => async (dispatch) => {\n\ttry {\n\t\tconst response = await instance.patch('/user/clear', {\n\t\t\tpassword: formValues.passwordValue,\n\t\t});\n\t\tif (response.status === 200) {\n\t\t\thistory.push('/');\n\t\t\tmessage.success('successfully deleted all your data :)', 3);\n\t\t}\n\t} catch (err) {\n\t\tmessage.error('There was a problem, please try again', 1);\n\t}\n};\n","export const RESET_APP = 'RESET_APP';\n// modal actions\nexport const SHOW_COMPONENT = 'SHOW_COMPONENT';\nexport const HIDE_COMPONENT = 'HIDE_COMPONENT';\n// sign in\nexport const CREATE_ACCOUNT = 'CREATE_ACCOUNT';\nexport const CREATE_ACCOUNT_SUCCESS = 'CREATE_ACCOUNT_SUCCESS';\nexport const CREATE_ACCOUNT_ERROR = 'CREATE_ACCOUNT_ERROR';\n// sign in\nexport const SIGN_IN = 'SIGN_IN';\nexport const SIGN_IN_SUCCESS = 'SIGN_IN_SUCCESS';\nexport const SIGN_IN_ERROR = 'SIGN_IN_ERROR';\n// sign out\nexport const SIGN_OUT = 'SIGN_OUT';\nexport const SIGN_OUT_ERROR = 'SIGN_OUT_ERROR';\n// refresh auth\nexport const REFRESH_AUTH = 'REFRESH_AUTH';\nexport const REFRESH_AUTH_SUCCESS = 'REFRESH_AUTH_SUCCESS';\nexport const REFRESH_AUTH_ERROR = 'REFRESH_AUTH_ERROR';\n// create node\nexport const CREATE_NODE = 'CREATE_NODE';\nexport const CREATE_NODE_SUCCESS = 'CREATE_NODE_SUCCESS';\nexport const CREATE_NODE_ERROR = 'CREATE_NODE_ERROR';\n// fetch nodes\nexport const FETCH_NODES = 'FETCH_NODES';\nexport const FETCH_NODES_SUCCESS = 'FETCH_NODES_SUCCESS';\nexport const FETCH_NODES_ERROR = 'FETCH_NODES_ERROR';\n// search nodes\nexport const SEARCH_NODES = 'SEARCH_NODES';\nexport const SEARCH_NODES_SUCCESS = 'SEARCH_NODES_SUCCESS';\nexport const SEARCH_NODES_ERROR = 'SEARCH_NODES_ERROR';\n// update node\nexport const UPDATE_NODE = 'UPDATE_NODE';\nexport const UPDATE_NODE_SUCCESS = 'UPDATE_NODE_SUCCESS';\nexport const UPDATE_NODE_ERROR = 'UPDATE_NODE_ERROR';\n// update active node\nexport const UPDATE_ACTIVE_NODE = 'UPDATE_ACTIVE_NODE';\nexport const UPDATE_ACTIVE_NODE_ERROR = 'UPDATE_ACTIVE_NODE_ERROR';\nexport const UPDATE_ACTIVE_NODE_SUCCESS = 'UPDATE_ACTIVE_NODE_SUCCESS';\n// mark node view\nexport const MARK_NODE_VIEW = 'MARK_NODE_VIEW';\nexport const MARK_NODE_VIEW_SUCCESS = 'MARK_NODE_VIEW_SUCCESS';\nexport const MARK_NODE_VIEW_ERROR = 'MARK_NODE_VIEW_ERROR';\n// edit text node\nexport const EDIT_TEXT_NODE = 'EDIT_TEXT_NODE';\nexport const EDIT_TEXT_NODE_SUCCESS = 'EDIT_TEXT_NODE_SUCCESS';\nexport const EDIT_TEXT_NODE_ERROR = 'EDIT_TEXT_NODE_ERROR';\n// process text node\nexport const PROCESS_TEXT_NODE = 'PROCESS_TEXT_NODE';\nexport const PROCESS_TEXT_NODE_SUCCESS = 'PROCESS_TEXT_NODE_SUCCESS';\nexport const PROCESS_TEXT_NODE_ERROR = 'PROCESS_TEXT_NODE_ERROR';\n// create file node\nexport const CREATE_FILE_NODE = 'CREATE_FILE_NODE';\nexport const CREATE_FILE_NODE_SUCCESS = ' CREATE_FILE_NODE_SUCCESS';\nexport const CREATE_FILE_NODE_ERROR = 'CREATE_FILE_NODE_ERROR';\n// link file nodes\nexport const LINK_FILE_NODES = 'LINK_FILE_NODES';\nexport const LINK_FILE_NODES_SUCCESS = 'LINK_FILE_NODES_SUCCESS';\nexport const LINK_FILE_NODES_ERROR = 'LINK_FILE_NODES_ERROR';\n// fetch user node\nexport const FETCH_USER_NODE = 'FETCH_USER_NODE';\nexport const FETCH_USER_NODE_SUCCESS = 'FETCH_USER_NODE_SUCCESS';\nexport const FETCH_USER_NODE_ERROR = 'FETCH_USER_NODE_ERROR';\n// update user node\nexport const UPDATE_USER_NODE = 'UPDATE_USER_NODE';\nexport const UPDATE_USER_NODE_SUCCESS = 'UPDATE_USER_NODE_SUCCESS';\nexport const UPDATE_USER_NODE_ERROR = 'UPDATE_USER_NODE_ERROR';\n// update user avatar\nexport const UPDATE_USER_AVATAR = 'UPDATE_USER_AVATAR';\nexport const UPDATE_USER_AVATAR_SUCCESS = 'UPDATE_USER_AVATAR_SUCCESS';\nexport const UPDATE_USER_AVATAR_ERROR = 'UPDATE_USER_NODE_ERROR';\n// update user header image\nexport const UPDATE_USER_HEADER = 'UPDATE_USER_HEADER';\nexport const UPDATE_USER_HEADER_SUCCESS = 'UPDATE_USER_HEADER_SUCCESS';\nexport const UPDATE_USER_HEADER_ERROR = 'UPDATE_USER_HEADER_ERROR';\n// create associations\nexport const CREATE_ASSOCIATION = 'CREATE_ASSOCIATION';\nexport const CREATE_ASSOCIATION_SUCCESS = 'CREATE_ASSOCIATION_SUCCESS';\nexport const CREATE_ASSOCIATION_ERROR = 'CREATE_ASSOCIATION_ERROR';\n// fetch associations\nexport const FETCH_ASSOCIATIONS = 'FETCH_ASSOCIATIONS';\nexport const FETCH_ASSOCIATIONS_SUCCESS = 'FETCH_ASSOCIATIONS_SUCCESS';\nexport const FETCH_ASSOCIATIONS_ERROR = 'FETCH_ASSOCIATIONS_ERROR';\n// reset association list\nexport const RESET_ASSOCIATIONS = 'RESET_ASSOCIATIONS';\n// fetch association link list\nexport const FETCH_ASSOCIATION_LINK_LIST = 'FETCH_ASSOCIATIONS_LINK_LIST';\nexport const FETCH_ASSOCIATION_LINK_LIST_SUCCESS = 'FETCH_ASSOCIATIONS_LINK_LIST_SUCCESS';\nexport const FETCH_ASSOCIATION_LINK_LIST_ERROR = 'FETCH_ASSOCIATIONS_LINK_LIST_ERROR';\n// reset association link list\nexport const RESET_ASSOCIATION_LINK_LIST = 'RESET_ASSOCIATION_LINK_LIST';\n// set active node\nexport const SET_ACTIVE_NODE = 'SET_ACTIVE_NODE';\nexport const SET_ACTIVE_NODE_SUCCESS = 'SET_ACTIVE_NODE_SUCCESS';\nexport const SET_ACTIVE_NODE_ERROR = 'SET_ACTIVE_NODE_ERROR';\n// clear active node\nexport const CLEAR_ACTIVE_NODE = 'CLEAR_ACTIVE_NODE';\n// delete node\nexport const DELETE_NODE = 'DELETE_NODE';\nexport const DELETE_NODE_SUCCESS = 'DELETE_NODE_SUCCESS';\nexport const DELETE_NODE_ERROR = 'DELETE_NODE_ERROR';\n// remove from association list\nexport const REMOVE_FROM_ASSOCIATION_LIST = 'REMOVE_FROM_ASSOCIATION_LIST';\n// delete association link\nexport const DELETE_ASSOCIATION_LINK = 'DELETE_ASSOCIATION_LINK';\nexport const DELETE_ASSOCIATION_LINK_SUCCESS = 'DELETE_ASSOCIATION_LINK_SUCCESS';\nexport const DELETE_ASSOCIATION_LINK_ERROR = 'DELETE_ASSOCIATION_LINK_ERROR';\n// generate instance export\nexport const GENERATE_EXPORT = 'GENERATE_EXPORT';\nexport const GENERATE_EXPORT_ERROR = 'GENERATE_EXPORT_ERROR';\nexport const GENERATE_EXPORT_SUCCESS = 'GENERATE_EXPORT_SUCCESS';\n// fetch graph nodes\nexport const FETCH_GRAPH_DATA = 'FETCH_GRAPH_DATA';\nexport const FETCH_GRAPH_DATA_ERROR = 'FETCH_GRAPH_DATA_ERROR';\nexport const FETCH_GRAPH_DATA_SUCCESS = 'FETCH_GRAPH_DATA_SUCCESS';\n// load theme\nexport const LOAD_THEME = 'LOAD_THEME';\n","import instance from '../../../api/instance';\nimport history from '../../../utils/history';\nimport {\n\tCREATE_ACCOUNT,\n\tCREATE_ACCOUNT_SUCCESS,\n\tCREATE_ACCOUNT_ERROR,\n\tSIGN_IN,\n\tSIGN_IN_SUCCESS,\n\tSIGN_IN_ERROR,\n\tSIGN_OUT,\n\tSIGN_OUT_ERROR,\n\tREFRESH_AUTH,\n\tREFRESH_AUTH_SUCCESS,\n\tREFRESH_AUTH_ERROR,\n\tRESET_APP,\n} from './types';\nimport { message } from 'antd';\nimport { loadClientConfig } from '../../../utils/config';\n\n// Create Account Action handler\nexport const createAccount = (formValues) => async (dispatch) => {\n\t// let's take this as an opportunity to (re)initialize the backend config values in localstorage\n\tif (window.api) {\n\t\twindow.api.send('toMain', { action: 'get-backend-config' });\n\t}\n\t// lets also initialize some config values into storage/load them if they exist on this computer\n\tloadClientConfig();\n\t// dispatch create account action\n\tdispatch({ type: CREATE_ACCOUNT });\n\ttry {\n\t\tconst response = await instance.put('/auth/signup', formValues);\n\t\tlocalStorage.setItem('displayName', response.data.displayName);\n\t\tdispatch({ type: CREATE_ACCOUNT_SUCCESS, payload: response.data });\n\t\thistory.push('/');\n\t} catch (err) {\n\t\tdispatch({ type: CREATE_ACCOUNT_ERROR });\n\t\tmessage.error('There was a problem creating the account', 1);\n\t\thistory.push('/');\n\t}\n};\n\n// Sign In Action handler\nexport const signIn = (formValues) => async (dispatch) => {\n\tdispatch({ type: SIGN_IN });\n\t// lets also initialize some config values into storage/load them if they exist on this computer\n\tloadClientConfig();\n\ttry {\n\t\tconst response = await instance.put('/auth/login', formValues);\n\t\tlocalStorage.setItem('displayName', response.data.displayName);\n\t\tdispatch({ type: SIGN_IN_SUCCESS, payload: response.data });\n\t} catch (err) {\n\t\tdispatch({ type: SIGN_IN_ERROR });\n\t\tmessage.error('There was a problem signing in', 1);\n\t\thistory.push('/');\n\t}\n};\n\n// Sign Out Action Handler\nexport const signOut = () => async (dispatch) => {\n\tdispatch({ type: SIGN_OUT });\n\ttry {\n\t\tawait instance.get('/auth/signout');\n\t\tdispatch({ type: RESET_APP });\n\t\tmessage.success('Signed Out', 1);\n\t\t// send page redirect for the user\n\t\thistory.push('/');\n\t} catch (err) {\n\t\tdispatch({ type: SIGN_OUT_ERROR });\n\t\tmessage.error('There was a problem signing out', 1);\n\t}\n};\n\nexport const changePassword = (formValues) => async (dispatch) => {\n\ttry {\n\t\tconst response = await instance.patch('/auth/password', {\n\t\t\toldPassword: formValues.oldPassword,\n\t\t\tnewPassword: formValues.newPassword,\n\t\t});\n\t\tif (response.status === 200) {\n\t\t\tmessage.success('changed password', 1);\n\t\t}\n\t} catch (err) {\n\t\tmessage.error('Could not update password', 1);\n\t}\n};\n\nexport const forgotPassword = (formValues) => async (dispatch) => {\n\ttry {\n\t\tconst response = await instance.put('/auth/forgot-password', {\n\t\t\temail: formValues.email,\n\t\t\tnewPassword: formValues.newPassword,\n\t\t\tconfirmNewPassword: formValues.confirmNewPassword,\n\t\t});\n\t\tif (response.status === 200) {\n\t\t\twindow.location.replace('/');\n\t\t}\n\t} catch (err) {\n\t\tmessage.error('something went wrong', 1);\n\t}\n};\n\nexport const isAuthenticated = () => async (dispatch) => {\n\ttry {\n\t\tdispatch({ type: REFRESH_AUTH });\n\t\tconst response = await instance.get('/auth');\n\t\tdispatch({ type: REFRESH_AUTH_SUCCESS, payload: response.data });\n\t} catch (err) {\n\t\tdispatch({ type: REFRESH_AUTH_ERROR });\n\t}\n};\n","import instance from '../../../api/instance';\n// import history from '../history';\nimport {\n  FETCH_USER_NODE,\n  UPDATE_USER_NODE,\n  UPDATE_USER_NODE_ERROR,\n  UPDATE_USER_NODE_SUCCESS,\n  UPDATE_USER_AVATAR,\n  UPDATE_USER_AVATAR_SUCCESS,\n  UPDATE_USER_AVATAR_ERROR,\n  UPDATE_USER_HEADER,\n  UPDATE_USER_HEADER_SUCCESS,\n  UPDATE_USER_HEADER_ERROR,\n} from './types';\nimport { message } from 'antd';\n\n// get user by username handler\nexport const fetchUserByUsername = (username) => async (dispatch) => {\n  dispatch({ type: FETCH_USER_NODE });\n  try {\n    const response = await instance.get('/user/username', { params: { username } });\n    const user = response.data.user;\n    return user;\n    // TODO: once i add users a node type on the homepage, is when i should be adding this reducer\n    // dispatch({ type: FETCH_TEXT_NODE_SUCCESS, payload: response.data });\n  } catch (err) {\n    // dispatch({ type: FETCH_TEXT_NODE_ERROR });\n    message.error('Could not fetch user', 1);\n    // history.push('/');\n  }\n};\n\n// get user by username handler\n// export const fetchUserByEmail = email => async dispatch => {\n//   dispatch({ type: FETCH_USER_NODE });\n//   try {\n//     const response = await instance.get('/user/username', { params: { email } });\n//     const user = response.data.user;\n//     return user;\n//     // TODO: once i add users a node type on the homepage, is when i should be adding this reducer\n//     // dispatch({ type: FETCH_TEXT_NODE_SUCCESS, payload: response.data });\n//   } catch (err) {\n//     // dispatch({ type: FETCH_TEXT_NODE_ERROR });\n//     message.error('Could not fetch user', 1);\n//     // history.push('/');\n//   }\n// };\n\n// update user by username\nexport const updateUserInfo = (user) => async (dispatch) => {\n  dispatch({ type: UPDATE_USER_NODE });\n  try {\n    const response = await instance.patch('/user/info', {\n      username: user.username,\n      bio: user.bio,\n      displayName: user.displayName,\n    });\n    const updatedUser = response.data.user;\n    dispatch({ type: UPDATE_USER_NODE_SUCCESS, user: updatedUser });\n    return updatedUser;\n  } catch (err) {\n    dispatch({ type: UPDATE_USER_NODE_ERROR });\n    message.error('Could not update user', 1);\n  }\n};\n\n// update username\nexport const updateUsername = (username) => async (dispatch) => {\n  dispatch({ type: UPDATE_USER_NODE });\n  try {\n    const response = await instance.patch('/user/username', {\n      username: username,\n    });\n    const updatedUser = response.data.user;\n    dispatch({ type: UPDATE_USER_NODE_SUCCESS, user: updatedUser });\n    return updatedUser;\n  } catch (err) {\n    dispatch({ type: UPDATE_USER_NODE_ERROR });\n    message.error('Could not update user', 1);\n  }\n};\n\n// update user by username\nexport const updateEmail = (email) => async (dispatch) => {\n  dispatch({ type: UPDATE_USER_NODE });\n  try {\n    const response = await instance.patch('/user/email', {\n      email: email,\n    });\n    const updatedUser = response.data.user;\n    dispatch({ type: UPDATE_USER_NODE_SUCCESS, user: updatedUser });\n    return updatedUser;\n  } catch (err) {\n    dispatch({ type: UPDATE_USER_NODE_ERROR });\n    message.error('Could not update user', 1);\n  }\n};\n\n// update user avatar\nexport const updateUserAvatar = (file) => async (dispatch) => {\n  dispatch({ type: UPDATE_USER_AVATAR });\n  try {\n    // create image FormData\n    const imageData = new FormData();\n    imageData.append('image', file);\n    // send the request\n    const response = await instance.patch('/user/avatar', imageData, {\n      headers: { 'Content-Type': 'multipart/form-data' },\n    });\n    // if it's sucessful dispatch the success action\n    if (response.status === 200) {\n      dispatch({ type: UPDATE_USER_AVATAR_SUCCESS, url: response.data.url });\n      // return the image URL for immediate use\n      return response.data.url;\n    } else {\n      message.error('There was a problem uploading the image', 1);\n    }\n  } catch (err) {\n    dispatch({ type: UPDATE_USER_AVATAR_ERROR });\n    message.error('There was a problem uploading the image', 1);\n  }\n};\n\nexport const updateUserHeader = (file) => async (dispatch) => {\n  dispatch({ type: UPDATE_USER_HEADER });\n  try {\n    // create image FormData\n    const imageData = new FormData();\n    imageData.append('image', file);\n    // send the request\n    const response = await instance.patch('/user/header', imageData, {\n      headers: { 'Content-Type': 'multipart/form-data' },\n    });\n    // if it's sucessful dispatch the success action\n    if (response.status === 200) {\n      dispatch({ type: UPDATE_USER_HEADER_SUCCESS, url: response.data.url });\n      // return the image URL for immediate use\n      return response.data.url;\n    } else {\n      message.error('There was a problem uploading the image', 1);\n    }\n  } catch (err) {\n    dispatch({ type: UPDATE_USER_HEADER_ERROR });\n    message.error('There was a problem uploading the image', 1);\n  }\n};\n","import instance from '../../../api/instance';\nimport history from '../../../utils/history';\nimport {\n\tCREATE_ASSOCIATION,\n\tCREATE_ASSOCIATION_ERROR,\n\tCREATE_ASSOCIATION_SUCCESS,\n\tFETCH_ASSOCIATION_LINK_LIST,\n\tFETCH_ASSOCIATION_LINK_LIST_ERROR,\n\tFETCH_ASSOCIATION_LINK_LIST_SUCCESS,\n\tRESET_ASSOCIATION_LINK_LIST,\n\tFETCH_ASSOCIATIONS,\n\tFETCH_ASSOCIATIONS_ERROR,\n\tFETCH_ASSOCIATIONS_SUCCESS,\n\tRESET_ASSOCIATIONS,\n\tREMOVE_FROM_ASSOCIATION_LIST,\n\tDELETE_ASSOCIATION_LINK,\n\tDELETE_ASSOCIATION_LINK_SUCCESS,\n\tDELETE_ASSOCIATION_LINK_ERROR,\n\t// RESET_APP\n} from './types';\nimport { message } from 'antd';\n\n// fetch associations for associationLinklist\nexport const fetchAssociationLinkList = (query) => async (dispatch) => {\n\tlet linkMode = JSON.parse(localStorage.getItem('link-mode'));\n\tlet bidirectional = linkMode === 'bidirectional' ? 'yes' : 'no';\n\ttry {\n\t\tif (!query.page) {\n\t\t\tdispatch({ type: RESET_ASSOCIATION_LINK_LIST });\n\t\t\tquery.page = 1;\n\t\t}\n\t\tdispatch({ type: FETCH_ASSOCIATION_LINK_LIST });\n\t\tconst response = await instance.get('/association', {\n\t\t\tparams: { nodeUUID: query.nodeUUID, page: query.page, bidirectional },\n\t\t});\n\t\tdispatch({\n\t\t\ttype: FETCH_ASSOCIATION_LINK_LIST_SUCCESS,\n\t\t\tpayload: response.data,\n\t\t\tnodeUUID: query.nodeUUID,\n\t\t\tpage: query.page,\n\t\t});\n\t} catch (err) {\n\t\tdispatch({ type: FETCH_ASSOCIATION_LINK_LIST_ERROR });\n\t\tmessage.error('Could not fetch items', 1);\n\t\thistory.push('/');\n\t}\n};\n\n// fetch associations for associationList\nexport const fetchAssociations = (query) => async (dispatch) => {\n\tlet linkMode = JSON.parse(localStorage.getItem('link-mode'));\n\tlet bidirectional = linkMode === 'bidirectional' ? 'yes' : 'no';\n\ttry {\n\t\tif (!query.page) {\n\t\t\tdispatch({ type: RESET_ASSOCIATIONS });\n\t\t\tquery.page = 1;\n\t\t}\n\t\tdispatch({ type: FETCH_ASSOCIATIONS });\n\t\tconst response = await instance.get('/association', {\n\t\t\tparams: { nodeUUID: query.nodeUUID, page: query.page, bidirectional },\n\t\t});\n\t\tdispatch({\n\t\t\ttype: FETCH_ASSOCIATIONS_SUCCESS,\n\t\t\tpayload: response.data,\n\t\t\tnodeUUID: query.nodeUUID,\n\t\t\tpage: query.page,\n\t\t});\n\t} catch (err) {\n\t\tdispatch({ type: FETCH_ASSOCIATIONS_ERROR });\n\t\tmessage.error('Could not fetch items', 1);\n\t\thistory.push('/');\n\t}\n};\n\n// create a new association\nexport const createAssociation = (nodeUUID, linkedNodeUUID) => async (dispatch) => {\n\ttry {\n\t\tdispatch({ type: CREATE_ASSOCIATION });\n\t\tconst response = await instance.put('/association', {\n\t\t\tnodeUUID,\n\t\t\tlinkedNodeUUID,\n\t\t});\n\t\tdispatch({\n\t\t\ttype: CREATE_ASSOCIATION_SUCCESS,\n\t\t\tnodes: response.data.association,\n\t\t\tnodeUUID,\n\t\t});\n\t} catch (err) {\n\t\tdispatch({ type: CREATE_ASSOCIATION_ERROR });\n\t\tmessage.error('Could not create association', 1);\n\t\thistory.push('/');\n\t}\n};\n\n// get autocomplete values for association creation\nexport const associationAutocomplete = (query) => async (dispatch) => {\n\tlet linkMode = JSON.parse(localStorage.getItem('link-mode'));\n\tlet bidirectional = linkMode === 'bidirectional' ? 'yes' : 'no';\n\ttry {\n\t\tconst response = await instance.get('/association/autocomplete', {\n\t\t\tparams: { searchQuery: query.searchQuery, nodeUUID: query.uuid, bidirectional },\n\t\t});\n\t\treturn response.data.nodes;\n\t} catch (err) {\n\t\tmessage.error('Could not search nodes', 1);\n\t\thistory.push('/');\n\t}\n};\n\n// delete text node handler\nexport const deleteAssociationLink = (nodeA, nodeB) => async (dispatch) => {\n\tlet linkMode = JSON.parse(localStorage.getItem('link-mode'));\n\tlet bidirectional = linkMode === 'bidirectional' ? 'yes' : 'no';\n\tdispatch({ type: DELETE_ASSOCIATION_LINK });\n\ttry {\n\t\tconst response = await instance.delete(`/association`, {\n\t\t\tparams: { nodeA, nodeB, bidirectional },\n\t\t});\n\t\tif (response.status === 200) {\n\t\t\tdispatch({ type: DELETE_ASSOCIATION_LINK_SUCCESS, deletedUUID: response.data.deletedUUID });\n\t\t}\n\t} catch (err) {\n\t\tdispatch({ type: DELETE_ASSOCIATION_LINK_ERROR });\n\t\tmessage.error('There was a problem deleting the node', 1);\n\t}\n};\n\n// remove from association list\nexport const removeFromAssociationList = (uuid) => {\n\treturn {\n\t\ttype: REMOVE_FROM_ASSOCIATION_LIST,\n\t\tdeletedUUID: uuid,\n\t};\n};\n\n// update the linkStrength for an association\nexport const updateLinkStrength = (nodeA, nodeB) => async (dispatch) => {\n\ttry {\n\t\tawait instance.put('/association/linkstrength', {\n\t\t\tnodeA,\n\t\t\tnodeB,\n\t\t});\n\t} catch (err) {\n\t\tmessage.error('There was a problem with your request', 1);\n\t}\n};\n","import { SHOW_COMPONENT, HIDE_COMPONENT, LOAD_THEME } from './types';\nimport { setupTheme } from '../../../utils/theme';\n\nexport const showComponent = (type, content) => {\n\treturn {\n\t\ttype: SHOW_COMPONENT,\n\t\tpayload: {\n\t\t\ttype: type,\n\t\t\tcontent: content,\n\t\t},\n\t};\n};\n\nexport const hideComponent = (type) => {\n\treturn {\n\t\ttype: HIDE_COMPONENT,\n\t\tpayload: {\n\t\t\ttype: type,\n\t\t},\n\t};\n};\n\nexport const loadTheme = () => {\n\tconsole.log('load theme called');\n\tlet theme = setupTheme();\n\treturn {\n\t\ttype: LOAD_THEME,\n\t\tpayload: {\n\t\t\ttheme,\n\t\t},\n\t};\n};\n","export const setupTheme = () => {\n\tlet theme = JSON.parse(localStorage.getItem('theme'));\n\tlet colors = {};\n\tswitch (theme) {\n\t\tcase 'classic':\n\t\t\tcolors = {\n\t\t\t\tcardTitleColor: '#03fc88',\n\t\t\t\tcardButtonColor: 'white',\n\t\t\t\tcardHeaderColor: '#111111',\n\t\t\t\tcardBodyColor: '#111111',\n\t\t\t\tcardTextColor: '#e7e7e7',\n\t\t\t\tgraphNodeColor: '#ffffff',\n\t\t\t\tgraphNodeBorderColor: '#fff019',\n\t\t\t\tgraphNodeHoverColor: '#f0ff99',\n\t\t\t\tgraphNodeBorderHoverColor: '#f0ff99',\n\t\t\t\ttextEditorBackground: 'white',\n\t\t\t\ttextEditorText: 'black',\n\t\t\t};\n\t\t\tbreak;\n\t\tcase 'light':\n\t\t\tcolors = {\n\t\t\t\tcardTitleColor: 'black',\n\t\t\t\tcardButtonColor: 'black',\n\t\t\t\tcardHeaderColor: '#e7e7e7',\n\t\t\t\tcardBodyColor: '#e7e7e7',\n\t\t\t\tcardTextColor: 'grey',\n\t\t\t\tgraphNodeColor: '#f0ff99',\n\t\t\t\tgraphNodeBorderColor: '#f0ff99',\n\t\t\t\tgraphNodeHoverColor: 'white',\n\t\t\t\tgraphNodeBorderHoverColor: 'white',\n\t\t\t\ttextEditorBackground: 'white',\n\t\t\t\ttextEditorText: 'black',\n\t\t\t};\n\t\t\tbreak;\n\t\tcase 'translucent':\n\t\t\tcolors = {\n\t\t\t\tcardTitleColor: 'white',\n\t\t\t\tcardButtonColor: 'white',\n\t\t\t\tcardHeaderColor: 'rgba(0, 0, 0, .6)',\n\t\t\t\tcardBodyColor: 'rgba(0, 0, 0, .3)',\n\t\t\t\tcardTextColor: '#e7e7e7',\n\t\t\t\tgraphNodeColor: 'rgba(255, 255, 255, .7)',\n\t\t\t\tgraphNodeBorderColor: '#e7e7e7',\n\t\t\t\tgraphNodeHoverColor: 'rgba(255, 255, 255, .4)',\n\t\t\t\tgraphNodeBorderHoverColor: 'rgba(255, 255, 255, .4)',\n\t\t\t\ttextEditorBackground: 'white',\n\t\t\t\ttextEditorText: '#272727',\n\t\t\t};\n\t\t\tbreak;\n\t\tcase 'translucent green':\n\t\t\tcolors = {\n\t\t\t\tcardTitleColor: '#03fc88',\n\t\t\t\tcardButtonColor: '#03fc88',\n\t\t\t\tcardHeaderColor: 'rgba(0, 0, 0, .6)',\n\t\t\t\tcardBodyColor: 'rgba(0, 0, 0, .3)',\n\t\t\t\tcardTextColor: '#e7e7e7',\n\t\t\t\tgraphNodeColor: '#03fc88',\n\t\t\t\tgraphNodeBorderColor: '#03fc88',\n\t\t\t\tgraphNodeHoverColor: 'rgba(3, 252, 136, .5)',\n\t\t\t\tgraphNodeBorderHoverColor: 'rgba(3, 252, 136, .5)',\n\t\t\t\ttextEditorBackground: 'white',\n\t\t\t\ttextEditorText: '#272727',\n\t\t\t};\n\t\t\tbreak;\n\t\tcase 'translucent blue':\n\t\t\tcolors = {\n\t\t\t\tcardTitleColor: '#34d5eb',\n\t\t\t\tcardButtonColor: '#34d5eb',\n\t\t\t\tcardHeaderColor: 'rgba(0, 0, 0, .6)',\n\t\t\t\tcardBodyColor: 'rgba(0, 0, 0, .3)',\n\t\t\t\tcardTextColor: '#e7e7e7',\n\t\t\t\tgraphNodeColor: '#34d5eb',\n\t\t\t\tgraphNodeBorderColor: '#3651ff',\n\t\t\t\tgraphNodeHoverColor: 'rgba(50, 66, 168, .5)',\n\t\t\t\tgraphNodeBorderHoverColor: 'rgba(50, 66, 168, .5)',\n\t\t\t\ttextEditorBackground: 'white',\n\t\t\t\ttextEditorText: '#272727',\n\t\t\t};\n\t\t\tbreak;\n\t\tcase 'translucent red':\n\t\t\tcolors = {\n\t\t\t\tcardTitleColor: '#ff3d78',\n\t\t\t\tcardButtonColor: '#ff3d78',\n\t\t\t\tcardHeaderColor: 'rgba(0, 0, 0, .6)',\n\t\t\t\tcardBodyColor: 'rgba(0, 0, 0, .3)',\n\t\t\t\tcardTextColor: '#e7e7e7',\n\t\t\t\tgraphNodeColor: '#ff3d78',\n\t\t\t\tgraphNodeBorderColor: '#c70a43',\n\t\t\t\tgraphNodeHoverColor: 'rgba(255, 61, 120, .5)',\n\t\t\t\tgraphNodeBorderHoverColor: 'rgba(255, 61, 120, .5)',\n\t\t\t\ttextEditorBackground: 'white',\n\t\t\t\ttextEditorText: '#272727',\n\t\t\t};\n\t\t\tbreak;\n\t\tcase 'translucent yellow':\n\t\t\tcolors = {\n\t\t\t\tcardTitleColor: '#faff63',\n\t\t\t\tcardButtonColor: '#faff63',\n\t\t\t\tcardHeaderColor: 'rgba(0, 0, 0, .6)',\n\t\t\t\tcardBodyColor: 'rgba(0, 0, 0, .3)',\n\t\t\t\tcardTextColor: '#e7e7e7',\n\t\t\t\tgraphNodeColor: '#faff63',\n\t\t\t\tgraphNodeBorderColor: '#e7e7e7',\n\t\t\t\tgraphNodeHoverColor: 'rgba(250, 255, 99, .5)',\n\t\t\t\tgraphNodeBorderHoverColor: 'rgba(250, 255, 99, .5)',\n\t\t\t\ttextEditorBackground: 'white',\n\t\t\t\ttextEditorText: '#272727',\n\t\t\t};\n\t\t\tbreak;\n\t\tcase 'translucent orange':\n\t\t\tcolors = {\n\t\t\t\tcardTitleColor: '#ffa424',\n\t\t\t\tcardButtonColor: '#ffa424',\n\t\t\t\tcardHeaderColor: 'rgba(0, 0, 0, .6)',\n\t\t\t\tcardBodyColor: 'rgba(0, 0, 0, .3)',\n\t\t\t\tcardTextColor: '#e7e7e7',\n\t\t\t\tgraphNodeColor: '#ffa424',\n\t\t\t\tgraphNodeBorderColor: '#e7e7e7',\n\t\t\t\tgraphNodeHoverColor: 'rgba(255, 164, 36, .5)',\n\t\t\t\tgraphNodeBorderHoverColor: 'rgba(255, 164, 36, .5)',\n\t\t\t\ttextEditorBackground: 'white',\n\t\t\t\ttextEditorText: '#272727',\n\t\t\t};\n\t\t\tbreak;\n\t\tdefault:\n\t\t\tbreak;\n\t}\n\treturn colors;\n};\n","import instance from '../../../api/instance';\nimport history from '../../../utils/history';\nimport { GENERATE_EXPORT, GENERATE_EXPORT_ERROR, GENERATE_EXPORT_SUCCESS } from './types';\nimport { message } from 'antd';\n\n// export the instance data and get the url of the file\nexport const generateInstanceExport = () => async (dispatch) => {\n\tmessage.success('generating export!', 2);\n\ttry {\n\t\tdispatch({ type: GENERATE_EXPORT });\n\t\tconst response = await instance.put('/port/export/all');\n\t\tif (response.status === 200) {\n\t\t\tdispatch({ type: GENERATE_EXPORT_SUCCESS, payload: response.data });\n\t\t\t// redirect\n\t\t\thistory.push('/');\n\t\t}\n\t} catch (err) {\n\t\tdispatch({ type: GENERATE_EXPORT_ERROR });\n\t\tmessage.error('Could not export instance data', 1);\n\t\thistory.push('/');\n\t}\n};\n\n// generate export based on a node\nexport const generateExportByUUID = (uuid) => async (dispatch) => {\n\tmessage.success('generating export!', 2);\n\ttry {\n\t\tdispatch({ type: GENERATE_EXPORT });\n\t\tconst response = await instance.put('/port/export/', { uuid });\n\t\tif (response.status === 200) {\n\t\t\tdispatch({ type: GENERATE_EXPORT_SUCCESS, payload: response.data });\n\t\t\t// redirect\n\t\t\thistory.push('/');\n\t\t}\n\t} catch (err) {\n\t\tdispatch({ type: GENERATE_EXPORT_ERROR });\n\t\tmessage.error('Could not export instance data', 1);\n\t\thistory.push('/');\n\t}\n};\n\n// export the instance data and get the url of the file\nexport const unpackImport = (uuid) => async (dispatch) => {\n\ttry {\n\t\tconst response = await instance.put('/port/import/', { uuid });\n\t\tif (response.status === 200) {\n\t\t\tmessage.success('started import process!', 3);\n\t\t\thistory.push('/');\n\t\t}\n\t} catch (err) {\n\t\tmessage.error('Could not import instance data', 1);\n\t\thistory.push('/');\n\t}\n};\n\nexport const removeImportsByPackage = (uuid) => async (dispatch) => {\n\tmessage.success('removing imports...', 1);\n\ttry {\n\t\tconst response = await instance.patch('/port/export/undo/', { uuid });\n\t\tif (response.status === 200) {\n\t\t\thistory.push('/');\n\t\t}\n\t} catch (err) {\n\t\tmessage.error('Could not remove imports for this export', 1);\n\t\thistory.push('/');\n\t}\n};\n","import instance from '../../instance';\nimport {\n\tCREATE_FILE_NODE,\n\tCREATE_FILE_NODE_SUCCESS,\n\tCREATE_FILE_NODE_ERROR,\n\tLINK_FILE_NODES,\n\tLINK_FILE_NODES_SUCCESS,\n\tLINK_FILE_NODES_ERROR,\n} from './types';\nimport { message } from 'antd';\n\nexport const createFileNode = (file, name, linkedNode) => async (dispatch) => {\n\tdispatch({ type: CREATE_FILE_NODE });\n\ttry {\n\t\t// create image FormData\n\t\tconst fileData = new FormData();\n\t\tfileData.append('image', file);\n\t\tif (name) {\n\t\t\tfileData.append('name', name);\n\t\t}\n\t\tif (linkedNode) {\n\t\t\tfileData.append('linkedNode', linkedNode);\n\t\t}\n\t\t// send the request\n\t\tconst response = await instance.put('/file', fileData, {\n\t\t\theaders: { 'Content-Type': 'multipart/form-data' },\n\t\t});\n\t\t// if it's sucessful dispatch the success action\n\t\tif (response.status === 200) {\n\t\t\tdispatch({ type: CREATE_FILE_NODE_SUCCESS, payload: response.data.node });\n\t\t\t// return the image URL for immediate use\n\t\t\treturn response.data.node.preview;\n\t\t} else {\n\t\t\tmessage.error('There was a problem inserting the file', 1);\n\t\t}\n\t} catch (err) {\n\t\tdispatch({ type: CREATE_FILE_NODE_ERROR });\n\t\tmessage.error('There was a problem inserting the file', 1);\n\t}\n};\n\nexport const linkFileNodes = (fileList, linkedNode) => async (dispatch) => {\n\tdispatch({ type: LINK_FILE_NODES });\n\ttry {\n\t\t// send the request\n\t\tconst response = await instance.put('/file/link', {\n\t\t\tfileList: JSON.stringify(fileList),\n\t\t\tlinkedNode: linkedNode,\n\t\t});\n\t\t// if it's sucessful dispatch the success action\n\t\tif (response.status === 200) {\n\t\t\tdispatch({ type: LINK_FILE_NODES_SUCCESS, nodes: response.data.nodes });\n\t\t} else {\n\t\t\tmessage.error('There was a problem creating the file nodes', 1);\n\t\t}\n\t} catch (err) {\n\t\tdispatch({ type: LINK_FILE_NODES_ERROR });\n\t\tmessage.error('There was a problem creating the file nodes', 1);\n\t}\n};\n\nexport const launchFileNode = (uuid) => async (dispatch) => {\n\t// message.success('loading...', 1);\n\ttry {\n\t\t// send the request\n\t\tawait instance.put('/file/launch', { uuid });\n\t} catch (err) {\n\t\tmessage.error('There was a problem launching the file', 1);\n\t\twindow.location.reload();\n\t}\n};\n\nexport const openFileInExplorer = (uuid) => async (dispatch) => {\n\t// message.success('loading...', 1);\n\ttry {\n\t\t// send the request\n\t\tawait instance.put('/file/explorer', { uuid });\n\t} catch (err) {\n\t\tmessage.error('There was a problem opening the file in the file explorer', 1);\n\t\twindow.location.reload();\n\t}\n};\n","import React, { useEffect } from 'react';\nimport { connect } from 'react-redux';\nimport { loadTheme } from '../api/redux/actions';\nimport test from '../resources/cloud9.png';\nimport { loadClientConfig } from '../utils/config';\n\n// theme wrapper component\nconst Theme = (props) => {\n\tuseEffect(() => {\n\t\t// go ahead and load the theme\n\t\tprops.loadTheme();\n\t\t// lets also reload config if its not set for some reason\n\t\tlet localConfigVersion = localStorage.getItem('client-config-version');\n\t\tif (!localConfigVersion) {\n\t\t\tloadClientConfig();\n\t\t}\n\t});\n\n\tconst loadBackground = () => {\n\t\tlet customImage = localStorage.getItem('background-image');\n\t\tlet bgImage = test;\n\t\tif (customImage) {\n\t\t\tbgImage = customImage;\n\t\t}\n\t\treturn bgImage;\n\t};\n\n\treturn (\n\t\t<div\n\t\t\tstyle={{\n\t\t\t\tbackgroundImage: `url(${loadBackground()})`,\n\t\t\t\tbackgroundColor: '#272727',\n\t\t\t\tbackgroundSize: '100vw 107vh',\n\t\t\t\tbackgroundRepeat: 'repeat',\n\t\t\t}}\n\t\t>\n\t\t\t{props.children}\n\t\t</div>\n\t);\n};\n\nexport default connect(null, {\n\tloadTheme,\n})(Theme);\n","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { Link } from 'react-router-dom';\nimport { Formik, Form, Field, ErrorMessage } from 'formik';\nimport * as Yup from 'yup';\nimport { Layout, Card } from 'antd';\n// custom code\nimport { signIn } from '../../api/redux/actions';\nimport './css/Login.less';\n\n// destructure antd\nconst { Content, Footer } = Layout;\n\nclass Login extends Component {\n\tcomponentDidMount() {\n\t\tdocument.title = 'synthona';\n\t}\n\n\tgetUsername = () => {\n\t\t// const username = localStorage.getItem('displayName');\n\t\t// if (username) {\n\t\t//   return username;\n\t\t// } else {\n\t\t//   return 'synthona';\n\t\t// }\n\t\treturn 'synthona';\n\t};\n\n\tonSubmit = (values, { setSubmitting }) => {\n\t\tsetSubmitting(false);\n\t\tthis.props.signIn(values);\n\t};\n\n\trender() {\n\t\treturn (\n\t\t\t<Layout className='login-layout'>\n\t\t\t\t<Content className='login-content'>\n\t\t\t\t\t<Card className='login-card'>\n\t\t\t\t\t\t<Formik\n\t\t\t\t\t\t\tinitialValues={{ email: '', password: '', confirmPassword: '' }}\n\t\t\t\t\t\t\tvalidationSchema={validationSchema}\n\t\t\t\t\t\t\tonSubmit={this.onSubmit}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{({ isSubmitting }) => (\n\t\t\t\t\t\t\t\t<Form className='login-form'>\n\t\t\t\t\t\t\t\t\t<h1 className='login-title'>\n\t\t\t\t\t\t\t\t\t\t<span\n\t\t\t\t\t\t\t\t\t\t\trole='img'\n\t\t\t\t\t\t\t\t\t\t\taria-label='jsx-a11y/accessible-emoji'\n\t\t\t\t\t\t\t\t\t\t\tstyle={{ paddingRight: '0.5rem' }}\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t{' '}\n\t\t\t\t\t\t\t\t\t\t\t✨\n\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\tsynthona\n\t\t\t\t\t\t\t\t\t\t<span\n\t\t\t\t\t\t\t\t\t\t\trole='img'\n\t\t\t\t\t\t\t\t\t\t\taria-label='jsx-a11y/accessible-emoji'\n\t\t\t\t\t\t\t\t\t\t\tstyle={{ paddingRight: '0.5rem' }}\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t{'  '}✨\n\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t</h1>\n\t\t\t\t\t\t\t\t\t<Field type='email' name='email' placeholder='email' className='login-field' />\n\t\t\t\t\t\t\t\t\t<ErrorMessage name='email' component='div' className='login-error' />\n\t\t\t\t\t\t\t\t\t<Field\n\t\t\t\t\t\t\t\t\t\ttype='password'\n\t\t\t\t\t\t\t\t\t\tname='password'\n\t\t\t\t\t\t\t\t\t\tplaceholder='password'\n\t\t\t\t\t\t\t\t\t\tclassName='login-field'\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t<ErrorMessage name='password' component='div' className='login-error' />\n\t\t\t\t\t\t\t\t\t<ErrorMessage name='confirmPassword' component='div' className='login-error' />\n\t\t\t\t\t\t\t\t\t<button type='submit' disabled={isSubmitting} className='login-submit'>\n\t\t\t\t\t\t\t\t\t\tlogin\n\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t\t<Link to='/create-account' className='login-signup'>\n\t\t\t\t\t\t\t\t\t\tcreate account\n\t\t\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t\t\t</Form>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</Formik>\n\t\t\t\t\t\t<div className='login-after-card'>\n\t\t\t\t\t\t\t<Link to='/forgot-password' className='login-forgot-password'>\n\t\t\t\t\t\t\t\tlost password\n\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</Card>\n\t\t\t\t</Content>\n\t\t\t\t<Footer />\n\t\t\t</Layout>\n\t\t);\n\t}\n}\n\nconst validationSchema = Yup.object().shape({\n\temail: Yup.string().required().email('E-mail is not valid!'),\n\tpassword: Yup.string().required().min(5, 'Password has to be longer than 6 characters!'),\n});\n\nconst mapStateToProps = (state) => {\n\treturn { isSignedIn: state.auth.isSignedIn };\n};\n\nexport default connect(mapStateToProps, { signIn })(Login);\n","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { Link } from 'react-router-dom';\nimport { Formik, Form, Field, ErrorMessage } from 'formik';\nimport * as Yup from 'yup';\nimport { Layout, Card } from 'antd';\n// custom code\nimport { forgotPassword } from '../../api/redux/actions';\nimport './css/Login.less';\n\n// destructure antd\nconst { Content, Footer } = Layout;\n\nclass ForgotPassword extends Component {\n  componentDidMount() {\n    document.title = 'forgot password';\n  }\n\n  onSubmit = (values, { setSubmitting }) => {\n    setSubmitting(false);\n    this.props.forgotPassword(values);\n  };\n\n  render() {\n    return (\n      <Layout className='login-layout'>\n        <Content className='login-content'>\n          <Card className='login-card'>\n            <Formik\n              initialValues={{ email: '', password: '', confirmPassword: '' }}\n              validationSchema={validationSchema}\n              onSubmit={this.onSubmit}\n            >\n              {({ isSubmitting }) => (\n                <Form className='login-form'>\n                  <h1 className='login-title'>\n                    {' '}\n                    <span\n                      role='img'\n                      aria-label='jsx-a11y/accessible-emoji'\n                      style={{ paddingRight: '0.5rem' }}\n                    >\n                      {' '}\n                      ✨\n                    </span>\n                    lost password{' '}\n                    <span\n                      role='img'\n                      aria-label='jsx-a11y/accessible-emoji'\n                      style={{ paddingRight: '0.5rem' }}\n                    >\n                      {' '}\n                      ✨\n                    </span>\n                  </h1>\n                  <Field type='email' name='email' placeholder='email' className='login-field' />\n                  <ErrorMessage name='email' component='div' className='login-error' />\n                  <Field\n                    type='password'\n                    name='newPassword'\n                    placeholder='new password'\n                    className='login-field'\n                  />\n                  <ErrorMessage name='newPassword' component='div' className='login-error' />\n                  <Field\n                    type='password'\n                    name='confirmNewPassword'\n                    placeholder='confirm new password'\n                    className='login-field'\n                  />\n                  <ErrorMessage name='confirmNewPassword' component='div' className='login-error' />\n                  <button type='submit' disabled={isSubmitting} className='login-submit'>\n                    reset\n                  </button>\n                  <Link to='/' className='login-signup'>\n                    back to login\n                  </Link>\n                </Form>\n              )}\n            </Formik>\n          </Card>\n        </Content>\n        <Footer />\n      </Layout>\n    );\n  }\n}\n\nconst validationSchema = Yup.object().shape({\n  email: Yup.string().required().email('E-mail is not valid!'),\n  newPassword: Yup.string().required('new password is required'),\n  confirmNewPassword: Yup.string()\n    .required('please confirm new password')\n    .oneOf([Yup.ref('newPassword')], \"Your passwords don't match\"),\n});\n\nconst mapStateToProps = (state) => {\n  return { isSignedIn: state.auth.isSignedIn };\n};\n\nexport default connect(mapStateToProps, { forgotPassword })(ForgotPassword);\n","import React from 'react';\nimport { Layout } from 'antd';\nimport { Spin } from 'antd';\n\nconst Spinner = (props) => {\n\tconst spinnerAlignment = () => {\n\t\tif (props.alignment === 'top') {\n\t\t\treturn 'start';\n\t\t} else {\n\t\t\treturn 'center';\n\t\t}\n\t};\n\n\treturn (\n\t\t<Layout>\n\t\t\t<Spin\n\t\t\t\tstyle={{\n\t\t\t\t\theight: '100vh',\n\t\t\t\t\tdisplay: 'flex',\n\t\t\t\t\tjustifyContent: 'center',\n\t\t\t\t\talignItems: spinnerAlignment(),\n\t\t\t\t}}\n\t\t\t\tclassName='loading-spinner'\n\t\t\t\tsize='large'\n\t\t\t></Spin>\n\t\t</Layout>\n\t);\n};\n\nexport default Spinner;\n","import React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport { Menu, Avatar, Modal, Drawer, Icon } from 'antd';\nimport {\n\tsignOut,\n\thideComponent,\n\tgenerateInstanceExport,\n\tclearActiveNode,\n} from '../../api/redux/actions';\n// images\nimport defaultAvatar from '../../resources/synthona-logo.png';\n// custom code\nimport './css/MainSider.less';\nimport Spinner from './Spinner';\n// destructure antd components\nconst { Item } = Menu;\n\nclass MainSider extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\tshowSignoutModal: null,\n\t\t\tvisible: false,\n\t\t};\n\t}\n\n\tsignOutHandler = () => {\n\t\tthis.props.signOut();\n\t};\n\n\t// show modal to confirm deletion\n\ttoggleSignoutModal = () => {\n\t\tif (this.state.showSignoutModal) {\n\t\t\tthis.setState({ showSignoutModal: false });\n\t\t\t// temporary fix to remove overflow property being set on body by antd\n\t\t\tdocument.body.style.removeProperty('overflow');\n\t\t} else {\n\t\t\tthis.setState({ showSignoutModal: true });\n\t\t}\n\t};\n\n\trenderDrawerClasses = () => {\n\t\tif (this.props.animate === false) {\n\t\t\treturn 'page-sider no-animation';\n\t\t} else {\n\t\t\treturn 'page-sider';\n\t\t}\n\t};\n\n\trender() {\n\t\tif (this.props.mainSider === null) {\n\t\t\treturn <Spinner></Spinner>;\n\t\t}\n\n\t\treturn (\n\t\t\t<div className='sider-container'>\n\t\t\t\t<Drawer\n\t\t\t\t\tclassName={this.renderDrawerClasses()}\n\t\t\t\t\twidth='200px'\n\t\t\t\t\tmask={this.props.showMask}\n\t\t\t\t\tplacement='left'\n\t\t\t\t\tclosable={false}\n\t\t\t\t\tonClose={(e) => this.props.hideComponent('mainSider')}\n\t\t\t\t\tvisible={this.props.mainSider ? this.props.mainSider.visible : false}\n\t\t\t\t>\n\t\t\t\t\t<Menu mode='vertical' defaultSelectedKeys={['1']} className='sider-menu'>\n\t\t\t\t\t\t<Item>\n\t\t\t\t\t\t\t<Link\n\t\t\t\t\t\t\t\tto={`/profile/${this.props.user.username}`}\n\t\t\t\t\t\t\t\tonClick={(e) => this.props.hideComponent('mainSider')}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<Avatar\n\t\t\t\t\t\t\t\t\tclassName='nav-avatar'\n\t\t\t\t\t\t\t\t\tsrc={this.props.user.avatar || defaultAvatar}\n\t\t\t\t\t\t\t\t\ticon='user'\n\t\t\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\t\t\tdisplay: 'inline-block',\n\t\t\t\t\t\t\t\t\t\tverticalAlign: 'middle',\n\t\t\t\t\t\t\t\t\t\tmarginTop: '0.8rem',\n\t\t\t\t\t\t\t\t\t\twidth: '2.5rem',\n\t\t\t\t\t\t\t\t\t\theight: '2.5rem',\n\t\t\t\t\t\t\t\t\t\t// border: '0.1rem solid #272727',\n\t\t\t\t\t\t\t\t\t\tobjectFit: 'contain',\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t</Item>\n\t\t\t\t\t\t<Item className='sider-menu-item sider-title'>\n\t\t\t\t\t\t\t<Link\n\t\t\t\t\t\t\t\tto={`/profile/${this.props.user.username}`}\n\t\t\t\t\t\t\t\tonClick={(e) => this.props.hideComponent('mainSider')}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{/*  <b>@{this.props.user.username}</b>*/}\n\t\t\t\t\t\t\t\t<Icon type={'sketch'} theme='outlined' style={{ margin: '0' }} /> <b>Profile</b>\n\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t</Item>\n\t\t\t\t\t\t<Item className='sider-menu-item'>\n\t\t\t\t\t\t\t<Link to={`/`} onClick={(e) => this.props.hideComponent('mainSider')}>\n\t\t\t\t\t\t\t\tExplore\n\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t</Item>\n\t\t\t\t\t\t<Item className='sider-menu-item'>\n\t\t\t\t\t\t\t<Link to={`/pins`} onClick={(e) => this.props.hideComponent('mainSider')}>\n\t\t\t\t\t\t\t\tFavorites\n\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t</Item>\n\t\t\t\t\t\t<Item className='sider-menu-item'>\n\t\t\t\t\t\t\t<Link\n\t\t\t\t\t\t\t\tto={`/graph`}\n\t\t\t\t\t\t\t\tonClick={(e) => {\n\t\t\t\t\t\t\t\t\tthis.props.clearActiveNode();\n\t\t\t\t\t\t\t\t\tthis.props.hideComponent('mainSider');\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\tConstellation\n\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t</Item>\n\t\t\t\t\t\t<Item className='sider-menu-item'>\n\t\t\t\t\t\t\t<Link to={`/random`} onClick={(e) => this.props.hideComponent('mainSider')}>\n\t\t\t\t\t\t\t\tRandom\n\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t</Item>\n\t\t\t\t\t\t{/*<Item className='sider-menu-item'>\n              <Link to='/' onClick={(e) => this.props.hideComponent('mainSider')}>\n                Nodes\n              </Link>\n            </Item>\n            <Item className='sider-menu-item'>\n              <Link to='/' onClick={(e) => this.props.hideComponent('mainSider')}>\n                Map\n              </Link>\n            </Item>\n            <Item className='sider-menu-item'>\n              <Link to='/' onClick={(e) => this.props.hideComponent('mainSider')}>\n                Chat\n              </Link>\n                </Item>  */}\n\t\t\t\t\t\t<Item className='sider-menu-item'>\n\t\t\t\t\t\t\t<Link to={`/edit/profile/`} onClick={(e) => this.props.hideComponent('mainSider')}>\n\t\t\t\t\t\t\t\tOptions\n\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t</Item>\n\t\t\t\t\t\t<Item className='sider-menu-item'>\n\t\t\t\t\t\t\t<Link\n\t\t\t\t\t\t\t\tto='/help'\n\t\t\t\t\t\t\t\tonClick={(e) => {\n\t\t\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t\t\t\twindow.open(\n\t\t\t\t\t\t\t\t\t\t'https://github.com/synthona/synthona-help/blob/main/README.md',\n\t\t\t\t\t\t\t\t\t\t'_blank'\n\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\tthis.props.hideComponent('mainSider');\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\tHelp\n\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t</Item>\n\t\t\t\t\t\t<Item className='sider-menu-item'>\n\t\t\t\t\t\t\t<Link to='#' onClick={this.toggleSignoutModal}>\n\t\t\t\t\t\t\t\tSign Out\n\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t</Item>\n\t\t\t\t\t</Menu>\n\t\t\t\t</Drawer>\n\t\t\t\t{/* </Sider> */}\n\t\t\t\t<Modal\n\t\t\t\t\ttitle={this.props.user.displayName}\n\t\t\t\t\tvisible={this.state.showSignoutModal}\n\t\t\t\t\tclassName='signout-modal'\n\t\t\t\t\tcentered\n\t\t\t\t\tonOk={this.signOutHandler}\n\t\t\t\t\tokType='primary'\n\t\t\t\t\tokText='Sign Out'\n\t\t\t\t\tclosable={false}\n\t\t\t\t\tonCancel={this.toggleSignoutModal}\n\t\t\t\t>\n\t\t\t\t\t<p>Are you sure you want to sign out?</p>\n\t\t\t\t</Modal>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nconst mapStateToProps = (state) => {\n\treturn { user: state.auth.user, mainSider: state.components.componentList['mainSider'] };\n};\n\nexport default connect(mapStateToProps, {\n\tsignOut,\n\thideComponent,\n\tgenerateInstanceExport,\n\tclearActiveNode,\n})(MainSider);\n","export const validUrl = (value) => {\n\ttry {\n\t\tnew URL(value);\n\t} catch (_) {\n\t\treturn false;\n\t}\n\treturn true;\n};\n\nexport const isImageUrl = (url) => {\n\treturn url.match(/\\..+(jpeg|jpg|gif|png|webp)/) != null || url.includes('http://localhost');\n};\n","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport history from '../../utils/history';\nimport { isElectron } from '../../utils/environment';\nimport { Link } from 'react-router-dom';\nimport { Layout, Button, Input, Select, Icon, message, Tooltip } from 'antd';\n// custom code\nimport { validUrl, isImageUrl } from '../../utils/validation';\nimport './css/IOBar.less';\nimport {\n\tsignOut,\n\tlinkFileNodes,\n\tcreateUrlNode,\n\tcreateNode,\n\tsearchNodes,\n\tshowComponent,\n\thideComponent,\n\tgetRandomNode,\n\tclearActiveNode,\n} from '../../api/redux/actions';\n// destructure antd components\nconst { Header } = Layout;\nconst { Option } = Select;\n\nclass IOBar extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\tinput: this.props.query.searchQuery,\n\t\t\tnodeTypes: this.props.query.type || 'all',\n\t\t\tsortType: this.props.query.sortType,\n\t\t\tsortOrder: this.props.query.sortOrder,\n\t\t\tcreateType: null,\n\t\t\tqueryType: null,\n\t\t\tinputMode: 'query',\n\t\t\tmodeIcon: 'search',\n\t\t\tplaceholder: 'query',\n\t\t};\n\t}\n\t// show modal to confirm deletion\n\ttoggleInputMode = () => {\n\t\tif (this.state.inputMode === 'query') {\n\t\t\tthis.setState({\n\t\t\t\tinputMode: 'create',\n\t\t\t\tmodeIcon: 'plus',\n\t\t\t\tplaceholder: 'create',\n\t\t\t\tnodeTypes: 'text',\n\t\t\t});\n\t\t} else {\n\t\t\tthis.setState({\n\t\t\t\tinputMode: 'query',\n\t\t\t\tmodeIcon: 'search',\n\t\t\t\tplaceholder: 'query',\n\t\t\t\tnodeTypes: 'all',\n\t\t\t});\n\t\t}\n\t};\n\n\ttoggleMainSider = async () => {\n\t\tif (this.props.mainSider) {\n\t\t\tthis.props.hideComponent('mainSider');\n\t\t} else {\n\t\t\tthis.props.showComponent('mainSider');\n\t\t}\n\t};\n\n\ttoggleSortOrder = () => {\n\t\tif (this.state.sortOrder === 'ASC') {\n\t\t\tthis.setState({ sortOrder: 'DESC' });\n\t\t\tlocalStorage.setItem('sortOrder', 'DESC');\n\t\t} else {\n\t\t\tthis.setState({ sortOrder: 'ASC' });\n\t\t\tlocalStorage.setItem('sortOrder', 'ASC');\n\t\t}\n\t};\n\n\trenderCreateFileNodeOption = () => {\n\t\tif (isElectron() === true) {\n\t\t\treturn <Option value='file'>files</Option>;\n\t\t}\n\t};\n\n\t// handle text input\n\tcommandHandler = (e) => {\n\t\te.target.blur();\n\t\tswitch (this.state.inputMode) {\n\t\t\tcase 'query':\n\t\t\t\treturn this.props.searchNodes({\n\t\t\t\t\tsearchQuery: this.state.input,\n\t\t\t\t\ttype: this.state.nodeTypes,\n\t\t\t\t\tsortType: this.state.sortType,\n\t\t\t\t\tsortOrder: this.state.sortOrder,\n\t\t\t\t});\n\t\t\tcase 'create':\n\t\t\t\treturn this.createNodeHandler();\n\t\t\tdefault:\n\t\t\t\treturn;\n\t\t}\n\t};\n\t// handle the creation of different node types\n\tcreateNodeHandler = () => {\n\t\tvar linkedNode;\n\t\tif (this.props.activeNode) {\n\t\t\tlinkedNode = JSON.stringify(this.props.activeNode);\n\t\t}\n\t\tswitch (this.state.nodeTypes) {\n\t\t\tcase 'text':\n\t\t\t\tthis.props.createNode({\n\t\t\t\t\tisFile: false,\n\t\t\t\t\ttype: 'text',\n\t\t\t\t\tname: this.state.input,\n\t\t\t\t\tpreview: '',\n\t\t\t\t\tlinkedNode,\n\t\t\t\t});\n\t\t\t\t// clear the input bar\n\t\t\t\tthis.setState({ input: '' });\n\t\t\t\t// redirect\n\t\t\t\thistory.push('/');\n\t\t\t\tbreak;\n\t\t\tcase 'file':\n\t\t\t\tthis.selectLocalFile(linkedNode);\n\t\t\t\tbreak;\n\t\t\tcase 'url':\n\t\t\t\t// if the URL is an image add an image node\n\t\t\t\tif (isImageUrl(this.state.input)) {\n\t\t\t\t\tthis.props.createNode({\n\t\t\t\t\t\tisFile: false,\n\t\t\t\t\t\ttype: 'image',\n\t\t\t\t\t\tname: this.state.input,\n\t\t\t\t\t\tpreview: this.state.input,\n\t\t\t\t\t\tcontent: this.state.input,\n\t\t\t\t\t\tlinkedNode,\n\t\t\t\t\t});\n\t\t\t\t\tthis.setState({ input: '' });\n\t\t\t\t\t// otherwise add a regular URL\n\t\t\t\t} else if (validUrl(this.state.input)) {\n\t\t\t\t\tthis.props.createUrlNode({\n\t\t\t\t\t\tisFile: false,\n\t\t\t\t\t\ttype: 'url',\n\t\t\t\t\t\tname: this.state.input,\n\t\t\t\t\t\tpreview: this.state.input,\n\t\t\t\t\t\tpath: this.state.input,\n\t\t\t\t\t\tcontent: this.state.input,\n\t\t\t\t\t\tlinkedNode,\n\t\t\t\t\t});\n\t\t\t\t\t// clear the input bar\n\t\t\t\t\tthis.setState({ input: '' });\n\t\t\t\t} else {\n\t\t\t\t\tmessage.error('You must enter a valid URL', 1);\n\t\t\t\t}\n\t\t\t\t// redirect\n\t\t\t\thistory.push('/');\n\t\t\t\tbreak;\n\t\t\tcase 'collection':\n\t\t\t\tthis.props.createNode({\n\t\t\t\t\tisFile: false,\n\t\t\t\t\ttype: 'collection',\n\t\t\t\t\tname: this.state.input,\n\t\t\t\t\tpreview: '',\n\t\t\t\t\tcontent: this.state.input,\n\t\t\t\t\tlinkedNode,\n\t\t\t\t});\n\t\t\t\t// clear the input bar\n\t\t\t\tthis.setState({ input: '' });\n\t\t\t\t// redirect\n\t\t\t\thistory.push('/');\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\treturn;\n\t\t}\n\t};\n\n\t// select an image.\n\tselectLocalFile = (linkedNode) => {\n\t\tconst input = document.createElement('input');\n\t\tinput.setAttribute('type', 'file');\n\t\tinput.setAttribute('multiple', true);\n\t\tinput.click();\n\t\t// Listen for uploading local file, then save to server\n\t\tinput.onchange = async () => {\n\t\t\tlet fileList = [];\n\t\t\tfor (let file of input.files) {\n\t\t\t\tfileList.push({ name: file.name, path: file.path, type: file.type });\n\t\t\t}\n\t\t\tawait this.props.linkFileNodes(fileList, linkedNode);\n\t\t\t// clear the input bar\n\t\t\tthis.setState({ input: '' });\n\t\t\thistory.push('/');\n\t\t};\n\t};\n\n\t// include an \"all\" option for queries\n\trenderSelectBefore = () => {\n\t\tif (this.state.inputMode === 'query') {\n\t\t\treturn (\n\t\t\t\t<Select\n\t\t\t\t\tshowSearch\n\t\t\t\t\tshowArrow={false}\n\t\t\t\t\tvalue={this.state.nodeTypes}\n\t\t\t\t\tonChange={(value) => {\n\t\t\t\t\t\tthis.setState({ nodeTypes: value });\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t<Option value='all'>all</Option>\n\t\t\t\t\t<Option value='url'>urls</Option>\n\t\t\t\t\t<Option value='file'>file</Option>\n\t\t\t\t\t<Option value='text'>text</Option>\n\t\t\t\t\t<Option value='image'>images</Option>\n\t\t\t\t\t<Option value='package'>packages</Option>\n\t\t\t\t\t<Option value='collection'>collections</Option>\n\t\t\t\t</Select>\n\t\t\t);\n\t\t} else {\n\t\t\t// exclude \"all\" option for creating nodes\n\t\t\treturn (\n\t\t\t\t<Select\n\t\t\t\t\tshowSearch\n\t\t\t\t\tshowArrow={false}\n\t\t\t\t\tvalue={this.state.nodeTypes}\n\t\t\t\t\tonChange={(value) => {\n\t\t\t\t\t\tthis.setState({ nodeTypes: value });\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t<Option value='text'>text</Option>\n\t\t\t\t\t{this.renderCreateFileNodeOption()}\n\t\t\t\t\t<Option value='url'>url</Option>\n\t\t\t\t\t<Option value='collection'>collection</Option>\n\t\t\t\t</Select>\n\t\t\t);\n\t\t}\n\t};\n\n\t// we're going to render the far-right side of the input bar\n\t// which includes all the sort selection variables and buttons\n\trenderSelectAfter = () => {\n\t\treturn (\n\t\t\t<div className='io-input-sort'>\n\t\t\t\t<Input.Group>\n\t\t\t\t\t<Select\n\t\t\t\t\t\tshowSearch\n\t\t\t\t\t\tshowArrow={false}\n\t\t\t\t\t\tvalue={this.state.sortType}\n\t\t\t\t\t\tonChange={(value) => {\n\t\t\t\t\t\t\tthis.setState({ sortType: value });\n\t\t\t\t\t\t\tlocalStorage.setItem('sortType', value);\n\t\t\t\t\t\t}}\n\t\t\t\t\t>\n\t\t\t\t\t\t<Option value='recent'>\n\t\t\t\t\t\t\t<Icon type={'bulb'} theme='outlined' /> recent\n\t\t\t\t\t\t</Option>\n\t\t\t\t\t\t<Option value='views'>\n\t\t\t\t\t\t\t<Icon type={'thunderbolt'} theme='outlined' /> top\n\t\t\t\t\t\t</Option>\n\t\t\t\t\t\t<Option value='created'>\n\t\t\t\t\t\t\t<Icon type={'clock-circle'} theme='outlined' /> created\n\t\t\t\t\t\t</Option>\n\t\t\t\t\t</Select>\n\t\t\t\t\t<Tooltip title={this.state.sortOrder === 'DESC' ? 'a-z' : 'z-a'} mouseEnterDelay={1.1}>\n\t\t\t\t\t\t<Button className='io-input-button' onClick={() => this.toggleSortOrder()}>\n\t\t\t\t\t\t\t<Icon\n\t\t\t\t\t\t\t\ttype={this.state.sortOrder === 'DESC' ? 'arrow-up' : 'arrow-down'}\n\t\t\t\t\t\t\t\ttheme='outlined'\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t</Tooltip>\n\t\t\t\t</Input.Group>\n\t\t\t</div>\n\t\t);\n\t};\n\n\trender() {\n\t\treturn (\n\t\t\t<div>\n\t\t\t\t<Header className='page-header' style={this.props.fixed ? { position: 'fixed' } : null}>\n\t\t\t\t\t<ul className='nav-list'>\n\t\t\t\t\t\t<li className='nav-item io-sider-button mobile-visible' style={{ marginRight: '0' }}>\n\t\t\t\t\t\t\t<Button type='default' shape='circle' onClick={(e) => this.toggleMainSider()}>\n\t\t\t\t\t\t\t\t<Icon type={'bars'} theme='outlined' />\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t</li>\n\t\t\t\t\t\t<li className='nav-item io-sider-button' style={{ marginRight: '0.3rem' }}>\n\t\t\t\t\t\t\t<Tooltip title={'home'} mouseEnterDelay={1.1}>\n\t\t\t\t\t\t\t\t<Link type='default' to={`/`}>\n\t\t\t\t\t\t\t\t\t<Icon\n\t\t\t\t\t\t\t\t\t\ttype={'home'}\n\t\t\t\t\t\t\t\t\t\ttheme='filled'\n\t\t\t\t\t\t\t\t\t\t// style={{ color: '#3ce458' }}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t\t</Tooltip>\n\t\t\t\t\t\t</li>\n\t\t\t\t\t\t<li className='nav-item io-sider-button' style={{ marginRight: '-0.1rem' }}>\n\t\t\t\t\t\t\t<Tooltip title={'graph'} mouseEnterDelay={1.1}>\n\t\t\t\t\t\t\t\t<Link\n\t\t\t\t\t\t\t\t\ttype='default'\n\t\t\t\t\t\t\t\t\tto={`#`}\n\t\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\t\tthis.props.clearActiveNode();\n\t\t\t\t\t\t\t\t\t\twindow.location = '/graph';\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<Icon\n\t\t\t\t\t\t\t\t\t\ttype={'deployment-unit'}\n\t\t\t\t\t\t\t\t\t\ttheme='outlined'\n\t\t\t\t\t\t\t\t\t\t// style={{ color: '#ec486c' }}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t\t</Tooltip>\n\t\t\t\t\t\t</li>\n\t\t\t\t\t\t<li\n\t\t\t\t\t\t\tclassName='nav-item io-sider-button mobile-hidden'\n\t\t\t\t\t\t\tstyle={{ padding: '0', marginRight: '-0.1rem' }}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<Tooltip title={'random'} mouseEnterDelay={1.1}>\n\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\ttype='default'\n\t\t\t\t\t\t\t\t\tshape='circle'\n\t\t\t\t\t\t\t\t\tonClick={(e) => (window.location.href = '/random')}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<Icon\n\t\t\t\t\t\t\t\t\t\ttype={'thunderbolt'}\n\t\t\t\t\t\t\t\t\t\ttheme='filled'\n\t\t\t\t\t\t\t\t\t\t// style={{ color: 'yellow' }}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t</Tooltip>\n\t\t\t\t\t\t</li>\n\t\t\t\t\t\t<li className='nav-item io-sider-button' style={{ marginRight: '0.1rem' }}>\n\t\t\t\t\t\t\t<Tooltip title={'favorites'} mouseEnterDelay={1.1}>\n\t\t\t\t\t\t\t\t<Link type='default' to={`/pins`} style={{ marginRight: '0.3rem' }}>\n\t\t\t\t\t\t\t\t\t<Icon\n\t\t\t\t\t\t\t\t\t\ttype={'star'}\n\t\t\t\t\t\t\t\t\t\ttheme='filled'\n\t\t\t\t\t\t\t\t\t\t// style={{ color: 'yellow' }}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t\t</Tooltip>\n\t\t\t\t\t\t</li>\n\t\t\t\t\t\t<li className='nav-item create-node-button'>\n\t\t\t\t\t\t\t<Button type='default' shape='circle' onClick={(e) => this.toggleInputMode()}>\n\t\t\t\t\t\t\t\t<Icon type={this.state.modeIcon} theme='outlined' />\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t</li>\n\t\t\t\t\t\t<li className='nav-search'>\n\t\t\t\t\t\t\t<Input\n\t\t\t\t\t\t\t\tonPressEnter={(value, event) => this.commandHandler(value)}\n\t\t\t\t\t\t\t\tmaxLength={500}\n\t\t\t\t\t\t\t\tvalue={this.state.input}\n\t\t\t\t\t\t\t\tonChange={(e) => this.setState({ input: e.target.value })}\n\t\t\t\t\t\t\t\tdefaultValue={this.props.query.searchQuery || ''}\n\t\t\t\t\t\t\t\tplaceholder={this.state.placeholder}\n\t\t\t\t\t\t\t\taddonBefore={this.renderSelectBefore()}\n\t\t\t\t\t\t\t\taddonAfter={this.renderSelectAfter()}\n\t\t\t\t\t\t\t\tclassName='nav-search-input'\n\t\t\t\t\t\t\t\tid='nav-primary-search'\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</li>\n\t\t\t\t\t</ul>\n\t\t\t\t</Header>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nconst mapStateToProps = (state) => {\n\treturn {\n\t\tuser: state.auth.user,\n\t\tquery: state.nodes.query,\n\t\tmainSider: state.components.componentList['mainSider'],\n\t\tactiveNode: state.nodes.activeNode,\n\t};\n};\n\nexport default connect(mapStateToProps, {\n\tsignOut,\n\tsearchNodes,\n\tcreateNode,\n\tlinkFileNodes,\n\tcreateUrlNode,\n\tshowComponent,\n\thideComponent,\n\tgetRandomNode,\n\tclearActiveNode,\n})(IOBar);\n","import React, { Component, Fragment } from 'react';\nimport { connect } from 'react-redux';\nimport { Icon, Modal, Tooltip, message } from 'antd';\nimport { validUrl, isImageUrl } from '../../../utils/validation';\nimport { isElectron } from '../../../utils/environment';\nimport {\n\tshowComponent,\n\tunpackImport,\n\tupdateActiveNode,\n\tclearNodePreview,\n\topenFileInExplorer,\n\tdeleteNode,\n\tclearActiveNode,\n\tgenerateExportByUUID,\n\tremoveImportsByPackage,\n} from '../../../api/redux/actions';\n\nclass NodeCardHeaderFull extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\tname: this.props.nodeData.name,\n\t\t\tpreview: this.props.nodeData.preview,\n\t\t\tpinned: this.props.nodeData.pinned,\n\t\t\tpinnedState: 'outlined',\n\t\t\teditable: false,\n\t\t\tshowDeleteModal: null,\n\t\t\tshowExportModal: null,\n\t\t\tshowUrlPreviewImageModal: false,\n\t\t};\n\t}\n\n\tcomponentDidMount() {\n\t\t// set initial pinned state\n\t\tif (this.props.nodeData.pinned) {\n\t\t\tthis.setState({ pinnedState: 'filled' });\n\t\t} else {\n\t\t\tthis.setState({ pinnedState: 'outlined' });\n\t\t}\n\t}\n\n\t// update and save the document name\n\tsaveName = (name) => {\n\t\tif (this.state.name !== name) {\n\t\t\tthis.props.updateActiveNode({ uuid: this.props.nodeData.uuid, name });\n\t\t}\n\t\tthis.setState({ name: name });\n\t};\n\n\t// show modal to confirm deletion\n\ttoggleDeleteModal = () => {\n\t\tif (this.state.showDeleteModal) {\n\t\t\tthis.setState({ showDeleteModal: false });\n\t\t} else {\n\t\t\tthis.setState({ showDeleteModal: true });\n\t\t}\n\t};\n\n\t// delete the node\n\tdeleteHandler = async () => {\n\t\tthis.setState({ showDeleteModal: false });\n\t\tthis.setState({ deleting: true });\n\t\tawait this.props.deleteNode(this.props.nodeData.uuid);\n\t\tthis.props.clearActiveNode();\n\t};\n\n\t// show confirm export modal\n\ttoggleExportModal = () => {\n\t\tif (this.state.showExportModal) {\n\t\t\tthis.setState({ showExportModal: false });\n\t\t} else {\n\t\t\tthis.setState({ showExportModal: true });\n\t\t}\n\t};\n\n\t// delete the node\n\texportHandler = async () => {\n\t\tthis.setState({ showExportModal: false });\n\t\tawait this.props.generateExportByUUID(this.props.nodeData.uuid);\n\t};\n\n\t// select an image.\n\tsetUrlPreviewImage = (preview) => {\n\t\t// update the URL\n\t\tif (isImageUrl(preview) && validUrl(preview)) {\n\t\t\tmessage.success('updated the preview image');\n\t\t\tthis.props.updateActiveNode({ uuid: this.props.nodeData.uuid, preview: preview });\n\t\t} else if (preview === '') {\n\t\t\tmessage.success('removed the preview image');\n\t\t\tthis.props.updateActiveNode({ uuid: this.props.nodeData.uuid, preview: '' });\n\t\t} else {\n\t\t\tmessage.error('there was a problem setting the preview image', 1);\n\t\t}\n\t};\n\n\ttogglePinned = () => {\n\t\tif (this.state.pinned === true) {\n\t\t\tthis.setState({ pinned: false, pinnedState: 'outlined' });\n\t\t\tthis.props.updateActiveNode({ uuid: this.props.nodeData.uuid, pinned: false });\n\t\t} else {\n\t\t\tthis.setState({ pinned: true, pinnedState: 'filled' });\n\t\t\tthis.props.updateActiveNode({ uuid: this.props.nodeData.uuid, pinned: true });\n\t\t}\n\t};\n\n\t// select an image.\n\tsetPreviewToLocalFilePath = () => {\n\t\tif (this.props.nodeData.preview === null) {\n\t\t\tconst input = document.createElement('input');\n\t\t\tinput.setAttribute('type', 'file');\n\t\t\tinput.setAttribute('accept', [\n\t\t\t\t'image/gif',\n\t\t\t\t'image/jpg',\n\t\t\t\t'image/jpeg',\n\t\t\t\t'image/png',\n\t\t\t\t'image/webp',\n\t\t\t]);\n\t\t\tinput.click();\n\t\t\t// Listen for uploading local file, then save to server\n\t\t\tinput.onchange = async () => {\n\t\t\t\tconst file = input.files[0];\n\t\t\t\tthis.props.updateActiveNode({ uuid: this.props.nodeData.uuid, preview: file.path });\n\t\t\t};\n\t\t} else {\n\t\t\tthis.props.clearNodePreview(this.props.nodeData);\n\t\t}\n\t};\n\n\t// render the title\n\trenderTitle = () => {\n\t\tif (!this.state.editable) {\n\t\t\t// if it is not editable render the plain title\n\t\t\treturn (\n\t\t\t\t<h3\n\t\t\t\t\tclassName='full-card-title'\n\t\t\t\t\tstyle={{\n\t\t\t\t\t\tcolor: this.props.theme.cardTitleColor,\n\t\t\t\t\t}}\n\t\t\t\t\tonDoubleClick={(e) => {\n\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\tthis.setState({ editable: true });\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t{this.state.name}\n\t\t\t\t</h3>\n\t\t\t);\n\t\t} else {\n\t\t\t// when title is double clicked render the input field\n\t\t\treturn (\n\t\t\t\t<input\n\t\t\t\t\ttype='text'\n\t\t\t\t\tclassName='full-card-title'\n\t\t\t\t\tstyle={{\n\t\t\t\t\t\tbackgroundColor: 'transparent',\n\t\t\t\t\t}}\n\t\t\t\t\tonBlur={() => this.setState({ editable: null })}\n\t\t\t\t\tmaxLength='250'\n\t\t\t\t\tautoFocus\n\t\t\t\t\tplaceholder='name'\n\t\t\t\t\tvalue={this.state.name}\n\t\t\t\t\tonKeyPress={(e) => {\n\t\t\t\t\t\t// remove input on enter\n\t\t\t\t\t\tif (e.key === 'Enter') {\n\t\t\t\t\t\t\tthis.setState({ editable: null });\n\t\t\t\t\t\t}\n\t\t\t\t\t}}\n\t\t\t\t\tonChange={(e) => {\n\t\t\t\t\t\tthis.saveName(e.target.value);\n\t\t\t\t\t}}\n\t\t\t\t\tonFocus={(e) => {\n\t\t\t\t\t\te.target.select();\n\t\t\t\t\t}}\n\t\t\t\t></input>\n\t\t\t);\n\t\t}\n\t};\n\n\t// render header buttons for node types which need them\n\t// at the moment it's just .synth packages\n\trenderContextualButtons = () => {\n\t\tswitch (this.props.nodeData.type) {\n\t\t\tcase 'package':\n\t\t\t\tif (this.props.nodeData.metadata && this.props.nodeData.metadata.importing) {\n\t\t\t\t\treturn <Fragment></Fragment>;\n\t\t\t\t} else if (this.props.nodeData.metadata && this.props.nodeData.metadata.expanded) {\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<Tooltip title={'restore'} mouseEnterDelay={1.1}>\n\t\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\tonClick={(e) => {\n\t\t\t\t\t\t\t\t\t\t// show the modal\n\t\t\t\t\t\t\t\t\t\tthis.props.removeImportsByPackage(this.props.nodeData.uuid);\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<Icon type={'undo'} theme='outlined' className='full-card-button' />\n\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t</Tooltip>\n\t\t\t\t\t);\n\t\t\t\t} else {\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<Tooltip title={'expand'} mouseEnterDelay={1.1}>\n\t\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\tonClick={(e) => {\n\t\t\t\t\t\t\t\t\t\t// show the modal\n\t\t\t\t\t\t\t\t\t\tthis.props.unpackImport(this.props.nodeData.uuid);\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<Icon type={'gift'} theme='filled' className='full-card-button' />\n\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t</Tooltip>\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\tcase 'url':\n\t\t\t\treturn (\n\t\t\t\t\t<Tooltip title={'preview image'} mouseEnterDelay={1.1}>\n\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\tonClick={(e) => {\n\t\t\t\t\t\t\t\t\t// show the modal\n\t\t\t\t\t\t\t\t\tthis.setState({ showUrlPreviewImageModal: true });\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<Icon type={'picture'} theme='outlined' className='full-card-button' />\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t</li>\n\t\t\t\t\t</Tooltip>\n\t\t\t\t);\n\t\t\tcase 'file':\n\t\t\t\tif (isElectron()) {\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<Tooltip title={'replace preview image'} mouseEnterDelay={1.1}>\n\t\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\tonClick={(e) => {\n\t\t\t\t\t\t\t\t\t\t// show the modal\n\t\t\t\t\t\t\t\t\t\tthis.setPreviewToLocalFilePath();\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<Icon type={'picture'} theme='outlined' className='full-card-button' />\n\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t</Tooltip>\n\t\t\t\t\t);\n\t\t\t\t} else {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\tcase 'audio':\n\t\t\t\treturn (\n\t\t\t\t\t<Tooltip title={'replace preview image'} mouseEnterDelay={1.1}>\n\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\tonClick={(e) => {\n\t\t\t\t\t\t\t\t\t// show the modal\n\t\t\t\t\t\t\t\t\tthis.setPreviewToLocalFilePath();\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<Icon type={'picture'} theme='outlined' className='full-card-button' />\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t</li>\n\t\t\t\t\t</Tooltip>\n\t\t\t\t);\n\t\t\tcase 'zip':\n\t\t\t\treturn (\n\t\t\t\t\t<Tooltip title={'replace preview image'} mouseEnterDelay={1.1}>\n\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\tonClick={(e) => {\n\t\t\t\t\t\t\t\t\t// show the modal\n\t\t\t\t\t\t\t\t\tthis.setPreviewToLocalFilePath();\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<Icon type={'picture'} theme='outlined' className='full-card-button' />\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t</li>\n\t\t\t\t\t</Tooltip>\n\t\t\t\t);\n\t\t\tcase 'image':\n\t\t\t\treturn (\n\t\t\t\t\t<Tooltip title={'set as app background'} mouseEnterDelay={1.1}>\n\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\tonClick={(e) => {\n\t\t\t\t\t\t\t\t\t// set the app background to this image\n\t\t\t\t\t\t\t\t\tlocalStorage.setItem('background-image', this.props.nodeData.preview);\n\t\t\t\t\t\t\t\t\twindow.location.reload();\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<Icon type={'layout'} className='full-card-button' />\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t</li>\n\t\t\t\t\t</Tooltip>\n\t\t\t\t);\n\t\t\tdefault:\n\t\t\t\treturn;\n\t\t}\n\t};\n\n\trenderRevealInExplorerButton = () => {\n\t\tif (this.props.nodeData.isFile) {\n\t\t\treturn (\n\t\t\t\t<Tooltip title={'open in file explorer'} mouseEnterDelay={1.1}>\n\t\t\t\t\t<li>\n\t\t\t\t\t\t<button\n\t\t\t\t\t\t\tonClick={(e) => {\n\t\t\t\t\t\t\t\t// show the modal\n\t\t\t\t\t\t\t\tthis.props.openFileInExplorer(this.props.nodeData.uuid);\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<Icon type={'folder-open'} theme='outlined' className='full-card-button' />\n\t\t\t\t\t\t</button>\n\t\t\t\t\t</li>\n\t\t\t\t</Tooltip>\n\t\t\t);\n\t\t}\n\t};\n\n\t// render the export button on non-package nodes\n\trenderExportButton = () => {\n\t\tif (this.props.nodeData.type !== 'package') {\n\t\t\treturn (\n\t\t\t\t<Tooltip title={'generate export'} mouseEnterDelay={1.1}>\n\t\t\t\t\t<li>\n\t\t\t\t\t\t<button\n\t\t\t\t\t\t\tonClick={(e) => {\n\t\t\t\t\t\t\t\tthis.toggleExportModal();\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<Icon type={'gift'} theme='outlined' className='full-card-button' />\n\t\t\t\t\t\t</button>\n\t\t\t\t\t</li>\n\t\t\t\t</Tooltip>\n\t\t\t);\n\t\t}\n\t};\n\n\trender() {\n\t\treturn (\n\t\t\t<div\n\t\t\t\tclassName='full-card-options'\n\t\t\t\tstyle={{\n\t\t\t\t\tbackgroundColor: this.props.theme.cardHeaderColor,\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t{this.renderTitle()}\n\t\t\t\t{/* <p className='full-card-options-date'>{this.props.nodeData.updatedAt}</p> */}\n\t\t\t\t<ul className='full-card-buttons-list'>\n\t\t\t\t\t<Tooltip title={'associations'} mouseEnterDelay={1.1}>\n\t\t\t\t\t\t<li className='mobile-visible'>\n\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\tonClick={(e) => {\n\t\t\t\t\t\t\t\t\t// show the modal\n\t\t\t\t\t\t\t\t\tthis.props.showComponent('associationSider', this.props.nodeData);\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<Icon type={'branches'} theme='outlined' className='full-card-button' />\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t</li>\n\t\t\t\t\t</Tooltip>\n\t\t\t\t\t<Tooltip title={'constellation'} mouseEnterDelay={1.1}>\n\t\t\t\t\t\t<li className='mobile-visible'>\n\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\tonClick={(e) => window.location.replace(`/graph/${this.props.nodeData.uuid}`)}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<Icon type={'deployment-unit'} theme='outlined' className='full-card-button' />\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t</li>\n\t\t\t\t\t</Tooltip>\n\t\t\t\t\t<Tooltip title={'star'} mouseEnterDelay={1.1}>\n\t\t\t\t\t\t<li className='mobile-visible'>\n\t\t\t\t\t\t\t<button onClick={(e) => this.togglePinned()}>\n\t\t\t\t\t\t\t\t<Icon type={'star'} theme={this.state.pinnedState} className='full-card-button' />\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t</li>\n\t\t\t\t\t</Tooltip>\n\t\t\t\t\t{this.renderContextualButtons()}\n\t\t\t\t\t{this.renderExportButton()}\n\t\t\t\t\t{this.renderRevealInExplorerButton()}\n\t\t\t\t\t<Tooltip title={'open in browser'} mouseEnterDelay={1.1}>\n\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\tonClick={(e) => window.open(`/associations/${this.props.nodeData.uuid}`, '_blank')}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<Icon type={'global'} theme='outlined' className='full-card-button' />\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t</li>\n\t\t\t\t\t</Tooltip>\n\t\t\t\t\t<Tooltip title={'delete'} mouseEnterDelay={1.1}>\n\t\t\t\t\t\t<li className='mobile-visible'>\n\t\t\t\t\t\t\t<button onClick={(e) => this.toggleDeleteModal()}>\n\t\t\t\t\t\t\t\t<Icon type={'delete'} theme='outlined' className='full-card-button delete' />\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t</li>\n\t\t\t\t\t</Tooltip>\n\t\t\t\t</ul>\n\t\t\t\t<Modal\n\t\t\t\t\ttitle='Confirm Deletion'\n\t\t\t\t\tvisible={this.state.showDeleteModal}\n\t\t\t\t\tclassName='delete-modal'\n\t\t\t\t\tcentered\n\t\t\t\t\tonOk={this.deleteHandler}\n\t\t\t\t\tafterClose={() => document.body.style.removeProperty('overflow')}\n\t\t\t\t\tokType='danger'\n\t\t\t\t\tokText='Delete'\n\t\t\t\t\tclosable={false}\n\t\t\t\t\tonCancel={this.toggleDeleteModal}\n\t\t\t\t>\n\t\t\t\t\t<p>\n\t\t\t\t\t\tAre you sure you want to delete <b>{this.props.nodeData.name || 'untitled'}</b>?\n\t\t\t\t\t</p>\n\t\t\t\t</Modal>\n\t\t\t\t<Modal\n\t\t\t\t\ttitle='Confirm Export'\n\t\t\t\t\tvisible={this.state.showExportModal}\n\t\t\t\t\tclassName='delete-modal'\n\t\t\t\t\tcentered\n\t\t\t\t\tonOk={this.exportHandler}\n\t\t\t\t\tafterClose={() => document.body.style.removeProperty('overflow')}\n\t\t\t\t\tokText='Generate'\n\t\t\t\t\tclosable={false}\n\t\t\t\t\tonCancel={this.toggleExportModal}\n\t\t\t\t>\n\t\t\t\t\t<p>\n\t\t\t\t\t\tGenerate export from <b>{this.props.nodeData.name || 'untitled'}</b>? The export will\n\t\t\t\t\t\tcontain <b>{this.props.nodeData.name || 'untitled'}</b> along with all its associations,\n\t\t\t\t\t\tand appear in the favorites when it is completed.\n\t\t\t\t\t</p>\n\t\t\t\t</Modal>\n\t\t\t\t<Modal\n\t\t\t\t\ttitle='Preview Image'\n\t\t\t\t\tvisible={this.state.showUrlPreviewImageModal}\n\t\t\t\t\tclassName='full-card-modal'\n\t\t\t\t\tcentered\n\t\t\t\t\tonOk={(e) => {\n\t\t\t\t\t\tthis.setState({ showUrlPreviewImageModal: false });\n\t\t\t\t\t\tthis.setUrlPreviewImage(this.state.preview);\n\t\t\t\t\t}}\n\t\t\t\t\tafterClose={() => {\n\t\t\t\t\t\tdocument.body.style.removeProperty('overflow');\n\t\t\t\t\t}}\n\t\t\t\t\tokText='save'\n\t\t\t\t\tclosable={false}\n\t\t\t\t\tonCancel={(e) => {\n\t\t\t\t\t\tthis.setState({\n\t\t\t\t\t\t\tpreview: this.props.nodeData.preview,\n\t\t\t\t\t\t\tshowUrlPreviewImageModal: false,\n\t\t\t\t\t\t});\n\t\t\t\t\t\twindow.getSelection().removeAllRanges();\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t<input\n\t\t\t\t\t\ttype='text'\n\t\t\t\t\t\tclassName='full-card-modal-input'\n\t\t\t\t\t\tautoFocus\n\t\t\t\t\t\tmaxLength='250'\n\t\t\t\t\t\tonFocus={(e) => {\n\t\t\t\t\t\t\te.target.select();\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tplaceholder='image URL'\n\t\t\t\t\t\tvalue={this.state.preview || ''}\n\t\t\t\t\t\tonKeyDown={(e) => {\n\t\t\t\t\t\t\tif (e.key === 'Enter') {\n\t\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t\t\tthis.setState({ showUrlPreviewImageModal: false });\n\t\t\t\t\t\t\t\tthis.setUrlPreviewImage(this.state.preview);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tonChange={(e) => this.setState({ preview: e.target.value })}\n\t\t\t\t\t></input>\n\t\t\t\t</Modal>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nconst mapStateToProps = (state) => {\n\treturn {\n\t\tnodeData: state.nodes.activeNode,\n\t\ttheme: state.components.theme,\n\t};\n};\n\nexport default connect(mapStateToProps, {\n\tshowComponent,\n\tupdateActiveNode,\n\tclearNodePreview,\n\tunpackImport,\n\topenFileInExplorer,\n\tdeleteNode,\n\tclearActiveNode,\n\tgenerateExportByUUID,\n\tremoveImportsByPackage,\n})(NodeCardHeaderFull);\n","import React, { Component } from 'react';\n// import { Link } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport { Icon } from 'antd';\nimport { markNodeView, showComponent, updateNode } from '../../../api/redux/actions';\n\nclass NodeCardHeader extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\tname: this.props.node.name,\n\t\t\teditable: false,\n\t\t};\n\t}\n\n\t// render the title\n\trenderTitle = () => {\n\t\tif (!this.state.editable) {\n\t\t\t// if it is not editable render the plain title\n\t\t\treturn (\n\t\t\t\t<h3\n\t\t\t\t\tclassName='nodelist-item-title'\n\t\t\t\t\tstyle={{ color: this.props.theme.cardTitleColor }}\n\t\t\t\t\tonDoubleClick={(e) => {\n\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\tthis.setState({ editable: true });\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t{this.state.name}\n\t\t\t\t</h3>\n\t\t\t);\n\t\t} else {\n\t\t\t// when title is double clicked render the input field\n\t\t\treturn (\n\t\t\t\t<input\n\t\t\t\t\ttype='text'\n\t\t\t\t\tclassName='nodelist-item-title'\n\t\t\t\t\tstyle={{\n\t\t\t\t\t\tbackgroundColor: 'transparent',\n\t\t\t\t\t}}\n\t\t\t\t\tonBlur={() => this.setState({ editable: null })}\n\t\t\t\t\tmaxLength='250'\n\t\t\t\t\tautoFocus\n\t\t\t\t\tplaceholder='name'\n\t\t\t\t\tvalue={this.state.name}\n\t\t\t\t\tonKeyPress={(e) => {\n\t\t\t\t\t\t// remove input on enter\n\t\t\t\t\t\tif (e.key === 'Enter') {\n\t\t\t\t\t\t\tthis.setState({ editable: null });\n\t\t\t\t\t\t}\n\t\t\t\t\t}}\n\t\t\t\t\tonChange={(e) => {\n\t\t\t\t\t\tthis.saveName(e.target.value);\n\t\t\t\t\t}}\n\t\t\t\t\tonFocus={(e) => {\n\t\t\t\t\t\te.target.select();\n\t\t\t\t\t}}\n\t\t\t\t></input>\n\t\t\t);\n\t\t}\n\t};\n\n\t// the jump to top icon is only available when sorting by most recent\n\trenderLightbulbIcon = () => {\n\t\tlet sortType = localStorage.getItem('sortType');\n\t\tconsole.log(window.location.href);\n\t\tif (sortType === 'recent' || window.location.href.includes('associations')) {\n\t\t\treturn (\n\t\t\t\t<button onClick={(e) => this.props.markNodeView(this.props.node)}>\n\t\t\t\t\t<Icon\n\t\t\t\t\t\ttype={'bulb'}\n\t\t\t\t\t\ttheme='outlined'\n\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\tfontSize: '0.9rem',\n\t\t\t\t\t\t\tdisplay: 'block',\n\t\t\t\t\t\t\ttextAlign: 'center',\n\t\t\t\t\t\t\tpadding: '0',\n\t\t\t\t\t\t\tcolor: this.props.theme.cardButtonColor,\n\t\t\t\t\t\t}}\n\t\t\t\t\t/>\n\t\t\t\t</button>\n\t\t\t);\n\t\t}\n\t};\n\n\t// update and save the document name\n\tsaveName = (name) => {\n\t\tif (this.state.name !== name) {\n\t\t\tthis.props.updateNode({ uuid: this.props.node.uuid, name });\n\t\t\tthis.props.node.name = name;\n\t\t\tthis.setState({ name: name });\n\t\t}\n\t};\n\n\trender() {\n\t\treturn (\n\t\t\t<div\n\t\t\t\tclassName='nodelist-options'\n\t\t\t\tstyle={{\n\t\t\t\t\tbackgroundColor: this.props.theme.cardHeaderColor,\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t{this.renderTitle()}\n\t\t\t\t<div className='nodelist-options-buttons' style={{ marginLeft: 'auto' }}>\n\t\t\t\t\t<button onClick={(e) => window.location.replace('/graph/' + this.props.node.uuid)}>\n\t\t\t\t\t\t<Icon\n\t\t\t\t\t\t\ttype={'deployment-unit'}\n\t\t\t\t\t\t\ttheme='outlined'\n\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\tfontSize: '0.9rem',\n\t\t\t\t\t\t\t\tdisplay: 'block',\n\t\t\t\t\t\t\t\ttextAlign: 'center',\n\t\t\t\t\t\t\t\tpadding: '0',\n\t\t\t\t\t\t\t\tcolor: this.props.theme.cardButtonColor,\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</button>\n\t\t\t\t\t{this.renderLightbulbIcon()}\n\t\t\t\t\t<button\n\t\t\t\t\t\tonClick={(e) => {\n\t\t\t\t\t\t\t// set the active node so the modal has the node data\n\t\t\t\t\t\t\t// show the modal\n\t\t\t\t\t\t\tthis.props.showComponent('associationSider', this.props.node);\n\t\t\t\t\t\t}}\n\t\t\t\t\t>\n\t\t\t\t\t\t<Icon\n\t\t\t\t\t\t\ttype={'branches'}\n\t\t\t\t\t\t\ttheme='outlined'\n\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\tfontSize: '0.9rem',\n\t\t\t\t\t\t\t\tdisplay: 'block',\n\t\t\t\t\t\t\t\ttextAlign: 'center',\n\t\t\t\t\t\t\t\tpadding: '0',\n\t\t\t\t\t\t\t\tcolor: this.props.theme.cardButtonColor,\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</button>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nconst mapStateToProps = (state) => {\n\treturn {\n\t\ttheme: state.components.theme,\n\t};\n};\n\nexport default connect(mapStateToProps, {\n\tmarkNodeView,\n\tshowComponent,\n\tupdateNode,\n})(NodeCardHeader);\n","import React, { Fragment } from 'react';\nimport { Link } from 'react-router-dom';\n// for now these are in-common between nodes\nimport NodeCardHeaderFull from '../../../components/elements/node/NodeCardHeaderFull';\nimport NodeCardHeader from '../../../components/elements/node/NodeCardHeader';\n\nconst Text = (props) => {\n\tconst nodeCard = () => {\n\t\treturn (\n\t\t\t<li className='nodelist-item'>\n\t\t\t\t<NodeCardHeader node={props.node} />\n\t\t\t\t<Link\n\t\t\t\t\tto={`/edit/text/${props.node.uuid}`}\n\t\t\t\t\tonClick={(e) => {\n\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t// prevent the text from being selected\n\t\t\t\t\t\twindow.getSelection().removeAllRanges();\n\t\t\t\t\t\twindow.location.replace(`/associations/${props.node.uuid}`);\n\t\t\t\t\t}}\n\t\t\t\t\tonContextMenu={(e) => {\n\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\tprops.handleClick();\n\t\t\t\t\t\twindow.getSelection().removeAllRanges();\n\t\t\t\t\t\twindow.location.replace(`/edit/text/${props.node.uuid}`);\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t<p\n\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\tcolor: props.theme.cardTextColor,\n\t\t\t\t\t\t\tbackgroundColor: props.theme.cardBodyColor,\n\t\t\t\t\t\t}}\n\t\t\t\t\t>\n\t\t\t\t\t\t{props.node.preview}\n\t\t\t\t\t</p>\n\t\t\t\t</Link>\n\t\t\t</li>\n\t\t);\n\t};\n\n\t// how the node will appear in collections\n\tconst collectionPreview = () => {\n\t\treturn (\n\t\t\t<Fragment>\n\t\t\t\t<p>{props.node.preview}</p>\n\t\t\t</Fragment>\n\t\t);\n\t};\n\n\tconst fullNode = () => {\n\t\treturn (\n\t\t\t<div className='full-node-item'>\n\t\t\t\t<NodeCardHeaderFull />\n\t\t\t\t<Link\n\t\t\t\t\tto={`/edit/text/${props.node.uuid}`}\n\t\t\t\t\tonContextMenu={(e) => {\n\t\t\t\t\t\twindow.getSelection().removeAllRanges();\n\t\t\t\t\t}} /*target='_blank' */\n\t\t\t\t>\n\t\t\t\t\t<p style={{ backgroundColor: props.theme.cardBodyColor }}>{props.node.preview}</p>\n\t\t\t\t</Link>\n\t\t\t</div>\n\t\t);\n\t};\n\n\tconst associationLink = () => {\n\t\treturn (\n\t\t\t<Link\n\t\t\t\tto={`/edit/text/${props.node.uuid}`}\n\t\t\t\tonClick={(e) => props.handleAssociatonClick()}\n\t\t\t\t// target='_blank'\n\t\t\t>\n\t\t\t\t{props.node.name}\n\t\t\t</Link>\n\t\t);\n\t};\n\n\t// render the requested element\n\tconst renderNode = () => {\n\t\tswitch (props.element) {\n\t\t\tcase 'card':\n\t\t\t\treturn <Fragment>{nodeCard()}</Fragment>;\n\t\t\tcase 'preview':\n\t\t\t\treturn <Fragment>{collectionPreview()}</Fragment>;\n\t\t\tcase 'full':\n\t\t\t\treturn <Fragment>{fullNode()}</Fragment>;\n\t\t\tcase 'association-link':\n\t\t\t\treturn <Fragment>{associationLink()}</Fragment>;\n\t\t\tdefault:\n\t\t\t\treturn;\n\t\t}\n\t};\n\n\treturn <Fragment>{renderNode()}</Fragment>;\n};\n\nexport { Text };\n","import React, { Fragment } from 'react';\nimport { Link } from 'react-router-dom';\n// for now these are in-common between nodes\nimport NodeCardHeaderFull from '../../../components/elements/node/NodeCardHeaderFull';\nimport missingFileImage from '../../../resources/missing-file.png';\nimport { isElectron } from '../../../utils/environment';\n\nconst Image = (props) => {\n\tlet fileLoadError = false;\n\n\tconst onFileLoadError = (e) => {\n\t\tif (props.node.isFile) {\n\t\t\te.target.src = missingFileImage;\n\t\t\tfileLoadError = true;\n\t\t}\n\t};\n\n\t// select an image.\n\tconst selectLocalFile = (e) => {\n\t\tconst input = document.createElement('input');\n\t\tinput.setAttribute('type', 'file');\n\t\tinput.setAttribute('accept', ['image/gif', 'image/jpg', 'image/jpeg', 'image/png']);\n\t\tinput.click();\n\t\t// Listen for uploading local file, then save to server\n\t\tinput.onchange = async () => {\n\t\t\tlet file = input.files[0];\n\t\t\tawait props.updateNode({ uuid: props.node.uuid, path: file.path, preview: file.path });\n\t\t\twindow.location.reload();\n\t\t};\n\t};\n\n\tconst onClickAction = (e) => {\n\t\te.preventDefault();\n\t\tprops.handleClick();\n\t\twindow.location.replace(`/associations/${props.node.uuid}`);\n\t};\n\n\t// const onContextAction = (e) => {\n\t// \tif (!fileLoadError && props.node.isFile) {\n\t// \t\te.preventDefault();\n\t// \t\tprops.handleClick();\n\t// \t\tprops.launchFile(props.node.uuid);\n\t// \t\t// window.location.replace(`/associations/${props.node.uuid}`);\n\t// \t} else if (isElectron() && props.node.isFile) {\n\t// \t\te.preventDefault();\n\t// \t\tselectLocalFile(e);\n\t// \t} else {\n\t// \t\te.preventDefault();\n\t// \t\twindow.location.replace(`/associations/${props.node.uuid}`);\n\t// \t}\n\t// };\n\n\tconst onFullCardAction = (e) => {\n\t\tif (!fileLoadError && props.node.isFile) {\n\t\t\te.preventDefault();\n\t\t\tprops.handleClick();\n\t\t\tprops.launchFile(props.node.uuid);\n\t\t} else if (isElectron() && props.node.isFile) {\n\t\t\te.preventDefault();\n\t\t\tselectLocalFile(e);\n\t\t} else {\n\t\t\te.preventDefault();\n\t\t\twindow.location.replace(`/associations/${props.node.uuid}`);\n\t\t}\n\t};\n\n\tconst nodeCard = () => {\n\t\tif (props.node.path === null && props.node.isFile) {\n\t\t\tfileLoadError = true;\n\t\t\tprops.node.preview = missingFileImage;\n\t\t}\n\t\treturn (\n\t\t\t<li className='nodelist-item'>\n\t\t\t\t{props.renderHeader()}\n\t\t\t\t<Link\n\t\t\t\t\tid='image-node-card-link'\n\t\t\t\t\tto={`/associations/${props.node.uuid}`}\n\t\t\t\t\tonClick={(e) => {\n\t\t\t\t\t\tonClickAction(e);\n\t\t\t\t\t}}\n\t\t\t\t\t// onContextMenu={(e) => {\n\t\t\t\t\t// \t// onContextAction(e);\n\t\t\t\t\t// }}\n\t\t\t\t>\n\t\t\t\t\t<Fragment>\n\t\t\t\t\t\t<img\n\t\t\t\t\t\t\tsrc={props.node.preview}\n\t\t\t\t\t\t\talt={props.node.name}\n\t\t\t\t\t\t\tonError={(e) => onFileLoadError(e)}\n\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\tobjectFit: 'cover',\n\t\t\t\t\t\t\t\tminHeight: '100%',\n\t\t\t\t\t\t\t\twidth: '100%',\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t></img>\n\t\t\t\t\t</Fragment>\n\t\t\t\t</Link>\n\t\t\t</li>\n\t\t);\n\t};\n\n\t// how the node will appear in collections\n\tconst collectionPreview = () => {\n\t\tif (props.node.path === null && props.node.isFile) {\n\t\t\tfileLoadError = true;\n\t\t\tprops.node.preview = missingFileImage;\n\t\t}\n\t\treturn (\n\t\t\t<Fragment>\n\t\t\t\t<img\n\t\t\t\t\tsrc={props.node.preview}\n\t\t\t\t\talt={props.node.name}\n\t\t\t\t\tonError={(e) => onFileLoadError(e)}\n\t\t\t\t\tstyle={{\n\t\t\t\t\t\tobjectFit: 'cover',\n\t\t\t\t\t\tminHeight: '100%',\n\t\t\t\t\t\twidth: '100%',\n\t\t\t\t\t}}\n\t\t\t\t></img>\n\t\t\t</Fragment>\n\t\t);\n\t};\n\n\tconst fullNode = () => {\n\t\tif (props.node.path === null && props.node.isFile) {\n\t\t\tfileLoadError = true;\n\t\t\tprops.node.preview = missingFileImage;\n\t\t}\n\t\tlet imageScale = JSON.parse(localStorage.getItem('image-sizing')) || 'classic';\n\t\tlet imageClass = 'img-' + imageScale.replace(' ', '-');\n\t\treturn (\n\t\t\t<div className={'full-node-item ' + imageClass}>\n\t\t\t\t<NodeCardHeaderFull />\n\t\t\t\t<img\n\t\t\t\t\tsrc={props.node.preview}\n\t\t\t\t\talt={props.node.name}\n\t\t\t\t\tonError={(e) => onFileLoadError(e)}\n\t\t\t\t\tstyle={{ cursor: 'pointer' }}\n\t\t\t\t\tonClick={(e) => {\n\t\t\t\t\t\tonFullCardAction(e);\n\t\t\t\t\t}}\n\t\t\t\t></img>\n\t\t\t</div>\n\t\t);\n\t};\n\n\tconst associationLink = () => {\n\t\treturn (\n\t\t\t<Link\n\t\t\t\tto={`/associations/${props.node.uuid}`}\n\t\t\t\tonClick={(e) => props.handleAssociatonClick()}\n\t\t\t\t// target='_blank'\n\t\t\t>\n\t\t\t\t{props.node.name}\n\t\t\t</Link>\n\t\t);\n\t};\n\n\t// render the requested element\n\tconst renderNode = () => {\n\t\tswitch (props.element) {\n\t\t\tcase 'card':\n\t\t\t\treturn <Fragment>{nodeCard()}</Fragment>;\n\t\t\tcase 'preview':\n\t\t\t\treturn <Fragment>{collectionPreview()}</Fragment>;\n\t\t\tcase 'full':\n\t\t\t\treturn <Fragment>{fullNode()}</Fragment>;\n\t\t\tcase 'association-link':\n\t\t\t\treturn <Fragment>{associationLink()}</Fragment>;\n\t\t\tdefault:\n\t\t\t\treturn;\n\t\t}\n\t};\n\n\treturn <Fragment>{renderNode()}</Fragment>;\n};\n\nexport { Image };\n","import React, { Fragment } from 'react';\nimport { Icon } from 'antd';\nimport { Link } from 'react-router-dom';\n// for now these are in-common between nodes\nimport NodeCardHeaderFull from '../../../components/elements/node/NodeCardHeaderFull';\nimport missingFileImage from '../../../resources/missing-file.png';\n\nconst Url = (props) => {\n\tconst urlIcon = 'bulb';\n\n\tconst renderFullCardPreview = () => {\n\t\t// if the URL is a youtube embed, lets actually load the video here\n\t\tif (props.node.path.includes('https://www.youtube.com/embed/')) {\n\t\t\treturn (\n\t\t\t\t<iframe\n\t\t\t\t\ttitle={props.node.name}\n\t\t\t\t\tsrc={props.node.path}\n\t\t\t\t\tstyle={{ width: '100%', height: '100vh', border: 'none' }}\n\t\t\t\t\tallowFullScreen\n\t\t\t\t\tsandbox={\n\t\t\t\t\t\tprops.node.path.includes('https://www.youtube.com/embed/')\n\t\t\t\t\t\t\t? 'allow-scripts allow-same-origin allow-popups'\n\t\t\t\t\t\t\t: ''\n\t\t\t\t\t}\n\t\t\t\t\tid='node-card-iframe'\n\t\t\t\t></iframe>\n\t\t\t);\n\t\t}\n\t\t// for anything else just display a link out to it\n\t\telse {\n\t\t\treturn (\n\t\t\t\t<a\n\t\t\t\t\thref={props.node.path}\n\t\t\t\t\ttarget='_blank'\n\t\t\t\t\trel='noopener noreferrer'\n\t\t\t\t\t// style={{ width: '100%' }}\n\t\t\t\t>\n\t\t\t\t\t{renderPreview()}\n\t\t\t\t</a>\n\t\t\t);\n\t\t}\n\t};\n\n\tconst renderPreview = () => {\n\t\tif (props.node.preview) {\n\t\t\treturn (\n\t\t\t\t<img\n\t\t\t\t\tsrc={props.node.preview}\n\t\t\t\t\talt={props.node.name}\n\t\t\t\t\tstyle={{\n\t\t\t\t\t\tobjectFit: 'cover',\n\t\t\t\t\t\t// minHeight: '100%',\n\t\t\t\t\t\t// width: '100%',\n\t\t\t\t\t}}\n\t\t\t\t\tonError={(e) => (e.target.src = missingFileImage)}\n\t\t\t\t></img>\n\t\t\t);\n\t\t} else {\n\t\t\treturn (\n\t\t\t\t<Icon\n\t\t\t\t\ttype={urlIcon}\n\t\t\t\t\t// type={'star'}\n\t\t\t\t\ttheme='outlined'\n\t\t\t\t\tstyle={{\n\t\t\t\t\t\tfontSize: '5rem',\n\t\t\t\t\t\tcolor: '#b8b8b8',\n\t\t\t\t\t\tdisplay: 'block',\n\t\t\t\t\t\ttextAlign: 'center',\n\t\t\t\t\t\tpadding: '4.3rem 3.3rem 3.3rem',\n\t\t\t\t\t\theight: '100%',\n\t\t\t\t\t\tbackgroundColor: props.theme.cardBodyColor,\n\t\t\t\t\t}}\n\t\t\t\t/>\n\t\t\t);\n\t\t}\n\t};\n\n\tconst nodeCard = () => {\n\t\treturn (\n\t\t\t<li className='nodelist-item'>\n\t\t\t\t{props.renderHeader()}\n\t\t\t\t<a\n\t\t\t\t\thref={`/associations/${props.node.uuid}`}\n\t\t\t\t\trel='noopener noreferrer'\n\t\t\t\t\tonClick={(e) => {\n\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\tprops.handleClick();\n\t\t\t\t\t\twindow.location.replace(`/associations/${props.node.uuid}`);\n\t\t\t\t\t}}\n\t\t\t\t\tonContextMenu={(e) => {\n\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t// props.toggleHeader();\n\t\t\t\t\t\twindow.open(props.node.path, '_blank');\n\t\t\t\t\t}}\n\t\t\t\t\tstyle={{\n\t\t\t\t\t\twidth: '100%',\n\t\t\t\t\t\tbackgroundColor: props.theme.cardBodyColor,\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t{renderPreview()}\n\t\t\t\t</a>\n\t\t\t</li>\n\t\t);\n\t};\n\n\t// how the node will appear in collections\n\tconst collectionPreview = () => {\n\t\tif (props.node.preview) {\n\t\t\treturn (\n\t\t\t\t<Fragment>\n\t\t\t\t\t<img\n\t\t\t\t\t\tsrc={props.node.preview}\n\t\t\t\t\t\talt={props.node.name}\n\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\tobjectFit: 'cover',\n\t\t\t\t\t\t\twidth: '100%',\n\t\t\t\t\t\t}}\n\t\t\t\t\t></img>\n\t\t\t\t</Fragment>\n\t\t\t);\n\t\t} else {\n\t\t\treturn (\n\t\t\t\t<Fragment>\n\t\t\t\t\t<Icon type={urlIcon} theme='outlined' className='node-card-icon' />\n\t\t\t\t</Fragment>\n\t\t\t);\n\t\t}\n\t};\n\n\tconst fullNode = () => {\n\t\tlet imageScale = JSON.parse(localStorage.getItem('image-sizing')) || 'classic';\n\t\tlet imageClass = 'img-' + imageScale.replace(' ', '-');\n\t\treturn (\n\t\t\t<div className={'full-node-item ' + imageClass}>\n\t\t\t\t<NodeCardHeaderFull />\n\t\t\t\t{renderFullCardPreview()}\n\t\t\t\t{/* <p>{props.node.comment}</p> */}\n\t\t\t</div>\n\t\t);\n\t};\n\n\tconst associationLink = () => {\n\t\treturn (\n\t\t\t<Link to={`/associations/${props.node.uuid}`} onClick={(e) => props.handleAssociatonClick()}>\n\t\t\t\t{props.node.name}\n\t\t\t</Link>\n\t\t);\n\t};\n\n\t// render the requested element\n\tconst renderNode = () => {\n\t\tswitch (props.element) {\n\t\t\tcase 'card':\n\t\t\t\treturn <Fragment>{nodeCard()}</Fragment>;\n\t\t\tcase 'preview':\n\t\t\t\treturn <Fragment>{collectionPreview()}</Fragment>;\n\t\t\tcase 'full':\n\t\t\t\treturn <Fragment>{fullNode()}</Fragment>;\n\t\t\tcase 'association-link':\n\t\t\t\treturn <Fragment>{associationLink()}</Fragment>;\n\t\t\tdefault:\n\t\t\t\treturn;\n\t\t}\n\t};\n\n\treturn <Fragment>{renderNode()}</Fragment>;\n};\n\nexport { Url };\n","import React, { Fragment } from 'react';\nimport { Link } from 'react-router-dom';\nimport { Icon } from 'antd';\n// custom code\nimport NodeCardHeaderFull from '../../../components/elements/node/NodeCardHeaderFull';\nimport NodeCardHeader from '../../../components/elements/node/NodeCardHeader';\nimport missingFileImage from '../../../resources/missing-file.png';\nimport { isElectron } from '../../../utils/environment';\n\nconst File = (props) => {\n\tlet fileLoadError = false;\n\n\t// select a replacement file\n\tconst selectLocalFile = (e) => {\n\t\tconst input = document.createElement('input');\n\t\tinput.setAttribute('type', 'file');\n\t\tinput.click();\n\t\t// Listen for uploading local file, then save to server\n\t\tinput.onchange = async () => {\n\t\t\tlet file = input.files[0];\n\t\t\tawait props.updateNode({ uuid: props.node.uuid, path: file.path });\n\t\t\twindow.location.reload();\n\t\t};\n\t};\n\n\tconst onClickAction = (e) => {\n\t\tif (!fileLoadError) {\n\t\t\te.preventDefault();\n\t\t\tprops.handleClick();\n\t\t\twindow.location.replace(`/associations/${props.node.uuid}`);\n\t\t} else if (isElectron()) {\n\t\t\te.preventDefault();\n\t\t\tprops.handleClick();\n\t\t\twindow.location.replace(`/associations/${props.node.uuid}`);\n\t\t} else {\n\t\t\te.preventDefault();\n\t\t\twindow.location.replace(`/associations/${props.node.uuid}`);\n\t\t}\n\t};\n\n\tconst onContextAction = (e) => {\n\t\tif (!fileLoadError) {\n\t\t\te.preventDefault();\n\t\t\tprops.handleClick();\n\t\t\tprops.launchFile(props.node.uuid);\n\t\t} else if (isElectron()) {\n\t\t\te.preventDefault();\n\t\t\tselectLocalFile(e);\n\t\t} else {\n\t\t\te.preventDefault();\n\t\t\twindow.location.replace(`/associations/${props.node.uuid}`);\n\t\t}\n\t};\n\n\tconst onFullCardAction = (e) => {\n\t\tif (!fileLoadError) {\n\t\t\te.preventDefault();\n\t\t\tprops.handleClick();\n\t\t\tprops.launchFile(props.node.uuid);\n\t\t} else if (isElectron()) {\n\t\t\te.preventDefault();\n\t\t\tselectLocalFile(e);\n\t\t} else {\n\t\t\te.preventDefault();\n\t\t\twindow.location.replace(`/associations/${props.node.uuid}`);\n\t\t}\n\t};\n\n\tconst renderPreview = () => {\n\t\tif (props.node.path === null) {\n\t\t\tfileLoadError = true;\n\t\t\tprops.node.preview = missingFileImage;\n\t\t}\n\t\tif (props.node.preview) {\n\t\t\treturn (\n\t\t\t\t<Fragment>\n\t\t\t\t\t<img\n\t\t\t\t\t\tsrc={props.node.preview}\n\t\t\t\t\t\talt={props.node.name}\n\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\tobjectFit: 'cover',\n\t\t\t\t\t\t\tminHeight: '100%',\n\t\t\t\t\t\t\twidth: '100%',\n\t\t\t\t\t\t}}\n\t\t\t\t\t></img>\n\t\t\t\t</Fragment>\n\t\t\t);\n\t\t} else {\n\t\t\treturn (\n\t\t\t\t<Icon\n\t\t\t\t\ttype={'thunderbolt'}\n\t\t\t\t\tstyle={{ color: 'white', backgroundColor: props.theme.cardBodyColor, height: '100%' }}\n\t\t\t\t\ttheme='filled'\n\t\t\t\t\tclassName='node-card-icon'\n\t\t\t\t/>\n\t\t\t);\n\t\t}\n\t};\n\n\tconst nodeCard = () => {\n\t\treturn (\n\t\t\t<li className='nodelist-item'>\n\t\t\t\t<NodeCardHeader node={props.node} />\n\t\t\t\t<Link\n\t\t\t\t\tto={`/associations/${props.node.uuid}`}\n\t\t\t\t\tonClick={(e) => onClickAction(e)}\n\t\t\t\t\tonContextMenu={(e) => onContextAction(e)}\n\t\t\t\t\tstyle={{\n\t\t\t\t\t\twidth: '100%',\n\t\t\t\t\t\tbackgroundColor: props.theme.cardBodyColor,\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t{renderPreview()}\n\t\t\t\t</Link>\n\t\t\t</li>\n\t\t);\n\t};\n\n\t// how the node will appear in collections\n\tconst collectionPreview = () => {\n\t\treturn <Fragment>{renderPreview()}</Fragment>;\n\t};\n\n\tconst fullNode = () => {\n\t\treturn (\n\t\t\t<div className='full-node-item'>\n\t\t\t\t<NodeCardHeaderFull />\n\t\t\t\t<Link to={`/associations/${props.node.uuid}`} onClick={(e) => onFullCardAction(e)}>\n\t\t\t\t\t<Fragment>{renderPreview()}</Fragment>\n\t\t\t\t</Link>\n\t\t\t</div>\n\t\t);\n\t};\n\n\tconst associationLink = () => {\n\t\treturn (\n\t\t\t<Link to={`/associations/${props.node.uuid}`} onClick={(e) => props.handleAssociatonClick()}>\n\t\t\t\t{props.node.name}\n\t\t\t</Link>\n\t\t);\n\t};\n\n\t// render the requested element\n\tconst renderNode = () => {\n\t\tswitch (props.element) {\n\t\t\tcase 'card':\n\t\t\t\treturn <Fragment>{nodeCard()}</Fragment>;\n\t\t\tcase 'preview':\n\t\t\t\treturn <Fragment>{collectionPreview()}</Fragment>;\n\t\t\tcase 'full':\n\t\t\t\treturn <Fragment>{fullNode()}</Fragment>;\n\t\t\tcase 'association-link':\n\t\t\t\treturn <Fragment>{associationLink()}</Fragment>;\n\t\t\tdefault:\n\t\t\t\treturn;\n\t\t}\n\t};\n\n\treturn <Fragment>{renderNode()}</Fragment>;\n};\n\nexport { File };\n","import React, { Fragment } from 'react';\nimport { Link } from 'react-router-dom';\nimport { Icon } from 'antd';\n// for now these are in-common between nodes\nimport NodeCardHeaderFull from '../../../components/elements/node/NodeCardHeaderFull';\nimport NodeCardHeader from '../../../components/elements/node/NodeCardHeader';\nimport missingFileImage from '../../../resources/missing-file.png';\nimport { isElectron } from '../../../utils/environment';\n\nconst Audio = (props) => {\n\tlet fileLoadError = false;\n\n\t// select a replacement file\n\tconst selectLocalFile = (e) => {\n\t\tconst input = document.createElement('input');\n\t\tinput.setAttribute('type', 'file');\n\t\tinput.click();\n\t\t// Listen for uploading local file, then save to server\n\t\tinput.onchange = async () => {\n\t\t\tlet file = input.files[0];\n\t\t\tawait props.updateNode({ uuid: props.node.uuid, path: file.path });\n\t\t\twindow.location.reload();\n\t\t};\n\t};\n\n\tconst onClickAction = (e) => {\n\t\tif (!fileLoadError) {\n\t\t\te.preventDefault();\n\t\t\tprops.handleClick();\n\t\t\twindow.location.replace(`/associations/${props.node.uuid}`);\n\t\t} else if (isElectron()) {\n\t\t\te.preventDefault();\n\t\t\tselectLocalFile(e);\n\t\t} else {\n\t\t\te.preventDefault();\n\t\t\twindow.location.replace(`/associations/${props.node.uuid}`);\n\t\t}\n\t};\n\n\tconst onContextAction = (e) => {\n\t\tif (!fileLoadError) {\n\t\t\te.preventDefault();\n\t\t\tprops.handleClick();\n\t\t\tprops.launchFile(props.node.uuid);\n\t\t} else if (isElectron()) {\n\t\t\te.preventDefault();\n\t\t\tselectLocalFile(e);\n\t\t} else {\n\t\t\te.preventDefault();\n\t\t\twindow.location.replace(`/associations/${props.node.uuid}`);\n\t\t}\n\t};\n\n\tconst onFullCardAction = (e) => {\n\t\tif (!fileLoadError) {\n\t\t\te.preventDefault();\n\t\t\tprops.handleClick();\n\t\t\tprops.launchFile(props.node.uuid);\n\t\t} else if (isElectron()) {\n\t\t\te.preventDefault();\n\t\t\tselectLocalFile(e);\n\t\t} else {\n\t\t\te.preventDefault();\n\t\t\twindow.location.replace(`/associations/${props.node.uuid}`);\n\t\t}\n\t};\n\n\tconst renderPreview = () => {\n\t\tif (props.node.path === null) {\n\t\t\tfileLoadError = true;\n\t\t\tprops.node.preview = missingFileImage;\n\t\t}\n\t\tif (props.node.preview) {\n\t\t\treturn (\n\t\t\t\t<Fragment>\n\t\t\t\t\t<img\n\t\t\t\t\t\tsrc={props.node.preview}\n\t\t\t\t\t\talt={props.node.name}\n\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\tobjectFit: 'cover',\n\t\t\t\t\t\t\tminHeight: '100%',\n\t\t\t\t\t\t\twidth: '100%',\n\t\t\t\t\t\t}}\n\t\t\t\t\t></img>\n\t\t\t\t</Fragment>\n\t\t\t);\n\t\t} else {\n\t\t\treturn (\n\t\t\t\t<Icon\n\t\t\t\t\ttype={'sound'}\n\t\t\t\t\tstyle={{ color: 'white', backgroundColor: props.theme.cardBodyColor, height: '100%' }}\n\t\t\t\t\ttheme='filled'\n\t\t\t\t\tclassName='node-card-icon'\n\t\t\t\t/>\n\t\t\t);\n\t\t}\n\t};\n\n\tconst nodeCard = () => {\n\t\treturn (\n\t\t\t<li className='nodelist-item'>\n\t\t\t\t<NodeCardHeader node={props.node} />\n\t\t\t\t<Link\n\t\t\t\t\tto={`/associations/${props.node.uuid}`}\n\t\t\t\t\tonClick={(e) => onClickAction(e)}\n\t\t\t\t\tonContextMenu={(e) => onContextAction(e)}\n\t\t\t\t\tstyle={{\n\t\t\t\t\t\twidth: '100%',\n\t\t\t\t\t\tbackgroundColor: props.theme.cardBodyColor,\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t{renderPreview()}\n\t\t\t\t</Link>\n\t\t\t</li>\n\t\t);\n\t};\n\n\t// how the node will appear in collections\n\tconst collectionPreview = () => {\n\t\treturn <Fragment>{renderPreview()}</Fragment>;\n\t};\n\n\tconst fullNode = () => {\n\t\treturn (\n\t\t\t<div className='full-node-item'>\n\t\t\t\t<NodeCardHeaderFull />\n\t\t\t\t<Link to={`/associations/${props.node.uuid}`} onClick={(e) => onFullCardAction(e)}>\n\t\t\t\t\t<Fragment>{renderPreview()}</Fragment>\n\t\t\t\t</Link>\n\t\t\t</div>\n\t\t);\n\t};\n\n\tconst associationLink = () => {\n\t\treturn (\n\t\t\t<Link to={`/associations/${props.node.uuid}`} onClick={(e) => props.handleAssociatonClick()}>\n\t\t\t\t{props.node.name}\n\t\t\t</Link>\n\t\t);\n\t};\n\n\t// render the requested element\n\tconst renderNode = () => {\n\t\tswitch (props.element) {\n\t\t\tcase 'card':\n\t\t\t\treturn <Fragment>{nodeCard()}</Fragment>;\n\t\t\tcase 'preview':\n\t\t\t\treturn <Fragment>{collectionPreview()}</Fragment>;\n\t\t\tcase 'full':\n\t\t\t\treturn <Fragment>{fullNode()}</Fragment>;\n\t\t\tcase 'association-link':\n\t\t\t\treturn <Fragment>{associationLink()}</Fragment>;\n\t\t\tdefault:\n\t\t\t\treturn;\n\t\t}\n\t};\n\n\treturn <Fragment>{renderNode()}</Fragment>;\n};\n\nexport { Audio };\n","import React, { Fragment } from 'react';\nimport { Link } from 'react-router-dom';\nimport { Icon } from 'antd';\n// custom code\nimport NodeCardHeaderFull from '../../../components/elements/node/NodeCardHeaderFull';\nimport NodeCardHeader from '../../../components/elements/node/NodeCardHeader';\nimport missingFileImage from '../../../resources/missing-file.png';\nimport { isElectron } from '../../../utils/environment';\n\nconst Package = (props) => {\n\tlet fileLoadError = false;\n\n\t// select a replacement file\n\tconst selectLocalFile = (e) => {\n\t\tconst input = document.createElement('input');\n\t\tinput.setAttribute('type', 'file');\n\t\tinput.click();\n\t\t// Listen for uploading local file, then save to server\n\t\tinput.onchange = async () => {\n\t\t\tlet file = input.files[0];\n\t\t\tawait props.updateNode({ uuid: props.node.uuid, path: file.path });\n\t\t\twindow.location.reload();\n\t\t};\n\t};\n\n\tconst onClickAction = (e) => {\n\t\tif (!fileLoadError) {\n\t\t\te.preventDefault();\n\t\t\tprops.handleClick();\n\t\t\twindow.location.replace(`/associations/${props.node.uuid}`);\n\t\t} else if (isElectron()) {\n\t\t\te.preventDefault();\n\t\t\tselectLocalFile(e);\n\t\t} else {\n\t\t\te.preventDefault();\n\t\t\twindow.location.replace(`/associations/${props.node.uuid}`);\n\t\t}\n\t};\n\n\tconst onContextAction = (e) => {\n\t\tif (!fileLoadError) {\n\t\t\te.preventDefault();\n\t\t\tprops.handleClick();\n\t\t\tprops.launchExplorer(props.node.uuid);\n\t\t} else if (isElectron()) {\n\t\t\te.preventDefault();\n\t\t\tselectLocalFile(e);\n\t\t} else {\n\t\t\te.preventDefault();\n\t\t\twindow.location.replace(`/associations/${props.node.uuid}`);\n\t\t}\n\t};\n\n\tconst onFullCardAction = (e) => {\n\t\tif (!fileLoadError) {\n\t\t\te.preventDefault();\n\t\t\tprops.handleClick();\n\t\t\tprops.launchExplorer(props.node.uuid);\n\t\t} else if (isElectron()) {\n\t\t\te.preventDefault();\n\t\t\tselectLocalFile(e);\n\t\t} else {\n\t\t\te.preventDefault();\n\t\t\twindow.location.replace(`/associations/${props.node.uuid}`);\n\t\t}\n\t};\n\n\tconst renderPreview = () => {\n\t\tif (props.node.path === null) {\n\t\t\tfileLoadError = true;\n\t\t\tprops.node.preview = missingFileImage;\n\t\t}\n\t\tif (props.node.preview) {\n\t\t\treturn (\n\t\t\t\t<Fragment>\n\t\t\t\t\t<img\n\t\t\t\t\t\tsrc={props.node.preview}\n\t\t\t\t\t\talt={props.node.name}\n\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\tobjectFit: 'cover',\n\t\t\t\t\t\t\tminHeight: '100%',\n\t\t\t\t\t\t\twidth: '100%',\n\t\t\t\t\t\t}}\n\t\t\t\t\t></img>\n\t\t\t\t</Fragment>\n\t\t\t);\n\t\t} else {\n\t\t\treturn (\n\t\t\t\t<Icon\n\t\t\t\t\ttype={'gift'}\n\t\t\t\t\tstyle={{ color: 'white', backgroundColor: props.theme.cardBodyColor, height: '100%' }}\n\t\t\t\t\ttheme='filled'\n\t\t\t\t\tclassName='node-card-icon'\n\t\t\t\t/>\n\t\t\t);\n\t\t}\n\t};\n\n\tconst nodeCard = () => {\n\t\treturn (\n\t\t\t<li className='nodelist-item'>\n\t\t\t\t<NodeCardHeader node={props.node} />\n\t\t\t\t<Link\n\t\t\t\t\tto={`/associations/${props.node.uuid}`}\n\t\t\t\t\tonClick={(e) => onClickAction(e)}\n\t\t\t\t\tonContextMenu={(e) => onContextAction(e)}\n\t\t\t\t\tstyle={{\n\t\t\t\t\t\twidth: '100%',\n\t\t\t\t\t\tbackgroundColor: props.theme.cardBodyColor,\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t{renderPreview()}\n\t\t\t\t</Link>\n\t\t\t</li>\n\t\t);\n\t};\n\n\t// how the node will appear in collections\n\tconst collectionPreview = () => {\n\t\treturn <Fragment>{renderPreview()}</Fragment>;\n\t};\n\n\tconst fullNode = () => {\n\t\treturn (\n\t\t\t<div className='full-node-item'>\n\t\t\t\t<NodeCardHeaderFull />\n\t\t\t\t<Link to={`/associations/${props.node.uuid}`} onClick={(e) => onFullCardAction(e)}>\n\t\t\t\t\t<Fragment>{renderPreview()}</Fragment>\n\t\t\t\t</Link>\n\t\t\t</div>\n\t\t);\n\t};\n\n\tconst associationLink = () => {\n\t\treturn (\n\t\t\t<Link to={`/associations/${props.node.uuid}`} onClick={(e) => props.handleAssociatonClick()}>\n\t\t\t\t{props.node.name}\n\t\t\t</Link>\n\t\t);\n\t};\n\n\t// render the requested element\n\tconst renderNode = () => {\n\t\tswitch (props.element) {\n\t\t\tcase 'card':\n\t\t\t\treturn <Fragment>{nodeCard()}</Fragment>;\n\t\t\tcase 'preview':\n\t\t\t\treturn <Fragment>{collectionPreview()}</Fragment>;\n\t\t\tcase 'full':\n\t\t\t\treturn <Fragment>{fullNode()}</Fragment>;\n\t\t\tcase 'association-link':\n\t\t\t\treturn <Fragment>{associationLink()}</Fragment>;\n\t\t\tdefault:\n\t\t\t\treturn;\n\t\t}\n\t};\n\n\treturn <Fragment>{renderNode()}</Fragment>;\n};\n\nexport { Package };\n","import React, { Fragment } from 'react';\nimport { Link } from 'react-router-dom';\nimport { Icon } from 'antd';\n// custom code\nimport NodeCardHeaderFull from '../../../components/elements/node/NodeCardHeaderFull';\nimport NodeCardHeader from '../../../components/elements/node/NodeCardHeader';\nimport missingFileImage from '../../../resources/missing-file.png';\nimport { isElectron } from '../../../utils/environment';\n\nconst Zip = (props) => {\n\tlet fileLoadError = false;\n\n\t// select a replacement file\n\tconst selectLocalFile = (e) => {\n\t\tconst input = document.createElement('input');\n\t\tinput.setAttribute('type', 'file');\n\t\tinput.setAttribute('accept', ['application/zip']);\n\t\tinput.click();\n\t\t// Listen for uploading local file, then save to server\n\t\tinput.onchange = async () => {\n\t\t\tlet file = input.files[0];\n\t\t\tawait props.updateNode({ uuid: props.node.uuid, path: file.path });\n\t\t\twindow.location.reload();\n\t\t};\n\t};\n\n\tconst onClickAction = (e) => {\n\t\tif (!fileLoadError) {\n\t\t\te.preventDefault();\n\t\t\tprops.handleClick();\n\t\t\twindow.location.replace(`/associations/${props.node.uuid}`);\n\t\t} else if (isElectron()) {\n\t\t\te.preventDefault();\n\t\t\tselectLocalFile(e);\n\t\t} else {\n\t\t\te.preventDefault();\n\t\t\twindow.location.replace(`/associations/${props.node.uuid}`);\n\t\t}\n\t};\n\n\tconst onContextAction = (e) => {\n\t\tif (!fileLoadError) {\n\t\t\te.preventDefault();\n\t\t\tprops.handleClick();\n\t\t\tprops.launchExplorer(props.node.uuid);\n\t\t} else if (isElectron()) {\n\t\t\te.preventDefault();\n\t\t\tselectLocalFile(e);\n\t\t} else {\n\t\t\te.preventDefault();\n\t\t\twindow.location.replace(`/associations/${props.node.uuid}`);\n\t\t}\n\t};\n\n\tconst onFullCardAction = (e) => {\n\t\tif (!fileLoadError) {\n\t\t\te.preventDefault();\n\t\t\tprops.handleClick();\n\t\t\tprops.launchExplorer(props.node.uuid);\n\t\t} else if (isElectron()) {\n\t\t\te.preventDefault();\n\t\t\tselectLocalFile(e);\n\t\t} else {\n\t\t\te.preventDefault();\n\t\t\twindow.location.replace(`/associations/${props.node.uuid}`);\n\t\t}\n\t};\n\n\tconst renderPreview = () => {\n\t\tif (props.node.path === null) {\n\t\t\tfileLoadError = true;\n\t\t\tprops.node.preview = missingFileImage;\n\t\t}\n\t\tif (props.node.preview) {\n\t\t\treturn (\n\t\t\t\t<Fragment>\n\t\t\t\t\t<img\n\t\t\t\t\t\tsrc={props.node.preview}\n\t\t\t\t\t\talt={props.node.name}\n\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\tobjectFit: 'cover',\n\t\t\t\t\t\t\tminHeight: '100%',\n\t\t\t\t\t\t\twidth: '100%',\n\t\t\t\t\t\t}}\n\t\t\t\t\t></img>\n\t\t\t\t</Fragment>\n\t\t\t);\n\t\t} else {\n\t\t\treturn (\n\t\t\t\t<Icon\n\t\t\t\t\ttype={'file-zip'}\n\t\t\t\t\tstyle={{ color: 'white', backgroundColor: props.theme.cardBodyColor, height: '100%' }}\n\t\t\t\t\ttheme='filled'\n\t\t\t\t\tclassName='node-card-icon'\n\t\t\t\t/>\n\t\t\t);\n\t\t}\n\t};\n\n\tconst nodeCard = () => {\n\t\treturn (\n\t\t\t<li className='nodelist-item'>\n\t\t\t\t<NodeCardHeader node={props.node} />\n\t\t\t\t<Link\n\t\t\t\t\tto={`/associations/${props.node.uuid}`}\n\t\t\t\t\tonClick={(e) => onClickAction(e)}\n\t\t\t\t\tonContextMenu={(e) => onContextAction(e)}\n\t\t\t\t\tstyle={{\n\t\t\t\t\t\twidth: '100%',\n\t\t\t\t\t\tbackgroundColor: props.theme.cardBodyColor,\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t{renderPreview()}\n\t\t\t\t</Link>\n\t\t\t</li>\n\t\t);\n\t};\n\n\t// how the node will appear in collections\n\tconst collectionPreview = () => {\n\t\treturn <Fragment>{renderPreview()}</Fragment>;\n\t};\n\n\tconst fullNode = () => {\n\t\treturn (\n\t\t\t<div className='full-node-item'>\n\t\t\t\t<NodeCardHeaderFull />\n\t\t\t\t<Link to={`/associations/${props.node.uuid}`} onClick={(e) => onFullCardAction(e)}>\n\t\t\t\t\t<Fragment>{renderPreview()}</Fragment>\n\t\t\t\t</Link>\n\t\t\t</div>\n\t\t);\n\t};\n\n\tconst associationLink = () => {\n\t\treturn (\n\t\t\t<Link to={`/associations/${props.node.uuid}`} onClick={(e) => props.handleAssociatonClick()}>\n\t\t\t\t{props.node.name}\n\t\t\t</Link>\n\t\t);\n\t};\n\n\t// render the requested element\n\tconst renderNode = () => {\n\t\tswitch (props.element) {\n\t\t\tcase 'card':\n\t\t\t\treturn <Fragment>{nodeCard()}</Fragment>;\n\t\t\tcase 'preview':\n\t\t\t\treturn <Fragment>{collectionPreview()}</Fragment>;\n\t\t\tcase 'full':\n\t\t\t\treturn <Fragment>{fullNode()}</Fragment>;\n\t\t\tcase 'association-link':\n\t\t\t\treturn <Fragment>{associationLink()}</Fragment>;\n\t\t\tdefault:\n\t\t\t\treturn;\n\t\t}\n\t};\n\n\treturn <Fragment>{renderNode()}</Fragment>;\n};\n\nexport { Zip };\n","import React, { Fragment } from 'react';\nimport { Link } from 'react-router-dom';\nimport { Icon } from 'antd';\n// custom code\nimport NodeRenderer from '../NodeRenderer';\n// for now these are in-common between nodes\nimport NodeCardHeaderFull from '../../../components/elements/node/NodeCardHeaderFull';\n\nconst Collection = (props) => {\n\tconst onCollectionContextMenu = (e) => {\n\t\t// e.preventDefault();\n\t\t// window.location.replace(`/associations/${props.node.uuid}`);\n\t};\n\n\tconst onCollectionClick = (e) => {\n\t\te.preventDefault();\n\t\tprops.handleClick();\n\t\twindow.location.replace(`/associations/${props.node.uuid}`);\n\t};\n\n\tconst nodeCard = () => {\n\t\t// create the collection grid\n\t\tvar previewCount = 0;\n\t\tvar collectionPreview = null;\n\t\tvar preview = null;\n\t\t// check if the collection has a preview\n\t\tif (props.node.preview) {\n\t\t\tpreview = JSON.parse(props.node.preview);\n\t\t\tpreviewCount = preview.length;\n\t\t}\n\t\t// create the different grid types\n\t\tswitch (previewCount) {\n\t\t\tcase 0:\n\t\t\t\tcollectionPreview = (\n\t\t\t\t\t<li className='nodelist-item'>\n\t\t\t\t\t\t{props.renderHeader()}\n\t\t\t\t\t\t<Link\n\t\t\t\t\t\t\tto={`/associations/${props.node.uuid}`}\n\t\t\t\t\t\t\tonClick={(e) => onCollectionClick(e)}\n\t\t\t\t\t\t\tonContextMenu={(e) => onCollectionContextMenu(e)}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<Icon type={'branches'} theme='outlined' className='node-card-icon' />\n\t\t\t\t\t\t</Link>\n\t\t\t\t\t</li>\n\t\t\t\t);\n\t\t\t\treturn collectionPreview;\n\t\t\tcase 1:\n\t\t\t\tcollectionPreview = (\n\t\t\t\t\t<li className='nodelist-item'>\n\t\t\t\t\t\t{props.renderHeader()}\n\t\t\t\t\t\t<Link\n\t\t\t\t\t\t\tto={`/associations/${props.node.uuid}`}\n\t\t\t\t\t\t\tonClick={(e) => onCollectionClick(e)}\n\t\t\t\t\t\t\tonContextMenu={(e) => onCollectionContextMenu(e)}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<NodeRenderer type={preview[0].type} element={'preview'} node={preview[0]} />\n\t\t\t\t\t\t</Link>\n\t\t\t\t\t</li>\n\t\t\t\t);\n\t\t\t\treturn collectionPreview;\n\t\t\tcase 2:\n\t\t\t\tcollectionPreview = (\n\t\t\t\t\t<li className='nodelist-item nodelist-item-collection'>\n\t\t\t\t\t\t{props.renderHeader()}\n\t\t\t\t\t\t<Link\n\t\t\t\t\t\t\tto={`/associations/${props.node.uuid}`}\n\t\t\t\t\t\t\tonClick={(e) => onCollectionClick(e)}\n\t\t\t\t\t\t\tonContextMenu={(e) => onCollectionContextMenu(e)}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<ul className='nodelist-collection-grid'>\n\t\t\t\t\t\t\t\t<li className='nodelist-collection-grid-full-width'>\n\t\t\t\t\t\t\t\t\t<NodeRenderer type={preview[0].type} element={'preview'} node={preview[0]} />\n\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t<li className='nodelist-collection-grid-full-width'>\n\t\t\t\t\t\t\t\t\t<NodeRenderer type={preview[1].type} element={'preview'} node={preview[1]} />\n\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t</Link>\n\t\t\t\t\t</li>\n\t\t\t\t);\n\t\t\t\treturn collectionPreview;\n\t\t\tcase 3:\n\t\t\t\tcollectionPreview = (\n\t\t\t\t\t<li className='nodelist-item nodelist-item-collection'>\n\t\t\t\t\t\t{props.renderHeader()}\n\t\t\t\t\t\t<Link\n\t\t\t\t\t\t\tto={`/associations/${props.node.uuid}`}\n\t\t\t\t\t\t\tonClick={(e) => onCollectionClick(e)}\n\t\t\t\t\t\t\tonContextMenu={(e) => onCollectionContextMenu(e)}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<ul className='nodelist-collection-grid'>\n\t\t\t\t\t\t\t\t<li className='nodelist-collection-grid-full-width'>\n\t\t\t\t\t\t\t\t\t<NodeRenderer type={preview[0].type} element={'preview'} node={preview[0]} />\n\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t\t\t<NodeRenderer type={preview[1].type} element={'preview'} node={preview[1]} />\n\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t\t\t<NodeRenderer type={preview[2].type} element={'preview'} node={preview[2]} />\n\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t<li></li>\n\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t</Link>\n\t\t\t\t\t</li>\n\t\t\t\t);\n\t\t\t\treturn collectionPreview;\n\t\t\tcase 4:\n\t\t\t\tcollectionPreview = (\n\t\t\t\t\t<li className='nodelist-item nodelist-item-collection'>\n\t\t\t\t\t\t{props.renderHeader()}\n\t\t\t\t\t\t<Link\n\t\t\t\t\t\t\tto={`/associations/${props.node.uuid}`}\n\t\t\t\t\t\t\tonClick={(e) => onCollectionClick(e)}\n\t\t\t\t\t\t\tonContextMenu={(e) => onCollectionContextMenu(e)}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<ul className='nodelist-collection-grid'>\n\t\t\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t\t\t<NodeRenderer type={preview[0].type} element={'preview'} node={preview[0]} />\n\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t\t\t<NodeRenderer type={preview[1].type} element={'preview'} node={preview[1]} />\n\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t\t\t<NodeRenderer type={preview[2].type} element={'preview'} node={preview[2]} />\n\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t\t\t<NodeRenderer type={preview[3].type} element={'preview'} node={preview[3]} />\n\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t</Link>\n\t\t\t\t\t</li>\n\t\t\t\t);\n\t\t\t\treturn collectionPreview;\n\t\t\tdefault:\n\t\t\t\treturn;\n\t\t}\n\t};\n\n\tconst fullNode = () => {\n\t\treturn (\n\t\t\t<div className='full-node-item'>\n\t\t\t\t<NodeCardHeaderFull />\n\t\t\t</div>\n\t\t);\n\t};\n\n\tconst associationLink = () => {\n\t\treturn (\n\t\t\t<Link\n\t\t\t\tto={`/associations/${props.node.uuid}`}\n\t\t\t\tonClick={(e) => props.handleAssociatonClick()}\n\t\t\t\t// target='_blank'\n\t\t\t>\n\t\t\t\t{props.node.name}\n\t\t\t</Link>\n\t\t);\n\t};\n\n\t// render the requested element\n\tconst renderNode = () => {\n\t\tswitch (props.element) {\n\t\t\tcase 'card':\n\t\t\t\treturn <Fragment>{nodeCard()}</Fragment>;\n\t\t\tcase 'full':\n\t\t\t\treturn <Fragment>{fullNode()}</Fragment>;\n\t\t\tcase 'association-link':\n\t\t\t\treturn <Fragment>{associationLink()}</Fragment>;\n\t\t\tdefault:\n\t\t\t\treturn;\n\t\t}\n\t};\n\n\treturn <Fragment>{renderNode()}</Fragment>;\n};\n\nexport { Collection };\n","import React, { Fragment } from 'react';\nimport { Link } from 'react-router-dom';\n// for now these are in-common between nodes\nimport NodeCardHeaderFull from '../../../components/elements/node/NodeCardHeaderFull';\nimport defaultHeader from '../../../resources/cloud9.png';\n\nconst User = (props) => {\n\tconst nodeCard = () => {\n\t\treturn (\n\t\t\t<li className='nodelist-item'>\n\t\t\t\t{props.renderHeader()}\n\t\t\t\t<Link\n\t\t\t\t\tto={`/profile/${props.node.path}`}\n\t\t\t\t\treplace\n\t\t\t\t\tonClick={(e) => {\n\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\tprops.handleClick();\n\t\t\t\t\t\twindow.location.replace(`/profile/${props.node.path}`);\n\t\t\t\t\t}}\n\t\t\t\t\tonContextMenu={(e) => {\n\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\tprops.handleClick();\n\t\t\t\t\t\twindow.location.replace(`/profile/${props.node.path}`);\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t<img\n\t\t\t\t\t\tsrc={props.node.preview || defaultHeader}\n\t\t\t\t\t\talt={props.node.name}\n\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\tobjectFit: 'cover',\n\t\t\t\t\t\t\tminHeight: '100%',\n\t\t\t\t\t\t\twidth: '100%',\n\t\t\t\t\t\t}}\n\t\t\t\t\t></img>\n\t\t\t\t</Link>\n\t\t\t</li>\n\t\t);\n\t};\n\n\t// how the node will appear in collections\n\tconst collectionPreview = () => {\n\t\treturn (\n\t\t\t<Fragment>\n\t\t\t\t<img\n\t\t\t\t\tsrc={props.node.preview || defaultHeader}\n\t\t\t\t\talt={props.node.name}\n\t\t\t\t\tstyle={{\n\t\t\t\t\t\tobjectFit: 'cover',\n\t\t\t\t\t\tminHeight: '100%',\n\t\t\t\t\t\twidth: '100%',\n\t\t\t\t\t}}\n\t\t\t\t></img>\n\t\t\t</Fragment>\n\t\t);\n\t};\n\n\tconst fullNode = () => {\n\t\treturn (\n\t\t\t<div className='full-node-item'>\n\t\t\t\t<NodeCardHeaderFull />\n\t\t\t\t<Link to={`/profile/${props.node.path}`} /*target='_blank' */>\n\t\t\t\t\t<p>{props.node.name}</p>\n\t\t\t\t</Link>\n\t\t\t</div>\n\t\t);\n\t};\n\n\tconst associationLink = () => {\n\t\treturn (\n\t\t\t<Link\n\t\t\t\tto={`/profile/${props.node.path}`}\n\t\t\t\tonClick={(e) => props.handleAssociatonClick()}\n\t\t\t\t// target='blank'\n\t\t\t>\n\t\t\t\t{props.node.name}\n\t\t\t</Link>\n\t\t);\n\t};\n\n\t// render the requested element\n\tconst renderNode = () => {\n\t\tswitch (props.element) {\n\t\t\tcase 'card':\n\t\t\t\treturn <Fragment>{nodeCard()}</Fragment>;\n\t\t\tcase 'preview':\n\t\t\t\treturn <Fragment>{collectionPreview()}</Fragment>;\n\t\t\tcase 'full':\n\t\t\t\treturn <Fragment>{fullNode()}</Fragment>;\n\t\t\tcase 'association-link':\n\t\t\t\treturn <Fragment>{associationLink()}</Fragment>;\n\t\t\tdefault:\n\t\t\t\treturn;\n\t\t}\n\t};\n\n\treturn <Fragment>{renderNode()}</Fragment>;\n};\n\nexport { User };\n","// import the default node configurations\nimport React, { Component, Fragment } from 'react';\nimport { connect } from 'react-redux';\nimport {\n\tupdateLinkStrength,\n\thideComponent,\n\tlaunchFileNode,\n\topenFileInExplorer,\n\tupdateNode,\n} from '../../api/redux/actions';\nimport { Text, Image, Url, File, Audio, Package, Zip, Collection, User } from './core/index';\nimport NodeCardHeader from '../../components/elements/node/NodeCardHeader';\n\nclass NodeRenderer extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\tshowHeader: true,\n\t\t};\n\t}\n\t// increment linkstrength if there is an activeNode\n\thandleNodeClick = () => {\n\t\tconst nodeUUID = this.props.node.uuid;\n\t\tif (this.props.activeNode) {\n\t\t\tconst linkedNodeUUID = this.props.activeNode.uuid;\n\t\t\t// increment the linkStrength on the server\n\t\t\tthis.props.updateLinkStrength(nodeUUID, linkedNodeUUID);\n\t\t}\n\t};\n\n\t// increment linkstrength on association sider clicks\n\thandleAssociatonClick = () => {\n\t\tthis.props.hideComponent('associationSider');\n\t\tif (this.props.siderNodeUUID && this.props.node.uuid) {\n\t\t\tconst siderUUID = this.props.siderNodeUUID;\n\t\t\tconst linkedNodeUUID = this.props.node.uuid;\n\t\t\t// increment the linkStrength on the server\n\t\t\tthis.props.updateLinkStrength(siderUUID, linkedNodeUUID);\n\t\t}\n\t};\n\n\ttoggleHeader = () => {\n\t\tif (this.state.showHeader) {\n\t\t\tthis.setState({ showHeader: false });\n\t\t} else {\n\t\t\tthis.setState({ showHeader: true });\n\t\t}\n\t};\n\n\trenderHeader = () => {\n\t\tif (this.state.showHeader) {\n\t\t\treturn <NodeCardHeader node={this.props.node} />;\n\t\t} else {\n\t\t\treturn;\n\t\t}\n\t};\n\n\trenderNode = () => {\n\t\tswitch (this.props.type) {\n\t\t\tcase 'text':\n\t\t\t\treturn (\n\t\t\t\t\t<Text\n\t\t\t\t\t\telement={this.props.element}\n\t\t\t\t\t\tnode={this.props.node}\n\t\t\t\t\t\thandleClick={this.handleNodeClick}\n\t\t\t\t\t\thandleAssociatonClick={this.handleAssociatonClick}\n\t\t\t\t\t\ttheme={this.props.theme}\n\t\t\t\t\t/>\n\t\t\t\t);\n\t\t\tcase 'image':\n\t\t\t\treturn (\n\t\t\t\t\t<Image\n\t\t\t\t\t\telement={this.props.element}\n\t\t\t\t\t\tnode={this.props.node}\n\t\t\t\t\t\thandleClick={this.handleNodeClick}\n\t\t\t\t\t\thandleAssociatonClick={this.handleAssociatonClick}\n\t\t\t\t\t\tupdateNode={this.props.updateNode}\n\t\t\t\t\t\ttoggleHeader={this.toggleHeader}\n\t\t\t\t\t\trenderHeader={this.renderHeader}\n\t\t\t\t\t\tlaunchExplorer={this.props.openFileInExplorer}\n\t\t\t\t\t\tlaunchFile={this.props.launchFileNode}\n\t\t\t\t\t/>\n\t\t\t\t);\n\t\t\tcase 'url':\n\t\t\t\treturn (\n\t\t\t\t\t<Url\n\t\t\t\t\t\telement={this.props.element}\n\t\t\t\t\t\tnode={this.props.node}\n\t\t\t\t\t\thandleClick={this.handleNodeClick}\n\t\t\t\t\t\thandleAssociatonClick={this.handleAssociatonClick}\n\t\t\t\t\t\ttoggleHeader={this.toggleHeader}\n\t\t\t\t\t\trenderHeader={this.renderHeader}\n\t\t\t\t\t\ttheme={this.props.theme}\n\t\t\t\t\t/>\n\t\t\t\t);\n\t\t\tcase 'file':\n\t\t\t\treturn (\n\t\t\t\t\t<File\n\t\t\t\t\t\telement={this.props.element}\n\t\t\t\t\t\tnode={this.props.node}\n\t\t\t\t\t\tupdateNode={this.props.updateNode}\n\t\t\t\t\t\thandleClick={this.handleNodeClick}\n\t\t\t\t\t\thandleAssociatonClick={this.handleAssociatonClick}\n\t\t\t\t\t\tlaunchFile={this.props.launchFileNode}\n\t\t\t\t\t\tlaunchExplorer={this.props.openFileInExplorer}\n\t\t\t\t\t\ttheme={this.props.theme}\n\t\t\t\t\t/>\n\t\t\t\t);\n\t\t\tcase 'audio':\n\t\t\t\treturn (\n\t\t\t\t\t<Audio\n\t\t\t\t\t\telement={this.props.element}\n\t\t\t\t\t\tnode={this.props.node}\n\t\t\t\t\t\tupdateNode={this.props.updateNode}\n\t\t\t\t\t\thandleClick={this.handleNodeClick}\n\t\t\t\t\t\thandleAssociatonClick={this.handleAssociatonClick}\n\t\t\t\t\t\tlaunchFile={this.props.launchFileNode}\n\t\t\t\t\t\ttheme={this.props.theme}\n\t\t\t\t\t/>\n\t\t\t\t);\n\t\t\tcase 'package':\n\t\t\t\treturn (\n\t\t\t\t\t<Package\n\t\t\t\t\t\telement={this.props.element}\n\t\t\t\t\t\tnode={this.props.node}\n\t\t\t\t\t\tupdateNode={this.props.updateNode}\n\t\t\t\t\t\thandleClick={this.handleNodeClick}\n\t\t\t\t\t\thandleAssociatonClick={this.handleAssociatonClick}\n\t\t\t\t\t\tlaunchExplorer={this.props.openFileInExplorer}\n\t\t\t\t\t\ttheme={this.props.theme}\n\t\t\t\t\t/>\n\t\t\t\t);\n\t\t\tcase 'zip':\n\t\t\t\treturn (\n\t\t\t\t\t<Zip\n\t\t\t\t\t\telement={this.props.element}\n\t\t\t\t\t\tnode={this.props.node}\n\t\t\t\t\t\tupdateNode={this.props.updateNode}\n\t\t\t\t\t\thandleClick={this.handleNodeClick}\n\t\t\t\t\t\thandleAssociatonClick={this.handleAssociatonClick}\n\t\t\t\t\t\tlaunchExplorer={this.props.openFileInExplorer}\n\t\t\t\t\t\ttheme={this.props.theme}\n\t\t\t\t\t/>\n\t\t\t\t);\n\t\t\tcase 'collection':\n\t\t\t\treturn (\n\t\t\t\t\t<Collection\n\t\t\t\t\t\telement={this.props.element}\n\t\t\t\t\t\tnode={this.props.node}\n\t\t\t\t\t\thandleClick={this.handleNodeClick}\n\t\t\t\t\t\thandleAssociatonClick={this.handleAssociatonClick}\n\t\t\t\t\t\ttoggleHeader={this.toggleHeader}\n\t\t\t\t\t\trenderHeader={this.renderHeader}\n\t\t\t\t\t/>\n\t\t\t\t);\n\t\t\tcase 'user':\n\t\t\t\treturn (\n\t\t\t\t\t<User\n\t\t\t\t\t\telement={this.props.element}\n\t\t\t\t\t\tnode={this.props.node}\n\t\t\t\t\t\thandleClick={this.handleNodeClick}\n\t\t\t\t\t\thandleAssociatonClick={this.handleAssociatonClick}\n\t\t\t\t\t\ttoggleHeader={this.toggleHeader}\n\t\t\t\t\t\trenderHeader={this.renderHeader}\n\t\t\t\t\t/>\n\t\t\t\t);\n\t\t\tdefault:\n\t\t\t\treturn;\n\t\t}\n\t};\n\n\trender() {\n\t\treturn <Fragment>{this.renderNode()}</Fragment>;\n\t}\n}\n\nconst mapStateToProps = (state) => {\n\treturn {\n\t\ttheme: state.components.theme,\n\t};\n};\n\nexport default connect(mapStateToProps, {\n\tupdateLinkStrength,\n\thideComponent,\n\tlaunchFileNode,\n\topenFileInExplorer,\n\tupdateNode,\n})(NodeRenderer);\n","import React from 'react';\n//custom components\nimport NodeRenderer from '../../../types/render/NodeRenderer';\n\nconst NodeCard = (props) => {\n\tconst renderNodeCard = () => {\n\t\tif (props.node) {\n\t\t\treturn (\n\t\t\t\t<NodeRenderer\n\t\t\t\t\ttype={props.node.type}\n\t\t\t\t\telement={'card'}\n\t\t\t\t\tnode={props.node}\n\t\t\t\t\tactiveNode={props.activeNode}\n\t\t\t\t\ttheme={props.theme}\n\t\t\t\t/>\n\t\t\t);\n\t\t}\n\t};\n\n\treturn <div>{renderNodeCard()}</div>;\n};\n\nexport default NodeCard;\n","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport {\n\thideComponent,\n\tdeleteAssociationLink,\n\tremoveFromAssociationList,\n\tupdateLinkStrength,\n} from '../../../api/redux/actions';\nimport { Button, Tooltip } from 'antd';\nimport './AssociationLinkList.less';\n// node renderer\nimport NodeRenderer from '../../../types/render/NodeRenderer';\n\nclass AssociationLink extends Component {\n\thandleDeleteAssociation = () => {\n\t\t// sider node is the the node the sider was opened from\n\t\tvar siderNodeUUID = this.props.siderNodeUUID;\n\t\t// linked node is the node from the list, to be un-linked, un-associated\n\t\tvar linkedNodeUUID = this.props.association.uuid;\n\t\t// active node is only set when viewing an /association page, the node of the page itself\n\t\tif (this.props.activeNode) {\n\t\t\t// store the active node\n\t\t\tvar activeNodeUUID = this.props.activeNode.uuid;\n\t\t}\n\t\t// if both have values go ahead and delete the association\n\t\tif (siderNodeUUID && linkedNodeUUID) {\n\t\t\tthis.props.deleteAssociationLink(siderNodeUUID, linkedNodeUUID);\n\t\t\t// store pathname\n\t\t\tvar pathname = window.location.pathname;\n\t\t\t// handle removal from association list page if on association page if an associated node was removed\n\t\t\tif (\n\t\t\t\t(pathname.includes('associations') || pathname.includes('/edit/text/')) &&\n\t\t\t\tactiveNodeUUID &&\n\t\t\t\tactiveNodeUUID === siderNodeUUID\n\t\t\t) {\n\t\t\t\tthis.props.removeFromAssociationList(linkedNodeUUID);\n\t\t\t}\n\t\t}\n\t};\n\n\t// render card types\n\trenderAssociationLink = (association) => {\n\t\treturn (\n\t\t\t<li className='association-list-item'>\n\t\t\t\t<Tooltip title={association.name} mouseLeaveDelay={0} mouseEnterDelay={0.3}>\n\t\t\t\t\t<Button\n\t\t\t\t\t\ticon='close'\n\t\t\t\t\t\tshape='circle'\n\t\t\t\t\t\tsize='small'\n\t\t\t\t\t\tonClick={(e) => this.handleDeleteAssociation()}\n\t\t\t\t\t/>\n\t\t\t\t\t<NodeRenderer\n\t\t\t\t\t\ttype={association.type}\n\t\t\t\t\t\telement={'association-link'}\n\t\t\t\t\t\tnode={association}\n\t\t\t\t\t\tsiderNodeUUID={this.props.siderNodeUUID}\n\t\t\t\t\t></NodeRenderer>\n\t\t\t\t</Tooltip>\n\t\t\t</li>\n\t\t);\n\t};\n\n\trender() {\n\t\treturn <div>{this.renderAssociationLink(this.props.association)}</div>;\n\t}\n}\n\nconst mapStateToProps = (state) => {\n\treturn {\n\t\tsiderNodeUUID: state.components.componentList['associationSider'].content.uuid,\n\t\tactiveNode: state.nodes.activeNode,\n\t};\n};\n\nexport default connect(mapStateToProps, {\n\thideComponent,\n\tdeleteAssociationLink,\n\tremoveFromAssociationList,\n\tupdateLinkStrength,\n})(AssociationLink);\n","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\n// custom code\nimport '../node/NodeList.less';\nimport { fetchAssociationLinkList } from '../../../api/redux/actions';\n// import NodeCard from './NodeCard';\nimport Spinner from '../Spinner';\nimport AssociationLink from './AssociationLink';\n\nclass AssociationLinkList extends Component {\n\tcomponentDidMount() {\n\t\tthis.props.fetchAssociationLinkList({ nodeUUID: this.props.nodeUUID });\n\t}\n\n\tloadMore = () => {\n\t\tthis.props.fetchAssociationLinkList({\n\t\t\tnodeUUID: this.props.nodeUUID,\n\t\t\tpage: parseInt(this.props.page) + 1,\n\t\t});\n\t};\n\n\trenderAssociationLinkList = () => {\n\t\t// go through the list of nodes and render them to the page\n\t\tconst list = this.props.associations;\n\t\tif (this.props.isFetching) {\n\t\t\treturn <Spinner alignment='top'></Spinner>;\n\t\t}\n\t\t// if list exists render the links\n\t\tif (list !== null) {\n\t\t\treturn list.map((association) => {\n\t\t\t\treturn <AssociationLink key={association.uuid} association={association} />;\n\t\t\t});\n\t\t} else {\n\t\t\treturn <Spinner></Spinner>;\n\t\t}\n\t};\n\n\trenderLoadMoreButton = () => {\n\t\tvar listLength = this.props.associations.length;\n\t\t// if the total items is more than what is loaded show the load more button\n\t\tif (this.props.totalItems > listLength) {\n\t\t\treturn (\n\t\t\t\t<li style={{ listStyle: 'none', marginTop: '0.5rem', textAlign: 'center' }}>\n\t\t\t\t\t<button\n\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\tmargin: '1rem 0',\n\t\t\t\t\t\t\twidth: '90%',\n\t\t\t\t\t\t\tbackgroundColor: '#272727',\n\t\t\t\t\t\t\tcolor: '#16e998',\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tonClick={this.loadMore}\n\t\t\t\t\t>\n\t\t\t\t\t\tload more\n\t\t\t\t\t</button>\n\t\t\t\t</li>\n\t\t\t);\n\t\t}\n\t};\n\n\trender() {\n\t\treturn (\n\t\t\t<ul id='node-info-list' className='association-list'>\n\t\t\t\t{this.renderAssociationLinkList()}\n\t\t\t\t{this.renderLoadMoreButton()}\n\t\t\t</ul>\n\t\t);\n\t}\n}\n\nconst mapStateToProps = (state) => {\n\treturn {\n\t\tassociations: state.associations.associationLinkList,\n\t\tpage: state.associations.associationLinkListPage,\n\t\ttotalItems: state.associations.totalLinkListItems,\n\t\tisFetching: state.associations.isFetching,\n\t\tactiveNode: state.nodes.activeNode,\n\t};\n};\n\nexport default connect(mapStateToProps, {\n\tfetchAssociationLinkList,\n})(AssociationLinkList);\n","import React, { Component } from 'react';\n// import { Link } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport { Drawer, AutoComplete, Tooltip } from 'antd';\nimport {\n\tsignOut,\n\thideComponent,\n\tcreateAssociation,\n\tfetchAssociationLinkList,\n\tassociationAutocomplete,\n} from '../../../api/redux/actions';\n// custom code\nimport AssociationLinkList from './AssociationLinkList';\n// destructure antd\nconst { Option } = AutoComplete;\n\nclass AssociationSider extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\tautocompleteOptions: null,\n\t\t\tautocompleteValues: null,\n\t\t\tinputText: '',\n\t\t};\n\t}\n\n\tcreateAssociationHandler = async (input) => {\n\t\t// get the uuid of the node to be associated\n\t\tconst nodeToAssociate = [];\n\t\tvar siderNode = this.props.associationSiderData.content;\n\t\tthis.state.autocompleteValues.forEach((node) => {\n\t\t\tif (node.uuid === input) {\n\t\t\t\tnodeToAssociate.push(node.uuid);\n\t\t\t}\n\t\t});\n\t\tconst nodeUUIDToAssociate = nodeToAssociate[0];\n\t\t// get this node uuid\n\t\tconst nodeUUID = siderNode.uuid;\n\t\t// associate the nodes\n\t\tawait this.props.createAssociation(nodeUUID, nodeUUIDToAssociate);\n\t\tthis.setState({ autocompleteOptions: [], autocompleteValues: null, inputText: '' });\n\t\t// re-render the autocomplete values so more can be added\n\t\tthis.renderAutocompleteValues('');\n\t};\n\n\trenderAutocompleteValues = async (input) => {\n\t\tvar siderNode = this.props.associationSiderData.content;\n\t\tthis.setState({ inputText: input });\n\t\tconst result = await this.props.associationAutocomplete({\n\t\t\tsearchQuery: input || '',\n\t\t\tuuid: siderNode.uuid,\n\t\t});\n\t\tif (result) {\n\t\t\tthis.setState({\n\t\t\t\tautocompleteValues: result.map((node) => {\n\t\t\t\t\treturn node;\n\t\t\t\t}),\n\t\t\t});\n\n\t\t\tconst newValues = result.map((node) => {\n\t\t\t\t// return the options objects\n\t\t\t\treturn (\n\t\t\t\t\t<Option key={node.uuid}>\n\t\t\t\t\t\t<Tooltip title={node.name} mouseEnterDelay={0.7} placement={'left'}>\n\t\t\t\t\t\t\t{node.name}\n\t\t\t\t\t\t</Tooltip>\n\t\t\t\t\t</Option>\n\t\t\t\t);\n\t\t\t});\n\t\t\tthis.setState({ autocompleteOptions: newValues });\n\t\t}\n\t};\n\n\thideInfoSider = () => {\n\t\t// reset state when the sider is hidden\n\t\tthis.setState({ autocompleteOptions: null, autocompleteValues: null, inputText: '' });\n\t\t// hide association sider component\n\t\tthis.props.hideComponent('associationSider');\n\t};\n\n\trenderContent = () => {\n\t\tif (this.props.associationSiderData) {\n\t\t\tvar siderNode = this.props.associationSiderData.content;\n\t\t\treturn (\n\t\t\t\t<div className='node-info-sider-container' style={{ textAlign: 'center' }}>\n\t\t\t\t\t<Drawer\n\t\t\t\t\t\tclassName='node-info-sider'\n\t\t\t\t\t\tplacement='right'\n\t\t\t\t\t\tclosable={false}\n\t\t\t\t\t\ttitle={siderNode.name}\n\t\t\t\t\t\tonClose={() => {\n\t\t\t\t\t\t\tthis.hideInfoSider();\n\t\t\t\t\t\t\t// temporary fix to remove overflow property being set on body by antd\n\t\t\t\t\t\t\tdocument.documentElement.style.cssText = '';\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tvisible={this.props.associationSiderData.visible}\n\t\t\t\t\t>\n\t\t\t\t\t\t{/*  <Link className='node-info-sider-header' to={`/associations/${siderNode.uuid}`}>\n              {siderNode.name}\n            </Link>\n            <p style={{ color: 'white' }}>{siderNode.preview}</p> */}\n\t\t\t\t\t\t<AutoComplete\n\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\twidth: 200,\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\tplaceholder='link'\n\t\t\t\t\t\t\tvalue={this.state.inputText}\n\t\t\t\t\t\t\tonSearch={(value) => this.renderAutocompleteValues(value)}\n\t\t\t\t\t\t\tonFocus={(value) => this.renderAutocompleteValues(value)}\n\t\t\t\t\t\t\tonSelect={(value) => this.createAssociationHandler(value)}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{this.state.autocompleteOptions}\n\t\t\t\t\t\t</AutoComplete>\n\t\t\t\t\t\t<br />\n\t\t\t\t\t\t<AssociationLinkList nodeUUID={siderNode.uuid} />\n\t\t\t\t\t</Drawer>\n\t\t\t\t</div>\n\t\t\t);\n\t\t}\n\t};\n\n\trender() {\n\t\treturn <div>{this.renderContent()}</div>;\n\t}\n}\n\nconst mapStateToProps = (state) => {\n\treturn {\n\t\tassociationSiderData: state.components.componentList['associationSider'],\n\t\tpage: state.associations.associationLinkListPage,\n\t};\n};\n\nexport default connect(mapStateToProps, {\n\tsignOut,\n\thideComponent,\n\tcreateAssociation,\n\tfetchAssociationLinkList,\n\tassociationAutocomplete,\n})(AssociationSider);\n","import React, { Component, Fragment } from 'react';\nimport { connect } from 'react-redux';\n// custom code\nimport './NodeList.less';\nimport { fetchNodes } from '../../../api/redux/actions';\nimport NodeCard from './NodeCard';\nimport AssociationSider from '../association/AssociationSider';\n// import NodeCardFull from '../node/NodeCardFull';\n\nclass NodeList extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\ttopOfPage: false,\n\t\t};\n\t}\n\n\tcomponentDidMount() {\n\t\tthis.props.fetchNodes({\n\t\t\t// page: this.props.query.page > 1 ? this.props.query.page - 1 : this.props.query.page,\n\t\t\tpage: 1,\n\t\t\ttype: this.props.query.type,\n\t\t\tsearchQuery: this.props.query.searchQuery,\n\t\t\tsortType: this.props.query.sortType,\n\t\t\tsortOrder: this.props.query.sortOrder,\n\t\t});\n\t\twindow.addEventListener('scroll', this.infiniteScroll);\n\t}\n\n\tcomponentWillUnmount() {\n\t\twindow.removeEventListener('scroll', this.infiniteScroll);\n\t}\n\n\tinfiniteScroll = (e) => {\n\t\tif (this.endReached() && !this.props.isFetching) {\n\t\t\tthis.setState({ topOfPage: false });\n\t\t\t// fetch the next page\n\t\t\tthis.props.fetchNodes({\n\t\t\t\tpage: this.props.query.page + 1,\n\t\t\t\ttype: this.props.query.type,\n\t\t\t\tsearchQuery: this.props.query.searchQuery,\n\t\t\t\tsortType: this.props.query.sortType,\n\t\t\t\tsortOrder: this.props.query.sortOrder,\n\t\t\t});\n\t\t}\n\t};\n\n\tendReached = () => {\n\t\t// window calculations to tell when the user scrolls to the bottom\n\t\tconst windowHeight =\n\t\t\t'innerHeight' in window ? window.innerHeight : document.documentElement.offsetHeight;\n\t\tconst body = document.body;\n\t\tconst html = document.documentElement;\n\t\tconst docHeight = Math.max(\n\t\t\tbody.scrollHeight,\n\t\t\tbody.offsetHeight,\n\t\t\thtml.clientHeight,\n\t\t\thtml.scrollHeight,\n\t\t\thtml.offsetHeight\n\t\t);\n\t\tconst windowBottom = windowHeight + window.pageYOffset;\n\t\t// check if the top is reached\n\t\tif (window.pageYOffset < 1 && !this.props.isFetching && !this.state.topOfPage) {\n\t\t\tthis.setState({ topOfPage: true });\n\t\t\t// at the top of the page, reset the nodelist\n\t\t\tthis.props.fetchNodes({\n\t\t\t\tpage: 1,\n\t\t\t\ttype: this.props.query.type,\n\t\t\t\tsearchQuery: this.props.query.searchQuery,\n\t\t\t\tsortType: this.props.query.sortType,\n\t\t\t\tsortOrder: this.props.query.sortOrder,\n\t\t\t});\n\t\t}\n\t\t// if it's not the top of the page go ahead and fetch more\n\t\t// return windowBottom >= docHeight - 733;\n\t\treturn windowBottom >= docHeight - 1000;\n\t};\n\n\trenderNodeList = () => {\n\t\t// go through the list of nodes and render them to the page\n\t\tconst nodeList = this.props.nodes;\n\t\t// if there are nodes go ahead and render\n\t\tif (nodeList !== null && nodeList.length > 0) {\n\t\t\treturn nodeList.map((node) => {\n\t\t\t\tif (node.uuid) {\n\t\t\t\t\t// return <NodeCardFull key={node.uuid} node={node} />\n\t\t\t\t\treturn <NodeCard key={node.uuid} node={node} />;\n\t\t\t\t} else {\n\t\t\t\t\treturn <Fragment></Fragment>;\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t\t// adding a bit of a fallback search. more to come on this probably\n\t\telse if (this.props.query.searchQuery && !this.props.isFetching) {\n\t\t\treturn (\n\t\t\t\t<div\n\t\t\t\t\tstyle={{\n\t\t\t\t\t\t// height: '100vh',\n\t\t\t\t\t\tmarginTop: '1rem',\n\t\t\t\t\t\tdisplay: 'flex',\n\t\t\t\t\t\tjustifyContent: 'center',\n\t\t\t\t\t\talignItems: 'top',\n\t\t\t\t\t\tcolor: 'white',\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t<a\n\t\t\t\t\t\ttarget='_blank'\n\t\t\t\t\t\trel='noopener noreferrer'\n\t\t\t\t\t\thref={`https://www.google.com/search?q=${encodeURIComponent(\n\t\t\t\t\t\t\tthis.props.query.searchQuery\n\t\t\t\t\t\t)}`}\n\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\tbackgroundColor: '#272727',\n\t\t\t\t\t\t\tcolor: 'white',\n\t\t\t\t\t\t\tborderRadius: '3px',\n\t\t\t\t\t\t\tpadding: '0.5rem 1rem',\n\t\t\t\t\t\t}}\n\t\t\t\t\t>\n\t\t\t\t\t\tno matches ~ search google instead?\n\t\t\t\t\t</a>\n\t\t\t\t</div>\n\t\t\t);\n\t\t}\n\t};\n\n\trender() {\n\t\treturn (\n\t\t\t<div className='nodelist-container'>\n\t\t\t\t<ul className='nodelist'>{this.renderNodeList()}</ul>\n\t\t\t\t<AssociationSider />\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nconst mapStateToProps = (state) => {\n\treturn {\n\t\tnodes: state.nodes.nodeList,\n\t\tquery: state.nodes.query,\n\t\ttotalNodes: state.nodes.totalItems,\n\t\tisFetching: state.nodes.isFetching,\n\t};\n};\n\nexport default connect(mapStateToProps, { fetchNodes })(NodeList);\n","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { Layout } from 'antd';\n// custom code\nimport MainSider from '../elements/MainSider';\nimport IOBar from '../elements/IOBar';\nimport NodeList from '../elements/node/NodeList';\n\nconst { Content } = Layout;\n\nclass Home extends Component {\n\tcomponentDidMount() {\n\t\tdocument.title = 'home';\n\t\t// temporary fix to undo whatever is setting overflow hidden on-login\n\t\tdocument.body.style.removeProperty('overflow');\n\t\twindow.scrollTo({ top: 0, behavior: 'smooth' });\n\t}\n\n\trenderMainSider = () => {\n\t\tif (this.props.mainSider) {\n\t\t\treturn <MainSider />;\n\t\t}\n\t};\n\n\trender() {\n\t\treturn (\n\t\t\t<Layout className='page-layout'>\n\t\t\t\t<Layout>\n\t\t\t\t\t{this.renderMainSider()}\n\t\t\t\t\t<Content style={{ minHeight: '100vh' }}>\n\t\t\t\t\t\t<IOBar />\n\t\t\t\t\t\t<div className='list-container'>\n\t\t\t\t\t\t\t<NodeList />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</Content>\n\t\t\t\t</Layout>\n\t\t\t</Layout>\n\t\t);\n\t}\n}\n\nconst mapStateToProps = (state) => {\n\treturn {\n\t\tisSignedIn: state.auth.isSignedIn,\n\t\tmainSider: state.components.componentList['mainSider'],\n\t};\n};\n\nexport default connect(mapStateToProps)(Home);\n","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { Layout, message, Modal } from 'antd';\n// custom code\nimport Spinner from '../elements/Spinner';\nimport {\n\tfetchUserByUsername,\n\tshowComponent,\n\thideComponent,\n\tmarkNodeView,\n} from '../../api/redux/actions';\nimport './css/Profile.less';\nimport NodeList from '../elements/node/NodeList';\nimport MainSider from '../elements/MainSider';\nimport IOBar from '../elements/IOBar';\n// import default images\nimport defaultHeader from '../../resources/cloud9.png';\nimport defaultAvatar from '../../resources/synthona-logo.png';\n\nconst { Content } = Layout;\n\nclass Profile extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\tinitialized: false,\n\t\t\tusername: '',\n\t\t\tdisplayName: '',\n\t\t\tbio: '',\n\t\t\tavatar: null,\n\t\t\theader: null,\n\t\t\tavatarModal: false,\n\t\t};\n\t}\n\n\tcomponentDidMount() {\n\t\tdocument.title = this.props.match.params.username;\n\t\tthis.initializeFromUrlParams();\n\t}\n\n\tcomponentDidUpdate() {\n\t\tdocument.body.style.removeProperty('overflow');\n\t\tif (this.state.username !== this.props.match.params.username) {\n\t\t\tdocument.title = this.props.match.params.username;\n\t\t\tthis.initializeFromUrlParams();\n\t\t}\n\t}\n\n\tcomponentWillUnmount() {\n\t\tthis.props.hideComponent('mainSider');\n\t}\n\n\ttoggleAvatarModal = () => {\n\t\tif (this.state.avatarModal === false) {\n\t\t\tthis.setState({ avatarModal: true });\n\t\t} else {\n\t\t\tthis.setState({ avatarModal: false });\n\t\t}\n\t};\n\n\trenderMainSider = () => {\n\t\tif (this.props.mainSider) {\n\t\t\treturn <MainSider />;\n\t\t}\n\t};\n\n\t// load the text node and set the local id state.\n\tinitializeFromUrlParams = async () => {\n\t\t// fetch the user info from the server\n\t\tconst user = await this.props.fetchUserByUsername(this.props.match.params.username);\n\t\tif (user) {\n\t\t\tthis.setState({\n\t\t\t\tinitialized: true,\n\t\t\t\tusername: user.username,\n\t\t\t\tdisplayName: user.displayName,\n\t\t\t\tbio: user.bio,\n\t\t\t\tavatar: user.avatar,\n\t\t\t\theader: user.header,\n\t\t\t});\n\t\t\t// mark the profile as viewed\n\t\t\tthis.props.markNodeView({ uuid: user.nodeId });\n\t\t\t// set the page title\n\t\t\tdocument.title = user.displayName;\n\t\t} else {\n\t\t\tmessage.error('there was a problem loading the user');\n\t\t\tthis.props.history.push('/');\n\t\t}\n\t};\n\n\trender() {\n\t\tif (!this.state.initialized) {\n\t\t\treturn (\n\t\t\t\t<Layout className='page-layout'>\n\t\t\t\t\t<Layout>\n\t\t\t\t\t\t<Layout>\n\t\t\t\t\t\t\t<Spinner />\n\t\t\t\t\t\t</Layout>\n\t\t\t\t\t</Layout>\n\t\t\t\t</Layout>\n\t\t\t);\n\t\t}\n\n\t\treturn (\n\t\t\t<div className='profile-container'>\n\t\t\t\t{/*  <MainSider showMask={false} animate={false} />*/}\n\t\t\t\t{this.renderMainSider()}\n\t\t\t\t<Layout>\n\t\t\t\t\t<Content style={{ marginBottom: '0' }} className='Profile'>\n\t\t\t\t\t\t<IOBar />\n\t\t\t\t\t\t<div className='profile-card'>\n\t\t\t\t\t\t\t<button href={`/profile/${this.state.username}`}>\n\t\t\t\t\t\t\t\t<div className='Profile-header'>\n\t\t\t\t\t\t\t\t\t<img src={this.state.header || defaultHeader} alt='example' draggable='false' />\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t{/* <button href={`/profile/${this.state.username}`}> */}\n\t\t\t\t\t\t\t<div className='Profile-avatar'>\n\t\t\t\t\t\t\t\t<img\n\t\t\t\t\t\t\t\t\tsrc={this.state.avatar || defaultAvatar}\n\t\t\t\t\t\t\t\t\talt={'profile'}\n\t\t\t\t\t\t\t\t\tdraggable='false'\n\t\t\t\t\t\t\t\t\tonClick={this.toggleAvatarModal}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t{/* </button> */}\n\t\t\t\t\t\t\t<div className='Profile-info'>\n\t\t\t\t\t\t\t\t<h2 className='Profile-displayName'>\n\t\t\t\t\t\t\t\t\t{this.state.displayName}\n\t\t\t\t\t\t\t\t\t<div className='verified-sign-container'>\n\t\t\t\t\t\t\t\t\t\t<svg\n\t\t\t\t\t\t\t\t\t\t\tviewBox='0 0 24 24'\n\t\t\t\t\t\t\t\t\t\t\taria-label='Verified account'\n\t\t\t\t\t\t\t\t\t\t\tclassName='verified-sign'\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t<g>\n\t\t\t\t\t\t\t\t\t\t\t\t<path d='M22.5 12.5c0-1.58-.875-2.95-2.148-3.6.154-.435.238-.905.238-1.4 0-2.21-1.71-3.998-3.818-3.998-.47 0-.92.084-1.336.25C14.818 2.415 13.51 1.5 12 1.5s-2.816.917-3.437 2.25c-.415-.165-.866-.25-1.336-.25-2.11 0-3.818 1.79-3.818 4 0 .494.083.964.237 1.4-1.272.65-2.147 2.018-2.147 3.6 0 1.495.782 2.798 1.942 3.486-.02.17-.032.34-.032.514 0 2.21 1.708 4 3.818 4 .47 0 .92-.086 1.335-.25.62 1.334 1.926 2.25 3.437 2.25 1.512 0 2.818-.916 3.437-2.25.415.163.865.248 1.336.248 2.11 0 3.818-1.79 3.818-4 0-.174-.012-.344-.033-.513 1.158-.687 1.943-1.99 1.943-3.484zm-6.616-3.334l-4.334 6.5c-.145.217-.382.334-.625.334-.143 0-.288-.04-.416-.126l-.115-.094-2.415-2.415c-.293-.293-.293-.768 0-1.06s.768-.294 1.06 0l1.77 1.767 3.825-5.74c.23-.345.696-.436 1.04-.207.346.23.44.696.21 1.04z'></path>\n\t\t\t\t\t\t\t\t\t\t\t</g>\n\t\t\t\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</h2>\n\t\t\t\t\t\t\t\t<i className='Profile-username'>{`@${this.state.username}`}</i>\n\t\t\t\t\t\t\t\t<p className='Profile-bio'>{this.state.bio}</p>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<Modal\n\t\t\t\t\t\t\ttitle={this.state.displayName}\n\t\t\t\t\t\t\tvisible={this.state.avatarModal}\n\t\t\t\t\t\t\tclassName='profile-modal'\n\t\t\t\t\t\t\tcentered\n\t\t\t\t\t\t\tonCancel={this.toggleAvatarModal}\n\t\t\t\t\t\t\tclosable={false}\n\t\t\t\t\t\t\tfooter={null}\n\t\t\t\t\t\t\tafterClose={() => {\n\t\t\t\t\t\t\t\t// temporary fix to remove overflow property being set on body by antd\n\t\t\t\t\t\t\t\tdocument.body.style.removeProperty('overflow');\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<img src={this.state.avatar || defaultAvatar} alt={'avatar'}></img>\n\t\t\t\t\t\t</Modal>\n\t\t\t\t\t\t<NodeList />\n\t\t\t\t\t</Content>\n\t\t\t\t</Layout>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nconst mapStateToProps = (state) => {\n\treturn { user: state.auth.user, mainSider: state.components.componentList['mainSider'] };\n};\n\nexport default connect(mapStateToProps, {\n\tfetchUserByUsername,\n\tshowComponent,\n\thideComponent,\n\tmarkNodeView,\n})(Profile);\n","import React from 'react';\nimport { Switch } from 'antd';\n//custom components\n// import NodeRenderer from '../../../types/render/NodeRenderer';\n\nconst OptionListItem = (props) => {\n\t// render the input type for each value\n\tconst renderInputType = () => {\n\t\tswitch (props.type) {\n\t\t\tcase 'string':\n\t\t\t\treturn (\n\t\t\t\t\t<input\n\t\t\t\t\t\ttype='text'\n\t\t\t\t\t\tdefaultValue={props.value}\n\t\t\t\t\t\tstyle={{ float: 'right', margin: 0, padding: 0 }}\n\t\t\t\t\t\tonBlur={() => {\n\t\t\t\t\t\t\tprops.onChange(props.keyName, props.value);\n\t\t\t\t\t\t}}\n\t\t\t\t\t></input>\n\t\t\t\t);\n\t\t\tcase 'boolean':\n\t\t\t\treturn (\n\t\t\t\t\t// <div style={{ float: 'right', margin: 0, padding: 0 }}>{props.value.toString()}</div>\n\t\t\t\t\t<Switch\n\t\t\t\t\t\tchecked={props.value}\n\t\t\t\t\t\tcheckedChildren=''\n\t\t\t\t\t\tunCheckedChildren=''\n\t\t\t\t\t\tstyle={{ float: 'right', margin: 0, padding: 0 }}\n\t\t\t\t\t\tonBlur={(e) => {\n\t\t\t\t\t\t\tprops.onChange(props.keyName, !props.value);\n\t\t\t\t\t\t}}\n\t\t\t\t\t/>\n\t\t\t\t);\n\t\t\tcase 'number':\n\t\t\t\treturn (\n\t\t\t\t\t<input\n\t\t\t\t\t\ttype='text'\n\t\t\t\t\t\tdefaultValue={props.value.toString()}\n\t\t\t\t\t\tstyle={{ float: 'right', margin: 0, padding: 0 }}\n\t\t\t\t\t\tonBlur={(e) => {\n\t\t\t\t\t\t\tprops.onChange(props.keyName, parseInt(e.target.value));\n\t\t\t\t\t\t}}\n\t\t\t\t\t></input>\n\t\t\t\t);\n\t\t\tcase 'dropdown':\n\t\t\t\t// build options list for select dropdown\n\t\t\t\tlet options = props.optionObject.options.map((item) => {\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<option value={item} key={item}>\n\t\t\t\t\t\t\t{item}\n\t\t\t\t\t\t</option>\n\t\t\t\t\t);\n\t\t\t\t});\n\t\t\t\t// return the select dropdown\n\t\t\t\treturn (\n\t\t\t\t\t<select\n\t\t\t\t\t\tname={props.keyName}\n\t\t\t\t\t\tid={props.keyName}\n\t\t\t\t\t\tdefaultValue={props.value}\n\t\t\t\t\t\tstyle={{ float: 'right', margin: 0, padding: 0 }}\n\t\t\t\t\t\tonChange={(e) => {\n\t\t\t\t\t\t\tprops.onChange(props.keyName, e.target.value);\n\t\t\t\t\t\t}}\n\t\t\t\t\t>\n\t\t\t\t\t\t{options}\n\t\t\t\t\t</select>\n\t\t\t\t);\n\t\t\tdefault:\n\t\t\t\treturn;\n\t\t}\n\t};\n\n\t// render the option item\n\tconst renderOptionItem = () => {\n\t\treturn (\n\t\t\t<li\n\t\t\t\tstyle={{\n\t\t\t\t\tcolor: 'black',\n\t\t\t\t\twidth: '100%',\n\t\t\t\t\tbackgroundColor: 'white',\n\t\t\t\t\tpadding: '0.7rem 1.7rem',\n\t\t\t\t\tmargin: 0,\n\t\t\t\t\tborderBottom: '1px solid grey',\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t<div style={{ float: 'left', margin: 0, padding: 0 }}>{props.name}</div>\n\t\t\t\t{renderInputType()}\n\t\t\t</li>\n\t\t);\n\t};\n\n\treturn <div>{renderOptionItem()}</div>;\n};\n\nexport default OptionListItem;\n","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\n// custom code\nimport { fetchNodes, loadTheme } from '../../../api/redux/actions';\nimport OptionListItem from './OptionListItem';\nimport { isElectron } from '../../../utils/environment';\nimport { Modal } from 'antd';\nimport { backendConfigMap, backendConfigFilter, loadClientConfig } from '../../../utils/config.js';\n\nclass OptionsList extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\ttopOfPage: false,\n\t\t\tbackendConfig: null,\n\t\t\tclientConfig: null,\n\t\t\tshowRestartModal: false,\n\t\t};\n\t}\n\n\t// if this is the host device (is-electron) we'll get the backend config & client config\n\t// otherwise we'll only load the client config. if there's no client config in localstorage\n\t// we need to generate it with default values to make it available\n\tloadOptions = () => {\n\t\tlet clientConfigValues = loadClientConfig();\n\t\tthis.setState({ clientConfig: clientConfigValues });\n\t\tif (isElectron) {\n\t\t\t// load backend config\n\t\t\tthis.setState({\n\t\t\t\tbackendConfig: isElectron ? JSON.parse(localStorage.getItem('backend-config')) : null,\n\t\t\t});\n\t\t}\n\t};\n\n\tcomponentDidMount() {\n\t\t// reload backend config\n\t\tif (window.api) {\n\t\t\twindow.api.send('toMain', { action: 'get-backend-config' });\n\t\t}\n\t\t// load everything else\n\t\tthis.loadOptions();\n\t}\n\n\t// a function to update the config values to be passed into each\n\tupdateClientConfigValue = (keyName, newValue) => {\n\t\tlet existingClientConfig = this.state.clientConfig;\n\t\t// loop through existing config to update it\n\t\tlet newConfig = existingClientConfig.map((item) => {\n\t\t\t// when we find our value lets update it in localstorage and in our live rendered UI config object\n\t\t\tif (keyName === item.storageKey) {\n\t\t\t\t// update the value in this particular config object\n\t\t\t\titem.value = newValue;\n\t\t\t\t// copy it to localstorage as well\n\t\t\t\tlocalStorage.setItem(keyName, JSON.stringify(newValue));\n\t\t\t\tif (keyName === 'theme') {\n\t\t\t\t\t// if we set the theme we should reload it in our redux state\n\t\t\t\t\tthis.props.loadTheme();\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn item;\n\t\t});\n\t\tthis.setState({ clientConfig: newConfig });\n\t};\n\n\t// a function to update the config values to be passed into each\n\tupdateBackendConfigValue = (keyName, newValue) => {\n\t\tlet existingBackendConfig = this.state.backendConfig;\n\t\tlet newConfig = {\n\t\t\t...existingBackendConfig,\n\t\t\t[keyName]: newValue,\n\t\t};\n\t\tthis.setState({ backendConfig: newConfig, showRestartModal: true });\n\t\t// update the values in local storage\n\t\twindow.localStorage.setItem('backend-config', JSON.stringify(newConfig));\n\t\t// we also need to send the updated version to the backend app\n\t\tif (window.api) {\n\t\t\twindow.api.send('toMain', {\n\t\t\t\taction: 'update-backend-config',\n\t\t\t\tupdates: newConfig,\n\t\t\t});\n\t\t}\n\t};\n\n\trestartHandler = () => {\n\t\tif (window.api) {\n\t\t\twindow.api.send('toMain', {\n\t\t\t\taction: 'restart-app',\n\t\t\t});\n\t\t}\n\t};\n\n\trenderOptionsList = () => {\n\t\tif (this.state.clientConfig) {\n\t\t\t// prepare the options lists\n\t\t\tlet configList = [];\n\t\t\tlet backendConfig = this.state.backendConfig;\n\t\t\tlet clientConfig = this.state.clientConfig;\n\t\t\t// let's go ahead and load all this up\n\t\t\tif (!!backendConfig) {\n\t\t\t\t// load backend config values\n\t\t\t\tfor (var backendKey in backendConfig) {\n\t\t\t\t\tif (!backendConfigFilter.includes(backendKey)) {\n\t\t\t\t\t\tconfigList.push(\n\t\t\t\t\t\t\t<OptionListItem\n\t\t\t\t\t\t\t\tkey={backendConfigMap[backendKey].name}\n\t\t\t\t\t\t\t\tkeyName={backendKey}\n\t\t\t\t\t\t\t\ttype={backendConfigMap[backendKey].type}\n\t\t\t\t\t\t\t\tname={backendConfigMap[backendKey].name}\n\t\t\t\t\t\t\t\tvalue={backendConfig[backendKey]}\n\t\t\t\t\t\t\t\tonChange={this.updateBackendConfigValue}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\t// add client config values\n\t\t\tfor (var clientKey in clientConfig) {\n\t\t\t\tif (clientKey !== 'CONFIG_VERSION') {\n\t\t\t\t\tconfigList.push(\n\t\t\t\t\t\t<OptionListItem\n\t\t\t\t\t\t\tkey={clientConfig[clientKey].name}\n\t\t\t\t\t\t\tkeyName={clientConfig[clientKey].storageKey}\n\t\t\t\t\t\t\tname={clientConfig[clientKey].name}\n\t\t\t\t\t\t\tvalue={clientConfig[clientKey].value}\n\t\t\t\t\t\t\ttype={clientConfig[clientKey].type}\n\t\t\t\t\t\t\toptionObject={clientConfig[clientKey]}\n\t\t\t\t\t\t\tonChange={this.updateClientConfigValue}\n\t\t\t\t\t\t/>\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn configList;\n\t\t}\n\t};\n\n\trender() {\n\t\treturn (\n\t\t\t<div className='options-list-container'>\n\t\t\t\t<ul className='options-list' style={{ padding: 0, margin: 0 }}>\n\t\t\t\t\t{this.renderOptionsList()}\n\t\t\t\t</ul>\n\t\t\t\t<Modal\n\t\t\t\t\ttitle='Restart Required'\n\t\t\t\t\tvisible={this.state.showRestartModal}\n\t\t\t\t\tclassName='delete-modal'\n\t\t\t\t\tcentered\n\t\t\t\t\tonOk={this.restartHandler}\n\t\t\t\t\tafterClose={() => document.body.style.removeProperty('overflow')}\n\t\t\t\t\tokType='danger'\n\t\t\t\t\tokText='Restart'\n\t\t\t\t\tcancelText='Wait'\n\t\t\t\t\tclosable={false}\n\t\t\t\t\tonCancel={() => this.setState({ showRestartModal: false })}\n\t\t\t\t>\n\t\t\t\t\t<p>\n\t\t\t\t\t\tThis configuration change requires an app restart to take effect, do you want to restart\n\t\t\t\t\t\tnow or wait?\n\t\t\t\t\t</p>\n\t\t\t\t</Modal>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nconst mapStateToProps = (state) => {\n\treturn {\n\t\tquery: state.nodes.query,\n\t\ttotalNodes: state.nodes.totalItems,\n\t\tisFetching: state.nodes.isFetching,\n\t};\n};\n\nexport default connect(mapStateToProps, { fetchNodes, loadTheme })(OptionsList);\n","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { Layout, message, Icon, Button, Modal } from 'antd';\nimport { Formik, Form, Field, ErrorMessage } from 'formik';\nimport * as Yup from 'yup';\n// custom code\nimport {\n\tfetchUserByUsername,\n\tupdateUserInfo,\n\tupdateUserAvatar,\n\tupdateUserHeader,\n\tupdateUsername,\n\tupdateEmail,\n\tchangePassword,\n\tclearAllNodes,\n\tshowComponent,\n\tgenerateInstanceExport,\n\t// regenerateCollectionPreviews,\n\thideComponent,\n} from '../../api/redux/actions';\nimport './css/Options.less';\n// import IOBar from '../elements/IOBar';\n// import NodeList from '../elements/node/NodeList';\nimport OptionsList from '../elements/options/OptionsList';\nimport MainSider from '../elements/MainSider';\nimport IOBar from '../elements/IOBar';\n// import default images\nimport defaultHeader from '../../resources/cloud9.png';\nimport defaultAvatar from '../../resources/synthona-logo.png';\n\nconst { Content } = Layout;\n\nclass Options extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\tshowPasswordModal: false,\n\t\t\tshowDeleteNodesModal: false,\n\t\t\tshowExportModal: false,\n\t\t\tinitialized: false,\n\t\t\tusername: '',\n\t\t\temail: '',\n\t\t\tdisplayName: '',\n\t\t\tbio: '',\n\t\t\tavatar: null,\n\t\t\theader: null,\n\t\t};\n\t}\n\n\tcomponentDidMount() {\n\t\tdocument.title = `Edit Profile`;\n\t\t// temporary fix to undo whatever is setting overflow hidden on-login\n\t\tdocument.body.style.removeProperty('overflow');\n\t\tthis.initializeFromUrlParams();\n\t}\n\n\tupdatePassword = (values, { setSubmitting }) => {\n\t\tthis.togglePasswordModal();\n\t\tsetSubmitting(false);\n\t\tthis.props.changePassword(values);\n\t};\n\n\thandleClearNodes = (values, { setSubmitting }) => {\n\t\tthis.toggleDeleteNodesModal();\n\t\tsetSubmitting(false);\n\t\tthis.props.clearAllNodes(values);\n\t};\n\n\t// show modal to confirm deletion\n\ttogglePasswordModal = () => {\n\t\tif (this.state.showPasswordModal) {\n\t\t\tthis.setState({ showPasswordModal: false });\n\t\t} else {\n\t\t\tthis.setState({ showPasswordModal: true });\n\t\t}\n\t};\n\n\t// show modal to confirm deletion\n\ttoggleDeleteNodesModal = () => {\n\t\tif (this.state.showDeleteNodesModal) {\n\t\t\tthis.setState({ showDeleteNodesModal: false });\n\t\t} else {\n\t\t\tthis.setState({ showDeleteNodesModal: true });\n\t\t}\n\t};\n\n\t// show confirm export modal\n\ttoggleExportModal = () => {\n\t\tif (this.state.showExportModal) {\n\t\t\tthis.setState({ showExportModal: false });\n\t\t} else {\n\t\t\tthis.setState({ showExportModal: true });\n\t\t}\n\t};\n\n\t// delete the node\n\texportHandler = async () => {\n\t\tthis.setState({ showExportModal: false });\n\t\tawait this.props.generateInstanceExport();\n\t};\n\n\tpasswordModal = () => {\n\t\treturn (\n\t\t\t<Formik\n\t\t\t\tinitialValues={{ oldPassword: '', newPassword: '', confirmNewPassword: '' }}\n\t\t\t\tvalidationSchema={validationSchema}\n\t\t\t\tonSubmit={this.updatePassword}\n\t\t\t\tstyle={{ display: 'inline-block' }}\n\t\t\t>\n\t\t\t\t{({ isSubmitting }) => (\n\t\t\t\t\t<Form className='password-modal-form'>\n\t\t\t\t\t\t<Field\n\t\t\t\t\t\t\ttype='password'\n\t\t\t\t\t\t\tname='oldPassword'\n\t\t\t\t\t\t\tplaceholder='old password'\n\t\t\t\t\t\t\tclassName='password-modal-field'\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<ErrorMessage name='oldPassword' component='div' />\n\t\t\t\t\t\t<Field\n\t\t\t\t\t\t\ttype='password'\n\t\t\t\t\t\t\tname='newPassword'\n\t\t\t\t\t\t\tplaceholder='new password'\n\t\t\t\t\t\t\tclassName='password-modal-field'\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<ErrorMessage name='newPassword' component='div' />\n\t\t\t\t\t\t<Field\n\t\t\t\t\t\t\ttype='password'\n\t\t\t\t\t\t\tname='confirmNewPassword'\n\t\t\t\t\t\t\tplaceholder='confirm new password'\n\t\t\t\t\t\t\tclassName='password-modal-field'\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<ErrorMessage name='confirmNewPassword' component='div' />\n\t\t\t\t\t\t<button type='submit' disabled={isSubmitting}>\n\t\t\t\t\t\t\tchange password\n\t\t\t\t\t\t</button>\n\t\t\t\t\t</Form>\n\t\t\t\t)}\n\t\t\t</Formik>\n\t\t);\n\t};\n\n\tdeleteAllNodesModal = () => {\n\t\treturn (\n\t\t\t<Formik\n\t\t\t\tinitialValues={{ passwordValue: '', confirmPassword: '' }}\n\t\t\t\tvalidationSchema={deleteNodesValidation}\n\t\t\t\tonSubmit={this.handleClearNodes}\n\t\t\t\tstyle={{ display: 'inline-block' }}\n\t\t\t>\n\t\t\t\t{({ isSubmitting }) => (\n\t\t\t\t\t<Form className='password-modal-form'>\n\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\tAre you are you want to delete all nodes and associations for this user? This action\n\t\t\t\t\t\t\tis not reversible, it's recommended that u make a backup first.\n\t\t\t\t\t\t</p>\n\t\t\t\t\t\t<Field\n\t\t\t\t\t\t\ttype='password'\n\t\t\t\t\t\t\tname='passwordValue'\n\t\t\t\t\t\t\tplaceholder='password'\n\t\t\t\t\t\t\tclassName='password-modal-field'\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<ErrorMessage name='passwordValue' component='div' />\n\t\t\t\t\t\t<Field\n\t\t\t\t\t\t\ttype='password'\n\t\t\t\t\t\t\tname='confirmPassword'\n\t\t\t\t\t\t\tplaceholder='confirm password'\n\t\t\t\t\t\t\tclassName='password-modal-field'\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<ErrorMessage name='confirmPassword' component='div' />\n\t\t\t\t\t\t<button\n\t\t\t\t\t\t\ttype='danger'\n\t\t\t\t\t\t\tdisabled={isSubmitting}\n\t\t\t\t\t\t\tstyle={{ color: 'white', backgroundColor: 'red' }}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\tyes, i want to delete all my data\n\t\t\t\t\t\t</button>\n\t\t\t\t\t</Form>\n\t\t\t\t)}\n\t\t\t</Formik>\n\t\t);\n\t};\n\n\t// load the profile\n\tinitializeFromUrlParams = async () => {\n\t\t// fetch the user info from the server\n\t\tconst user = await this.props.fetchUserByUsername(this.props.user.username);\n\t\tif (user && !this.state.initialized) {\n\t\t\tthis.setState({\n\t\t\t\tinitialized: true,\n\t\t\t\tusername: user.username,\n\t\t\t\temail: this.props.user.email,\n\t\t\t\tdisplayName: user.displayName,\n\t\t\t\tbio: user.bio,\n\t\t\t\tavatar: user.avatar,\n\t\t\t\theader: user.header,\n\t\t\t});\n\t\t} else {\n\t\t\tmessage.error('there was a problem loading your profile');\n\t\t\tthis.props.history.push('/');\n\t\t}\n\t};\n\n\t// select an image.\n\tsetAvatar = () => {\n\t\tconst input = document.createElement('input');\n\t\tinput.setAttribute('type', 'file');\n\t\tinput.click();\n\t\t// Listen for uploading local image, then save to server\n\t\tinput.onchange = async () => {\n\t\t\tconst file = input.files[0];\n\t\t\t// make sure file is an image\n\t\t\tif (/^image\\//.test(file.type)) {\n\t\t\t\t// save the image to the server\n\t\t\t\tconst url = await this.props.updateUserAvatar(file);\n\t\t\t\tthis.setState({ avatar: url });\n\t\t\t} else {\n\t\t\t\tmessage.error('The file must be an image', 1);\n\t\t\t}\n\t\t};\n\t};\n\n\tsetHeader = () => {\n\t\tconst input = document.createElement('input');\n\t\tinput.setAttribute('type', 'file');\n\t\tinput.click();\n\t\t// Listen for uploading local image, then save to server\n\t\tinput.onchange = async () => {\n\t\t\tconst file = input.files[0];\n\t\t\t// make sure file is an image\n\t\t\tif (/^image\\//.test(file.type)) {\n\t\t\t\t// save the image to the server\n\t\t\t\tconst url = await this.props.updateUserHeader(file);\n\t\t\t\tthis.setState({ header: url });\n\t\t\t} else {\n\t\t\t\tmessage.error('The file must be an image', 1);\n\t\t\t}\n\t\t};\n\t};\n\n\t// render display name\n\trenderDisplayName = () => {\n\t\treturn (\n\t\t\t<input\n\t\t\t\ttype='text'\n\t\t\t\tclassName='Options-display-name'\n\t\t\t\tplaceholder='Display Name'\n\t\t\t\tvalue={this.state.displayName}\n\t\t\t\tonChange={(e) => this.saveDisplayName(e.target.value)}\n\t\t\t></input>\n\t\t);\n\t};\n\n\t// update and save the displayName\n\tsaveDisplayName = (displayName) => {\n\t\tif (this.state.displayName !== displayName) {\n\t\t\tthis.props.updateUserInfo({\n\t\t\t\tusername: this.props.user.username,\n\t\t\t\tdisplayName: displayName,\n\t\t\t});\n\t\t\tlocalStorage.setItem('displayName', displayName);\n\t\t\tdocument.title = displayName;\n\t\t\tthis.setState({ displayName });\n\t\t}\n\t};\n\n\t// render the profile bio\n\trenderBio = () => {\n\t\treturn (\n\t\t\t<textarea\n\t\t\t\ttype='text'\n\t\t\t\tclassName='Options-bio'\n\t\t\t\tplaceholder='Bio'\n\t\t\t\tvalue={this.state.bio}\n\t\t\t\tonChange={(e) => this.saveBio(e.target.value)}\n\t\t\t></textarea>\n\t\t);\n\t};\n\n\t// update and save the bio\n\tsaveBio = (bio) => {\n\t\tif (this.state.bio !== bio) {\n\t\t\tthis.props.updateUserInfo({\n\t\t\t\tusername: this.props.user.username,\n\t\t\t\tbio: bio,\n\t\t\t});\n\t\t\tthis.setState({ bio });\n\t\t}\n\t};\n\n\t// render the profile username\n\trenderUsername = () => {\n\t\treturn (\n\t\t\t<input\n\t\t\t\ttype='text'\n\t\t\t\tclassName='Options-standard-input'\n\t\t\t\tplaceholder='username'\n\t\t\t\tvalue={this.state.username}\n\t\t\t\tonChange={(e) => this.saveUsername(e.target.value)}\n\t\t\t></input>\n\t\t);\n\t};\n\n\t// update and save the username\n\tsaveUsername = (username) => {\n\t\tif (this.state.username !== username) {\n\t\t\tthis.props.updateUsername(username);\n\t\t\tthis.setState({ username });\n\t\t}\n\t};\n\n\t// render the profile email\n\trenderEmail = () => {\n\t\treturn (\n\t\t\t<input\n\t\t\t\ttype='text'\n\t\t\t\tclassName='Options-standard-input'\n\t\t\t\tplaceholder='email'\n\t\t\t\tvalue={this.state.email}\n\t\t\t\tonChange={(e) => this.saveEmail(e.target.value)}\n\t\t\t></input>\n\t\t);\n\t};\n\n\t// update and save the email\n\tsaveEmail = (email) => {\n\t\tif (this.state.email !== email) {\n\t\t\tthis.props.updateEmail(email);\n\t\t\tthis.setState({ email });\n\t\t}\n\t};\n\n\trenderMainSider = () => {\n\t\tif (this.props.mainSider) {\n\t\t\treturn <MainSider />;\n\t\t}\n\t};\n\n\tcomponentWillUnmount() {\n\t\t// remove any selections on exit\n\t\twindow.getSelection().removeAllRanges();\n\t\t// hide mainsider again\n\t\tthis.props.hideComponent('mainSider');\n\t}\n\n\trender() {\n\t\treturn (\n\t\t\t<Layout className='Options-container'>\n\t\t\t\t{/* \t<MainSider showMask={false} animate={false} />*/}\n\t\t\t\t{this.renderMainSider()}\n\t\t\t\t<Layout>\n\t\t\t\t\t<Content className='Options'>\n\t\t\t\t\t\t<IOBar />\n\t\t\t\t\t\t<div className='Options-card'>\n\t\t\t\t\t\t\t<button onClick={this.setHeader}>\n\t\t\t\t\t\t\t\t<div className='Options-header'>\n\t\t\t\t\t\t\t\t\t<Icon type='camera' className='Options-header-edit-icon' />\n\t\t\t\t\t\t\t\t\t<img src={this.state.header || defaultHeader} alt='example' draggable='false' />\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t<button onClick={this.setAvatar}>\n\t\t\t\t\t\t\t\t<div className='Options-avatar'>\n\t\t\t\t\t\t\t\t\t<Icon type='camera' className='Options-avatar-edit-icon' />\n\t\t\t\t\t\t\t\t\t<img src={this.state.avatar || defaultAvatar} alt={'profile'} draggable='false' />\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t<div className='Options-info'>\n\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\ttype='default'\n\t\t\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\t\t\tmargin: '0 0 10px',\n\t\t\t\t\t\t\t\t\t\tbackgroundColor: 'white',\n\t\t\t\t\t\t\t\t\t\twidth: '10rem',\n\t\t\t\t\t\t\t\t\t\tpadding: '0.5rem',\n\t\t\t\t\t\t\t\t\t\tdisplay: 'inline-block',\n\t\t\t\t\t\t\t\t\t\ttextAlign: 'center',\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\tonClick={(e) => {\n\t\t\t\t\t\t\t\t\t\tthis.toggleExportModal();\n\t\t\t\t\t\t\t\t\t\t// this.props.generateInstanceExport();\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\texport all user data\n\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t<br />\n\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\ttype='default'\n\t\t\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\t\t\tmargin: '0 0 10px',\n\t\t\t\t\t\t\t\t\t\tbackgroundColor: 'white',\n\t\t\t\t\t\t\t\t\t\twidth: '10rem',\n\t\t\t\t\t\t\t\t\t\tpadding: '0.5rem',\n\t\t\t\t\t\t\t\t\t\tdisplay: 'inline-block',\n\t\t\t\t\t\t\t\t\t\ttextAlign: 'center',\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\tonClick={(e) => this.togglePasswordModal()}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\tchange password\n\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t{/* <br />\n\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\ttype='default'\n\t\t\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\t\t\tmargin: '0 0 10px',\n\t\t\t\t\t\t\t\t\t\tbackgroundColor: 'white',\n\t\t\t\t\t\t\t\t\t\twidth: '10rem',\n\t\t\t\t\t\t\t\t\t\tpadding: '0.5rem',\n\t\t\t\t\t\t\t\t\t\tdisplay: 'inline-block',\n\t\t\t\t\t\t\t\t\t\ttextAlign: 'center',\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\tonClick={(e) => {\n\t\t\t\t\t\t\t\t\t\twindow.location.replace(`/profile/${this.props.user.username}`);\n\t\t\t\t\t\t\t\t\t\tthis.props.regenerateCollectionPreviews();\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\tregenerate previews\n\t\t\t\t\t\t\t\t</Button> */}\n\t\t\t\t\t\t\t\t<br />\n\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\ttype='danger'\n\t\t\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\t\t\tmargin: '0 0 10px',\n\t\t\t\t\t\t\t\t\t\tbackgroundColor: 'red',\n\t\t\t\t\t\t\t\t\t\twidth: '10rem',\n\t\t\t\t\t\t\t\t\t\tpadding: '0.5rem',\n\t\t\t\t\t\t\t\t\t\tdisplay: 'inline-block',\n\t\t\t\t\t\t\t\t\t\ttextAlign: 'center',\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\tonClick={(e) => this.toggleDeleteNodesModal()}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\tdelete all data\n\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t<br />\n\t\t\t\t\t\t\t\t{this.renderDisplayName()}\n\t\t\t\t\t\t\t\t{this.renderUsername()}\n\t\t\t\t\t\t\t\t{this.renderEmail()}\n\t\t\t\t\t\t\t\t{this.renderBio()}\n\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\ttype='default'\n\t\t\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\t\t\tmargin: '0 0 10px',\n\t\t\t\t\t\t\t\t\t\tbackgroundColor: 'white',\n\t\t\t\t\t\t\t\t\t\twidth: '4rem',\n\t\t\t\t\t\t\t\t\t\tdisplay: 'inline-block',\n\t\t\t\t\t\t\t\t\t\ttextAlign: 'center',\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\tonClick={(e) => this.props.history.push(`/profile/${this.props.user.username}`)}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\tdone\n\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t<Modal\n\t\t\t\t\t\t\t\t\ttitle='change password'\n\t\t\t\t\t\t\t\t\tvisible={this.state.showPasswordModal}\n\t\t\t\t\t\t\t\t\tclassName='password-modal'\n\t\t\t\t\t\t\t\t\tcentered\n\t\t\t\t\t\t\t\t\tafterClose={() => document.body.style.removeProperty('overflow')}\n\t\t\t\t\t\t\t\t\tfooter={null}\n\t\t\t\t\t\t\t\t\tclosable={false}\n\t\t\t\t\t\t\t\t\tonCancel={this.togglePasswordModal}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{this.passwordModal()}\n\t\t\t\t\t\t\t\t</Modal>\n\t\t\t\t\t\t\t\t<Modal\n\t\t\t\t\t\t\t\t\ttitle='delete all data'\n\t\t\t\t\t\t\t\t\tvisible={this.state.showDeleteNodesModal}\n\t\t\t\t\t\t\t\t\tclassName='password-modal'\n\t\t\t\t\t\t\t\t\tcentered\n\t\t\t\t\t\t\t\t\tafterClose={() => document.body.style.removeProperty('overflow')}\n\t\t\t\t\t\t\t\t\tfooter={null}\n\t\t\t\t\t\t\t\t\tclosable={false}\n\t\t\t\t\t\t\t\t\tonCancel={this.toggleDeleteNodesModal}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{this.deleteAllNodesModal()}\n\t\t\t\t\t\t\t\t</Modal>\n\t\t\t\t\t\t\t\t<Modal\n\t\t\t\t\t\t\t\t\ttitle='Confirm Export'\n\t\t\t\t\t\t\t\t\tvisible={this.state.showExportModal}\n\t\t\t\t\t\t\t\t\tclassName='delete-modal'\n\t\t\t\t\t\t\t\t\tcentered\n\t\t\t\t\t\t\t\t\tonOk={this.exportHandler}\n\t\t\t\t\t\t\t\t\tokText='Generate'\n\t\t\t\t\t\t\t\t\tclosable={false}\n\t\t\t\t\t\t\t\t\tafterClose={() => document.body.style.removeProperty('overflow')}\n\t\t\t\t\t\t\t\t\tonCancel={this.toggleExportModal}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\t\t\t\tGenerate export from <b>{this.props.user.displayName || 'untitled'}</b>? The\n\t\t\t\t\t\t\t\t\t\texport will contain the profile picture, header, bio, along with all this user's\n\t\t\t\t\t\t\t\t\t\tnodes & associations, and appear in your favorites when it is completed. This\n\t\t\t\t\t\t\t\t\t\tmay take a few minutes.\n\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t</Modal>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<OptionsList />\n\t\t\t\t\t</Content>\n\t\t\t\t</Layout>\n\t\t\t</Layout>\n\t\t);\n\t}\n}\n\nconst validationSchema = Yup.object().shape({\n\toldPassword: Yup.string().required('old password is required'),\n\tnewPassword: Yup.string()\n\t\t.min(5, 'Password has to be longer than 6 characters!')\n\t\t.required('password is required'),\n\tconfirmNewPassword: Yup.string()\n\t\t.required('please confirm new password')\n\t\t.oneOf([Yup.ref('newPassword')], \"Your passwords don't match\"),\n});\n\nconst deleteNodesValidation = Yup.object().shape({\n\tpasswordValue: Yup.string()\n\t\t.min(5, 'Password has to be longer than 6 characters!')\n\t\t.required('password is required'),\n\tconfirmPassword: Yup.string()\n\t\t.required('please confirm password')\n\t\t.min(5, 'Password has to be longer than 6 characters!')\n\t\t.oneOf([Yup.ref('passwordValue')], \"Your passwords don't match\"),\n});\n\nconst mapStateToProps = (state) => {\n\treturn { user: state.auth.user, mainSider: state.components.componentList['mainSider'] };\n};\n\nexport default connect(mapStateToProps, {\n\tfetchUserByUsername,\n\tupdateUserInfo,\n\tupdateUserAvatar,\n\tupdateUserHeader,\n\tupdateUsername,\n\tupdateEmail,\n\tclearAllNodes,\n\tchangePassword,\n\tshowComponent,\n\tgenerateInstanceExport,\n\t// regenerateCollectionPreviews,\n\thideComponent,\n})(Options);\n","import React from 'react';\nimport { Layout } from 'antd';\n// custom code\nimport './css/Page.less';\n// destructure antd components\nconst { Content } = Layout;\n\nconst MainContent = (props) => {\n  return (\n    <Layout className='page-content'>\n      <Content style={{ backgroundColor: '#272727' }}>{props.children}</Content>\n    </Layout>\n  );\n};\n\nexport default MainContent;\n","import React, { Component } from 'react';\nimport { Layout } from 'antd';\n// custom code\nimport '../elements/css/Page.less';\nimport MainContent from '../elements/MainContent';\nimport IOBar from '../elements/IOBar';\nimport MainSider from '../elements/MainSider';\n\nclass Activity extends Component {\n  render() {\n    return (\n      <Layout className='page-layout'>\n        <IOBar />\n        <Layout>\n          <MainSider />\n          <MainContent />\n        </Layout>\n      </Layout>\n    );\n  }\n}\n\nexport default Activity;\n","import React, { Component, Fragment } from 'react';\nimport { connect } from 'react-redux';\n// custom code\nimport '../node/NodeList.less';\nimport { fetchAssociations, getRandomNode } from '../../../api/redux/actions';\nimport NodeCard from '../node/NodeCard';\nimport AssociationSider from './AssociationSider';\nimport Spinner from '../Spinner';\n\nclass AssociationList extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\ttopOfPage: false,\n\t\t\t// redirectInterval: setInterval(this.advanceToRandomNode, 333),\n\t\t};\n\t}\n\n\tcomponentDidMount() {\n\t\twindow.addEventListener('scroll', this.infiniteScroll);\n\t\t// window.addEventListener('mousemove', this.resetAdvanceCounter);\n\t\t// this.advanceToRandomNode();\n\t}\n\n\tcomponentWillUnmount() {\n\t\twindow.removeEventListener('scroll', this.infiniteScroll);\n\t}\n\n\t// resetAdvanceCounter = () => {\n\t// \tconsole.log('removing interval');\n\t// \tconsole.log(this.state.redirectInterval);\n\t// \tif (this.state.redirectInterval) {\n\t// \t\tclearInterval(this.state.redirectInterval);\n\t// \t\tthis.setState({ redirectInterval: setInterval(this.advanceToRandomNode, 10000) });\n\t// \t}\n\t// };\n\n\t// commenting this out for now.\n\t// was experimenting with random automated wandering, screensaver style\n\t// maybe will revisit this\n\t// advanceToRandomNode = () => {\n\t// \tlet flash = localStorage.getItem('flash');\n\t// \tconsole.log(flash);\n\t// \tif (flash) {\n\t// \t\twindow.location.replace(`/flash`);\n\t// \t\treturn;\n\t// \t}\n\t// \tlet maxNumber = Math.floor(Math.random() * this.props.associations.length + 1);\n\t// \tif (this.props.associations.length > 0) {\n\t// \t\tlet uuid = this.props.associations[this.props.associations.length - maxNumber].uuid;\n\t// \t\twindow.location.replace(`/associations/${uuid}`);\n\t// \t} else {\n\t// \t\tthis.props.getRandomNode();\n\t// \t}\n\t// \tlocalStorage.setItem('flash', true);\n\t// };\n\n\tinfiniteScroll = (e) => {\n\t\tvar currentListLength = this.props.associations.length;\n\t\tif (\n\t\t\tthis.endReached() &&\n\t\t\tthis.props.activeNode &&\n\t\t\tcurrentListLength < this.props.totalNodes &&\n\t\t\t!this.props.isFetching\n\t\t) {\n\t\t\tthis.setState({ topOfPage: false });\n\t\t\t// fetch the next page\n\t\t\tthis.props.fetchAssociations({\n\t\t\t\tpage: this.props.page + 1,\n\t\t\t\tnodeUUID: this.props.activeNode.uuid,\n\t\t\t});\n\t\t}\n\t};\n\n\tendReached = () => {\n\t\t// window calculations to tell when the user scrolls to the bottom\n\t\tconst windowHeight =\n\t\t\t'innerHeight' in window ? window.innerHeight : document.documentElement.offsetHeight;\n\t\tconst body = document.body;\n\t\tconst html = document.documentElement;\n\t\tconst docHeight = Math.max(\n\t\t\tbody.scrollHeight,\n\t\t\tbody.offsetHeight,\n\t\t\thtml.clientHeight,\n\t\t\thtml.scrollHeight,\n\t\t\thtml.offsetHeight\n\t\t);\n\t\tconst windowBottom = windowHeight + window.pageYOffset;\n\t\t// check if the top is reached\n\t\tif (window.pageYOffset < 1 && !this.props.isFetching && !this.state.topOfPage) {\n\t\t\tthis.setState({ topOfPage: true });\n\t\t\t// at the top of the page, reset the associationlist\n\t\t\tthis.props.fetchAssociations({\n\t\t\t\tpage: 1,\n\t\t\t\tnodeUUID: this.props.activeNode.uuid,\n\t\t\t});\n\t\t}\n\t\t// TODO: need to find a way to calculate the \"window top\" as well\n\t\t// so i can decrement the page number when the user scrolls up\n\t\t// this is necessary so redux doesn't have to store everything\n\t\treturn windowBottom >= docHeight - 733;\n\t};\n\n\trenderNodes = () => {\n\t\t// go through the list of nodes and render them to the page\n\t\tconst associationList = this.props.associations;\n\t\t// render the association list as cards\n\t\tif (associationList !== null) {\n\t\t\treturn associationList.map((association) => {\n\t\t\t\treturn (\n\t\t\t\t\t<NodeCard key={association.uuid} node={association} activeNode={this.props.activeNode} />\n\t\t\t\t);\n\t\t\t});\n\t\t} else {\n\t\t\treturn <Spinner></Spinner>;\n\t\t}\n\t};\n\n\trenderList = () => {\n\t\tif (this.props.totalNodes > 0) {\n\t\t\treturn (\n\t\t\t\t<ul style={{ backgroundColor: 'black' }} className='nodelist'>\n\t\t\t\t\t{this.renderNodes()}\n\t\t\t\t</ul>\n\t\t\t);\n\t\t} else if (this.props.totalNodes < 0) {\n\t\t\treturn <Fragment></Fragment>;\n\t\t}\n\t};\n\n\trender() {\n\t\treturn (\n\t\t\t<div>\n\t\t\t\t{this.renderList()}\n\t\t\t\t<AssociationSider />\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nconst mapStateToProps = (state) => {\n\treturn {\n\t\tassociations: state.associations.associationList,\n\t\tisFetching: state.associations.isFetching,\n\t\tactiveNode: state.nodes.activeNode,\n\t\tpage: state.associations.associationListPage,\n\t\ttotalNodes: state.associations.totalAssociationListItems,\n\t};\n};\n\nexport default connect(mapStateToProps, { fetchAssociations, getRandomNode })(AssociationList);\n","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport ReactQuill, { Quill } from 'react-quill';\nimport Delta from 'quill-delta';\n// import BlotFormatter, { AlignAction, DeleteAction, ImageSpec } from 'quill-blot-formatter';\nimport { Layout, message } from 'antd';\nimport 'react-quill/dist/quill.snow.css';\nimport AssociationList from '../elements/association/AssociationList';\nimport AssociationSider from '../elements/association/AssociationSider';\nimport NodeCardHeaderFull from '../elements/node/NodeCardHeaderFull';\nimport IOBar from '../elements/IOBar';\n// custom components\nimport Spinner from '../elements/Spinner';\n// redux handlers\nimport {\n\teditTextNode,\n\tprocessTextNode,\n\tcreateFileNode,\n\tsetActiveNode,\n\tupdateNode,\n\tfetchAssociations,\n\tmarkNodeView,\n} from '../../api/redux/actions';\n// import custom editor css\nimport './QuillEditor.less';\nimport MainSider from '../elements/MainSider';\n// destructure antd components\nconst { Content } = Layout;\n\n// register custom clipboard to handle bugs with the way the default one works\nconst Clipboard = Quill.import('modules/clipboard');\n// https://github.com/quilljs/quill/issues/1374\nclass CustomClipboard extends Clipboard {\n\tonPaste(e) {\n\t\t// get current page offset before paste\n\t\tconst top = window.pageYOffset;\n\t\tconst left = window.pageXOffset;\n\n\t\tif (e.defaultPrevented || !this.quill.isEnabled()) return;\n\t\tlet range = this.quill.getSelection();\n\t\tlet delta = new Delta().retain(range.index);\n\t\tthis.container.style.top =\n\t\t\t(\n\t\t\t\twindow.pageYOffset ||\n\t\t\t\tdocument.documentElement.scrollTop ||\n\t\t\t\tdocument.body.scrollTop ||\n\t\t\t\t0\n\t\t\t).toString() + 'px';\n\t\tthis.container.focus();\n\t\tsetTimeout(() => {\n\t\t\tthis.quill.selection.update(Quill.sources.SILENT);\n\t\t\tdelta = delta.concat(this.convert()).delete(range.length);\n\t\t\tthis.quill.updateContents(delta, Quill.sources.USER);\n\t\t\tthis.quill.setSelection(delta.length() - range.length, Quill.sources.SILENT);\n\t\t\tlet bounds = this.quill.getBounds(delta.length() - range.length, Quill.sources.SILENT);\n\t\t\tthis.quill.scrollingContainer.scrollTop = bounds.top;\n\n\t\t\t// scroll window to previous position after paste\n\t\t\twindow.scrollTo({ top, left });\n\t\t}, 1);\n\t}\n}\n\nQuill.register('modules/clipboard', CustomClipboard, true);\n\nclass QuillEditor extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\ttext: '',\n\t\t\tname: '',\n\t\t\texpanded: localStorage.getItem('expanded'),\n\t\t\tuuid: null,\n\t\t\terror: null,\n\t\t\tinitializing: false,\n\t\t\treadOnly: true,\n\t\t};\n\t\tthis.handleChange = this.handleChange.bind(this);\n\t}\n\n\tref = (quill) => {\n\t\tthis.quill = quill;\n\t};\n\n\tcomponentDidMount() {\n\t\tdocument.body.style.overflow = 'auto';\n\t\tdocument.body.style.height = '100%';\n\t\tdocument.documentElement.style.height = '100%';\n\t\t// prevent quill from jumping to top\n\t\tdocument.querySelectorAll('.ql-picker').forEach((tool) => {\n\t\t\ttool.addEventListener('mousedown', function (event) {\n\t\t\t\tevent.preventDefault();\n\t\t\t\tevent.stopPropagation();\n\t\t\t});\n\t\t});\n\t\t// initialize\n\t\tthis.initializeFromUrlParams();\n\t}\n\n\tcomponentDidUpdate = async () => {\n\t\t// prevent quill from jumping to top\n\t\tdocument.querySelectorAll('.ql-picker').forEach((tool) => {\n\t\t\ttool.addEventListener('mousedown', function (event) {\n\t\t\t\tevent.preventDefault();\n\t\t\t\tevent.stopPropagation();\n\t\t\t});\n\t\t});\n\t\t// if the url has changed reload\n\t\tvar textUUID = this.props.match.params.uuid;\n\t\tif (this.state.uuid !== textUUID && this.state.initializing === false) {\n\t\t\tthis.setState({\n\t\t\t\ttext: '',\n\t\t\t\tname: '',\n\t\t\t\texpanded: localStorage.getItem('expanded'),\n\t\t\t\tuuid: null,\n\t\t\t\terror: null,\n\t\t\t\tinitializing: true,\n\t\t\t\treadOnly: true,\n\t\t\t});\n\t\t\tthis.regeneratePreview();\n\t\t\tthis.initializeFromUrlParams();\n\t\t}\n\t};\n\n\t// load the text node and set the local id state.\n\tinitializeFromUrlParams = async () => {\n\t\t// scroll to top\n\t\twindow.scrollTo({ top: 0 });\n\t\t// check url params\n\t\tvar textUUID = this.props.match.params.uuid;\n\t\t// set the local state id equal to the value in the url\n\t\tthis.setState({ uuid: textUUID });\n\t\tawait this.props.setActiveNode(textUUID);\n\t\tif (this.props.nodeData && this.props.nodeData.content) {\n\t\t\t// if there is content set the local editor state equal to it\n\t\t\tdocument.title = this.props.nodeData.name || 'Untitled';\n\t\t\tvar textValue = JSON.parse(this.props.nodeData.content);\n\t\t\tthis.setState({\n\t\t\t\ttext: textValue,\n\t\t\t\tname: this.props.nodeData.name,\n\t\t\t\tinitializing: false,\n\t\t\t\treadOnly: false,\n\t\t\t});\n\t\t\tthis.props.markNodeView(this.props.nodeData);\n\t\t\t// clear undo history to prevent undo from deleting everything\n\t\t\tconst editor = this.quill.getEditor();\n\t\t\teditor.history.clear();\n\t\t\tthis.props.fetchAssociations({ nodeUUID: textUUID });\n\t\t} else {\n\t\t\t// if there's no content return an error message\n\t\t\tthis.setState({ error: true });\n\t\t\tthis.props.history.push('/');\n\t\t}\n\t};\n\n\t// toggle fullscreen\n\texpandHandler = () => {\n\t\tif (this.state.expanded === null) {\n\t\t\tthis.setState({ expanded: 'expanded' });\n\t\t\tlocalStorage.setItem('expanded', 'expanded');\n\t\t} else {\n\t\t\tthis.setState({ expanded: null });\n\t\t\tlocalStorage.removeItem('expanded');\n\t\t}\n\t};\n\n\t// exit the editor and return to the home screen\n\texitHandler = async () => {\n\t\t// generate the preview and do whatever processing will be\n\t\t// necessary to process the node\n\t\t// TODO: alter this so it stores a condensed version of the document instead of plain text\n\t\tthis.regeneratePreview();\n\t\tthis.props.history.push('/');\n\t};\n\n\tregeneratePreview = () => {\n\t\tif (!this.state.deleting && !this.state.error && this.state.uuid !== null && this.quill) {\n\t\t\tconst previewLength = 500;\n\t\t\tconst editor = this.quill.getEditor();\n\t\t\t// process the text node\n\t\t\tconst content = editor.getText();\n\t\t\tconst preview = content.substring(0, previewLength);\n\t\t\tthis.props.nodeData.preview = preview;\n\t\t\t// wait for preview to update before going back to homepage so it will be up to date\n\t\t\tthis.props.processTextNode({ uuid: this.state.uuid, preview });\n\t\t}\n\t};\n\n\t// select an image.\n\tselectLocalImage = () => {\n\t\tconst input = document.createElement('input');\n\t\tinput.setAttribute('type', 'file');\n\t\tinput.setAttribute('accept', ['image/gif', 'image/jpg', 'image/jpeg', 'image/png']);\n\t\tinput.click();\n\n\t\t// Listen for uploading local image, then save to server\n\t\tinput.onchange = async () => {\n\t\t\tconst file = input.files[0];\n\n\t\t\t// make sure file is an image\n\t\t\tif (/^image\\//.test(file.type)) {\n\t\t\t\t// save the image to the server\n\t\t\t\tconst url = await this.props.createFileNode(\n\t\t\t\t\tfile,\n\t\t\t\t\tnull,\n\t\t\t\t\tJSON.stringify(this.props.nodeData)\n\t\t\t\t);\n\t\t\t\t// push image url to rich editor.\n\t\t\t\tconst range = this.quill.getEditor().getSelection();\n\t\t\t\tthis.quill.getEditor().insertEmbed(range.index, 'image', url);\n\t\t\t} else {\n\t\t\t\tmessage.error('The file must be an image', 1);\n\t\t\t}\n\t\t};\n\t};\n\n\tisImageUrl = (url) => {\n\t\tvar expression =\n\t\t\t/[-a-zA-Z0-9@:%._+~#=]{1,256}\\.[a-zA-Z0-9()]{1,6}\\b([-a-zA-Z0-9()@:%_+.~#?&//=]*)?/gi;\n\t\tvar regex = new RegExp(expression);\n\t\treturn regex.test(url);\n\t};\n\n\t// handle pasting of images\n\t// these could potentially be stored in a special database table? I'm not sure if\n\t// externally linked images would be a node type? I don't see why not. i think they're urls\n\tmatcherImageHandler = (node, delta) => {\n\t\tconst url = node.src;\n\t\tconst newDelta = new Delta();\n\t\treturn newDelta.insert({ image: url });\n\t};\n\n\tmodules = {\n\t\ttoolbar: {\n\t\t\tcontainer: [\n\t\t\t\t[{ header: [1, 2, 3, 4, 5, false] }],\n\t\t\t\t[{ font: [] }],\n\t\t\t\t[{ indent: '-1' }, { indent: '+1' }],\n\t\t\t\t['bold', 'italic', 'underline', 'strike'],\n\t\t\t\t[\n\t\t\t\t\t{\n\t\t\t\t\t\tcolor: [\n\t\t\t\t\t\t\t'',\n\t\t\t\t\t\t\t'#fff',\n\t\t\t\t\t\t\t'#bbbbbb',\n\t\t\t\t\t\t\t'#df0000',\n\t\t\t\t\t\t\t'#a80b44',\n\t\t\t\t\t\t\t'#ff0062',\n\t\t\t\t\t\t\t'#df1f95',\n\t\t\t\t\t\t\t'#9933ff',\n\t\t\t\t\t\t\t'#c06be2',\n\t\t\t\t\t\t\t'#c8f0ae',\n\t\t\t\t\t\t\t'#7fba00',\n\t\t\t\t\t\t\t'#45d458',\n\t\t\t\t\t\t\t'#31d697',\n\t\t\t\t\t\t\t'#00dfd3',\n\t\t\t\t\t\t\t'#67edff',\n\t\t\t\t\t\t\t'#00a4ef',\n\t\t\t\t\t\t\t'#4178df',\n\t\t\t\t\t\t\t'#4d2ff7',\n\t\t\t\t\t\t\t'#000080',\n\t\t\t\t\t\t\t'#56007a',\n\t\t\t\t\t\t\t'#007c25',\n\t\t\t\t\t\t\t'#e2d58a',\n\t\t\t\t\t\t\t'#f8cc52',\n\t\t\t\t\t\t\t'#fff12b',\n\t\t\t\t\t\t\t'#eb875f',\n\t\t\t\t\t\t\t'#ff4500',\n\t\t\t\t\t\t\t'#f40000',\n\t\t\t\t\t\t\t'#a0390d',\n\t\t\t\t\t\t],\n\t\t\t\t\t},\n\t\t\t\t\t{ background: [] },\n\t\t\t\t],\n\t\t\t\t[{ align: null }, { align: 'center' }, { align: 'right' }, { align: 'justify' }],\n\t\t\t\t[{ list: 'ordered' }, { list: 'bullet' }],\n\t\t\t\t[{ script: 'sub' }, { script: 'super' }], // superscript/subscript\n\t\t\t\t['code-block', 'blockquote'],\n\t\t\t\t['link', 'image', 'video'],\n\t\t\t\t['clean'],\n\t\t\t\t['expand', 'exit'],\n\t\t\t],\n\t\t\thandlers: {\n\t\t\t\texpand: this.expandHandler,\n\t\t\t\texit: this.exitHandler,\n\t\t\t\timage: this.selectLocalImage,\n\t\t\t},\n\t\t},\n\t\tclipboard: {\n\t\t\tmatchVisual: false,\n\t\t\tmatchers: [['img', this.matcherImageHandler]],\n\t\t},\n\t\t// blotFormatter: {\n\t\t//   overlay: {\n\t\t//     style: {\n\t\t//       border: '2px solid #41e254',\n\t\t//     },\n\t\t//   },\n\t\t// },\n\t};\n\n\tallowedFormats = [\n\t\t'header',\n\t\t'font',\n\t\t'indent',\n\t\t'bold',\n\t\t'italic',\n\t\t'underline',\n\t\t'strike',\n\t\t'color',\n\t\t'background',\n\t\t'align',\n\t\t'list',\n\t\t'script',\n\t\t'code-block',\n\t\t'blockquote',\n\t\t'link',\n\t\t'image',\n\t\t'video',\n\t];\n\n\t// render the main navbar\n\trenderHeader = () => {\n\t\t// Only render the header if the editor is  expanded\n\t\tif (this.state.expanded === null && this.props.nodeData) {\n\t\t\treturn (\n\t\t\t\t<div>\n\t\t\t\t\t{/* <div style={{ height: '3rem' }}>\n\t\t\t\t\t\t<IOBar fixed={true} />\n\t\t\t\t\t</div>*/}\n\t\t\t\t\t<div style={{ height: '3rem' }}>\n\t\t\t\t\t\t<IOBar fixed={true} />\n\t\t\t\t\t</div>\n\t\t\t\t\t<NodeCardHeaderFull />\n\t\t\t\t</div>\n\t\t\t);\n\t\t}\n\t};\n\n\thandleChange(content, delta, source, editor) {\n\t\t// Check to see if the document has changed before saving.\n\t\t// TODO: i think this comparison is broken\n\t\tif (editor.getContents() !== this.state.text && this.state.initializing === false) {\n\t\t\tconst fullDelta = JSON.stringify(editor.getContents());\n\t\t\tthis.props.editTextNode({\n\t\t\t\tuuid: this.props.match.params.uuid,\n\t\t\t\tcontent: fullDelta,\n\t\t\t});\n\t\t\tthis.setState({ text: content });\n\t\t\tthis.regeneratePreview();\n\t\t}\n\t}\n\n\trenderMainSider = () => {\n\t\tif (this.props.mainSider) {\n\t\t\treturn <MainSider />;\n\t\t}\n\t};\n\n\trenderClassName = () => {\n\t\tlet documentWidth = JSON.parse(localStorage.getItem('quill-document-width')) || '';\n\t\tlet documentClass = 'quill-' + documentWidth.replace(' ', '-');\n\t\t// return the classname\n\t\treturn documentClass;\n\t};\n\n\tcomponentWillUnmount() {\n\t\t// clear styles\n\t\tdocument.body.style.overflow = null;\n\t\tdocument.body.style.height = null;\n\t\tdocument.documentElement.style.overflow = null;\n\t\tdocument.documentElement.style.height = null;\n\t\twindow.getSelection().removeAllRanges();\n\t}\n\n\trender() {\n\t\tif (this.props.isLoading) {\n\t\t\treturn (\n\t\t\t\t<Layout className='page-layout'>\n\t\t\t\t\t<Layout>\n\t\t\t\t\t\t<Layout>\n\t\t\t\t\t\t\t{this.renderHeader()}\n\t\t\t\t\t\t\t<Spinner />\n\t\t\t\t\t\t</Layout>\n\t\t\t\t\t</Layout>\n\t\t\t\t</Layout>\n\t\t\t);\n\t\t}\n\n\t\treturn (\n\t\t\t<Layout className='page-layout'>\n\t\t\t\t{this.renderMainSider()}\n\t\t\t\t<Content className={'text-editor-content ' + this.state.expanded}>\n\t\t\t\t\t{this.renderHeader()}\n\t\t\t\t\t<ReactQuill\n\t\t\t\t\t\tvalue={this.state.text}\n\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\tbackgroundColor: this.props.theme ? this.props.theme.textEditorBackground : null,\n\t\t\t\t\t\t\tcolor: this.props.theme ? this.props.theme.textEditorText : null,\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tclassName={this.renderClassName()}\n\t\t\t\t\t\tonChange={this.handleChange}\n\t\t\t\t\t\tmodules={this.modules}\n\t\t\t\t\t\tref={this.ref}\n\t\t\t\t\t\treadOnly={this.state.readOnly}\n\t\t\t\t\t\tformats={this.allowedFormats}\n\t\t\t\t\t\tscrollingContainer={'body'}\n\t\t\t\t\t\tonBlur={(e) => {\n\t\t\t\t\t\t\tif (e.target) {\n\t\t\t\t\t\t\t\te.target.focus();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t// check to see if we should regenerate preview\n\t\t\t\t\t\t\tif (this.props.nodeData.preview.length < 500) {\n\t\t\t\t\t\t\t\tthis.regeneratePreview();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}}\n\t\t\t\t\t></ReactQuill>\n\t\t\t\t\t<AssociationSider />\n\t\t\t\t\t<AssociationList />\n\t\t\t\t</Content>\n\t\t\t</Layout>\n\t\t);\n\t}\n}\n\nconst mapStateToProps = (state) => {\n\treturn {\n\t\tnodeData: state.nodes.activeNode,\n\t\tisLoading: state.nodes.isFetching,\n\t\tmainSider: state.components.componentList['mainSider'],\n\t\ttheme: state.components.theme,\n\t};\n};\n\nexport default connect(mapStateToProps, {\n\teditTextNode,\n\tprocessTextNode,\n\tcreateFileNode,\n\tupdateNode,\n\tsetActiveNode,\n\tfetchAssociations,\n\tmarkNodeView,\n})(QuillEditor);\n","import {\n\tFETCH_ASSOCIATION_LINK_LIST,\n\tFETCH_ASSOCIATION_LINK_LIST_SUCCESS,\n\tFETCH_ASSOCIATION_LINK_LIST_ERROR,\n\tRESET_ASSOCIATION_LINK_LIST,\n\tCREATE_ASSOCIATION_SUCCESS,\n\tCREATE_ASSOCIATION,\n\tCREATE_ASSOCIATION_ERROR,\n\tFETCH_ASSOCIATIONS,\n\tFETCH_ASSOCIATIONS_SUCCESS,\n\tFETCH_ASSOCIATIONS_ERROR,\n\tRESET_ASSOCIATIONS,\n\tMARK_NODE_VIEW,\n\tMARK_NODE_VIEW_ERROR,\n\tMARK_NODE_VIEW_SUCCESS,\n\tDELETE_ASSOCIATION_LINK,\n\tDELETE_ASSOCIATION_LINK_ERROR,\n\tDELETE_ASSOCIATION_LINK_SUCCESS,\n\tREMOVE_FROM_ASSOCIATION_LIST,\n\tSET_ACTIVE_NODE,\n\tSET_ACTIVE_NODE_ERROR,\n\tSET_ACTIVE_NODE_SUCCESS,\n} from '../actions/types';\n\nconst INITIAL_STATE = {\n\tisFetching: null,\n\tisSaving: null,\n\tassociationLinkList: [],\n\tassociationList: [],\n\ttotalLinkListItems: null,\n\ttotalAssociationListItems: null,\n\tassociationListPage: 1,\n\tassociationLinkListPage: 1,\n\tactiveNode: null,\n};\n\nlet newAssociationList;\n\n// reducer for content nodes\nexport default (state = INITIAL_STATE, action) => {\n\tswitch (action.type) {\n\t\tcase FETCH_ASSOCIATION_LINK_LIST:\n\t\t\treturn { ...state, isFetching: true };\n\t\tcase FETCH_ASSOCIATION_LINK_LIST_SUCCESS:\n\t\t\t// // format the associations data and include new values\n\t\t\tvar associationLinkListArray = [...state.associationLinkList];\n\t\t\t// update the association link list with the new values\n\t\t\tObject.values(action.payload.associations).forEach((node) => {\n\t\t\t\tif (!associationLinkListArray.some((item) => item.uuid === node.uuid)) {\n\t\t\t\t\tassociationLinkListArray.push(node);\n\t\t\t\t}\n\t\t\t});\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tisFetching: null,\n\t\t\t\ttotalLinkListItems: action.payload.totalItems,\n\t\t\t\tassociationLinkList: associationLinkListArray,\n\t\t\t\tassociationLinkListPage: action.page || 1,\n\t\t\t};\n\t\tcase FETCH_ASSOCIATION_LINK_LIST_ERROR:\n\t\t\treturn { ...state, isFetching: null };\n\t\tcase RESET_ASSOCIATION_LINK_LIST:\n\t\t\treturn { ...state, associationLinkList: [] };\n\t\tcase FETCH_ASSOCIATIONS:\n\t\t\treturn { ...state, isFetching: true };\n\t\tcase FETCH_ASSOCIATIONS_SUCCESS:\n\t\t\t// format the associations data and include new values\n\t\t\tvar associationsArray = [...state.associationList];\n\t\t\t// update the association link list with the new values\n\t\t\tObject.values(action.payload.associations).forEach((node) => {\n\t\t\t\tif (!associationsArray.some((item) => item.uuid === node.uuid)) {\n\t\t\t\t\tassociationsArray.push(node);\n\t\t\t\t}\n\t\t\t});\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tisFetching: null,\n\t\t\t\ttotalAssociationListItems: action.payload.totalItems,\n\t\t\t\tassociationList: associationsArray,\n\t\t\t\tassociationListPage: action.page || 1,\n\t\t\t};\n\t\tcase FETCH_ASSOCIATIONS_ERROR:\n\t\t\treturn { ...state, isFetching: null };\n\t\tcase RESET_ASSOCIATIONS:\n\t\t\treturn { ...state, associationList: [] };\n\t\tcase CREATE_ASSOCIATION:\n\t\t\treturn { ...state, isSaving: true };\n\t\tcase CREATE_ASSOCIATION_SUCCESS:\n\t\t\tvar associatedNode;\n\t\t\t// check whichever is the associated node to the list\n\t\t\tif (action.nodeUUID && action.nodes.associated.uuid === action.nodeUUID) {\n\t\t\t\tassociatedNode = action.nodes.original;\n\t\t\t} else {\n\t\t\t\tassociatedNode = action.nodes.associated;\n\t\t\t}\n\t\t\t// only add the node to the association list if one of the nodes is the activeNode\n\t\t\tif (state.activeNode && action.nodeUUID === state.activeNode.uuid) {\n\t\t\t\tnewAssociationList = [associatedNode, ...state.associationList];\n\t\t\t} else {\n\t\t\t\tnewAssociationList = [...state.associationList];\n\t\t\t}\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tisFetching: null,\n\t\t\t\tassociationLinkList: [associatedNode, ...state.associationLinkList],\n\t\t\t\tassociationList: newAssociationList,\n\t\t\t\ttotalAssociationListItems: state.totalAssociationListItems + 1,\n\t\t\t};\n\t\tcase CREATE_ASSOCIATION_ERROR:\n\t\t\treturn { ...state, isSaving: null };\n\t\tcase MARK_NODE_VIEW:\n\t\t\treturn { ...state, isSaving: true };\n\t\tcase MARK_NODE_VIEW_SUCCESS:\n\t\t\t// only add back to list if the node was already in the list\n\t\t\tvar addBackToList = state.associationList.some((node) => node.uuid === action.node.uuid)\n\t\t\t\t? action.node\n\t\t\t\t: false;\n\t\t\t// use addBackToList to determine what should be returned\n\t\t\tif (addBackToList) {\n\t\t\t\tnewAssociationList = [\n\t\t\t\t\tstate.associationList.some((node) => node.uuid === action.node.uuid) ? action.node : null,\n\t\t\t\t\t...state.associationList.filter((node) => node.uuid !== action.node.uuid),\n\t\t\t\t];\n\t\t\t} else {\n\t\t\t\tnewAssociationList = [...state.associationList];\n\t\t\t}\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tisFetching: null,\n\t\t\t\t// move the viewed node to the front of the list\n\t\t\t\tassociationList: newAssociationList,\n\t\t\t};\n\t\tcase MARK_NODE_VIEW_ERROR:\n\t\t\treturn { ...state, isSaving: null };\n\t\tcase SET_ACTIVE_NODE:\n\t\t\treturn { ...state, isFetching: true };\n\t\tcase SET_ACTIVE_NODE_SUCCESS:\n\t\t\treturn { ...state, isFetching: null, activeNode: action.payload.node };\n\t\tcase SET_ACTIVE_NODE_ERROR:\n\t\t\treturn { ...state, isFetching: null };\n\t\tcase DELETE_ASSOCIATION_LINK:\n\t\t\treturn { ...state, isSaving: true };\n\t\tcase DELETE_ASSOCIATION_LINK_SUCCESS:\n\t\t\t// update total items\n\t\t\tvar newTotalLinkListItems = state.totalLinkListItems - 1;\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tisSaving: null,\n\t\t\t\tassociationLinkList: [\n\t\t\t\t\t...state.associationLinkList.filter((node) => node.uuid !== action.deletedUUID),\n\t\t\t\t],\n\t\t\t\ttotalLinkListItems: newTotalLinkListItems,\n\t\t\t};\n\t\tcase DELETE_ASSOCIATION_LINK_ERROR:\n\t\t\treturn { ...state, isSaving: null };\n\t\tcase REMOVE_FROM_ASSOCIATION_LIST:\n\t\t\t// update total items\n\t\t\tvar newTotalItems = state.totalAssociationListItems - 1;\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tisSaving: null,\n\t\t\t\tassociationList: [\n\t\t\t\t\t...state.associationList.filter((node) => node.uuid !== action.deletedUUID),\n\t\t\t\t],\n\t\t\t\ttotalAssociationListItems: newTotalItems,\n\t\t\t};\n\t\tdefault:\n\t\t\treturn state;\n\t}\n};\n","import instance from '../../../api/instance';\nimport history from '../../../utils/history';\nimport {\n  EDIT_TEXT_NODE,\n  EDIT_TEXT_NODE_SUCCESS,\n  EDIT_TEXT_NODE_ERROR,\n  PROCESS_TEXT_NODE,\n  PROCESS_TEXT_NODE_SUCCESS,\n  PROCESS_TEXT_NODE_ERROR,\n} from './types';\nimport { message } from 'antd';\n\n// edit text node handler\nexport const editTextNode = (node) => async (dispatch) => {\n  dispatch({ type: EDIT_TEXT_NODE });\n  try {\n    await instance.patch('/text', {\n      uuid: node.uuid,\n      content: node.content,\n    });\n    dispatch({\n      type: EDIT_TEXT_NODE_SUCCESS,\n      node: node,\n    });\n  } catch (err) {\n    dispatch({ type: EDIT_TEXT_NODE_ERROR });\n    message.error('There was a problem saving your changes', 1);\n    history.push('/');\n  }\n};\n\n// final processing of text node after closing the editor\nexport const processTextNode = (node) => async (dispatch) => {\n  dispatch({ type: PROCESS_TEXT_NODE });\n  try {\n    await instance.patch('/text/process', { uuid: node.uuid, preview: node.preview });\n    dispatch({ type: PROCESS_TEXT_NODE_SUCCESS, node, preview: node.preview });\n  } catch (err) {\n    dispatch({ type: PROCESS_TEXT_NODE_ERROR });\n  }\n};\n","import React from 'react';\nimport { Layout } from 'antd';\n// custom code\nimport './css/Page.less';\n// destructure antd components\nconst { Footer } = Layout;\n\nconst MainFooter = () => {\n  return <Footer className='page-footer' />;\n};\n\nexport default MainFooter;\n","import React, { Component } from 'react';\nimport { Layout } from 'antd';\n// custom code\nimport '../elements/css/Page.less';\nimport MainContent from '../elements/MainContent';\nimport IOBar from '../elements/IOBar';\n// import MainSider from '../elements/MainSider';\nimport MainFooter from '../elements/MainFooter';\n\nclass Collections extends Component {\n  render() {\n    return (\n      <Layout className='page-layout'>\n        <IOBar />\n        <Layout>\n          <MainContent>Collections</MainContent>\n        </Layout>\n        <MainFooter />\n      </Layout>\n    );\n  }\n}\n\nexport default Collections;\n","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { Link } from 'react-router-dom';\nimport { Formik, Form, Field, ErrorMessage } from 'formik';\nimport * as Yup from 'yup';\nimport { Layout, Card } from 'antd';\n// custom code\nimport { createAccount } from '../../api/redux/actions';\nimport './css/Login.less';\n\n// destructure antd\nconst { Content, Footer } = Layout;\n\nclass CreateAccount extends Component {\n  componentDidMount() {\n    document.title = 'Create Account';\n  }\n\n  onSubmit = (values, { setSubmitting }) => {\n    setSubmitting(false);\n    this.props.createAccount(values);\n  };\n\n  render() {\n    return (\n      <Layout className='login-layout'>\n        <Content className='login-content'>\n          <Card className='login-card'>\n            <Formik\n              initialValues={{ email: '', password: '', confirmPassword: '' }}\n              validationSchema={validationSchema}\n              onSubmit={this.onSubmit}\n            >\n              {({ isSubmitting }) => (\n                <Form className='login-form'>\n                  <h1 className='login-title'>\n                    <span\n                      role='img'\n                      aria-label='jsx-a11y/accessible-emoji'\n                      style={{ paddingRight: '0.5rem' }}\n                    >\n                      ✨\n                    </span>\n                    create user\n                    <span\n                      role='img'\n                      aria-label='jsx-a11y/accessible-emoji'\n                      style={{ paddingLeft: '0.5rem' }}\n                    >\n                      ✨\n                    </span>\n                  </h1>\n                  <Field type='email' name='email' placeholder='email' className='login-field' />\n                  <ErrorMessage name='email' component='div' />\n                  <Field\n                    type='username'\n                    name='username'\n                    placeholder='username'\n                    className='login-field'\n                  />\n                  <ErrorMessage name='username' component='div' />\n                  <Field\n                    type='password'\n                    name='password'\n                    placeholder='password'\n                    className='login-field'\n                  />\n                  <ErrorMessage name='password' component='div' />\n                  <Field\n                    type='password'\n                    name='confirmPassword'\n                    placeholder='confirm password'\n                    className='login-field'\n                  />\n                  <ErrorMessage name='confirmPassword' component='div' />\n                  <button type='submit' disabled={isSubmitting} className='login-submit'>\n                    create account\n                  </button>\n                  <Link to='/' style={{ textAlign: 'center' }} className='login-signup'>\n                    back to login\n                  </Link>\n                </Form>\n              )}\n            </Formik>\n          </Card>\n        </Content>\n        <Footer />\n      </Layout>\n    );\n  }\n}\n\nconst validationSchema = Yup.object().shape({\n  email: Yup.string().email('E-mail is not valid!').required('email is required'),\n  username: Yup.string().required('username is required'),\n  password: Yup.string()\n    .min(5, 'Password has to be longer than 6 characters!')\n    .required('password is required'),\n  confirmPassword: Yup.string()\n    .required('please confirm password')\n    .oneOf([Yup.ref('password')], \"Your passwords don't match\"),\n});\n\nconst mapStateToProps = (state) => {\n  return { isSignedIn: state.auth.isSignedIn };\n};\n\nexport default connect(mapStateToProps, { createAccount })(CreateAccount);\n","import React, { Fragment } from 'react';\n//custom components\nimport NodeRenderer from '../../../types/render/NodeRenderer';\nimport './NodeCardFull.less';\n\nconst NodeCardFull = (props) => {\n  const renderNodeCard = () => {\n    if (props.node) {\n      return <NodeRenderer type={props.node.type} element={'full'} node={props.node} />;\n    }\n  };\n\n  return <Fragment>{renderNodeCard()}</Fragment>;\n};\n\nexport default NodeCardFull;\n","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { Layout } from 'antd';\nimport {\n\tsetActiveNode,\n\tclearActiveNode,\n\tfetchAssociations,\n\tmarkNodeView,\n\tupdateNode,\n} from '../../api/redux/actions';\nimport MainSider from '../elements/MainSider';\nimport NodeCardFull from '../elements/node/NodeCardFull';\nimport Spinner from '../elements/Spinner';\nimport IOBar from '../elements/IOBar';\nimport AssociationList from '../elements/association/AssociationList';\nimport { message } from 'antd';\nconst { Content } = Layout;\n\nclass AssociationBrowser extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\tinitialized: false,\n\t\t\tuuid: null,\n\t\t};\n\t}\n\n\tcomponentDidMount() {\n\t\tif (!this.state.initialized) {\n\t\t\tthis.initializeFromUrlParams();\n\t\t}\n\t}\n\n\tcomponentDidUpdate() {\n\t\tvar uuid = this.props.match.params.uuid;\n\t\t// re-initialize if the URL changes\n\t\tif (this.state.initialized && this.state.uuid !== uuid) {\n\t\t\tthis.setState({ initialized: false });\n\t\t\tthis.initializeFromUrlParams();\n\t\t}\n\t}\n\n\tcomponentWillUnmount() {\n\t\tthis.props.clearActiveNode();\n\t}\n\n\t// intialize the association page\n\tinitializeFromUrlParams = async () => {\n\t\tvar uuid = this.props.match.params.uuid;\n\t\t// window.scrollTo({ top: 0, behavior: 'smooth' });\n\t\twindow.scrollTo({ top: 0 });\n\t\tawait this.props.setActiveNode(uuid);\n\t\tif (this.props.activeNode !== null) {\n\t\t\tthis.props.markNodeView(this.props.activeNode);\n\t\t}\n\t\t// fetch the user info from the server\n\t\tawait this.props.fetchAssociations({ nodeUUID: uuid });\n\t\tif (this.props.associations !== null && this.props.activeNode !== null) {\n\t\t\tthis.setState({\n\t\t\t\tinitialized: true,\n\t\t\t\tuuid: uuid,\n\t\t\t});\n\t\t\t// update collection preview if necessary\n\t\t\tif (this.props.activeNode.type && this.props.activeNode.type === 'collection') {\n\t\t\t\tthis.regenerateCollectionPreview(this.props.activeNode, this.props.associations);\n\t\t\t}\n\t\t\tdocument.title = this.props.activeNode.name;\n\t\t} else {\n\t\t\tmessage.error('there was a problem loading the associations');\n\t\t\tthis.props.history.push('/');\n\t\t}\n\t};\n\n\tregenerateCollectionPreview = async (collectionNode, associationList) => {\n\t\ttry {\n\t\t\tif (collectionNode && associationList) {\n\t\t\t\tvar i = 0;\n\t\t\t\tvar node;\n\t\t\t\tvar preview = [];\n\t\t\t\t// get the first 4 non-collection non-user associated nodes and add them to the new preview\n\t\t\t\twhile (i < associationList.length && preview.length < 4) {\n\t\t\t\t\tnode = associationList[i];\n\t\t\t\t\tif (node.type !== 'collection' && node.type !== 'user') {\n\t\t\t\t\t\tpreview.push({\n\t\t\t\t\t\t\ttype: node.type,\n\t\t\t\t\t\t\tpreview: node.preview,\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t\ti++;\n\t\t\t\t}\n\t\t\t\tthis.props.updateNode({ uuid: collectionNode.uuid, preview: JSON.stringify(preview) });\n\t\t\t}\n\t\t} catch (err) {\n\t\t\tthis.props.history.push('/');\n\t\t}\n\t};\n\n\trenderNode = () => {\n\t\tif (this.state.uuid !== null && this.state.uuid === this.props.activeNode.uuid) {\n\t\t\treturn <NodeCardFull node={this.props.activeNode} />;\n\t\t} else {\n\t\t\treturn <Spinner></Spinner>;\n\t\t}\n\t};\n\n\trenderMainSider = () => {\n\t\tif (this.props.mainSider) {\n\t\t\treturn <MainSider />;\n\t\t}\n\t};\n\n\trender() {\n\t\treturn (\n\t\t\t<Layout className='page-layout'>\n\t\t\t\t{this.renderMainSider()}\n\t\t\t\t<Layout>\n\t\t\t\t\t<Content\n\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\tpaddingTop: '0',\n\t\t\t\t\t\t\tminHeight: '100vh',\n\t\t\t\t\t\t}}\n\t\t\t\t\t>\n\t\t\t\t\t\t<IOBar />\n\t\t\t\t\t\t<div className='list-container'>{this.renderNode()}</div>\n\t\t\t\t\t\t<AssociationList />\n\t\t\t\t\t</Content>\n\t\t\t\t</Layout>\n\t\t\t</Layout>\n\t\t);\n\t}\n}\n\nconst mapStateToProps = (state) => {\n\treturn {\n\t\tassociations: state.associations.associationList,\n\t\tisLoading: state.nodes.isFetching,\n\t\tactiveNode: state.nodes.activeNode,\n\t\tmainSider: state.components.componentList['mainSider'],\n\t\tisDeleting: state.nodes.isDeleting,\n\t};\n};\n\nexport default connect(mapStateToProps, {\n\tsetActiveNode,\n\tclearActiveNode,\n\tfetchAssociations,\n\tmarkNodeView,\n\tupdateNode,\n})(AssociationBrowser);\n","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport {\n\tfetchNodes,\n\tfetchAssociations,\n\tshowComponent,\n\tfetchGraphData,\n\tsetActiveNode,\n} from '../../api/redux/actions';\nimport { Layout, message } from 'antd';\nimport { select, selectAll } from 'd3-selection';\nimport { drag } from 'd3-drag';\nimport { forceSimulation, forceLink, forceManyBody, forceCenter, forceX, forceY } from 'd3-force';\nimport { zoom, zoomIdentity } from 'd3-zoom';\n//custom components\nimport './css/GraphBrowser.less';\nimport MainSider from '../elements/MainSider';\nimport AssociationSider from '../elements/association/AssociationSider';\nimport AssociationList from '../elements/association/AssociationList';\nimport IOBar from '../elements/IOBar';\n// destructure antd layout\nconst { Content } = Layout;\n\nclass GraphBrowser extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\tinitialized: false,\n\t\t\tuuid: null,\n\t\t};\n\t}\n\n\tcomponentDidMount() {\n\t\tdocument.title = 'constellation';\n\t\tif (!this.state.initialized) {\n\t\t\tthis.initializeFromUrlParams();\n\t\t}\n\t}\n\n\tcomponentDidUpdate() {\n\t\tvar uuid = this.props.match.params.uuid;\n\t\t// re-initialize if the URL changes\n\t\tif (this.state.initialized && this.state.uuid !== uuid) {\n\t\t\tthis.setState({ initialized: false });\n\t\t\tthis.initializeFromUrlParams();\n\t\t}\n\t}\n\n\t// intialize the association page\n\tinitializeFromUrlParams = async () => {\n\t\tvar uuid = this.props.match.params.uuid;\n\t\t// fetch the graph data\n\t\tawait this.props.fetchGraphData({\n\t\t\tanchorNode: uuid,\n\t\t\ttype: this.props.query.type,\n\t\t\tsearchQuery: this.props.query.searchQuery,\n\t\t});\n\t\t// if all that was successful, finish initialization\n\t\tif (this.props.graphData !== null) {\n\t\t\tthis.setState({\n\t\t\t\tinitialized: true,\n\t\t\t\tuuid: uuid,\n\t\t\t});\n\t\t\t// render graph\n\t\t\tthis.renderGraph();\n\t\t\tif (uuid) {\n\t\t\t\tawait this.props.setActiveNode(uuid);\n\t\t\t\tawait this.props.fetchAssociations({ nodeUUID: uuid });\n\t\t\t}\n\t\t} else {\n\t\t\tmessage.error('there was a problem loading the data');\n\t\t\tthis.props.history.push('/');\n\t\t}\n\t};\n\n\trenderMainSider = () => {\n\t\tif (this.props.mainSider) {\n\t\t\treturn <MainSider />;\n\t\t}\n\t};\n\n\t// renderBackgroundImage = () => {\n\t//   if (this.props.graphData) {\n\t//     const graphData = this.props.graphData.nodes;\n\t//     for (let item of graphData) {\n\t//       if (item.type === 'image') {\n\t//         // const imageUrl = item.path || item.preview;\n\t//         // return { backgroundImage: `url(${imageUrl})` };\n\t//         return null;\n\t//       }\n\t//     }\n\t//     // return { backgroundImage: `url(${})` };\n\t//     return null;\n\t//   }\n\t// };\n\n\trenderAssociationSider = () => {\n\t\tif (this.props.associationSider) {\n\t\t\treturn <AssociationSider />;\n\t\t}\n\t};\n\n\trenderAssociationList = () => {\n\t\tif (this.props.associations && this.props.associations.length > 0 && this.props.activeNode) {\n\t\t\t// let graphData = this.props.graphData;\n\t\t\t// return (\n\t\t\t//   <div>\n\t\t\t//   <NodeCardFull node={this.props.graphData.nodes[0]} />\n\t\t\t//   <div>\n\t\t\t// )\n\t\t\treturn <AssociationList />;\n\t\t}\n\t};\n\n\trenderGraph = async () => {\n\t\t// node data\n\t\tconst nodeData = this.props.graphData.nodes;\n\t\t// link data\n\t\tconst linkData = this.props.graphData.associations;\n\t\t// width and height\n\t\tconst height = window.innerHeight;\n\t\tconst width = window.innerWidth;\n\t\t// const nodeScale = 23;\n\t\tconst nodeScale = 33;\n\n\t\t// simulation\n\t\tconst simulation = forceSimulation(nodeData)\n\t\t\t.force(\n\t\t\t\t'link',\n\t\t\t\tforceLink(linkData)\n\t\t\t\t\t// .distance(0.7)\n\t\t\t\t\t.id((d) => {\n\t\t\t\t\t\treturn d.id;\n\t\t\t\t\t})\n\t\t\t)\n\t\t\t.force('charge', forceManyBody().strength(-700000 / nodeData.length))\n\t\t\t.force('x', forceX())\n\t\t\t.force('y', forceY())\n\t\t\t.force('center', forceCenter());\n\t\t// initial zoom\n\t\t// var initialZoom = zoomIdentity.scale(0.55).translate(0, -15);\n\t\tvar initialZoom = zoomIdentity.scale(0.17).translate(0, -15);\n\t\tconst zoomData = zoom().scaleExtent([0.1, 1.7]).on('zoom', zoomed);\n\n\t\tconst svg = select(this.node)\n\t\t\t.append('svg')\n\t\t\t.attr('class', 'graph-svg')\n\t\t\t.attr('viewBox', [-width / 2, -height / 2, width, height])\n\t\t\t.on('contextmenu', (e) => {\n\t\t\t\te.preventDefault();\n\t\t\t});\n\n\t\tconst g = svg.append('g');\n\n\t\tconst link = g\n\t\t\t.append('g')\n\t\t\t.attr('stroke', 'white')\n\t\t\t.attr('stroke-opacity', 0.7)\n\t\t\t.selectAll('line')\n\t\t\t.data(linkData)\n\t\t\t.join('line')\n\t\t\t.attr('class', 'graph-link')\n\t\t\t.attr('stroke-width', (d) => Math.sqrt(d.value));\n\n\t\tconst node = g\n\t\t\t.append('g')\n\t\t\t.selectAll('circle')\n\t\t\t.data(nodeData)\n\t\t\t.join('g')\n\t\t\t.call(this.drag(simulation))\n\t\t\t.append('circle')\n\t\t\t.attr('fill', this.props.theme.graphNodeColor)\n\t\t\t.attr('stroke', this.props.theme.graphNodeBorderColor)\n\t\t\t.on('contextmenu', (e, d) => {\n\t\t\t\te.preventDefault();\n\t\t\t\twindow.location.replace('/graph/' + d.uuid);\n\t\t\t})\n\t\t\t.on('mouseover', (e, d) => {\n\t\t\t\tselect(e.currentTarget).style('fill', this.props.theme.graphNodeHoverColor);\n\t\t\t\tselect(e.currentTarget).style('stroke', this.props.theme.graphNodeBorderHoverColor);\n\n\t\t\t\td.fx = null;\n\t\t\t\td.fy = null;\n\t\t\t})\n\t\t\t.on('mouseout', (e, d) => {\n\t\t\t\tselect(e.currentTarget).style('fill', this.props.theme.graphNodeColor);\n\t\t\t\tselect(e.currentTarget).style('stroke', this.props.theme.graphNodeBorderColor);\n\n\t\t\t\td.fx = null;\n\t\t\t\td.fy = null;\n\t\t\t})\n\t\t\t// .on('click', (e, d) => {\n\t\t\t//   e.preventDefault();\n\t\t\t//   this.props.showComponent('associationSider', d);\n\t\t\t// })\n\t\t\t.on('dblclick', (e, d) => {\n\t\t\t\te.preventDefault();\n\t\t\t\tif (d.type === 'text') {\n\t\t\t\t\twindow.location.replace('/edit/text/' + d.uuid);\n\t\t\t\t} else if (d.type === 'user') {\n\t\t\t\t\twindow.location.replace(`/profile/${this.props.user.username}`);\n\t\t\t\t} else {\n\t\t\t\t\twindow.location.replace('/associations/' + d.uuid);\n\t\t\t\t}\n\t\t\t})\n\t\t\t.attr('r', nodeScale)\n\t\t\t// .attr('cursor', 'grab')\n\t\t\t.attr('cursor', 'none')\n\t\t\t// .attr('fill', '#16e998')\n\t\t\t.attr('class', 'graph-node');\n\n\t\tconst text = selectAll('g g g')\n\t\t\t.append('text')\n\t\t\t.text((d) => d.name.substring(0, 100))\n\t\t\t.attr('font-size', '0.8rem')\n\t\t\t.attr('cursor', 'grab')\n\t\t\t// .on('mouseover', (e, d) => {\n\t\t\t// \t// on mouseover without a click run simulation\n\t\t\t// \td.fx = null;\n\t\t\t// \td.fy = null;\n\t\t\t// })\n\t\t\t// .attr('cursor', 'none')\n\t\t\t// .attr('stroke', 'white')\n\t\t\t// .attr('stroke-width', 0.1)\n\t\t\t.attr('class', 'graph-text');\n\t\t// .call(this.drag(simulation));\n\n\t\tsvg.call(zoomData).call(zoomData.transform, initialZoom);\n\n\t\tfunction zoomed({ transform }) {\n\t\t\tg.attr('transform', transform);\n\t\t}\n\n\t\tsimulation.on('tick', () => {\n\t\t\t// update link location values\n\t\t\tlink\n\t\t\t\t.attr('x1', (d) => d.source.x)\n\t\t\t\t.attr('y1', (d) => d.source.y)\n\t\t\t\t.attr('x2', (d) => d.target.x)\n\t\t\t\t.attr('y2', (d) => d.target.y);\n\t\t\t// update node location values\n\t\t\tnode.attr('cx', (d) => d.x).attr('cy', (d) => d.y);\n\t\t\t// update text location values\n\t\t\ttext.attr('x', (d) => d.x + nodeScale).attr('y', (d) => d.y - nodeScale);\n\t\t});\n\n\t\treturn svg.node();\n\t};\n\n\tdrag = (simulation) => {\n\t\tfunction dragstarted(event, d) {\n\t\t\t// move the dragged item to the top\n\t\t\tvar sel = select(this);\n\t\t\tsel.raise();\n\t\t\t// hide cursor\n\t\t\tdocument.body.style.cursor = 'none';\n\t\t\t// handle updating of coords\n\t\t\tif (!event.active) simulation.alphaTarget(0.3).restart();\n\t\t\td.fx = d.x;\n\t\t\td.fy = d.y;\n\t\t}\n\n\t\tfunction dragged(event, d) {\n\t\t\tdocument.body.style.cursor = 'none';\n\t\t\td.fx = event.x;\n\t\t\td.fy = event.y;\n\t\t}\n\n\t\tfunction dragended(event, d) {\n\t\t\tif (!event.active) simulation.alphaTarget(0);\n\t\t\t// d.fx = null;\n\t\t\t// d.fy = null;\n\t\t\twindow.setTimeout(() => {\n\t\t\t\t// show cursor\n\t\t\t\tdocument.body.style.cursor = 'auto';\n\t\t\t}, 333);\n\t\t}\n\n\t\treturn drag().on('start', dragstarted).on('drag', dragged).on('end', dragended);\n\t};\n\n\trender() {\n\t\treturn (\n\t\t\t<Layout className='page-layout'>\n\t\t\t\t{this.renderMainSider()}\n\t\t\t\t{this.renderAssociationSider()}\n\t\t\t\t<Layout>\n\t\t\t\t\t<Content\n\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\tpaddingTop: '0',\n\t\t\t\t\t\t}}\n\t\t\t\t\t>\n\t\t\t\t\t\t{/*  <IOBar />*/}\n\t\t\t\t\t\t<IOBar />\n\t\t\t\t\t\t<div\n\t\t\t\t\t\t\tclassName='graph-container'\n\t\t\t\t\t\t\t// style={this.renderBackgroundImage()}\n\t\t\t\t\t\t\tref={(node) => (this.node = node)}\n\t\t\t\t\t\t></div>\n\t\t\t\t\t\t{this.renderAssociationList()}\n\t\t\t\t\t</Content>\n\t\t\t\t</Layout>\n\t\t\t</Layout>\n\t\t);\n\t}\n}\n\nconst mapStateToProps = (state) => {\n\treturn {\n\t\tassociations: state.associations.associationList,\n\t\tuser: state.auth.user,\n\t\tactiveNode: state.nodes.activeNode,\n\t\tgraphData: state.graph.graphData,\n\t\tloading: state.graph.isFetching,\n\t\tassociationSider: state.components.componentList['associationSider'],\n\t\tmainSider: state.components.componentList['mainSider'],\n\t\tnodeList: state.nodes.nodeList,\n\t\tquery: state.nodes.query,\n\t\tisFetching: state.nodes.isFetching,\n\t\ttheme: state.components.theme,\n\t};\n};\n\nexport default connect(mapStateToProps, {\n\tfetchNodes,\n\tshowComponent,\n\tfetchGraphData,\n\tfetchAssociations,\n\tsetActiveNode,\n})(GraphBrowser);\n","import instance from '../../../api/instance';\nimport history from '../../../utils/history';\nimport {\n\tFETCH_GRAPH_DATA,\n\tFETCH_GRAPH_DATA_ERROR,\n\tFETCH_GRAPH_DATA_SUCCESS,\n\tRESET_APP,\n} from './types';\nimport { message } from 'antd';\n\n// fetch a list of nodes\nexport const fetchGraphData = (query) => async (dispatch) => {\n\tlet graphRenderLimit = JSON.parse(localStorage.getItem('graph-render-limit'));\n\t// default to 100 if there's no value\n\tif (!graphRenderLimit) {\n\t\tgraphRenderLimit = 100;\n\t}\n\t// lets make our request now\n\ttry {\n\t\tdispatch({ type: FETCH_GRAPH_DATA });\n\t\tconst response = await instance.get('/node/graph', {\n\t\t\tparams: {\n\t\t\t\tanchorNode: query.anchorNode,\n\t\t\t\ttype: query.type,\n\t\t\t\tsearchQuery: query.searchQuery,\n\t\t\t\tgraphRenderLimit: graphRenderLimit,\n\t\t\t},\n\t\t});\n\t\tdispatch({ type: FETCH_GRAPH_DATA_SUCCESS, payload: response.data, query });\n\t} catch (err) {\n\t\tdispatch({ type: FETCH_GRAPH_DATA_ERROR });\n\t\tdispatch({ type: RESET_APP });\n\t\tmessage.error('Could not fetch items', 1);\n\t\thistory.push('/');\n\t}\n};\n","import React, { Component, Fragment } from 'react';\nimport { connect } from 'react-redux';\n// custom code\nimport './NodeList.less';\nimport { fetchNodes } from '../../../api/redux/actions';\nimport NodeCard from './NodeCard';\nimport AssociationSider from '../association/AssociationSider';\nimport Spinner from '../Spinner';\n\nclass PinList extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\ttopOfPage: false,\n\t\t};\n\t}\n\n\tcomponentDidMount() {\n\t\tthis.props.fetchNodes({\n\t\t\tpage: 1,\n\t\t\ttype: this.props.query.type,\n\t\t\tsearchQuery: this.props.query.searchQuery,\n\t\t\tpinned: true,\n\t\t\tsortType: this.props.query.sortType,\n\t\t\tsortOrder: this.props.query.sortOrder,\n\t\t});\n\t\twindow.addEventListener('scroll', this.infiniteScroll);\n\t}\n\n\tcomponentWillUnmount() {\n\t\twindow.removeEventListener('scroll', this.infiniteScroll);\n\t}\n\n\tinfiniteScroll = (e) => {\n\t\tif (this.endReached() && !this.props.isFetching) {\n\t\t\tthis.setState({ topOfPage: false });\n\t\t\t// fetch the next page\n\t\t\tthis.props.fetchNodes({\n\t\t\t\tpage: this.props.query.page + 1,\n\t\t\t\ttype: this.props.query.type,\n\t\t\t\tsearchQuery: this.props.query.searchQuery,\n\t\t\t\tpinned: true,\n\t\t\t\tsortType: this.props.query.sortType,\n\t\t\t\tsortOrder: this.props.query.sortOrder,\n\t\t\t});\n\t\t}\n\t};\n\n\tendReached = () => {\n\t\t// window calculations to tell when the user scrolls to the bottom\n\t\tconst windowHeight =\n\t\t\t'innerHeight' in window ? window.innerHeight : document.documentElement.offsetHeight;\n\t\tconst body = document.body;\n\t\tconst html = document.documentElement;\n\t\tconst docHeight = Math.max(\n\t\t\tbody.scrollHeight,\n\t\t\tbody.offsetHeight,\n\t\t\thtml.clientHeight,\n\t\t\thtml.scrollHeight,\n\t\t\thtml.offsetHeight\n\t\t);\n\t\tconst windowBottom = windowHeight + window.pageYOffset;\n\t\t// check if the top is reached\n\t\tif (window.pageYOffset < 1 && !this.props.isFetching && !this.state.topOfPage) {\n\t\t\tthis.setState({ topOfPage: true });\n\t\t\t// at the top of the page, reset the nodelist\n\t\t\tthis.props.fetchNodes({\n\t\t\t\tpage: 1,\n\t\t\t\ttype: this.props.query.type,\n\t\t\t\tsearchQuery: this.props.query.searchQuery,\n\t\t\t\tpinned: true,\n\t\t\t\tsortType: this.props.query.sortType,\n\t\t\t\tsortOrder: this.props.query.sortOrder,\n\t\t\t});\n\t\t}\n\t\t// if it's not the top of the page go ahead and fetch more\n\t\treturn windowBottom >= docHeight - 733;\n\t};\n\n\trenderPinList = () => {\n\t\t// go through the list of nodes and render them to the page\n\t\tconst nodeList = this.props.nodes;\n\t\t// if there are nodes go ahead and render\n\t\tif (nodeList !== null) {\n\t\t\treturn nodeList.map((node) => {\n\t\t\t\tif (node.uuid) {\n\t\t\t\t\t// return <NodeCardFull key={node.uuid} node={node} />\n\t\t\t\t\treturn <NodeCard key={node.uuid} node={node} />;\n\t\t\t\t} else {\n\t\t\t\t\treturn <Fragment></Fragment>;\n\t\t\t\t}\n\t\t\t});\n\t\t} else {\n\t\t\treturn <Spinner></Spinner>;\n\t\t}\n\t};\n\n\trender() {\n\t\treturn (\n\t\t\t<div className='nodelist-container'>\n\t\t\t\t<ul className='nodelist'>{this.renderPinList()}</ul>\n\t\t\t\t<AssociationSider />\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nconst mapStateToProps = (state) => {\n\treturn {\n\t\tnodes: state.nodes.nodeList,\n\t\tquery: state.nodes.query,\n\t\ttotalNodes: state.nodes.totalItems,\n\t\tisFetching: state.nodes.isFetching,\n\t};\n};\n\nexport default connect(mapStateToProps, { fetchNodes })(PinList);\n","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { Link } from 'react-router-dom';\nimport { Layout, Button, Select, Icon } from 'antd';\n// custom code\nimport './css/IOBar.less';\nimport {\n\tsignOut,\n\tcreateUrlNode,\n\tcreateNode,\n\tsearchNodes,\n\tshowComponent,\n\thideComponent,\n} from '../../api/redux/actions';\n// destructure antd components\nconst { Header } = Layout;\nconst { Option } = Select;\n\nclass PinHeader extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\tinput: this.props.query.searchQuery || '',\n\t\t\tnodeTypes: this.props.query.type || 'all',\n\t\t};\n\t}\n\n\ttoggleMainSider = async () => {\n\t\tif (this.props.mainSider) {\n\t\t\tthis.props.hideComponent('mainSider');\n\t\t} else {\n\t\t\tthis.props.showComponent('mainSider');\n\t\t}\n\t};\n\n\t// handle text input\n\tcommandHandler = () => {\n\t\treturn this.props.searchNodes({\n\t\t\tsearchQuery: this.state.input,\n\t\t\ttype: this.state.nodeTypes,\n\t\t});\n\t};\n\n\t// include an \"all\" option for queries\n\trenderSelectBefore = () => {\n\t\treturn (\n\t\t\t<Select\n\t\t\t\tshowSearch\n\t\t\t\tshowArrow={false}\n\t\t\t\tvalue={this.state.nodeTypes}\n\t\t\t\tonChange={(value) => this.setState({ nodeTypes: value })}\n\t\t\t>\n\t\t\t\t<Option value='all'>all</Option>\n\t\t\t\t<Option value='url'>urls</Option>\n\t\t\t\t<Option value='text'>text</Option>\n\t\t\t\t<Option value='file'>file</Option>\n\t\t\t\t<Option value='image'>images</Option>\n\t\t\t\t<Option value='collection'>collections</Option>\n\t\t\t</Select>\n\t\t);\n\t};\n\n\trender() {\n\t\treturn (\n\t\t\t<div>\n\t\t\t\t<Header className='page-header'>\n\t\t\t\t\t<ul\n\t\t\t\t\t\tclassName='nav-list'\n\t\t\t\t\t\tstyle={{ width: 'auto', justifyContent: 'left', marginLeft: '1.1rem' }}\n\t\t\t\t\t>\n\t\t\t\t\t\t<li className='nav-item io-sider-button mobile-visible' style={{ marginRight: '0' }}>\n\t\t\t\t\t\t\t<Button type='default' shape='circle' onClick={(e) => this.toggleMainSider()}>\n\t\t\t\t\t\t\t\t<Icon type={'bars'} theme='outlined' />\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t</li>\n\t\t\t\t\t\t<li className='nav-item io-sider-button' style={{ marginRight: '0.5rem' }}>\n\t\t\t\t\t\t\t<Link type='default' to={`/graph`}>\n\t\t\t\t\t\t\t\t<Icon\n\t\t\t\t\t\t\t\t\ttype={'deployment-unit'}\n\t\t\t\t\t\t\t\t\ttheme='outlined'\n\t\t\t\t\t\t\t\t\t// style={{ color: '#ec486c' }}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t</li>\n\t\t\t\t\t\t<li className='nav-item io-sider-button'>\n\t\t\t\t\t\t\t<Link type='default' to={`/`}>\n\t\t\t\t\t\t\t\t<Icon\n\t\t\t\t\t\t\t\t\ttype={'home'}\n\t\t\t\t\t\t\t\t\ttheme='filled'\n\t\t\t\t\t\t\t\t\t// style={{ color: '#3ce458' }}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t</li>\n\t\t\t\t\t\t<li className='nav-item'>\n\t\t\t\t\t\t\t<p style={{ color: 'grey', paddingLeft: '0.7rem' }}>favorites</p>\n\t\t\t\t\t\t</li>\n\t\t\t\t\t</ul>\n\t\t\t\t</Header>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nconst mapStateToProps = (state) => {\n\treturn {\n\t\tuser: state.auth.user,\n\t\tquery: state.nodes.query,\n\t\tmainSider: state.components.componentList['mainSider'],\n\t\tactiveNode: state.nodes.activeNode,\n\t};\n};\n\nexport default connect(mapStateToProps, {\n\tsignOut,\n\tsearchNodes,\n\tcreateNode,\n\tcreateUrlNode,\n\tshowComponent,\n\thideComponent,\n})(PinHeader);\n","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { Layout } from 'antd';\n// custom code\nimport MainSider from '../elements/MainSider';\nimport PinList from '../elements/node/PinList';\nimport PinHeader from '../elements/PinHeader';\n\nconst { Content } = Layout;\n\nclass Pins extends Component {\n\tcomponentDidMount() {\n\t\tdocument.title = 'pins';\n\t\t// temporary fix to undo whatever is setting overflow hidden on-login\n\t\tdocument.body.style.removeProperty('overflow');\n\t\twindow.scrollTo({ top: 0, behavior: 'smooth' });\n\t}\n\n\trenderMainSider = () => {\n\t\tif (this.props.mainSider) {\n\t\t\treturn <MainSider />;\n\t\t}\n\t};\n\n\trender() {\n\t\treturn (\n\t\t\t<Layout className='page-layout'>\n\t\t\t\t<Layout>\n\t\t\t\t\t{this.renderMainSider()}\n\t\t\t\t\t<Content style={{ minHeight: '100vh' }}>\n\t\t\t\t\t\t<PinHeader />\n\t\t\t\t\t\t<div className='list-container'>\n\t\t\t\t\t\t\t<PinList />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</Content>\n\t\t\t\t</Layout>\n\t\t\t</Layout>\n\t\t);\n\t}\n}\n\nconst mapStateToProps = (state) => {\n\treturn {\n\t\tisSignedIn: state.auth.isSignedIn,\n\t\tmainSider: state.components.componentList['mainSider'],\n\t};\n};\n\nexport default connect(mapStateToProps)(Pins);\n","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { Layout } from 'antd';\nimport { getRandomNode } from '../../api/redux/actions';\n// custom code\n\nclass RandomRedirect extends Component {\n\tcomponentDidMount() {\n\t\tlocalStorage.setItem('flash', false);\n\t\tsetInterval(this.props.getRandomNode(), 50);\n\t}\n\n\trender() {\n\t\treturn <Layout style={{ height: '100vh' }}></Layout>;\n\t}\n}\n\nexport default connect(null, { getRandomNode })(RandomRedirect);\n","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\n// import { message } from 'antd';\nimport './ElectronSearch.less';\n\n// this component sends \"search strings\" to electron findInPage\nclass ElectronSearch extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.searchInput = React.createRef();\n\t}\n\n\tcomponentWillUnmount() {\n\t\twindow.api.send('toMain', { action: 'hide-search' });\n\t}\n\n\thandleElectronSearch = (e) => {\n\t\twindow.api.send('toMain', { action: 'search', query: e.target.value });\n\n\t\tsetTimeout(() => {\n\t\t\tthis.searchInput.current.focus();\n\t\t}, 100);\n\t};\n\n\trender() {\n\t\treturn (\n\t\t\t<div className='electron-search'>\n\t\t\t\t<input\n\t\t\t\t\ttype='text'\n\t\t\t\t\tautoFocus\n\t\t\t\t\tref={this.searchInput}\n\t\t\t\t\tid='electron-search-input'\n\t\t\t\t\tonKeyPress={(e) => {\n\t\t\t\t\t\tif (e.key === 'Enter') {\n\t\t\t\t\t\t\tthis.handleElectronSearch(e);\n\t\t\t\t\t\t}\n\t\t\t\t\t}}\n\t\t\t\t></input>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default connect(null, {})(ElectronSearch);\n","// SPECIAL COMPONENT\n// this is a special component to integrate with redux\n// while also sending & recieving messages from electron\nimport React, { Component, Fragment } from 'react';\nimport { connect } from 'react-redux';\nimport ElectronSearch from './ElectronSearch';\nimport { showComponent, hideComponent } from '../../api/redux/actions';\nimport { message, Modal } from 'antd';\nimport history from '../../utils/history';\n\n// a place to send & recieve messages to & from electron\nclass ElectronMessage extends Component {\n\tcomponentDidMount() {\n\t\t// load up window.api.recieve function\n\t\tif (window.api) {\n\t\t\twindow.api.receive('fromMain', (data) => {\n\t\t\t\tswitch (data.message) {\n\t\t\t\t\tcase 'search':\n\t\t\t\t\t\tif (!this.props.electronSearchData) {\n\t\t\t\t\t\t\tthis.props.showComponent('electronSearch');\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tthis.props.hideComponent('electronSearch');\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn;\n\t\t\t\t\tcase 'update-available':\n\t\t\t\t\t\tif (!this.props.updateAvailable) {\n\t\t\t\t\t\t\tthis.props.showComponent('updateAvailable');\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tthis.props.hideComponent('updateAvailable');\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn;\n\t\t\t\t\tcase 'search-all':\n\t\t\t\t\t\t// autofocus on the search bar, if it is onscreen & not selected\n\t\t\t\t\t\tif (document.getElementById('nav-primary-search')) {\n\t\t\t\t\t\t\twindow.scrollTo({ top: 0 });\n\t\t\t\t\t\t\tdocument.getElementById('nav-primary-search').select();\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\thistory.push('/');\n\t\t\t\t\t\t\twindow.scrollTo({ top: 0 });\n\t\t\t\t\t\t\tdocument.getElementById('nav-primary-search').select();\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn;\n\t\t\t\t\tcase 'latest-version':\n\t\t\t\t\t\tmessage.success('Synthona Is Up To Date', 2);\n\t\t\t\t\t\treturn;\n\t\t\t\t\tcase 'load-backend-config':\n\t\t\t\t\t\twindow.localStorage.setItem('backend-config', JSON.stringify(data.config));\n\t\t\t\t\t\treturn;\n\t\t\t\t\tdefault:\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t}\n\n\trenderElectronSearch = () => {\n\t\tif (this.props.electronSearchData && this.props.electronSearchData.visible) {\n\t\t\treturn <ElectronSearch />;\n\t\t}\n\t};\n\n\trenderUpdateAvailableModal = () => {\n\t\tif (this.props.updateAvailable && this.props.updateAvailable.visible) {\n\t\t\treturn (\n\t\t\t\t<Modal\n\t\t\t\t\ttitle={'A New Version Is Available!'}\n\t\t\t\t\tvisible={true}\n\t\t\t\t\tclassName='signout-modal'\n\t\t\t\t\tcentered\n\t\t\t\t\tonOk={(e) => window.open('http://www.synthona.net', '_blank')}\n\t\t\t\t\tokType='primary'\n\t\t\t\t\tokText='Yes!'\n\t\t\t\t\tclosable={false}\n\t\t\t\t\tonCancel={() => this.props.hideComponent('updateAvailable')}\n\t\t\t\t>\n\t\t\t\t\t<p>An upgrade for Synthona is available. Do you want to know more?</p>\n\t\t\t\t</Modal>\n\t\t\t);\n\t\t}\n\t};\n\n\trender() {\n\t\treturn (\n\t\t\t<Fragment>\n\t\t\t\t{this.renderElectronSearch()}\n\t\t\t\t{this.renderUpdateAvailableModal()}\n\t\t\t</Fragment>\n\t\t);\n\t}\n}\n\nconst mapStateToProps = (state) => {\n\treturn {\n\t\telectronSearchData: state.components.componentList['electronSearch'],\n\t\tupdateAvailable: state.components.componentList['updateAvailable'],\n\t};\n};\n\nexport default connect(mapStateToProps, { showComponent, hideComponent })(ElectronMessage);\n","import React, { Component } from 'react';\nimport { Route, Switch } from 'react-router-dom';\nimport { connect } from 'react-redux';\n// custom code\nimport '../app.less';\nimport { isElectron } from '../utils/environment';\nimport { isAuthenticated } from '../api/redux/actions';\n// custom components\nimport Theme from './Theme';\nimport Login from './layouts/Login';\nimport ForgotPassword from './layouts/ForgotPassword';\nimport Home from './layouts/Home';\nimport Profile from './layouts/Profile';\nimport Options from './layouts/Options';\nimport Activity from './layouts/Activity';\nimport QuillEditor from './QuillEditor/QuillEditor';\nimport Collections from './layouts/Collections';\nimport Spinner from './elements/Spinner';\nimport CreateAccount from './layouts/CreateAccount';\nimport AssociationBrowser from './layouts/AssociationBrowser';\nimport GraphBrowser from './layouts/GraphBrowser';\nimport Pins from './layouts/Pins';\nimport RandomRedirect from './layouts/RandomRedirect';\n// special\nimport ElectronMessage from './electron/ElectronMessage';\n\nclass App extends Component {\n\tcomponentDidMount() {\n\t\tif (this.props.isAuth === null) {\n\t\t\tthis.props.isAuthenticated();\n\t\t}\n\t\t// if (window.api) {\n\t\t// \twindow.api.receive('fromMain', (data) => {\n\t\t// \t\tconsole.log(data);\n\t\t// \t});\n\t\t// }\n\t\t// window.api.send('toMain', 'some data');\n\t}\n\n\trenderElectronMessage = () => {\n\t\t// initialize the electron-message module\n\t\t// if this is an electron environment\n\t\tif (isElectron()) {\n\t\t\treturn <ElectronMessage />;\n\t\t}\n\t};\n\n\trender() {\n\t\tlet routes;\n\t\tif (this.props.isAuth) {\n\t\t\troutes = (\n\t\t\t\t<Theme>\n\t\t\t\t\t<Switch>\n\t\t\t\t\t\t<Route path='/' exact component={Home} />\n\t\t\t\t\t\t<Route path='/profile/:username' exact component={Profile} />\n\t\t\t\t\t\t<Route path='/activity' exact component={Activity} />\n\t\t\t\t\t\t<Route path='/collections' exact component={Collections} />\n\t\t\t\t\t\t<Route path='/edit/text/:uuid' exact component={QuillEditor} />\n\t\t\t\t\t\t<Route path='/edit/profile' exact component={Options} />\n\t\t\t\t\t\t<Route path='/associations/:uuid' exact component={AssociationBrowser} />\n\t\t\t\t\t\t<Route path='/graph/:uuid?' exact component={GraphBrowser} />\n\t\t\t\t\t\t<Route path='/pins' exact component={Pins} />\n\t\t\t\t\t\t<Route path='/random' exact component={RandomRedirect} />\n\t\t\t\t\t</Switch>\n\t\t\t\t</Theme>\n\t\t\t);\n\t\t} else if (this.props.isFetchingAuth) {\n\t\t\troutes = <Spinner />;\n\t\t} else {\n\t\t\troutes = (\n\t\t\t\t<Switch>\n\t\t\t\t\t<Route path='/' exact component={Login} />\n\t\t\t\t\t<Route path='/create-account' exact component={CreateAccount} />\n\t\t\t\t\t<Route path='/forgot-password' exact component={ForgotPassword} />\n\t\t\t\t\t<Route component={Login} />\n\t\t\t\t</Switch>\n\t\t\t);\n\t\t}\n\t\treturn (\n\t\t\t<div style={{ backgroundColor: '#272727' }}>\n\t\t\t\t{this.renderElectronMessage()}\n\t\t\t\t{routes}\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nconst mapStateToProps = (state) => {\n\treturn {\n\t\tuser: state.auth.user,\n\t\tisFetchingAuth: state.auth.isFetching,\n\t\tisAuth: state.auth.isAuth,\n\t};\n};\n\nexport default connect(mapStateToProps, { isAuthenticated })(App);\n","import {\n  CREATE_ACCOUNT,\n  CREATE_ACCOUNT_SUCCESS,\n  CREATE_ACCOUNT_ERROR,\n  SIGN_IN,\n  SIGN_IN_SUCCESS,\n  SIGN_IN_ERROR,\n  SIGN_OUT,\n  SIGN_OUT_ERROR,\n  REFRESH_AUTH,\n  REFRESH_AUTH_SUCCESS,\n  REFRESH_AUTH_ERROR,\n  UPDATE_USER_NODE,\n  UPDATE_USER_NODE_ERROR,\n  UPDATE_USER_NODE_SUCCESS,\n  UPDATE_USER_AVATAR,\n  UPDATE_USER_AVATAR_SUCCESS,\n  UPDATE_USER_AVATAR_ERROR,\n  UPDATE_USER_HEADER,\n  UPDATE_USER_HEADER_SUCCESS,\n  UPDATE_USER_HEADER_ERROR,\n} from '../actions/types';\n\nconst INITIAL_STATE = {\n  isAuth: null,\n  isFetching: null,\n  user: null,\n};\n\n// reducer for authentication state and user object\nexport default (state = INITIAL_STATE, action) => {\n  switch (action.type) {\n    case CREATE_ACCOUNT:\n      return { ...state, isFetching: true };\n    case CREATE_ACCOUNT_SUCCESS:\n      return {\n        ...state,\n        isFetching: false,\n        user: action.payload,\n        isAuth: true,\n      };\n    case CREATE_ACCOUNT_ERROR:\n      return { ...state, isFetching: null, user: null, isAuth: false };\n    case SIGN_IN:\n      return { ...state, isFetching: true };\n    case SIGN_IN_SUCCESS:\n      return {\n        ...state,\n        isFetching: false,\n        user: action.payload,\n        isAuth: true,\n      };\n    case SIGN_IN_ERROR:\n      return { ...state, isFetching: null, user: null, isAuth: false };\n    case SIGN_OUT:\n      return { ...state, isFetching: true };\n    case SIGN_OUT_ERROR:\n      return { ...state, isFetching: null };\n    case REFRESH_AUTH:\n      return {\n        ...state,\n        isFetching: true,\n        user: action.payload,\n        isAuth: action.isAuth,\n      };\n    case REFRESH_AUTH_SUCCESS:\n      return { isFetching: null, user: action.payload, isAuth: true };\n    case REFRESH_AUTH_ERROR:\n      return { ...state, isFetching: null, user: null, isAuth: false };\n    case UPDATE_USER_NODE:\n      return { ...state, isFetching: true };\n    case UPDATE_USER_NODE_SUCCESS:\n      return { ...state, isFetching: null, user: action.user };\n    case UPDATE_USER_NODE_ERROR:\n      return { ...state, isFetching: null };\n    case UPDATE_USER_AVATAR:\n      return { ...state, isFetching: true };\n    case UPDATE_USER_AVATAR_SUCCESS:\n      window.location.reload();\n      return { ...state, isFetching: null, user: { ...state.user, avatar: action.url } };\n    case UPDATE_USER_AVATAR_ERROR:\n      return { ...state, isFetching: null };\n    case UPDATE_USER_HEADER:\n      return { ...state, isFetching: true };\n    case UPDATE_USER_HEADER_SUCCESS:\n      window.location.reload();\n      return { ...state, isFetching: null, user: { ...state.user, header: action.url } };\n    case UPDATE_USER_HEADER_ERROR:\n      return { ...state, isFetching: null };\n    default:\n      return state;\n  }\n};\n","import {\n\tEDIT_TEXT_NODE,\n\tEDIT_TEXT_NODE_SUCCESS,\n\tEDIT_TEXT_NODE_ERROR,\n\tFETCH_NODES,\n\tFETCH_NODES_SUCCESS,\n\tFETCH_NODES_ERROR,\n\tUPDATE_NODE,\n\tUPDATE_NODE_ERROR,\n\tUPDATE_NODE_SUCCESS,\n\tUPDATE_ACTIVE_NODE,\n\tUPDATE_ACTIVE_NODE_ERROR,\n\tUPDATE_ACTIVE_NODE_SUCCESS,\n\tPROCESS_TEXT_NODE,\n\tPROCESS_TEXT_NODE_SUCCESS,\n\tPROCESS_TEXT_NODE_ERROR,\n\tCREATE_FILE_NODE,\n\tCREATE_FILE_NODE_SUCCESS,\n\tCREATE_FILE_NODE_ERROR,\n\tLINK_FILE_NODES,\n\tLINK_FILE_NODES_ERROR,\n\tLINK_FILE_NODES_SUCCESS,\n\tSEARCH_NODES,\n\tSEARCH_NODES_SUCCESS,\n\tSEARCH_NODES_ERROR,\n\tMARK_NODE_VIEW,\n\tMARK_NODE_VIEW_SUCCESS,\n\tMARK_NODE_VIEW_ERROR,\n\tCREATE_NODE,\n\tCREATE_NODE_SUCCESS,\n\tCREATE_NODE_ERROR,\n\tSET_ACTIVE_NODE,\n\tSET_ACTIVE_NODE_SUCCESS,\n\tSET_ACTIVE_NODE_ERROR,\n\tDELETE_NODE,\n\tDELETE_NODE_ERROR,\n\tDELETE_NODE_SUCCESS,\n\tCLEAR_ACTIVE_NODE,\n\tGENERATE_EXPORT,\n\tGENERATE_EXPORT_ERROR,\n\tGENERATE_EXPORT_SUCCESS,\n} from '../actions/types';\n\nconst INITIAL_STATE = {\n\tisFetching: null,\n\tisSaving: null,\n\tisDeleting: null,\n\tnodeList: [],\n\ttotalItems: null,\n\tquery: {\n\t\tpage: 1,\n\t\tsortOrder: localStorage.getItem('sortOrder') || 'DESC',\n\t\tsortType: localStorage.getItem('sortType') || 'recent',\n\t},\n\tactiveNode: null,\n};\n\n// reducer for content nodes\nexport default (state = INITIAL_STATE, action) => {\n\tswitch (action.type) {\n\t\tcase FETCH_NODES:\n\t\t\treturn { ...state, isFetching: true };\n\t\tcase FETCH_NODES_SUCCESS:\n\t\t\tvar nodesArray;\n\t\t\t// reset nodesArray if page number has decreased\n\t\t\tif (action.query.page > state.query.page) {\n\t\t\t\tnodesArray = [...state.nodeList];\n\t\t\t} else {\n\t\t\t\tnodesArray = [];\n\t\t\t}\n\t\t\t// update the nodelist with the new values\n\t\t\tObject.values(action.payload.nodes).forEach((node) => {\n\t\t\t\tif (!nodesArray.some((item) => item.uuid === node.uuid)) {\n\t\t\t\t\tnodesArray.push(node);\n\t\t\t\t}\n\t\t\t});\n\t\t\t// if (nodesArray.length > 100) {\n\t\t\t// \t// if the length gets too long free up some memory\n\t\t\t// \tnodesArray.splice(0, action.payload.nodes.length);\n\t\t\t// }\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tisFetching: null,\n\t\t\t\tquery: action.query,\n\t\t\t\ttotalItems: action.payload.totalItems,\n\t\t\t\tnodeList: nodesArray,\n\t\t\t};\n\t\tcase FETCH_NODES_ERROR:\n\t\t\treturn { ...state, isFetching: null };\n\t\tcase SEARCH_NODES:\n\t\t\treturn { ...state, isFetching: true };\n\t\tcase SEARCH_NODES_SUCCESS:\n\t\t\tnodesArray = [];\n\t\t\t// update the nodelist with the new values\n\t\t\tObject.values(action.payload.nodes).forEach((node) => {\n\t\t\t\tif (!nodesArray.some((item) => item.uuid === node.uuid)) {\n\t\t\t\t\tnodesArray.push(node);\n\t\t\t\t}\n\t\t\t});\n\t\t\t// if (nodesArray.length > 100) {\n\t\t\t// \t// if the length gets too long free up some memory\n\t\t\t// \tnodesArray.splice(0, action.payload.nodes.length);\n\t\t\t// }\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tisFetching: null,\n\t\t\t\tquery: {\n\t\t\t\t\tpage: 1,\n\t\t\t\t\ttype: action.query.type,\n\t\t\t\t\tsearchQuery: action.query.searchQuery,\n\t\t\t\t\tsortType: action.query.sortType,\n\t\t\t\t\tsortOrder: action.query.sortOrder,\n\t\t\t\t},\n\t\t\t\ttotalItems: action.payload.totalItems,\n\t\t\t\tnodeList: nodesArray,\n\t\t\t};\n\t\tcase SEARCH_NODES_ERROR:\n\t\t\treturn { ...state, isFetching: null };\n\t\tcase UPDATE_NODE:\n\t\t\treturn { ...state, isSaving: true };\n\t\tcase UPDATE_NODE_ERROR:\n\t\t\treturn { ...state, isSaving: null };\n\t\tcase UPDATE_NODE_SUCCESS:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tisSaving: null,\n\t\t\t\tnodeList: state.nodeList.map((node) => {\n\t\t\t\t\tif (node.uuid === action.result.uuid) {\n\t\t\t\t\t\tnode = action.result;\n\t\t\t\t\t}\n\t\t\t\t\treturn node;\n\t\t\t\t}),\n\t\t\t};\n\t\tcase UPDATE_ACTIVE_NODE:\n\t\t\treturn { ...state, isSaving: true };\n\t\tcase UPDATE_ACTIVE_NODE_ERROR:\n\t\t\treturn { ...state, isSaving: null };\n\t\tcase UPDATE_ACTIVE_NODE_SUCCESS:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tisSaving: null,\n\t\t\t\tactiveNode: action.result.uuid === state.activeNode.uuid ? action.result : state.activeNode,\n\t\t\t\tnodeList: state.nodeList.map((node) => {\n\t\t\t\t\tif (node.uuid === action.result.uuid) {\n\t\t\t\t\t\tnode = action.result;\n\t\t\t\t\t}\n\t\t\t\t\treturn node;\n\t\t\t\t}),\n\t\t\t};\n\t\tcase EDIT_TEXT_NODE:\n\t\t\treturn { ...state, isSaving: true };\n\t\tcase EDIT_TEXT_NODE_SUCCESS:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tisSaving: null,\n\t\t\t\t// update the content on the activeNode\n\t\t\t\tactiveNode: {\n\t\t\t\t\t...state.activeNode,\n\t\t\t\t\tcontent: action.node.content,\n\t\t\t\t},\n\t\t\t};\n\t\tcase EDIT_TEXT_NODE_ERROR:\n\t\t\treturn { ...state, isSaving: null };\n\t\tcase PROCESS_TEXT_NODE:\n\t\t\treturn { ...state, isSaving: true };\n\t\tcase PROCESS_TEXT_NODE_SUCCESS:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tisSaving: null,\n\t\t\t\t// update the preview in the nodelist\n\t\t\t\t// leave everything else as-is\n\t\t\t\tnodeList: state.nodeList.map((node) => {\n\t\t\t\t\t// only update it for the processsed node\n\t\t\t\t\tif (node.uuid === action.node.uuid) {\n\t\t\t\t\t\tnode.preview = action.node.preview;\n\t\t\t\t\t}\n\t\t\t\t\treturn node;\n\t\t\t\t}),\n\t\t\t};\n\t\tcase PROCESS_TEXT_NODE_ERROR:\n\t\t\treturn { ...state, isSaving: null };\n\t\tcase CREATE_FILE_NODE:\n\t\t\treturn { ...state, isSaving: true };\n\t\tcase CREATE_FILE_NODE_SUCCESS:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tisFetching: null,\n\t\t\t\tnodeList: [action.payload, ...state.nodeList],\n\t\t\t};\n\t\tcase CREATE_FILE_NODE_ERROR:\n\t\t\treturn { ...state, isSaving: null };\n\t\tcase LINK_FILE_NODES:\n\t\t\treturn { ...state, isSaving: true };\n\t\tcase LINK_FILE_NODES_SUCCESS:\n\t\t\tvar linkNodesArray = [];\n\t\t\t// update the nodelist with the new values\n\t\t\taction.nodes.forEach((node) => {\n\t\t\t\tlinkNodesArray.push(node);\n\t\t\t});\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tisSaving: null,\n\t\t\t\tnodeList: [...linkNodesArray, ...state.nodeList],\n\t\t\t};\n\t\tcase LINK_FILE_NODES_ERROR:\n\t\t\treturn { ...state, isSaving: null };\n\t\tcase CREATE_NODE:\n\t\t\treturn { ...state, isSaving: true };\n\t\tcase CREATE_NODE_SUCCESS:\n\t\t\t// add new node to list and move to front of node order\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tisFetching: null,\n\t\t\t\tnodeList: [\n\t\t\t\t\taction.payload,\n\t\t\t\t\t...state.nodeList.filter((node) => node.uuid !== action.payload.uuid),\n\t\t\t\t],\n\t\t\t\tactiveNode: action.payload.node,\n\t\t\t};\n\t\tcase CREATE_NODE_ERROR:\n\t\t\treturn { ...state, isSaving: null };\n\t\tcase MARK_NODE_VIEW:\n\t\t\treturn { ...state, isSaving: true };\n\t\tcase MARK_NODE_VIEW_SUCCESS:\n\t\t\tvar newNodeList;\n\t\t\t// only send the node back to the beginning if the user is at the top of the list\n\t\t\tif (state.nodeList.length < 50) {\n\t\t\t\tnewNodeList = [\n\t\t\t\t\taction.node,\n\t\t\t\t\t...state.nodeList.filter((node) => node.uuid !== action.node.uuid),\n\t\t\t\t];\n\t\t\t} else {\n\t\t\t\t// otherwise just make it \"disapear\" to reappaar when they return to the top\n\t\t\t\tnewNodeList = [...state.nodeList.filter((node) => node.uuid !== action.node.uuid)];\n\t\t\t}\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tisSaving: null,\n\t\t\t\tnodeList: newNodeList,\n\t\t\t};\n\t\tcase MARK_NODE_VIEW_ERROR:\n\t\t\treturn { ...state, isSaving: null };\n\t\tcase SET_ACTIVE_NODE:\n\t\t\treturn { ...state, isFetching: true };\n\t\tcase SET_ACTIVE_NODE_SUCCESS:\n\t\t\treturn { ...state, isFetching: null, activeNode: action.payload.node };\n\t\tcase SET_ACTIVE_NODE_ERROR:\n\t\t\treturn { ...state, isFetching: null };\n\t\tcase CLEAR_ACTIVE_NODE:\n\t\t\treturn { ...state, activeNode: null };\n\t\tcase DELETE_NODE:\n\t\t\treturn { ...state, isDeleting: true };\n\t\tcase DELETE_NODE_SUCCESS:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\t// filter the node out of the list\n\t\t\t\tnodeList: [...state.nodeList.filter((node) => node.uuid !== action.uuid)],\n\t\t\t\tisDeleting: null,\n\t\t\t};\n\t\tcase DELETE_NODE_ERROR:\n\t\t\treturn { ...state, isDeleting: null };\n\t\tcase GENERATE_EXPORT:\n\t\t\treturn { ...state, isSaving: true };\n\t\tcase GENERATE_EXPORT_ERROR:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tisSaving: null,\n\t\t\t};\n\t\tcase GENERATE_EXPORT_SUCCESS:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tisSaving: null,\n\t\t\t};\n\t\tdefault:\n\t\t\treturn state;\n\t}\n};\n","import { SHOW_COMPONENT, HIDE_COMPONENT, LOAD_THEME } from '../actions/types';\n\nconst INITIAL_STATE = {\n\tcomponentList: {},\n};\n\n// reducer for UI components which need to store redux state\nexport default (state = INITIAL_STATE, action) => {\n\tswitch (action.type) {\n\t\tcase SHOW_COMPONENT:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tcomponentList: {\n\t\t\t\t\t...state.componentList,\n\t\t\t\t\t[action.payload.type]: { content: action.payload.content, visible: true },\n\t\t\t\t},\n\t\t\t};\n\t\tcase HIDE_COMPONENT:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tcomponentList: {\n\t\t\t\t\t...state.componentList,\n\t\t\t\t\t[action.payload.type]: null,\n\t\t\t\t},\n\t\t\t};\n\t\tcase LOAD_THEME:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\ttheme: action.payload.theme,\n\t\t\t};\n\t\tdefault:\n\t\t\treturn state;\n\t}\n};\n","import {\n  FETCH_GRAPH_DATA,\n  FETCH_GRAPH_DATA_ERROR,\n  FETCH_GRAPH_DATA_SUCCESS,\n} from '../actions/types';\n\nconst INITIAL_STATE = {\n  isFetching: null,\n  graphNodeList: [],\n  graphAssociationList: [],\n  totalItems: null,\n  query: { page: 1 },\n  activeNode: null,\n  graphData: null,\n};\n\n// reducer for content nodes\nexport default (state = INITIAL_STATE, action) => {\n  switch (action.type) {\n    case FETCH_GRAPH_DATA:\n      return { ...state, isFetching: true };\n    case FETCH_GRAPH_DATA_ERROR:\n      return { ...state, isFetching: null };\n    case FETCH_GRAPH_DATA_SUCCESS:\n      // format nodes\n      const nodeArray = [];\n      action.payload.nodes.map((node) => {\n        return nodeArray.push(node);\n      });\n      // format associations\n      const associationArray = [];\n      action.payload.associations.map((association) => {\n        const reformated = { source: association.nodeId, target: association.linkedNode };\n        return associationArray.push(reformated);\n      });\n      return {\n        ...state,\n        isFetching: null,\n        graphData: { nodes: nodeArray, associations: associationArray },\n      };\n    default:\n      return state;\n  }\n};\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Router } from 'react-router-dom';\nimport { Provider } from 'react-redux';\nimport { createStore, applyMiddleware, compose } from 'redux';\nimport reduxThunk from 'redux-thunk';\n//custom code\nimport history from './utils/history';\nimport App from './components/App';\nimport reducers from './api/redux/reducers';\n\n// add redux devtools\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\n// create store\nconst store = createStore(reducers, composeEnhancers(applyMiddleware(reduxThunk)));\n\nReactDOM.render(\n  <Provider store={store}>\n    <Router history={history}>\n      <App />\n    </Router>\n  </Provider>,\n  document.querySelector('#root')\n);\n","import { RESET_APP } from '../actions/types';\n// custom code\nimport authReducer from './authReducer';\nimport nodeReducer from './nodeReducer';\nimport componentReducer from './componentReducer';\nimport associationReducer from './associationReducer';\nimport graphReducer from './graphReducer';\n\n// custom combineReducers\nexport default (state = {}, action) => {\n  // reset app state if need-be\n  if (action.type === RESET_APP) {\n    state = {};\n  }\n\n  // return other reducers\n  return {\n    auth: authReducer(state.auth, action),\n    nodes: nodeReducer(state.nodes, action),\n    components: componentReducer(state.components, action),\n    associations: associationReducer(state.associations, action),\n    graph: graphReducer(state.graph, action),\n  };\n};\n","module.exports = __webpack_public_path__ + \"static/media/cloud9.22dc8cce.png\";","module.exports = __webpack_public_path__ + \"static/media/synthona-logo.b740604b.png\";"],"sourceRoot":""}
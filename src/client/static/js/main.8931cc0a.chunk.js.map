{"version":3,"sources":["utils/environment.js","resources/missing-file.png","utils/config.js","api/redux/reducers/associationReducer.js","utils/history.js","api/redux/reducers/authReducer.js","api/redux/actions/types.js","api/redux/reducers/nodeReducer.js","api/redux/reducers/componentReducer.js","api/redux/reducers/graphReducer.js","api/instance.js","api/redux/reducers/index.js","api/redux/actions/nodeActions.js","api/redux/actions/authActions.js","api/redux/actions/userActions.js","api/redux/actions/associationActions.js","api/redux/actions/componentActions.js","utils/theme.js","api/redux/actions/portActions.js","api/redux/actions/fileActions.js","components/Theme.js","components/layouts/Login.js","components/layouts/ForgotPassword.js","components/elements/Spinner.js","components/elements/MainSider.js","utils/validation.js","components/elements/IOBar.js","components/elements/node/NodeCardHeaderFull.js","components/elements/node/NodeCardHeader.js","types/render/core/Text.js","types/render/core/Image.js","types/render/core/Url.js","types/render/core/File.js","types/render/core/Folder.js","types/render/core/Audio.js","types/render/core/Package.js","types/render/core/Zip.js","types/render/core/Collection.js","types/render/core/User.js","types/render/NodeRenderer.js","components/elements/node/NodeCard.js","components/elements/association/AssociationLink.js","components/elements/association/AssociationLinkList.js","components/elements/association/AssociationSider.js","components/elements/node/NodeList.js","components/layouts/Home.js","components/layouts/Profile.js","components/elements/options/OptionListItem.js","components/elements/options/OptionsList.js","components/layouts/Options.js","components/elements/MainContent.js","components/layouts/Activity.js","components/elements/association/AssociationList.js","utils/renderlink.js","components/QuillEditor/QuillEditor.js","api/redux/actions/textActions.js","components/elements/MainFooter.js","components/layouts/Collections.js","components/layouts/CreateAccount.js","components/elements/node/NodeCardFull.js","components/layouts/AssociationBrowser.js","components/layouts/GraphBrowser.js","api/redux/actions/graphActions.js","components/elements/node/PinList.js","components/elements/PinHeader.js","components/layouts/Pins.js","components/layouts/RandomRedirect.js","components/electron/ElectronSearch.js","components/electron/ElectronMessage.js","components/App.js","index.js","resources/cloud9.png","resources/synthona-logo.png"],"names":["isElectron","window","process","type","versions","electron","navigator","userAgent","indexOf","module","exports","clientConfig","storageKey","name","options","value","loadClientConfig","configArray","localStorage","getItem","map","item","localItem","removeItem","location","reload","configValue","JSON","parse","key","setItem","stringify","backendConfigMap","FULLSCREEN","OPEN_URLS_IN_BROWSER","HTTP_CACHE","CLEAR_CACHE_ON_START","ENABLE_HARDWARE_ACCELERATION","DEBUG","SERVER_PORT","CLIENT_PORT","CLIENT_BASE","APP_NAME","SUMMONING_KEY","backendConfigFilter","newAssociationList","createBrowserHistory","INITIAL_STATE","isAuth","isFetching","user","state","action","payload","avatar","url","header","isSaving","isDeleting","nodeList","totalItems","query","page","sortOrder","sortType","activeNode","nodesArray","Object","values","nodes","forEach","node","some","uuid","push","searchQuery","result","content","preview","linkNodesArray","filter","newNodeList","length","componentList","visible","theme","editorTheme","associationLinkList","associationList","totalLinkListItems","totalAssociationListItems","associationListPage","associationLinkListPage","associationLinkListArray","associations","associationsArray","associatedNode","nodeUUID","linkedNode","association","linkedNodeUUID","addBackToList","newTotalLinkListItems","deletedUUID","newTotalItems","graphNodeList","graphAssociationList","graphData","nodeArray","associationArray","reformated","source","nodeId","target","CancelToken","axios","create","baseURL","REACT_APP_SERVER_PORT","hostname","port","withCredentials","cancelToken","token","composeEnhancers","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","auth","authReducer","nodeReducer","components","componentReducer","associationReducer","graph","graphReducer","applyMiddleware","reduxThunk","fetchNodes","dispatch","a","instance","get","params","perPage","pinned","response","data","history","searchNodes","message","error","updateNode","patch","path","createUrlNode","put","isFile","markNodeView","setActiveNode","getRandomNode","replace","clearActiveNode","signOut","success","fetchUserByUsername","username","fetchAssociations","linkMode","bidirectional","updateLinkStrength","nodeA","nodeB","showComponent","hideComponent","loadTheme","colors","cardTitleColor","cardButtonColor","cardHeaderColor","cardBodyColor","cardTextColor","graphNodeColor","graphNodeBorderColor","graphNodeHoverColor","graphNodeBorderHoverColor","textEditorBackground","textEditorText","setupTheme","setupEditorTheme","generateInstanceExport","status","linkFileNodes","fileList","launchFileNode","openFileInExplorer","connect","props","useEffect","loadBackground","customImage","bgImage","defaultBackground","src","alt","style","width","height","position","backgroundColor","children","Content","Footer","Login","getUsername","onSubmit","setSubmitting","signIn","document","title","className","initialValues","email","password","confirmPassword","validationSchema","this","isSubmitting","role","aria-label","paddingRight","placeholder","component","disabled","to","Component","Yup","shape","required","min","isSignedIn","formValues","displayName","ForgotPassword","forgotPassword","newPassword","confirmNewPassword","oneOf","Spinner","display","justifyContent","alignItems","alignment","size","Item","MainSider","signOutHandler","toggleSignoutModal","showSignoutModal","setState","body","removeProperty","renderDrawerClasses","animate","mainSider","mask","showMask","placement","closable","onClose","e","mode","defaultSelectedKeys","onClick","defaultAvatar","icon","verticalAlign","marginTop","objectFit","margin","preventDefault","open","centered","onOk","okType","okText","onCancel","validUrl","URL","_","isImageUrl","match","includes","Header","Option","IOBar","toggleInputMode","inputMode","modeIcon","nodeTypes","toggleMainSider","toggleSortOrder","renderCreateFileNodeOption","commandHandler","blur","input","createNodeHandler","createNode","selectElectronFile","selectLocalFile","selectElectronFolder","api","send","createElement","setAttribute","click","onchange","files","file","renderCreateFolderOption","renderSelectBefore","showSearch","showArrow","onChange","renderSelectAfter","Group","mouseEnterDelay","createType","queryType","fixed","marginRight","padding","href","onPressEnter","event","maxLength","defaultValue","addonBefore","addonAfter","id","delta","Delta","insert","NodeCardHeaderFull","saveName","updateActiveNode","nodeData","toggleDeleteModal","showDeleteModal","deleteHandler","deleting","deleteNode","toggleExportModal","showExportModal","exportHandler","generateExportByUUID","setUrlPreviewImage","togglePinned","pinnedState","setPreviewToLocalFilePath","clearNodePreview","renderTitle","editable","onBlur","autoFocus","onKeyPress","onFocus","select","color","onDoubleClick","renderContextualButtons","nodeMetaData","metadata","importing","expanded","removeImportsByPackage","unpackImport","showUrlPreviewImageModal","renderRevealInExplorerButton","renderExportButton","afterClose","getSelection","removeAllRanges","onKeyDown","delete","NodeCardHeader","tabIndex","renderLightbulbIcon","fontSize","textAlign","marginLeft","Text","element","shiftKey","handleClick","onContextMenu","handleAssociatonClick","renderNode","Image","fileLoadError","onFileLoadError","missingFileImage","onFullCardAction","launchExplorer","nodeCard","renderHeader","onClickAction","onError","imageClass","cursor","fullNode","Url","renderPreview","border","allowFullScreen","sandbox","rel","File","onContextAction","launchFile","full","Folder","minHeight","Audio","Package","Zip","Collection","onCollectionClick","previewCount","User","defaultHeader","NodeRenderer","handleNodeClick","siderNodeUUID","siderUUID","toggleHeader","showHeader","NodeCard","renderNodeCard","AssociationLink","handleDeleteAssociation","activeNodeUUID","deleteAssociationLink","pathname","removeFromAssociationList","renderAssociationLink","mouseLeaveDelay","AssociationLinkList","loadMore","fetchAssociationLinkList","parseInt","renderAssociationLinkList","list","renderLoadMoreButton","listLength","listStyle","AssociationSider","createAssociationHandler","nodeToAssociate","siderNode","associationSiderData","autocompleteValues","nodeUUIDToAssociate","createAssociation","autocompleteOptions","inputText","renderAutocompleteValues","associationAutocomplete","newValues","hideInfoSider","renderContent","documentElement","cssText","onSearch","onSelect","NodeList","infiniteScroll","endReached","topOfPage","windowHeight","innerHeight","offsetHeight","html","docHeight","Math","max","scrollHeight","clientHeight","windowBottom","pageYOffset","renderNodeList","encodeURIComponent","borderRadius","addEventListener","removeEventListener","totalNodes","Home","renderMainSider","scrollTo","top","behavior","Profile","toggleAvatarModal","avatarModal","initializeFromUrlParams","initialized","bio","marginBottom","draggable","viewBox","d","footer","OptionListItem","borderBottom","float","keyName","checked","checkedChildren","unCheckedChildren","toString","optionObject","renderInputType","OptionsList","loadOptions","clientConfigValues","backendConfig","updateClientConfigValue","newValue","newConfig","updateBackendConfigValue","existingBackendConfig","showRestartModal","updates","restartHandler","renderOptionsList","configList","backendKey","clientKey","cancelText","Options","updatePassword","togglePasswordModal","changePassword","handleClearNodes","toggleDeleteNodesModal","clearAllNodes","showPasswordModal","showDeleteNodesModal","passwordModal","oldPassword","deleteAllNodesModal","passwordValue","deleteNodesValidation","setAvatar","test","updateUserAvatar","setHeader","updateUserHeader","renderDisplayName","saveDisplayName","updateUserInfo","renderBio","saveBio","renderUsername","saveUsername","updateUsername","renderEmail","saveEmail","updateEmail","regenerateCollectionPreviews","updatedUser","imageData","FormData","append","headers","MainContent","Activity","AssociationList","currentListLength","renderNodes","renderList","renderlink","split","CustomClipboard","scrollY","left","scrollX","defaultPrevented","quill","isEnabled","range","retain","index","container","scrollTop","focus","setTimeout","selection","update","Quill","sources","SILENT","concat","convert","updateContents","USER","setSelection","bounds","getBounds","scrollingContainer","import","register","CustomLink","removeAttribute","querySelector","visibility","QuillEditor","ref","componentDidUpdate","querySelectorAll","tool","stopPropagation","textUUID","initializing","text","readOnly","regeneratePreview","quillScrollY","scroll","textValue","getEditor","clear","expandHandler","disable","exitHandler","getText","substring","processTextNode","selectLocalImage","createFileNode","insertEmbed","RegExp","matcherImageHandler","image","modules","toolbar","font","indent","background","align","script","handlers","expand","exit","clipboard","matchVisual","matchers","keyboard","bindings","renderLinkEnter","prefix","handler","context","handleRenderlinking","renderLinkSpace","allowedFormats","regex","phraseLinks","matchAll","editor","phrase","renderlinkUrl","phraseBase","escapedPhraseString","phraseRegex","duplicateList","shortenedPhraseBase","lengthDiff","getLength","exclusionData","lastCreatedPhrase","exclusionList","contextualCreate","phraseIndex","link","formatText","renderClassName","handleChange","bind","overflow","getContents","fullDelta","editTextNode","isLoading","formats","scrollBy","fileData","origin","console","MainFooter","Collections","CreateAccount","createAccount","paddingLeft","NodeCardFull","AssociationBrowser","regenerateCollectionPreview","collectionNode","i","err","paddingTop","GraphBrowser","fetchGraphData","anchorNode","renderGraph","renderAssociationSider","associationSider","renderAssociationList","zoomed","transform","g","attr","linkData","innerWidth","simulation","forceSimulation","force","forceLink","forceManyBody","strength","forceX","forceY","forceCenter","initialZoom","zoomIdentity","scale","translate","zoomData","zoom","scaleExtent","on","svg","selectAll","join","sqrt","call","drag","currentTarget","fx","fy","x","y","raise","active","alphaTarget","restart","loading","graphRenderLimit","PinList","renderPinList","PinHeader","Pins","RandomRedirect","setInterval","ElectronSearch","handleElectronSearch","searchInput","current","React","createRef","ElectronMessage","renderElectronSearch","electronSearchData","renderUpdateAvailableModal","updateAvailable","receive","getElementById","config","simplifiedPath","fileName","lastIndexOf","folderList","folder","folderName","App","renderElectronMessage","isAuthenticated","routes","exact","isFetchingAuth","ReactDOM","render"],"mappings":"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","file":"static/js/main.8931cc0a.chunk.js","sourcesContent":["export const isElectron = () => {\n\t// Renderer process\n\tif (\n\t\ttypeof window !== 'undefined' &&\n\t\ttypeof window.process === 'object' &&\n\t\twindow.process.type === 'renderer'\n\t) {\n\t\treturn true;\n\t}\n\t// Main process\n\tif (\n\t\ttypeof process !== 'undefined' &&\n\t\ttypeof process.versions === 'object' &&\n\t\t!!process.versions.electron\n\t) {\n\t\treturn true;\n\t}\n\t// Detect the user agent when the `nodeIntegration` option is set to true\n\tif (\n\t\ttypeof navigator === 'object' &&\n\t\ttypeof navigator.userAgent === 'string' &&\n\t\tnavigator.userAgent.indexOf('Electron') >= 0\n\t) {\n\t\treturn true;\n\t}\n\n\treturn false;\n};\n","module.exports = __webpack_public_path__ + \"static/media/missing-file.20cda3d1.png\";","let clientConfigVersion = 1.1;\n\nlet clientConfig = [\n\t{\n\t\tstorageKey: \"theme\",\n\t\tname: \"Theme\",\n\t\ttype: \"dropdown\",\n\t\toptions: [\n\t\t\t\"classic\",\n\t\t\t\"light\",\n\t\t\t\"translucent\",\n\t\t\t\"translucent green\",\n\t\t\t\"translucent blue\",\n\t\t\t\"translucent red\",\n\t\t\t\"translucent yellow\",\n\t\t\t\"translucent orange\",\n\t\t],\n\t\tvalue: \"classic\",\n\t},\n\t{\n\t\tstorageKey: \"quill-theme\",\n\t\tname: \"Editor Theme\",\n\t\ttype: \"dropdown\",\n\t\toptions: [\n\t\t\t\"classic\",\n\t\t\t\"dark\",\n\t\t\t\"warm\",\n\t\t\t\"off-white\",\n\t\t\t\"green hacker\",\n\t\t\t\"iris hacker\",\n\t\t\t\"dark translucent\",\n\t\t],\n\t\tvalue: \"classic\",\n\t},\n\t{\n\t\tstorageKey: \"image-sizing\",\n\t\tname: \"Image Sizing\",\n\t\ttype: \"dropdown\",\n\t\toptions: [\"classic\", \"actual size\", \"fit-vertically\"],\n\t\tvalue: \"classic\",\n\t},\n\t{\n\t\tstorageKey: \"association-sort\",\n\t\tname: \"Association Sort Type\",\n\t\ttype: \"dropdown\",\n\t\toptions: [\"last accessed\", \"link strength\", \"created at\"],\n\t\tvalue: \"last updated\",\n\t},\n\t{\n\t\tstorageKey: \"association-sort-order\",\n\t\tname: \"Association Sort Order\",\n\t\ttype: \"dropdown\",\n\t\toptions: [\"desc\", \"asc\"],\n\t\tvalue: \"desc\",\n\t},\n\t{\n\t\tstorageKey: \"fallback-search\",\n\t\tname: \"Fallback Search\",\n\t\ttype: \"dropdown\",\n\t\toptions: [\"none\", \"google\"],\n\t\tvalue: \"none\",\n\t},\n\t{\n\t\tstorageKey: \"link-mode\",\n\t\tname: \"Link Mode\",\n\t\ttype: \"dropdown\",\n\t\toptions: [\"bidirectional\", \"unidirectional\"],\n\t\tvalue: \"bidirectional\",\n\t},\n\t{\n\t\tstorageKey: \"graph-render-limit\",\n\t\tname: \"Graph Render Limit\",\n\t\ttype: \"number\",\n\t\tvalue: 100,\n\t},\n];\n\nexports.loadClientConfig = () => {\n\t// return new Promise((resolve) => {\n\tlet localConfigVersion = localStorage.getItem(\"client-config-version\");\n\tlet configArray;\n\t// check to see if our version is up to date or not\n\tif (clientConfigVersion <= localConfigVersion) {\n\t\t// we're going to loop through our 'config array' definitions and load them from localstorage\n\t\tconfigArray = clientConfig.map((item) => {\n\t\t\tlet localItem = localStorage.getItem(item.storageKey);\n\t\t\t// handle case where a config item is missing\n\t\t\tif (!localItem) {\n\t\t\t\t// if the config has been tampered with we are going to run the 'update' case\n\t\t\t\tlocalStorage.removeItem(\"client-config-version\");\n\t\t\t\twindow.location.reload();\n\t\t\t}\n\t\t\tlet configValue = JSON.parse(localItem);\n\t\t\t// load the configItem value into the render template\n\t\t\titem.value = configValue;\n\t\t\t// return the item\n\t\t\treturn item;\n\t\t});\n\t} else {\n\t\t// loop through clientConfig definitions and store the default values into local storage\n\t\tconfigArray = clientConfig.map((item) => {\n\t\t\tlet key = item.storageKey;\n\t\t\t// store the value in local storage\n\t\t\tlocalStorage.setItem(key, JSON.stringify(item.value));\n\t\t\t// lets set up the iobar default sort order item too\n\t\t\tlocalStorage.setItem(\"sortOrder\", \"DESC\");\n\t\t\tlocalStorage.setItem(\"sortType\", \"recent\");\n\t\t\t// return value to array\n\t\t\treturn item;\n\t\t});\n\t\t// update the client-config-version to the latest\n\t\tlocalStorage.setItem(\"client-config-version\", clientConfigVersion);\n\t}\n\treturn configArray;\n};\n\n// some mappings for backend config stuff\nexports.backendConfigMap = {\n\tFULLSCREEN: {\n\t\ttype: \"boolean\",\n\t\tname: \"Fullscreen on Startup\",\n\t},\n\tOPEN_URLS_IN_BROWSER: {\n\t\ttype: \"boolean\",\n\t\tname: \"Open URLs in Browser\",\n\t},\n\tHTTP_CACHE: {\n\t\ttype: \"boolean\",\n\t\tname: \"Http Cache\",\n\t},\n\tCLEAR_CACHE_ON_START: {\n\t\ttype: \"boolean\",\n\t\tname: \"Clear Cache On Startup\",\n\t},\n\tENABLE_HARDWARE_ACCELERATION: {\n\t\ttype: \"boolean\",\n\t\tname: \"Hardware Acceleration\",\n\t},\n\tDEBUG: {\n\t\ttype: \"boolean\",\n\t\tname: \"Debug Mode\",\n\t},\n\tSERVER_PORT: {\n\t\ttype: \"number\",\n\t\tname: \"Server Port\",\n\t},\n\tCLIENT_PORT: {\n\t\ttype: \"number\",\n\t\tname: \"Client Port\",\n\t},\n\tCLIENT_BASE: {\n\t\ttype: \"string\",\n\t\tname: \"Client Base\",\n\t},\n\tAPP_NAME: {\n\t\ttype: \"string\",\n\t\tname: \"App Name\",\n\t},\n\tSUMMONING_KEY: {\n\t\ttype: \"dropdown\",\n\t\toptions: [\";\", \"y\", \"'\", \".\", \",\", \"[\", \"]\", \"-\", \"=\", \"none\"],\n\t\tname: \"Summoning Key\",\n\t},\n};\n\nexports.backendConfigFilter = [\n\t\"JWT_SECRET\",\n\t\"REFRESH_TOKEN_SECRET\",\n\t\"CONFIG_VERSION\",\n\t\"CLIENT_PORT\",\n\t\"SERVER_PORT\",\n\t\"ENABLE_HARDWARE_ACCELERATION\",\n\t\"CLIENT_BASE\",\n\t\"APP_NAME\",\n\t\"DEBUG\",\n\t\"CLEAR_CACHE_ON_START\",\n];\n","import {\n\tFETCH_ASSOCIATION_LINK_LIST,\n\tFETCH_ASSOCIATION_LINK_LIST_SUCCESS,\n\tFETCH_ASSOCIATION_LINK_LIST_ERROR,\n\tRESET_ASSOCIATION_LINK_LIST,\n\tCREATE_ASSOCIATION_SUCCESS,\n\tCREATE_ASSOCIATION,\n\tCREATE_ASSOCIATION_ERROR,\n\tFETCH_ASSOCIATIONS,\n\tFETCH_ASSOCIATIONS_SUCCESS,\n\tFETCH_ASSOCIATIONS_ERROR,\n\tRESET_ASSOCIATIONS,\n\tMARK_NODE_VIEW,\n\tMARK_NODE_VIEW_ERROR,\n\tMARK_NODE_VIEW_SUCCESS,\n\tDELETE_ASSOCIATION_LINK,\n\tDELETE_ASSOCIATION_LINK_ERROR,\n\tDELETE_ASSOCIATION_LINK_SUCCESS,\n\tREMOVE_FROM_ASSOCIATION_LIST,\n\tSET_ACTIVE_NODE,\n\tSET_ACTIVE_NODE_ERROR,\n\tSET_ACTIVE_NODE_SUCCESS,\n\tCONTEXTUAL_CREATE_NODE,\n\tCONTEXTUAL_CREATE_NODE_ERROR,\n\tCONTEXTUAL_CREATE_NODE_SUCCESS,\n} from \"../actions/types\";\n\nconst INITIAL_STATE = {\n\tisFetching: null,\n\tisSaving: null,\n\tassociationLinkList: [],\n\tassociationList: [],\n\ttotalLinkListItems: null,\n\ttotalAssociationListItems: null,\n\tassociationListPage: 1,\n\tassociationLinkListPage: 1,\n\tactiveNode: null,\n};\n\nlet newAssociationList;\n\n// reducer for content nodes\nexport default (state = INITIAL_STATE, action) => {\n\tswitch (action.type) {\n\t\tcase FETCH_ASSOCIATION_LINK_LIST:\n\t\t\treturn { ...state, isFetching: true };\n\t\tcase FETCH_ASSOCIATION_LINK_LIST_SUCCESS:\n\t\t\t// // format the associations data and include new values\n\t\t\tvar associationLinkListArray = [...state.associationLinkList];\n\t\t\t// update the association link list with the new values\n\t\t\tObject.values(action.payload.associations).forEach((node) => {\n\t\t\t\tif (!associationLinkListArray.some((item) => item.uuid === node.uuid)) {\n\t\t\t\t\tassociationLinkListArray.push(node);\n\t\t\t\t}\n\t\t\t});\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tisFetching: null,\n\t\t\t\ttotalLinkListItems: action.payload.totalItems,\n\t\t\t\tassociationLinkList: associationLinkListArray,\n\t\t\t\tassociationLinkListPage: action.page || 1,\n\t\t\t};\n\t\tcase FETCH_ASSOCIATION_LINK_LIST_ERROR:\n\t\t\treturn { ...state, isFetching: null };\n\t\tcase RESET_ASSOCIATION_LINK_LIST:\n\t\t\treturn { ...state, associationLinkList: [] };\n\t\tcase FETCH_ASSOCIATIONS:\n\t\t\treturn { ...state, isFetching: true };\n\t\tcase FETCH_ASSOCIATIONS_SUCCESS:\n\t\t\t// format the associations data and include new values\n\t\t\tvar associationsArray = [...state.associationList];\n\t\t\t// update the association link list with the new values\n\t\t\tObject.values(action.payload.associations).forEach((node) => {\n\t\t\t\tif (!associationsArray.some((item) => item.uuid === node.uuid)) {\n\t\t\t\t\tassociationsArray.push(node);\n\t\t\t\t}\n\t\t\t});\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tisFetching: null,\n\t\t\t\ttotalAssociationListItems: action.payload.totalItems,\n\t\t\t\tassociationList: associationsArray,\n\t\t\t\tassociationListPage: action.page || 1,\n\t\t\t};\n\t\tcase FETCH_ASSOCIATIONS_ERROR:\n\t\t\treturn { ...state, isFetching: null };\n\t\tcase RESET_ASSOCIATIONS:\n\t\t\treturn { ...state, associationList: [] };\n\t\tcase CREATE_ASSOCIATION:\n\t\t\treturn { ...state, isSaving: true };\n\t\tcase CREATE_ASSOCIATION_SUCCESS:\n\t\t\tvar associatedNode;\n\t\t\t// check whichever is the associated node to the list\n\t\t\tif (action.nodeUUID && action.linkedNode.uuid === action.nodeUUID) {\n\t\t\t\tassociatedNode = action.node;\n\t\t\t} else {\n\t\t\t\tassociatedNode = action.linkedNode;\n\t\t\t}\n\t\t\t// only add the node to the association list if one of the nodes is the activeNode\n\t\t\tif (state.activeNode && action.nodeUUID === state.activeNode.uuid) {\n\t\t\t\tnewAssociationList = [associatedNode, ...state.associationList];\n\t\t\t} else {\n\t\t\t\tnewAssociationList = [...state.associationList];\n\t\t\t}\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tisFetching: null,\n\t\t\t\tassociationLinkList: [associatedNode, ...state.associationLinkList],\n\t\t\t\tassociationList: newAssociationList,\n\t\t\t\ttotalAssociationListItems: state.totalAssociationListItems + 1,\n\t\t\t};\n\t\tcase CREATE_ASSOCIATION_ERROR:\n\t\t\treturn { ...state, isSaving: null };\n\t\tcase CONTEXTUAL_CREATE_NODE:\n\t\t\treturn { ...state, isSaving: true };\n\t\tcase CONTEXTUAL_CREATE_NODE_ERROR:\n\t\t\treturn { ...state, isSaving: null };\n\t\tcase CONTEXTUAL_CREATE_NODE_SUCCESS:\n\t\t\t// add new node to list and move to front of node order\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tisFetching: null,\n\t\t\t\tassociationList: [\n\t\t\t\t\taction.node,\n\t\t\t\t\t...state.associationList.filter(\n\t\t\t\t\t\t(association) =>\n\t\t\t\t\t\t\tassociation.nodeUUID !== action.node.uuid &&\n\t\t\t\t\t\t\tassociation.linkedNodeUUID !== action.node.uuid &&\n\t\t\t\t\t\t\tassociation.uuid !== action.node.uuid\n\t\t\t\t\t),\n\t\t\t\t],\n\t\t\t\ttotalAssociationListItems: state.totalAssociationListItems + 1,\n\t\t\t};\n\t\tcase MARK_NODE_VIEW:\n\t\t\treturn { ...state, isSaving: true };\n\t\tcase MARK_NODE_VIEW_SUCCESS:\n\t\t\t// only add back to list if the node was already in the list\n\t\t\tvar addBackToList = state.associationList.some((node) => node.uuid === action.node.uuid)\n\t\t\t\t? action.node\n\t\t\t\t: false;\n\t\t\t// use addBackToList to determine what should be returned\n\t\t\tif (addBackToList) {\n\t\t\t\tnewAssociationList = [\n\t\t\t\t\tstate.associationList.some((node) => node.uuid === action.node.uuid) ? action.node : null,\n\t\t\t\t\t...state.associationList.filter((node) => node.uuid !== action.node.uuid),\n\t\t\t\t];\n\t\t\t} else {\n\t\t\t\tnewAssociationList = [...state.associationList];\n\t\t\t}\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tisFetching: null,\n\t\t\t\t// move the viewed node to the front of the list\n\t\t\t\tassociationList: newAssociationList,\n\t\t\t};\n\t\tcase MARK_NODE_VIEW_ERROR:\n\t\t\treturn { ...state, isSaving: null };\n\t\tcase SET_ACTIVE_NODE:\n\t\t\treturn { ...state, isFetching: true };\n\t\tcase SET_ACTIVE_NODE_SUCCESS:\n\t\t\treturn { ...state, isFetching: null, activeNode: action.payload.node };\n\t\tcase SET_ACTIVE_NODE_ERROR:\n\t\t\treturn { ...state, isFetching: null };\n\t\tcase DELETE_ASSOCIATION_LINK:\n\t\t\treturn { ...state, isSaving: true };\n\t\tcase DELETE_ASSOCIATION_LINK_SUCCESS:\n\t\t\t// update total items\n\t\t\tvar newTotalLinkListItems = state.totalLinkListItems - 1;\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tisSaving: null,\n\t\t\t\tassociationLinkList: [\n\t\t\t\t\t...state.associationLinkList.filter((node) => node.uuid !== action.deletedUUID),\n\t\t\t\t],\n\t\t\t\ttotalLinkListItems: newTotalLinkListItems,\n\t\t\t};\n\t\tcase DELETE_ASSOCIATION_LINK_ERROR:\n\t\t\treturn { ...state, isSaving: null };\n\t\tcase REMOVE_FROM_ASSOCIATION_LIST:\n\t\t\t// update total items\n\t\t\tvar newTotalItems = state.totalAssociationListItems - 1;\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tisSaving: null,\n\t\t\t\tassociationList: [\n\t\t\t\t\t...state.associationList.filter((node) => node.uuid !== action.deletedUUID),\n\t\t\t\t],\n\t\t\t\ttotalAssociationListItems: newTotalItems,\n\t\t\t};\n\t\tdefault:\n\t\t\treturn state;\n\t}\n};\n","import { createBrowserHistory } from 'history';\nexport default createBrowserHistory();\n","import {\n  CREATE_ACCOUNT,\n  CREATE_ACCOUNT_SUCCESS,\n  CREATE_ACCOUNT_ERROR,\n  SIGN_IN,\n  SIGN_IN_SUCCESS,\n  SIGN_IN_ERROR,\n  SIGN_OUT,\n  SIGN_OUT_ERROR,\n  REFRESH_AUTH,\n  REFRESH_AUTH_SUCCESS,\n  REFRESH_AUTH_ERROR,\n  UPDATE_USER_NODE,\n  UPDATE_USER_NODE_ERROR,\n  UPDATE_USER_NODE_SUCCESS,\n  UPDATE_USER_AVATAR,\n  UPDATE_USER_AVATAR_SUCCESS,\n  UPDATE_USER_AVATAR_ERROR,\n  UPDATE_USER_HEADER,\n  UPDATE_USER_HEADER_SUCCESS,\n  UPDATE_USER_HEADER_ERROR,\n} from '../actions/types';\n\nconst INITIAL_STATE = {\n  isAuth: null,\n  isFetching: null,\n  user: null,\n};\n\n// reducer for authentication state and user object\nexport default (state = INITIAL_STATE, action) => {\n  switch (action.type) {\n    case CREATE_ACCOUNT:\n      return { ...state, isFetching: true };\n    case CREATE_ACCOUNT_SUCCESS:\n      return {\n        ...state,\n        isFetching: false,\n        user: action.payload,\n        isAuth: true,\n      };\n    case CREATE_ACCOUNT_ERROR:\n      return { ...state, isFetching: null, user: null, isAuth: false };\n    case SIGN_IN:\n      return { ...state, isFetching: true };\n    case SIGN_IN_SUCCESS:\n      return {\n        ...state,\n        isFetching: false,\n        user: action.payload,\n        isAuth: true,\n      };\n    case SIGN_IN_ERROR:\n      return { ...state, isFetching: null, user: null, isAuth: false };\n    case SIGN_OUT:\n      return { ...state, isFetching: true };\n    case SIGN_OUT_ERROR:\n      return { ...state, isFetching: null };\n    case REFRESH_AUTH:\n      return {\n        ...state,\n        isFetching: true,\n        user: action.payload,\n        isAuth: action.isAuth,\n      };\n    case REFRESH_AUTH_SUCCESS:\n      return { isFetching: null, user: action.payload, isAuth: true };\n    case REFRESH_AUTH_ERROR:\n      return { ...state, isFetching: null, user: null, isAuth: false };\n    case UPDATE_USER_NODE:\n      return { ...state, isFetching: true };\n    case UPDATE_USER_NODE_SUCCESS:\n      return { ...state, isFetching: null, user: action.user };\n    case UPDATE_USER_NODE_ERROR:\n      return { ...state, isFetching: null };\n    case UPDATE_USER_AVATAR:\n      return { ...state, isFetching: true };\n    case UPDATE_USER_AVATAR_SUCCESS:\n      window.location.reload();\n      return { ...state, isFetching: null, user: { ...state.user, avatar: action.url } };\n    case UPDATE_USER_AVATAR_ERROR:\n      return { ...state, isFetching: null };\n    case UPDATE_USER_HEADER:\n      return { ...state, isFetching: true };\n    case UPDATE_USER_HEADER_SUCCESS:\n      window.location.reload();\n      return { ...state, isFetching: null, user: { ...state.user, header: action.url } };\n    case UPDATE_USER_HEADER_ERROR:\n      return { ...state, isFetching: null };\n    default:\n      return state;\n  }\n};\n","export const RESET_APP = \"RESET_APP\";\n// modal actions\nexport const SHOW_COMPONENT = \"SHOW_COMPONENT\";\nexport const HIDE_COMPONENT = \"HIDE_COMPONENT\";\n// sign in\nexport const CREATE_ACCOUNT = \"CREATE_ACCOUNT\";\nexport const CREATE_ACCOUNT_SUCCESS = \"CREATE_ACCOUNT_SUCCESS\";\nexport const CREATE_ACCOUNT_ERROR = \"CREATE_ACCOUNT_ERROR\";\n// sign in\nexport const SIGN_IN = \"SIGN_IN\";\nexport const SIGN_IN_SUCCESS = \"SIGN_IN_SUCCESS\";\nexport const SIGN_IN_ERROR = \"SIGN_IN_ERROR\";\n// sign out\nexport const SIGN_OUT = \"SIGN_OUT\";\nexport const SIGN_OUT_ERROR = \"SIGN_OUT_ERROR\";\n// refresh auth\nexport const REFRESH_AUTH = \"REFRESH_AUTH\";\nexport const REFRESH_AUTH_SUCCESS = \"REFRESH_AUTH_SUCCESS\";\nexport const REFRESH_AUTH_ERROR = \"REFRESH_AUTH_ERROR\";\n// create node\nexport const CREATE_NODE = \"CREATE_NODE\";\nexport const CREATE_NODE_SUCCESS = \"CREATE_NODE_SUCCESS\";\nexport const CREATE_NODE_ERROR = \"CREATE_NODE_ERROR\";\n// fetch nodes\nexport const FETCH_NODES = \"FETCH_NODES\";\nexport const FETCH_NODES_SUCCESS = \"FETCH_NODES_SUCCESS\";\nexport const FETCH_NODES_ERROR = \"FETCH_NODES_ERROR\";\n// search nodes\nexport const SEARCH_NODES = \"SEARCH_NODES\";\nexport const SEARCH_NODES_SUCCESS = \"SEARCH_NODES_SUCCESS\";\nexport const SEARCH_NODES_ERROR = \"SEARCH_NODES_ERROR\";\n// update node\nexport const UPDATE_NODE = \"UPDATE_NODE\";\nexport const UPDATE_NODE_SUCCESS = \"UPDATE_NODE_SUCCESS\";\nexport const UPDATE_NODE_ERROR = \"UPDATE_NODE_ERROR\";\n// update active node\nexport const UPDATE_ACTIVE_NODE = \"UPDATE_ACTIVE_NODE\";\nexport const UPDATE_ACTIVE_NODE_ERROR = \"UPDATE_ACTIVE_NODE_ERROR\";\nexport const UPDATE_ACTIVE_NODE_SUCCESS = \"UPDATE_ACTIVE_NODE_SUCCESS\";\n// mark node view\nexport const MARK_NODE_VIEW = \"MARK_NODE_VIEW\";\nexport const MARK_NODE_VIEW_SUCCESS = \"MARK_NODE_VIEW_SUCCESS\";\nexport const MARK_NODE_VIEW_ERROR = \"MARK_NODE_VIEW_ERROR\";\n// edit text node\nexport const EDIT_TEXT_NODE = \"EDIT_TEXT_NODE\";\nexport const EDIT_TEXT_NODE_SUCCESS = \"EDIT_TEXT_NODE_SUCCESS\";\nexport const EDIT_TEXT_NODE_ERROR = \"EDIT_TEXT_NODE_ERROR\";\n// process text node\nexport const PROCESS_TEXT_NODE = \"PROCESS_TEXT_NODE\";\nexport const PROCESS_TEXT_NODE_SUCCESS = \"PROCESS_TEXT_NODE_SUCCESS\";\nexport const PROCESS_TEXT_NODE_ERROR = \"PROCESS_TEXT_NODE_ERROR\";\n// create file node\nexport const CREATE_FILE_NODE = \"CREATE_FILE_NODE\";\nexport const CREATE_FILE_NODE_SUCCESS = \" CREATE_FILE_NODE_SUCCESS\";\nexport const CREATE_FILE_NODE_ERROR = \"CREATE_FILE_NODE_ERROR\";\n// link file nodes\nexport const LINK_FILE_NODES = \"LINK_FILE_NODES\";\nexport const LINK_FILE_NODES_SUCCESS = \"LINK_FILE_NODES_SUCCESS\";\nexport const LINK_FILE_NODES_ERROR = \"LINK_FILE_NODES_ERROR\";\n// fetch user node\nexport const FETCH_USER_NODE = \"FETCH_USER_NODE\";\nexport const FETCH_USER_NODE_SUCCESS = \"FETCH_USER_NODE_SUCCESS\";\nexport const FETCH_USER_NODE_ERROR = \"FETCH_USER_NODE_ERROR\";\n// update user node\nexport const UPDATE_USER_NODE = \"UPDATE_USER_NODE\";\nexport const UPDATE_USER_NODE_SUCCESS = \"UPDATE_USER_NODE_SUCCESS\";\nexport const UPDATE_USER_NODE_ERROR = \"UPDATE_USER_NODE_ERROR\";\n// update user avatar\nexport const UPDATE_USER_AVATAR = \"UPDATE_USER_AVATAR\";\nexport const UPDATE_USER_AVATAR_SUCCESS = \"UPDATE_USER_AVATAR_SUCCESS\";\nexport const UPDATE_USER_AVATAR_ERROR = \"UPDATE_USER_NODE_ERROR\";\n// update user header image\nexport const UPDATE_USER_HEADER = \"UPDATE_USER_HEADER\";\nexport const UPDATE_USER_HEADER_SUCCESS = \"UPDATE_USER_HEADER_SUCCESS\";\nexport const UPDATE_USER_HEADER_ERROR = \"UPDATE_USER_HEADER_ERROR\";\n// create associations\nexport const CREATE_ASSOCIATION = \"CREATE_ASSOCIATION\";\nexport const CREATE_ASSOCIATION_SUCCESS = \"CREATE_ASSOCIATION_SUCCESS\";\nexport const CREATE_ASSOCIATION_ERROR = \"CREATE_ASSOCIATION_ERROR\";\n// fetch associations\nexport const FETCH_ASSOCIATIONS = \"FETCH_ASSOCIATIONS\";\nexport const FETCH_ASSOCIATIONS_SUCCESS = \"FETCH_ASSOCIATIONS_SUCCESS\";\nexport const FETCH_ASSOCIATIONS_ERROR = \"FETCH_ASSOCIATIONS_ERROR\";\n// reset association list\nexport const RESET_ASSOCIATIONS = \"RESET_ASSOCIATIONS\";\n// fetch association link list\nexport const FETCH_ASSOCIATION_LINK_LIST = \"FETCH_ASSOCIATIONS_LINK_LIST\";\nexport const FETCH_ASSOCIATION_LINK_LIST_SUCCESS = \"FETCH_ASSOCIATIONS_LINK_LIST_SUCCESS\";\nexport const FETCH_ASSOCIATION_LINK_LIST_ERROR = \"FETCH_ASSOCIATIONS_LINK_LIST_ERROR\";\n// reset association link list\nexport const RESET_ASSOCIATION_LINK_LIST = \"RESET_ASSOCIATION_LINK_LIST\";\n// set active node\nexport const SET_ACTIVE_NODE = \"SET_ACTIVE_NODE\";\nexport const SET_ACTIVE_NODE_SUCCESS = \"SET_ACTIVE_NODE_SUCCESS\";\nexport const SET_ACTIVE_NODE_ERROR = \"SET_ACTIVE_NODE_ERROR\";\n// clear active node\nexport const CLEAR_ACTIVE_NODE = \"CLEAR_ACTIVE_NODE\";\n// delete node\nexport const DELETE_NODE = \"DELETE_NODE\";\nexport const DELETE_NODE_SUCCESS = \"DELETE_NODE_SUCCESS\";\nexport const DELETE_NODE_ERROR = \"DELETE_NODE_ERROR\";\n// remove from association list\nexport const REMOVE_FROM_ASSOCIATION_LIST = \"REMOVE_FROM_ASSOCIATION_LIST\";\n// delete association link\nexport const DELETE_ASSOCIATION_LINK = \"DELETE_ASSOCIATION_LINK\";\nexport const DELETE_ASSOCIATION_LINK_SUCCESS = \"DELETE_ASSOCIATION_LINK_SUCCESS\";\nexport const DELETE_ASSOCIATION_LINK_ERROR = \"DELETE_ASSOCIATION_LINK_ERROR\";\n// generate instance export\nexport const GENERATE_EXPORT = \"GENERATE_EXPORT\";\nexport const GENERATE_EXPORT_ERROR = \"GENERATE_EXPORT_ERROR\";\nexport const GENERATE_EXPORT_SUCCESS = \"GENERATE_EXPORT_SUCCESS\";\n// fetch graph nodes\nexport const FETCH_GRAPH_DATA = \"FETCH_GRAPH_DATA\";\nexport const FETCH_GRAPH_DATA_ERROR = \"FETCH_GRAPH_DATA_ERROR\";\nexport const FETCH_GRAPH_DATA_SUCCESS = \"FETCH_GRAPH_DATA_SUCCESS\";\n// load theme\nexport const LOAD_THEME = \"LOAD_THEME\";\n// contextual create node\nexport const CONTEXTUAL_CREATE_NODE = \"CONTEXTUAL_CREATE_NODE\";\nexport const CONTEXTUAL_CREATE_NODE_ERROR = \"CONTEXTUAL_CREATE_NODE_ERROR\";\nexport const CONTEXTUAL_CREATE_NODE_SUCCESS = \"CONTEXTUAL_CREATE_NODE_SUCCESS\";\n","import {\n\tEDIT_TEXT_NODE,\n\tEDIT_TEXT_NODE_SUCCESS,\n\tEDIT_TEXT_NODE_ERROR,\n\tFETCH_NODES,\n\tFETCH_NODES_SUCCESS,\n\tFETCH_NODES_ERROR,\n\tUPDATE_NODE,\n\tUPDATE_NODE_ERROR,\n\tUPDATE_NODE_SUCCESS,\n\tUPDATE_ACTIVE_NODE,\n\tUPDATE_ACTIVE_NODE_ERROR,\n\tUPDATE_ACTIVE_NODE_SUCCESS,\n\tPROCESS_TEXT_NODE,\n\tPROCESS_TEXT_NODE_SUCCESS,\n\tPROCESS_TEXT_NODE_ERROR,\n\tCREATE_FILE_NODE,\n\tCREATE_FILE_NODE_SUCCESS,\n\tCREATE_FILE_NODE_ERROR,\n\tLINK_FILE_NODES,\n\tLINK_FILE_NODES_ERROR,\n\tLINK_FILE_NODES_SUCCESS,\n\tSEARCH_NODES,\n\tSEARCH_NODES_SUCCESS,\n\tSEARCH_NODES_ERROR,\n\tMARK_NODE_VIEW,\n\tMARK_NODE_VIEW_SUCCESS,\n\tMARK_NODE_VIEW_ERROR,\n\tCREATE_NODE,\n\tCREATE_NODE_SUCCESS,\n\tCREATE_NODE_ERROR,\n\tSET_ACTIVE_NODE,\n\tSET_ACTIVE_NODE_SUCCESS,\n\tSET_ACTIVE_NODE_ERROR,\n\tDELETE_NODE,\n\tDELETE_NODE_ERROR,\n\tDELETE_NODE_SUCCESS,\n\tCLEAR_ACTIVE_NODE,\n\tGENERATE_EXPORT,\n\tGENERATE_EXPORT_ERROR,\n\tGENERATE_EXPORT_SUCCESS,\n} from \"../actions/types\";\n\nconst INITIAL_STATE = {\n\tisFetching: null,\n\tisSaving: null,\n\tisDeleting: null,\n\tnodeList: [],\n\ttotalItems: null,\n\tquery: {\n\t\tpage: 1,\n\t\tsortOrder: localStorage.getItem(\"sortOrder\") || \"DESC\",\n\t\tsortType: localStorage.getItem(\"sortType\") || \"recent\",\n\t},\n\tactiveNode: null,\n};\n\n// reducer for content nodes\nexport default (state = INITIAL_STATE, action) => {\n\tswitch (action.type) {\n\t\tcase FETCH_NODES:\n\t\t\treturn { ...state, isFetching: true };\n\t\tcase FETCH_NODES_SUCCESS:\n\t\t\tvar nodesArray;\n\t\t\t// reset nodesArray if page number has decreased\n\t\t\tif (action.query.page > state.query.page) {\n\t\t\t\tnodesArray = [...state.nodeList];\n\t\t\t} else {\n\t\t\t\tnodesArray = [];\n\t\t\t}\n\t\t\t// update the nodelist with the new values\n\t\t\tObject.values(action.payload.nodes).forEach((node) => {\n\t\t\t\tif (!nodesArray.some((item) => item.uuid === node.uuid)) {\n\t\t\t\t\tnodesArray.push(node);\n\t\t\t\t}\n\t\t\t});\n\t\t\t// if (nodesArray.length > 100) {\n\t\t\t// \t// if the length gets too long free up some memory\n\t\t\t// \tnodesArray.splice(0, action.payload.nodes.length);\n\t\t\t// }\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tisFetching: null,\n\t\t\t\tquery: action.query,\n\t\t\t\ttotalItems: action.payload.totalItems,\n\t\t\t\tnodeList: nodesArray,\n\t\t\t};\n\t\tcase FETCH_NODES_ERROR:\n\t\t\treturn { ...state, isFetching: null };\n\t\tcase SEARCH_NODES:\n\t\t\treturn { ...state, isFetching: true };\n\t\tcase SEARCH_NODES_SUCCESS:\n\t\t\tnodesArray = [];\n\t\t\t// update the nodelist with the new values\n\t\t\tObject.values(action.payload.nodes).forEach((node) => {\n\t\t\t\tif (!nodesArray.some((item) => item.uuid === node.uuid)) {\n\t\t\t\t\tnodesArray.push(node);\n\t\t\t\t}\n\t\t\t});\n\t\t\t// if (nodesArray.length > 100) {\n\t\t\t// \t// if the length gets too long free up some memory\n\t\t\t// \tnodesArray.splice(0, action.payload.nodes.length);\n\t\t\t// }\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tisFetching: null,\n\t\t\t\tquery: {\n\t\t\t\t\tpage: 1,\n\t\t\t\t\ttype: action.query.type,\n\t\t\t\t\tsearchQuery: action.query.searchQuery,\n\t\t\t\t\tsortType: action.query.sortType,\n\t\t\t\t\tsortOrder: action.query.sortOrder,\n\t\t\t\t},\n\t\t\t\ttotalItems: action.payload.totalItems,\n\t\t\t\tnodeList: nodesArray,\n\t\t\t};\n\t\tcase SEARCH_NODES_ERROR:\n\t\t\treturn { ...state, isFetching: null };\n\t\tcase UPDATE_NODE:\n\t\t\treturn { ...state, isSaving: true };\n\t\tcase UPDATE_NODE_ERROR:\n\t\t\treturn { ...state, isSaving: null };\n\t\tcase UPDATE_NODE_SUCCESS:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tisSaving: null,\n\t\t\t\tnodeList: state.nodeList.map((node) => {\n\t\t\t\t\tif (node.uuid === action.result.uuid) {\n\t\t\t\t\t\tnode = action.result;\n\t\t\t\t\t}\n\t\t\t\t\treturn node;\n\t\t\t\t}),\n\t\t\t};\n\t\tcase UPDATE_ACTIVE_NODE:\n\t\t\treturn { ...state, isSaving: true };\n\t\tcase UPDATE_ACTIVE_NODE_ERROR:\n\t\t\treturn { ...state, isSaving: null };\n\t\tcase UPDATE_ACTIVE_NODE_SUCCESS:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tisSaving: null,\n\t\t\t\tactiveNode: action.result.uuid === state.activeNode.uuid ? action.result : state.activeNode,\n\t\t\t\tnodeList: state.nodeList.map((node) => {\n\t\t\t\t\tif (node.uuid === action.result.uuid) {\n\t\t\t\t\t\tnode = action.result;\n\t\t\t\t\t}\n\t\t\t\t\treturn node;\n\t\t\t\t}),\n\t\t\t};\n\t\tcase EDIT_TEXT_NODE:\n\t\t\treturn { ...state, isSaving: true };\n\t\tcase EDIT_TEXT_NODE_SUCCESS:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tisSaving: null,\n\t\t\t\t// update the content on the activeNode\n\t\t\t\tactiveNode: {\n\t\t\t\t\t...state.activeNode,\n\t\t\t\t\tcontent: action.node.content,\n\t\t\t\t},\n\t\t\t};\n\t\tcase EDIT_TEXT_NODE_ERROR:\n\t\t\treturn { ...state, isSaving: null };\n\t\tcase PROCESS_TEXT_NODE:\n\t\t\treturn { ...state, isSaving: true };\n\t\tcase PROCESS_TEXT_NODE_SUCCESS:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tisSaving: null,\n\t\t\t\t// update the preview in the nodelist\n\t\t\t\t// leave everything else as-is\n\t\t\t\tnodeList: state.nodeList.map((node) => {\n\t\t\t\t\t// only update it for the processsed node\n\t\t\t\t\tif (node.uuid === action.node.uuid) {\n\t\t\t\t\t\tnode.preview = action.node.preview;\n\t\t\t\t\t}\n\t\t\t\t\treturn node;\n\t\t\t\t}),\n\t\t\t};\n\t\tcase PROCESS_TEXT_NODE_ERROR:\n\t\t\treturn { ...state, isSaving: null };\n\t\tcase CREATE_FILE_NODE:\n\t\t\treturn { ...state, isSaving: true };\n\t\tcase CREATE_FILE_NODE_SUCCESS:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tisFetching: null,\n\t\t\t\tnodeList: [action.payload, ...state.nodeList],\n\t\t\t};\n\t\tcase CREATE_FILE_NODE_ERROR:\n\t\t\treturn { ...state, isSaving: null };\n\t\tcase LINK_FILE_NODES:\n\t\t\treturn { ...state, isSaving: true };\n\t\tcase LINK_FILE_NODES_SUCCESS:\n\t\t\tvar linkNodesArray = [];\n\t\t\t// update the nodelist with the new values\n\t\t\taction.nodes.forEach((node) => {\n\t\t\t\tlinkNodesArray.push(node);\n\t\t\t});\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tisSaving: null,\n\t\t\t\tnodeList: [...linkNodesArray, ...state.nodeList],\n\t\t\t};\n\t\tcase LINK_FILE_NODES_ERROR:\n\t\t\treturn { ...state, isSaving: null };\n\t\tcase CREATE_NODE:\n\t\t\treturn { ...state, isSaving: true };\n\t\tcase CREATE_NODE_SUCCESS:\n\t\t\t// add new node to list and move to front of node order\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tisFetching: null,\n\t\t\t\tnodeList: [\n\t\t\t\t\taction.payload,\n\t\t\t\t\t...state.nodeList.filter((node) => node.uuid !== action.payload.uuid),\n\t\t\t\t],\n\t\t\t\tactiveNode: action.payload.node,\n\t\t\t};\n\t\tcase CREATE_NODE_ERROR:\n\t\t\treturn { ...state, isSaving: null };\n\t\tcase MARK_NODE_VIEW:\n\t\t\treturn { ...state, isSaving: true };\n\t\tcase MARK_NODE_VIEW_SUCCESS:\n\t\t\tvar newNodeList;\n\t\t\t// only send the node back to the beginning if the user is at the top of the list\n\t\t\tif (state.nodeList.length < 50) {\n\t\t\t\tnewNodeList = [\n\t\t\t\t\taction.node,\n\t\t\t\t\t...state.nodeList.filter((node) => node.uuid !== action.node.uuid),\n\t\t\t\t];\n\t\t\t} else {\n\t\t\t\t// otherwise just make it \"disapear\" to reappaar when they return to the top\n\t\t\t\tnewNodeList = [...state.nodeList.filter((node) => node.uuid !== action.node.uuid)];\n\t\t\t}\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tisSaving: null,\n\t\t\t\tnodeList: newNodeList,\n\t\t\t};\n\t\tcase MARK_NODE_VIEW_ERROR:\n\t\t\treturn { ...state, isSaving: null };\n\t\tcase SET_ACTIVE_NODE:\n\t\t\treturn { ...state, isFetching: true };\n\t\tcase SET_ACTIVE_NODE_SUCCESS:\n\t\t\treturn { ...state, isFetching: null, activeNode: action.payload.node };\n\t\tcase SET_ACTIVE_NODE_ERROR:\n\t\t\treturn { ...state, isFetching: null };\n\t\tcase CLEAR_ACTIVE_NODE:\n\t\t\treturn { ...state, activeNode: null };\n\t\tcase DELETE_NODE:\n\t\t\treturn { ...state, isDeleting: true };\n\t\tcase DELETE_NODE_SUCCESS:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\t// filter the node out of the list\n\t\t\t\tnodeList: [...state.nodeList.filter((node) => node.uuid !== action.uuid)],\n\t\t\t\tisDeleting: null,\n\t\t\t};\n\t\tcase DELETE_NODE_ERROR:\n\t\t\treturn { ...state, isDeleting: null };\n\t\tcase GENERATE_EXPORT:\n\t\t\treturn { ...state, isSaving: true };\n\t\tcase GENERATE_EXPORT_ERROR:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tisSaving: null,\n\t\t\t};\n\t\tcase GENERATE_EXPORT_SUCCESS:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tisSaving: null,\n\t\t\t};\n\t\tdefault:\n\t\t\treturn state;\n\t}\n};\n","import { SHOW_COMPONENT, HIDE_COMPONENT, LOAD_THEME } from \"../actions/types\";\n\nconst INITIAL_STATE = {\n\tcomponentList: {},\n};\n\n// reducer for UI components which need to store redux state\nexport default (state = INITIAL_STATE, action) => {\n\tswitch (action.type) {\n\t\tcase SHOW_COMPONENT:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tcomponentList: {\n\t\t\t\t\t...state.componentList,\n\t\t\t\t\t[action.payload.type]: { content: action.payload.content, visible: true },\n\t\t\t\t},\n\t\t\t};\n\t\tcase HIDE_COMPONENT:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tcomponentList: {\n\t\t\t\t\t...state.componentList,\n\t\t\t\t\t[action.payload.type]: null,\n\t\t\t\t},\n\t\t\t};\n\t\tcase LOAD_THEME:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\ttheme: action.payload.theme,\n\t\t\t\teditorTheme: action.payload.editorTheme,\n\t\t\t};\n\t\tdefault:\n\t\t\treturn state;\n\t}\n};\n","import {\n\tFETCH_GRAPH_DATA,\n\tFETCH_GRAPH_DATA_ERROR,\n\tFETCH_GRAPH_DATA_SUCCESS,\n} from '../actions/types';\n\nconst INITIAL_STATE = {\n\tisFetching: null,\n\tgraphNodeList: [],\n\tgraphAssociationList: [],\n\ttotalItems: null,\n\tquery: { page: 1 },\n\tactiveNode: null,\n\tgraphData: null,\n};\n\n// reducer for content nodes\nexport default (state = INITIAL_STATE, action) => {\n\tswitch (action.type) {\n\t\tcase FETCH_GRAPH_DATA:\n\t\t\treturn { ...state, isFetching: true };\n\t\tcase FETCH_GRAPH_DATA_ERROR:\n\t\t\treturn { ...state, isFetching: null };\n\t\tcase FETCH_GRAPH_DATA_SUCCESS:\n\t\t\t// format nodes\n\t\t\tconst nodeArray = [];\n\t\t\taction.payload.nodes.map((node) => {\n\t\t\t\treturn nodeArray.push(node);\n\t\t\t});\n\t\t\t// format associations\n\t\t\tconst associationArray = [];\n\t\t\taction.payload.associations.map((association) => {\n\t\t\t\tconst reformated = { source: association.nodeId, target: association.linkedNode };\n\t\t\t\treturn associationArray.push(reformated);\n\t\t\t});\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tisFetching: null,\n\t\t\t\tgraphData: { nodes: nodeArray, associations: associationArray },\n\t\t\t};\n\t\tdefault:\n\t\t\treturn state;\n\t}\n};\n","import axios from \"axios\";\nimport reduxThunk from \"redux-thunk\";\nimport { createStore, applyMiddleware, compose } from \"redux\";\nimport reducers from \"./../api/redux/reducers\";\nconst CancelToken = axios.CancelToken;\nconst source = CancelToken.source();\n\nexport default axios.create({\n\tbaseURL: process.env.REACT_APP_SERVER_PORT\n\t\t? \"http://\" + window.location.hostname + \":\" + process.env.REACT_APP_SERVER_PORT\n\t\t: \"http://\" + window.location.hostname + \":\" + window.location.port,\n\twithCredentials: true,\n\tcancelToken: source.token,\n});\n\n// add redux devtools\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\n// create redux store\nexport const store = createStore(reducers, composeEnhancers(applyMiddleware(reduxThunk)));\n","import { RESET_APP } from '../actions/types';\n// custom code\nimport authReducer from './authReducer';\nimport nodeReducer from './nodeReducer';\nimport componentReducer from './componentReducer';\nimport associationReducer from './associationReducer';\nimport graphReducer from './graphReducer';\n\n// custom combineReducers\nexport default (state = {}, action) => {\n  // reset app state if need-be\n  if (action.type === RESET_APP) {\n    state = {};\n  }\n\n  // return other reducers\n  return {\n    auth: authReducer(state.auth, action),\n    nodes: nodeReducer(state.nodes, action),\n    components: componentReducer(state.components, action),\n    associations: associationReducer(state.associations, action),\n    graph: graphReducer(state.graph, action),\n  };\n};\n","import instance from \"../../../api/instance\";\nimport history from \"../../../utils/history\";\nimport {\n\tFETCH_NODES,\n\tFETCH_NODES_ERROR,\n\tFETCH_NODES_SUCCESS,\n\tUPDATE_NODE,\n\tUPDATE_NODE_SUCCESS,\n\tUPDATE_NODE_ERROR,\n\tUPDATE_ACTIVE_NODE,\n\tUPDATE_ACTIVE_NODE_ERROR,\n\tUPDATE_ACTIVE_NODE_SUCCESS,\n\tSEARCH_NODES,\n\tSEARCH_NODES_ERROR,\n\tSEARCH_NODES_SUCCESS,\n\tRESET_APP,\n\tCREATE_NODE,\n\tCREATE_NODE_SUCCESS,\n\tCREATE_NODE_ERROR,\n\tMARK_NODE_VIEW,\n\tMARK_NODE_VIEW_ERROR,\n\tMARK_NODE_VIEW_SUCCESS,\n\tSET_ACTIVE_NODE,\n\tSET_ACTIVE_NODE_SUCCESS,\n\tSET_ACTIVE_NODE_ERROR,\n\tDELETE_NODE,\n\tDELETE_NODE_ERROR,\n\tDELETE_NODE_SUCCESS,\n\tCLEAR_ACTIVE_NODE,\n\tCONTEXTUAL_CREATE_NODE,\n\tCONTEXTUAL_CREATE_NODE_ERROR,\n\tCONTEXTUAL_CREATE_NODE_SUCCESS,\n} from \"./types\";\nimport { message } from \"antd\";\nimport Delta from \"quill-delta\";\n\n// fetch a list of nodes\nexport const fetchNodes = (query) => async (dispatch) => {\n\ttry {\n\t\tdispatch({ type: FETCH_NODES });\n\t\tconst response = await instance.get(\"/node/search\", {\n\t\t\tparams: {\n\t\t\t\tpage: query.page,\n\t\t\t\tperPage: query.perPage,\n\t\t\t\ttype: query.type,\n\t\t\t\tsearchQuery: query.searchQuery,\n\t\t\t\tpinned: query.pinned,\n\t\t\t\tsortType: query.sortType,\n\t\t\t\tsortOrder: query.sortOrder,\n\t\t\t},\n\t\t});\n\t\tdispatch({ type: FETCH_NODES_SUCCESS, payload: response.data, query });\n\t} catch (err) {\n\t\tdispatch({ type: FETCH_NODES_ERROR });\n\t\tdispatch({ type: RESET_APP });\n\t\t// message.error('Could not fetch items', 1);\n\t\thistory.push(\"/\");\n\t}\n};\n\n// search the database\nexport const searchNodes = (query) => async (dispatch) => {\n\tif (query.type === \"all\") {\n\t\tquery.type = null;\n\t}\n\ttry {\n\t\tdispatch({ type: SEARCH_NODES });\n\t\tconst response = await instance.get(\"/node/search\", {\n\t\t\tparams: {\n\t\t\t\tpage: query.page,\n\t\t\t\ttype: query.type,\n\t\t\t\tsearchQuery: query.searchQuery,\n\t\t\t\tpinned: query.pinned,\n\t\t\t\tsortType: query.sortType,\n\t\t\t\tsortOrder: query.sortOrder,\n\t\t\t},\n\t\t});\n\t\tdispatch({ type: SEARCH_NODES_SUCCESS, payload: response.data, query });\n\t\thistory.push(\"/\");\n\t} catch (err) {\n\t\tdispatch({ type: SEARCH_NODES_ERROR });\n\t\tdispatch({ type: RESET_APP });\n\t\tmessage.error(\"Could not search nodes\", 1);\n\t\thistory.push(\"/\");\n\t}\n};\n\n// update node handler\nexport const updateNode = (node) => async (dispatch) => {\n\tdispatch({ type: UPDATE_NODE });\n\ttry {\n\t\tconst result = await instance.patch(\"/node\", {\n\t\t\tuuid: node.uuid,\n\t\t\tname: node.name,\n\t\t\tpreview: node.preview,\n\t\t\tpath: node.path,\n\t\t});\n\t\tdispatch({\n\t\t\ttype: UPDATE_NODE_SUCCESS,\n\t\t\tuuid: node.uuid,\n\t\t\tresult: result.data.node,\n\t\t});\n\t} catch (err) {\n\t\tdispatch({ type: UPDATE_NODE_ERROR });\n\t\tmessage.error(\"There was a problem saving your changes\", 1);\n\t\thistory.push(\"/\");\n\t}\n};\n\n// update node handler\nexport const clearNodePreview = (node) => async (dispatch) => {\n\tdispatch({ type: UPDATE_ACTIVE_NODE });\n\ttry {\n\t\tawait instance.patch(\"/node/preview/clear\", {\n\t\t\tuuid: node.uuid,\n\t\t});\n\t\twindow.location.reload();\n\t} catch (err) {\n\t\tmessage.error(\"There was a problem saving your changes\", 1);\n\t\thistory.push(\"/\");\n\t}\n};\n\n// special handler for updating the active node\nexport const updateActiveNode = (node) => async (dispatch) => {\n\tdispatch({ type: UPDATE_ACTIVE_NODE });\n\ttry {\n\t\tconst result = await instance.patch(\"/node\", {\n\t\t\tuuid: node.uuid,\n\t\t\tname: node.name,\n\t\t\tpreview: node.preview,\n\t\t\tpinned: node.pinned,\n\t\t});\n\t\tdispatch({\n\t\t\ttype: UPDATE_ACTIVE_NODE_SUCCESS,\n\t\t\tuuid: node.uuid,\n\t\t\tresult: result.data.node,\n\t\t});\n\t} catch (err) {\n\t\tdispatch({ type: UPDATE_ACTIVE_NODE_ERROR });\n\t\tmessage.error(\"There was a problem saving your changes\", 1);\n\t\thistory.push(\"/\");\n\t}\n};\n\nexport const createNode = (node, file) => async (dispatch) => {\n\tdispatch({ type: CREATE_NODE });\n\t// set content to empty quill delta for text node\n\tif (node.type === \"text\") {\n\t\tconst delta = new Delta();\n\t\tdelta.insert(node.name);\n\t\tnode.content = JSON.stringify(delta);\n\t}\n\ttry {\n\t\tconst response = await instance.put(\"/node\", {\n\t\t\tisFile: node.isFile,\n\t\t\ttype: node.type,\n\t\t\tname: node.name,\n\t\t\tpreview: node.preview,\n\t\t\tcontent: node.content,\n\t\t\tlinkedNode: node.linkedNode,\n\t\t});\n\t\tdispatch({\n\t\t\ttype: CREATE_NODE_SUCCESS,\n\t\t\tpayload: response.data.node,\n\t\t});\n\t\tif (response.status === 200 && node.type === \"text\") {\n\t\t\t// if successfully created, redirect the user to the edit node page\n\t\t\thistory.push(\"/edit/text/\" + response.data.node.uuid);\n\t\t}\n\t} catch (err) {\n\t\tdispatch({ type: CREATE_NODE_ERROR });\n\t\tmessage.error(\"There was a problem creating that node\", 1);\n\t\thistory.push(\"/\");\n\t}\n};\n\n// final processing of text node after closing the editor\nexport const contextualCreate = (phrase, linkedNodeUUID, exclusionList) => async (dispatch) => {\n\tdispatch({ type: CONTEXTUAL_CREATE_NODE });\n\t// set up initial delta\n\tconst delta = new Delta();\n\tdelta.insert(phrase);\n\tconst content = JSON.stringify(delta);\n\t// make the request\n\ttry {\n\t\tlet response = await instance.put(\"/node/contextual-create\", {\n\t\t\tname: phrase,\n\t\t\tcontent: content,\n\t\t\tlinkedNodeUUID: linkedNodeUUID,\n\t\t\texclusionList,\n\t\t});\n\t\tlet url = null;\n\t\tif (response.data && response.data.node.uuid && response.data.node.type === \"url\") {\n\t\t\t// url links should open the actual node's URL\n\t\t\turl = response.data.node.content;\n\t\t} else if (response.data && response.data.node.uuid) {\n\t\t\turl = `${window.location.origin}/renderlink/${response.data.node.type}/${response.data.node.uuid}`;\n\t\t}\n\t\tdispatch({\n\t\t\ttype: CONTEXTUAL_CREATE_NODE_SUCCESS,\n\t\t\tnode: response.data.node,\n\t\t\tassociation: response.data.association,\n\t\t});\n\t\treturn { url, name: response.data.node.name, uuid: response.data.node.uuid };\n\t} catch (err) {\n\t\tconsole.error(err);\n\t\tdispatch({ type: CONTEXTUAL_CREATE_NODE_ERROR });\n\t}\n};\n\nexport const createUrlNode = (node) => async (dispatch) => {\n\tdispatch({ type: CREATE_NODE });\n\ttry {\n\t\tconst response = await instance.put(\"/url\", {\n\t\t\tisFile: node.isFile,\n\t\t\ttype: node.type,\n\t\t\tname: node.name,\n\t\t\tpreview: node.preview,\n\t\t\tpath: node.path,\n\t\t\tcontent: node.content,\n\t\t\tlinkedNode: node.linkedNode,\n\t\t});\n\t\tdispatch({\n\t\t\ttype: CREATE_NODE_SUCCESS,\n\t\t\tpayload: response.data.node,\n\t\t});\n\t} catch (err) {\n\t\tdispatch({ type: CREATE_NODE_ERROR });\n\t\tmessage.error(\"There was a problem adding that URL\", 1);\n\t\thistory.push(\"/\");\n\t}\n};\n\nexport const markNodeView = (node) => async (dispatch) => {\n\tdispatch({ type: MARK_NODE_VIEW });\n\ttry {\n\t\tawait instance.patch(\"/node/viewed\", {\n\t\t\tuuid: node.uuid,\n\t\t});\n\t\tdispatch({ type: MARK_NODE_VIEW_SUCCESS, node });\n\t} catch (err) {\n\t\tdispatch({ type: MARK_NODE_VIEW_ERROR });\n\t\tmessage.error(\"Could not mark node view\", 1);\n\t\thistory.push(\"/\");\n\t}\n};\n\n// set active node\nexport const setActiveNode = (uuid) => async (dispatch) => {\n\tdispatch({ type: SET_ACTIVE_NODE });\n\ttry {\n\t\tconst response = await instance.get(\"/node\", {\n\t\t\tparams: { uuid },\n\t\t});\n\t\tdispatch({ type: SET_ACTIVE_NODE_SUCCESS, payload: response.data });\n\t} catch (err) {\n\t\tdispatch({ type: SET_ACTIVE_NODE_ERROR });\n\t\thistory.push(\"/\");\n\t\tmessage.error(\"Could not retrieve node\", 1);\n\t}\n};\n\n// get random node\nexport const getRandomNode = () => async (dispatch) => {\n\tdispatch({ type: SET_ACTIVE_NODE });\n\ttry {\n\t\tconst response = await instance.get(\"/node/random\");\n\t\tdispatch({ type: SET_ACTIVE_NODE_SUCCESS, payload: response.data });\n\t\twindow.location.replace(`/associations/${response.data.node.uuid}`);\n\t} catch (err) {\n\t\tdispatch({ type: SET_ACTIVE_NODE_ERROR });\n\t\thistory.push(\"/\");\n\t\tmessage.error(\"Could not retrieve values\", 1);\n\t}\n};\n\nexport const clearActiveNode = () => {\n\treturn {\n\t\ttype: CLEAR_ACTIVE_NODE,\n\t};\n};\n\n// delete text node handler\nexport const deleteNode = (uuid) => async (dispatch) => {\n\tdispatch({ type: DELETE_NODE });\n\ttry {\n\t\tconst response = await instance.delete(`/node`, { params: { uuid } });\n\t\tif (response.status === 200) {\n\t\t\thistory.push(\"/\");\n\t\t\tdispatch({ type: DELETE_NODE_SUCCESS, uuid: uuid });\n\t\t\tmessage.success(\"successfully deleted\", 1);\n\t\t}\n\t} catch (err) {\n\t\tdispatch({ type: DELETE_NODE_ERROR });\n\t\tmessage.error(\"There was a problem deleting the node\", 1);\n\t}\n};\n\n//regenerate collection previews\nexport const regenerateCollectionPreviews = () => async (dispatch) => {\n\ttry {\n\t\tawait instance.patch(`/collection/regenerate`);\n\t} catch (err) {\n\t\tmessage.error(\"There was a problem regenerating the collection previews\", 1);\n\t}\n};\n\n// clear all nodes\nexport const clearAllNodes = (formValues) => async (dispatch) => {\n\ttry {\n\t\tconst response = await instance.patch(\"/user/clear\", {\n\t\t\tpassword: formValues.passwordValue,\n\t\t});\n\t\tif (response.status === 200) {\n\t\t\thistory.push(\"/\");\n\t\t\tmessage.success(\"successfully deleted all your data :)\", 3);\n\t\t}\n\t} catch (err) {\n\t\tmessage.error(\"There was a problem, please try again\", 1);\n\t}\n};\n","import instance from '../../../api/instance';\nimport history from '../../../utils/history';\nimport {\n\tCREATE_ACCOUNT,\n\tCREATE_ACCOUNT_SUCCESS,\n\tCREATE_ACCOUNT_ERROR,\n\tSIGN_IN,\n\tSIGN_IN_SUCCESS,\n\tSIGN_IN_ERROR,\n\tSIGN_OUT,\n\tSIGN_OUT_ERROR,\n\tREFRESH_AUTH,\n\tREFRESH_AUTH_SUCCESS,\n\tREFRESH_AUTH_ERROR,\n\tRESET_APP,\n} from './types';\nimport { message } from 'antd';\nimport { loadClientConfig } from '../../../utils/config';\n\n// Create Account Action handler\nexport const createAccount = (formValues) => async (dispatch) => {\n\t// let's take this as an opportunity to (re)initialize the backend config values in localstorage\n\tif (window.api) {\n\t\twindow.api.send('toMain', { action: 'get-backend-config' });\n\t}\n\t// lets also initialize some config values into storage/load them if they exist on this computer\n\tloadClientConfig();\n\t// dispatch create account action\n\tdispatch({ type: CREATE_ACCOUNT });\n\ttry {\n\t\tconst response = await instance.put('/auth/signup', formValues);\n\t\tlocalStorage.setItem('displayName', response.data.displayName);\n\t\tdispatch({ type: CREATE_ACCOUNT_SUCCESS, payload: response.data });\n\t\thistory.push('/');\n\t} catch (err) {\n\t\tdispatch({ type: CREATE_ACCOUNT_ERROR });\n\t\tmessage.error('There was a problem creating the account', 1);\n\t\thistory.push('/');\n\t}\n};\n\n// Sign In Action handler\nexport const signIn = (formValues) => async (dispatch) => {\n\tdispatch({ type: SIGN_IN });\n\t// lets also initialize some config values into storage/load them if they exist on this computer\n\tloadClientConfig();\n\ttry {\n\t\tconst response = await instance.put('/auth/login', formValues);\n\t\tlocalStorage.setItem('displayName', response.data.displayName);\n\t\tdispatch({ type: SIGN_IN_SUCCESS, payload: response.data });\n\t} catch (err) {\n\t\tdispatch({ type: SIGN_IN_ERROR });\n\t\tmessage.error('There was a problem signing in', 1);\n\t\thistory.push('/');\n\t}\n};\n\n// Sign Out Action Handler\nexport const signOut = () => async (dispatch) => {\n\tdispatch({ type: SIGN_OUT });\n\ttry {\n\t\tawait instance.get('/auth/signout');\n\t\tdispatch({ type: RESET_APP });\n\t\tmessage.success('Signed Out', 1);\n\t\t// send page redirect for the user\n\t\thistory.push('/');\n\t} catch (err) {\n\t\tdispatch({ type: SIGN_OUT_ERROR });\n\t\tmessage.error('There was a problem signing out', 1);\n\t}\n};\n\nexport const changePassword = (formValues) => async (dispatch) => {\n\ttry {\n\t\tconst response = await instance.patch('/auth/password', {\n\t\t\toldPassword: formValues.oldPassword,\n\t\t\tnewPassword: formValues.newPassword,\n\t\t});\n\t\tif (response.status === 200) {\n\t\t\tmessage.success('changed password', 1);\n\t\t}\n\t} catch (err) {\n\t\tmessage.error('Could not update password', 1);\n\t}\n};\n\nexport const forgotPassword = (formValues) => async (dispatch) => {\n\ttry {\n\t\tconst response = await instance.put('/auth/forgot-password', {\n\t\t\temail: formValues.email,\n\t\t\tnewPassword: formValues.newPassword,\n\t\t\tconfirmNewPassword: formValues.confirmNewPassword,\n\t\t});\n\t\tif (response.status === 200) {\n\t\t\twindow.location.replace('/');\n\t\t}\n\t} catch (err) {\n\t\tmessage.error('something went wrong', 1);\n\t}\n};\n\nexport const isAuthenticated = () => async (dispatch) => {\n\ttry {\n\t\tdispatch({ type: REFRESH_AUTH });\n\t\tconst response = await instance.get('/auth');\n\t\tdispatch({ type: REFRESH_AUTH_SUCCESS, payload: response.data });\n\t} catch (err) {\n\t\tdispatch({ type: REFRESH_AUTH_ERROR });\n\t}\n};\n","import instance from '../../../api/instance';\n// import history from '../history';\nimport {\n  FETCH_USER_NODE,\n  UPDATE_USER_NODE,\n  UPDATE_USER_NODE_ERROR,\n  UPDATE_USER_NODE_SUCCESS,\n  UPDATE_USER_AVATAR,\n  UPDATE_USER_AVATAR_SUCCESS,\n  UPDATE_USER_AVATAR_ERROR,\n  UPDATE_USER_HEADER,\n  UPDATE_USER_HEADER_SUCCESS,\n  UPDATE_USER_HEADER_ERROR,\n} from './types';\nimport { message } from 'antd';\n\n// get user by username handler\nexport const fetchUserByUsername = (username) => async (dispatch) => {\n  dispatch({ type: FETCH_USER_NODE });\n  try {\n    const response = await instance.get('/user/username', { params: { username } });\n    const user = response.data.user;\n    return user;\n    // TODO: once i add users a node type on the homepage, is when i should be adding this reducer\n    // dispatch({ type: FETCH_TEXT_NODE_SUCCESS, payload: response.data });\n  } catch (err) {\n    // dispatch({ type: FETCH_TEXT_NODE_ERROR });\n    message.error('Could not fetch user', 1);\n    // history.push('/');\n  }\n};\n\n// get user by username handler\n// export const fetchUserByEmail = email => async dispatch => {\n//   dispatch({ type: FETCH_USER_NODE });\n//   try {\n//     const response = await instance.get('/user/username', { params: { email } });\n//     const user = response.data.user;\n//     return user;\n//     // TODO: once i add users a node type on the homepage, is when i should be adding this reducer\n//     // dispatch({ type: FETCH_TEXT_NODE_SUCCESS, payload: response.data });\n//   } catch (err) {\n//     // dispatch({ type: FETCH_TEXT_NODE_ERROR });\n//     message.error('Could not fetch user', 1);\n//     // history.push('/');\n//   }\n// };\n\n// update user by username\nexport const updateUserInfo = (user) => async (dispatch) => {\n  dispatch({ type: UPDATE_USER_NODE });\n  try {\n    const response = await instance.patch('/user/info', {\n      username: user.username,\n      bio: user.bio,\n      displayName: user.displayName,\n    });\n    const updatedUser = response.data.user;\n    dispatch({ type: UPDATE_USER_NODE_SUCCESS, user: updatedUser });\n    return updatedUser;\n  } catch (err) {\n    dispatch({ type: UPDATE_USER_NODE_ERROR });\n    message.error('Could not update user', 1);\n  }\n};\n\n// update username\nexport const updateUsername = (username) => async (dispatch) => {\n  dispatch({ type: UPDATE_USER_NODE });\n  try {\n    const response = await instance.patch('/user/username', {\n      username: username,\n    });\n    const updatedUser = response.data.user;\n    dispatch({ type: UPDATE_USER_NODE_SUCCESS, user: updatedUser });\n    return updatedUser;\n  } catch (err) {\n    dispatch({ type: UPDATE_USER_NODE_ERROR });\n    message.error('Could not update user', 1);\n  }\n};\n\n// update user by username\nexport const updateEmail = (email) => async (dispatch) => {\n  dispatch({ type: UPDATE_USER_NODE });\n  try {\n    const response = await instance.patch('/user/email', {\n      email: email,\n    });\n    const updatedUser = response.data.user;\n    dispatch({ type: UPDATE_USER_NODE_SUCCESS, user: updatedUser });\n    return updatedUser;\n  } catch (err) {\n    dispatch({ type: UPDATE_USER_NODE_ERROR });\n    message.error('Could not update user', 1);\n  }\n};\n\n// update user avatar\nexport const updateUserAvatar = (file) => async (dispatch) => {\n  dispatch({ type: UPDATE_USER_AVATAR });\n  try {\n    // create image FormData\n    const imageData = new FormData();\n    imageData.append('image', file);\n    // send the request\n    const response = await instance.patch('/user/avatar', imageData, {\n      headers: { 'Content-Type': 'multipart/form-data' },\n    });\n    // if it's sucessful dispatch the success action\n    if (response.status === 200) {\n      dispatch({ type: UPDATE_USER_AVATAR_SUCCESS, url: response.data.url });\n      // return the image URL for immediate use\n      return response.data.url;\n    } else {\n      message.error('There was a problem uploading the image', 1);\n    }\n  } catch (err) {\n    dispatch({ type: UPDATE_USER_AVATAR_ERROR });\n    message.error('There was a problem uploading the image', 1);\n  }\n};\n\nexport const updateUserHeader = (file) => async (dispatch) => {\n  dispatch({ type: UPDATE_USER_HEADER });\n  try {\n    // create image FormData\n    const imageData = new FormData();\n    imageData.append('image', file);\n    // send the request\n    const response = await instance.patch('/user/header', imageData, {\n      headers: { 'Content-Type': 'multipart/form-data' },\n    });\n    // if it's sucessful dispatch the success action\n    if (response.status === 200) {\n      dispatch({ type: UPDATE_USER_HEADER_SUCCESS, url: response.data.url });\n      // return the image URL for immediate use\n      return response.data.url;\n    } else {\n      message.error('There was a problem uploading the image', 1);\n    }\n  } catch (err) {\n    dispatch({ type: UPDATE_USER_HEADER_ERROR });\n    message.error('There was a problem uploading the image', 1);\n  }\n};\n","import instance from \"../../../api/instance\";\nimport history from \"../../../utils/history\";\nimport {\n\tCREATE_ASSOCIATION,\n\tCREATE_ASSOCIATION_ERROR,\n\tCREATE_ASSOCIATION_SUCCESS,\n\tFETCH_ASSOCIATION_LINK_LIST,\n\tFETCH_ASSOCIATION_LINK_LIST_ERROR,\n\tFETCH_ASSOCIATION_LINK_LIST_SUCCESS,\n\tRESET_ASSOCIATION_LINK_LIST,\n\tFETCH_ASSOCIATIONS,\n\tFETCH_ASSOCIATIONS_ERROR,\n\tFETCH_ASSOCIATIONS_SUCCESS,\n\tRESET_ASSOCIATIONS,\n\tREMOVE_FROM_ASSOCIATION_LIST,\n\tDELETE_ASSOCIATION_LINK,\n\tDELETE_ASSOCIATION_LINK_SUCCESS,\n\tDELETE_ASSOCIATION_LINK_ERROR,\n\t// RESET_APP\n} from \"./types\";\nimport { message } from \"antd\";\n\n// fetch associations for associationLinklist\nexport const fetchAssociationLinkList = (query) => async (dispatch) => {\n\tlet linkMode = JSON.parse(localStorage.getItem(\"link-mode\"));\n\tlet bidirectional = linkMode === \"bidirectional\" ? \"yes\" : \"no\";\n\tlet sortType = JSON.parse(localStorage.getItem(\"association-sort\")) || \"last updated\";\n\tlet sortOrder = JSON.parse(localStorage.getItem(\"association-sort-order\")) || \"desc\";\n\ttry {\n\t\tif (!query.page) {\n\t\t\tdispatch({ type: RESET_ASSOCIATION_LINK_LIST });\n\t\t\tquery.page = 1;\n\t\t}\n\t\tdispatch({ type: FETCH_ASSOCIATION_LINK_LIST });\n\t\tconst response = await instance.get(\"/association\", {\n\t\t\tparams: { nodeUUID: query.nodeUUID, page: query.page, bidirectional, sortOrder, sortType },\n\t\t});\n\t\tdispatch({\n\t\t\ttype: FETCH_ASSOCIATION_LINK_LIST_SUCCESS,\n\t\t\tpayload: response.data,\n\t\t\tnodeUUID: query.nodeUUID,\n\t\t\tpage: query.page,\n\t\t});\n\t} catch (err) {\n\t\tdispatch({ type: FETCH_ASSOCIATION_LINK_LIST_ERROR });\n\t\tmessage.error(\"Could not fetch items\", 1);\n\t\thistory.push(\"/\");\n\t}\n};\n\n// fetch associations for associationList\nexport const fetchAssociations = (query) => async (dispatch) => {\n\tlet linkMode = JSON.parse(localStorage.getItem(\"link-mode\"));\n\tlet bidirectional = linkMode === \"bidirectional\" ? \"yes\" : \"no\";\n\tlet sortType = JSON.parse(localStorage.getItem(\"association-sort\")) || \"last updated\";\n\tlet sortOrder = JSON.parse(localStorage.getItem(\"association-sort-order\")) || \"desc\";\n\ttry {\n\t\tif (!query.page) {\n\t\t\tdispatch({ type: RESET_ASSOCIATIONS });\n\t\t\tquery.page = 1;\n\t\t}\n\t\tdispatch({ type: FETCH_ASSOCIATIONS });\n\t\tconst response = await instance.get(\"/association\", {\n\t\t\tparams: { nodeUUID: query.nodeUUID, page: query.page, bidirectional, sortOrder, sortType },\n\t\t});\n\t\tdispatch({\n\t\t\ttype: FETCH_ASSOCIATIONS_SUCCESS,\n\t\t\tpayload: response.data,\n\t\t\tnodeUUID: query.nodeUUID,\n\t\t\tpage: query.page,\n\t\t});\n\t} catch (err) {\n\t\tdispatch({ type: FETCH_ASSOCIATIONS_ERROR });\n\t\tmessage.error(\"Could not fetch items\", 1);\n\t\thistory.push(\"/\");\n\t}\n};\n\n// create a new association\nexport const createAssociation = (nodeUUID, linkedNodeUUID) => async (dispatch) => {\n\ttry {\n\t\tdispatch({ type: CREATE_ASSOCIATION });\n\t\tconst response = await instance.put(\"/association\", {\n\t\t\tnodeUUID,\n\t\t\tlinkedNodeUUID,\n\t\t});\n\t\tdispatch({\n\t\t\ttype: CREATE_ASSOCIATION_SUCCESS,\n\t\t\tassociation: response.data.association,\n\t\t\tnode: response.data.node,\n\t\t\tlinkedNode: response.data.linkedNode,\n\t\t\tnodeUUID,\n\t\t});\n\t} catch (err) {\n\t\tdispatch({ type: CREATE_ASSOCIATION_ERROR });\n\t\tmessage.error(\"Could not create association\", 1);\n\t\thistory.push(\"/\");\n\t}\n};\n\n// get autocomplete values for association creation\nexport const associationAutocomplete = (query) => async (dispatch) => {\n\tlet linkMode = JSON.parse(localStorage.getItem(\"link-mode\"));\n\tlet bidirectional = linkMode === \"bidirectional\" ? \"yes\" : \"no\";\n\ttry {\n\t\tconst response = await instance.get(\"/association/autocomplete\", {\n\t\t\tparams: { searchQuery: query.searchQuery, nodeUUID: query.uuid, bidirectional },\n\t\t});\n\t\treturn response.data.nodes;\n\t} catch (err) {\n\t\tmessage.error(\"Could not search nodes\", 1);\n\t\thistory.push(\"/\");\n\t}\n};\n\n// delete text node handler\nexport const deleteAssociationLink = (nodeA, nodeB) => async (dispatch) => {\n\tlet linkMode = JSON.parse(localStorage.getItem(\"link-mode\"));\n\tlet bidirectional = linkMode === \"bidirectional\" ? \"yes\" : \"no\";\n\tdispatch({ type: DELETE_ASSOCIATION_LINK });\n\ttry {\n\t\tconst response = await instance.delete(`/association`, {\n\t\t\tparams: { nodeA, nodeB, bidirectional },\n\t\t});\n\t\tif (response.status === 200) {\n\t\t\tdispatch({ type: DELETE_ASSOCIATION_LINK_SUCCESS, deletedUUID: response.data.deletedUUID });\n\t\t}\n\t} catch (err) {\n\t\tdispatch({ type: DELETE_ASSOCIATION_LINK_ERROR });\n\t\tmessage.error(\"There was a problem deleting the node\", 1);\n\t}\n};\n\n// remove from association list\nexport const removeFromAssociationList = (uuid) => {\n\treturn {\n\t\ttype: REMOVE_FROM_ASSOCIATION_LIST,\n\t\tdeletedUUID: uuid,\n\t};\n};\n\n// update the linkStrength for an association\nexport const updateLinkStrength = (nodeA, nodeB) => async (dispatch) => {\n\ttry {\n\t\tawait instance.put(\"/association/linkstrength\", {\n\t\t\tnodeA,\n\t\t\tnodeB,\n\t\t});\n\t} catch (err) {\n\t\tmessage.error(\"There was a problem with your request\", 1);\n\t}\n};\n","import { SHOW_COMPONENT, HIDE_COMPONENT, LOAD_THEME } from \"./types\";\nimport { setupTheme, setupEditorTheme } from \"../../../utils/theme\";\n\nexport const showComponent = (type, content) => {\n\treturn {\n\t\ttype: SHOW_COMPONENT,\n\t\tpayload: {\n\t\t\ttype: type,\n\t\t\tcontent: content,\n\t\t},\n\t};\n};\n\nexport const hideComponent = (type) => {\n\treturn {\n\t\ttype: HIDE_COMPONENT,\n\t\tpayload: {\n\t\t\ttype: type,\n\t\t},\n\t};\n};\n\nexport const loadTheme = () => {\n\tlet theme = setupTheme();\n\tlet editorTheme = setupEditorTheme();\n\treturn {\n\t\ttype: LOAD_THEME,\n\t\tpayload: {\n\t\t\ttheme,\n\t\t\teditorTheme,\n\t\t},\n\t};\n};\n","export const setupTheme = () => {\n\tlet theme = JSON.parse(localStorage.getItem(\"theme\"));\n\tlet colors = {};\n\tswitch (theme) {\n\t\tcase \"classic\":\n\t\t\tcolors = {\n\t\t\t\tcardTitleColor: \"#03fc88\",\n\t\t\t\tcardButtonColor: \"white\",\n\t\t\t\tcardHeaderColor: \"#111111\",\n\t\t\t\tcardBodyColor: \"#111111\",\n\t\t\t\tcardTextColor: \"#e7e7e7\",\n\t\t\t\tgraphNodeColor: \"#ffffff\",\n\t\t\t\tgraphNodeBorderColor: \"#fff019\",\n\t\t\t\tgraphNodeHoverColor: \"#f0ff99\",\n\t\t\t\tgraphNodeBorderHoverColor: \"#f0ff99\",\n\t\t\t\ttextEditorBackground: \"white\",\n\t\t\t\ttextEditorText: \"black\",\n\t\t\t};\n\t\t\tbreak;\n\t\tcase \"light\":\n\t\t\tcolors = {\n\t\t\t\tcardTitleColor: \"black\",\n\t\t\t\tcardButtonColor: \"black\",\n\t\t\t\tcardHeaderColor: \"#e7e7e7\",\n\t\t\t\tcardBodyColor: \"#e7e7e7\",\n\t\t\t\tcardTextColor: \"grey\",\n\t\t\t\tgraphNodeColor: \"#f0ff99\",\n\t\t\t\tgraphNodeBorderColor: \"#f0ff99\",\n\t\t\t\tgraphNodeHoverColor: \"white\",\n\t\t\t\tgraphNodeBorderHoverColor: \"white\",\n\t\t\t\ttextEditorBackground: \"white\",\n\t\t\t\ttextEditorText: \"black\",\n\t\t\t};\n\t\t\tbreak;\n\t\tcase \"translucent\":\n\t\t\tcolors = {\n\t\t\t\tcardTitleColor: \"#03fc88\",\n\t\t\t\tcardButtonColor: \"white\",\n\t\t\t\tcardHeaderColor: \"rgba(0, 0, 0, .6)\",\n\t\t\t\tcardBodyColor: \"rgba(0, 0, 0, .8)\",\n\t\t\t\tcardTextColor: \"#e7e7e7\",\n\t\t\t\tgraphNodeColor: \"#ffffff\",\n\t\t\t\tgraphNodeBorderColor: \"#fff019\",\n\t\t\t\tgraphNodeHoverColor: \"rgba(255, 255, 255, .4)\",\n\t\t\t\tgraphNodeBorderHoverColor: \"rgba(255, 255, 255, .4)\",\n\t\t\t\ttextEditorBackground: \"white\",\n\t\t\t\ttextEditorText: \"#272727\",\n\t\t\t};\n\t\t\tbreak;\n\t\tcase \"translucent green\":\n\t\t\tcolors = {\n\t\t\t\tcardTitleColor: \"#03fc88\",\n\t\t\t\tcardButtonColor: \"#03fc88\",\n\t\t\t\tcardHeaderColor: \"rgba(0, 0, 0, .6)\",\n\t\t\t\tcardBodyColor: \"rgba(0, 0, 0, .8)\",\n\t\t\t\tcardTextColor: \"#e7e7e7\",\n\t\t\t\tgraphNodeColor: \"#03fc88\",\n\t\t\t\tgraphNodeBorderColor: \"#03fc88\",\n\t\t\t\tgraphNodeHoverColor: \"rgba(3, 252, 136, .5)\",\n\t\t\t\tgraphNodeBorderHoverColor: \"rgba(3, 252, 136, .5)\",\n\t\t\t\ttextEditorBackground: \"white\",\n\t\t\t\ttextEditorText: \"#272727\",\n\t\t\t};\n\t\t\tbreak;\n\t\tcase \"translucent blue\":\n\t\t\tcolors = {\n\t\t\t\tcardTitleColor: \"#7bf2e2\",\n\t\t\t\tcardButtonColor: \"#7bf2a7\",\n\t\t\t\tcardHeaderColor: \"rgba(0, 0, 0, .6)\",\n\t\t\t\tcardBodyColor: \"rgba(0, 0, 0, .8)\",\n\t\t\t\tcardTextColor: \"#e7e7e7\",\n\t\t\t\tgraphNodeColor: \"#c3f9f2\",\n\t\t\t\tgraphNodeBorderColor: \"#3651ff\",\n\t\t\t\tgraphNodeHoverColor: \"rgba(50, 66, 168, .5)\",\n\t\t\t\tgraphNodeBorderHoverColor: \"rgba(50, 66, 168, .5)\",\n\t\t\t\ttextEditorBackground: \"white\",\n\t\t\t\ttextEditorText: \"#272727\",\n\t\t\t};\n\t\t\tbreak;\n\t\tcase \"translucent red\":\n\t\t\tcolors = {\n\t\t\t\tcardTitleColor: \"#ff709b\",\n\t\t\t\tcardButtonColor: \"#ff3d78\",\n\t\t\t\tcardHeaderColor: \"rgba(0, 0, 0, .6)\",\n\t\t\t\tcardBodyColor: \"rgba(0, 0, 0, .8)\",\n\t\t\t\tcardTextColor: \"#e7e7e7\",\n\t\t\t\tgraphNodeColor: \"#ff3d78\",\n\t\t\t\tgraphNodeBorderColor: \"#c70a43\",\n\t\t\t\tgraphNodeHoverColor: \"rgba(255, 61, 120, .5)\",\n\t\t\t\tgraphNodeBorderHoverColor: \"rgba(255, 61, 120, .5)\",\n\t\t\t\ttextEditorBackground: \"white\",\n\t\t\t\ttextEditorText: \"#272727\",\n\t\t\t};\n\t\t\tbreak;\n\t\tcase \"translucent yellow\":\n\t\t\tcolors = {\n\t\t\t\tcardTitleColor: \"#faff63\",\n\t\t\t\tcardButtonColor: \"#faff63\",\n\t\t\t\tcardHeaderColor: \"rgba(0, 0, 0, .6)\",\n\t\t\t\tcardBodyColor: \"rgba(0, 0, 0, .8)\",\n\t\t\t\tcardTextColor: \"#e7e7e7\",\n\t\t\t\tgraphNodeColor: \"#faff63\",\n\t\t\t\tgraphNodeBorderColor: \"#e7e7e7\",\n\t\t\t\tgraphNodeHoverColor: \"rgba(250, 255, 99, .5)\",\n\t\t\t\tgraphNodeBorderHoverColor: \"rgba(250, 255, 99, .5)\",\n\t\t\t\ttextEditorBackground: \"white\",\n\t\t\t\ttextEditorText: \"#272727\",\n\t\t\t};\n\t\t\tbreak;\n\t\tcase \"translucent orange\":\n\t\t\tcolors = {\n\t\t\t\tcardTitleColor: \"#ffa424\",\n\t\t\t\tcardButtonColor: \"#ffa424\",\n\t\t\t\tcardHeaderColor: \"rgba(0, 0, 0, .6)\",\n\t\t\t\tcardBodyColor: \"rgba(0, 0, 0, .8)\",\n\t\t\t\tcardTextColor: \"#e7e7e7\",\n\t\t\t\tgraphNodeColor: \"#ffa424\",\n\t\t\t\tgraphNodeBorderColor: \"#e7e7e7\",\n\t\t\t\tgraphNodeHoverColor: \"rgba(255, 164, 36, .5)\",\n\t\t\t\tgraphNodeBorderHoverColor: \"rgba(255, 164, 36, .5)\",\n\t\t\t\ttextEditorBackground: \"white\",\n\t\t\t\ttextEditorText: \"#272727\",\n\t\t\t};\n\t\t\tbreak;\n\t\tdefault:\n\t\t\tbreak;\n\t}\n\treturn colors;\n};\n\nexport const setupEditorTheme = () => {\n\tlet theme = JSON.parse(localStorage.getItem(\"quill-theme\"));\n\tlet colors = {};\n\tswitch (theme) {\n\t\tcase \"classic\":\n\t\t\tcolors = {\n\t\t\t\ttextEditorBackground: \"white\",\n\t\t\t\ttextEditorText: \"black\",\n\t\t\t};\n\t\t\tbreak;\n\t\tcase \"dark\":\n\t\t\tcolors = {\n\t\t\t\ttextEditorBackground: \"#272727\",\n\t\t\t\ttextEditorText: \"white\",\n\t\t\t};\n\t\t\tbreak;\n\t\tcase \"warm\":\n\t\t\tcolors = {\n\t\t\t\ttextEditorBackground: \"#FFF1DE\",\n\t\t\t\ttextEditorText: \"#272727\",\n\t\t\t};\n\t\t\tbreak;\n\t\tcase \"off white\":\n\t\t\tcolors = {\n\t\t\t\ttextEditorBackground: \"#FAF9F6\",\n\t\t\t\ttextEditorText: \"#272727\",\n\t\t\t};\n\t\t\tbreak;\n\t\tcase \"green hacker\":\n\t\t\tcolors = {\n\t\t\t\ttextEditorBackground: \"rgba(0, 0, 0, .8)\",\n\t\t\t\ttextEditorText: \"#03fc88\",\n\t\t\t};\n\t\t\tbreak;\n\t\tcase \"iris hacker\":\n\t\t\tcolors = {\n\t\t\t\ttextEditorBackground: \"rgba(0, 0, 0, .8)\",\n\t\t\t\ttextEditorText: \"#5D3FD3\",\n\t\t\t};\n\t\t\tbreak;\n\t\tcase \"dark translucent\":\n\t\t\tcolors = {\n\t\t\t\ttextEditorBackground: \"rgba(0, 0, 0, .8)\",\n\t\t\t\ttextEditorText: \"white\",\n\t\t\t};\n\t\t\tbreak;\n\t\tdefault:\n\t\t\tcolors = {\n\t\t\t\ttextEditorBackground: \"white\",\n\t\t\t\ttextEditorText: \"black\",\n\t\t\t};\n\t\t\tbreak;\n\t}\n\treturn colors;\n};\n","import instance from '../../../api/instance';\nimport history from '../../../utils/history';\nimport { GENERATE_EXPORT, GENERATE_EXPORT_ERROR, GENERATE_EXPORT_SUCCESS } from './types';\nimport { message } from 'antd';\n\n// export the instance data and get the url of the file\nexport const generateInstanceExport = () => async (dispatch) => {\n\tmessage.success('generating export!', 2);\n\ttry {\n\t\tdispatch({ type: GENERATE_EXPORT });\n\t\tconst response = await instance.put('/port/export/all');\n\t\tif (response.status === 200) {\n\t\t\tdispatch({ type: GENERATE_EXPORT_SUCCESS, payload: response.data });\n\t\t\t// redirect\n\t\t\thistory.push('/');\n\t\t}\n\t} catch (err) {\n\t\tdispatch({ type: GENERATE_EXPORT_ERROR });\n\t\tmessage.error('Could not export instance data', 1);\n\t\thistory.push('/');\n\t}\n};\n\n// generate export based on a node\nexport const generateExportByUUID = (uuid) => async (dispatch) => {\n\tlet linkMode = JSON.parse(localStorage.getItem('link-mode'));\n\tlet bidirectional = linkMode === 'bidirectional' ? 'yes' : 'no';\n\tmessage.success('generating export!', 2);\n\ttry {\n\t\tdispatch({ type: GENERATE_EXPORT });\n\t\tconst response = await instance.put('/port/export/', { uuid, bidirectional });\n\t\tif (response.status === 200) {\n\t\t\tdispatch({ type: GENERATE_EXPORT_SUCCESS, payload: response.data });\n\t\t\t// redirect\n\t\t\thistory.push('/');\n\t\t}\n\t} catch (err) {\n\t\tdispatch({ type: GENERATE_EXPORT_ERROR });\n\t\tmessage.error('Could not export instance data', 1);\n\t\thistory.push('/');\n\t}\n};\n\n// export the instance data and get the url of the file\nexport const unpackImport = (uuid) => async (dispatch) => {\n\ttry {\n\t\tconst response = await instance.put('/port/import/', { uuid });\n\t\tif (response.status === 200) {\n\t\t\tmessage.success('started import process!', 3);\n\t\t\thistory.push('/');\n\t\t}\n\t} catch (err) {\n\t\tmessage.error('Could not import instance data', 1);\n\t\thistory.push('/');\n\t}\n};\n\nexport const removeImportsByPackage = (uuid) => async (dispatch) => {\n\tmessage.success('removing imports...', 1);\n\ttry {\n\t\tconst response = await instance.patch('/port/export/undo/', { uuid });\n\t\tif (response.status === 200) {\n\t\t\thistory.push('/');\n\t\t}\n\t} catch (err) {\n\t\tmessage.error('Could not remove imports for this export', 1);\n\t\thistory.push('/');\n\t}\n};\n","import instance from '../../instance';\nimport {\n\tCREATE_FILE_NODE,\n\tCREATE_FILE_NODE_SUCCESS,\n\tCREATE_FILE_NODE_ERROR,\n\tLINK_FILE_NODES,\n\tLINK_FILE_NODES_SUCCESS,\n\tLINK_FILE_NODES_ERROR,\n} from './types';\nimport { message } from 'antd';\n\nexport const createFileNode = (file, name, linkedNode) => async (dispatch) => {\n\tdispatch({ type: CREATE_FILE_NODE });\n\ttry {\n\t\t// create image FormData\n\t\tconst fileData = new FormData();\n\t\tfileData.append('image', file);\n\t\tif (name) {\n\t\t\tfileData.append('name', name);\n\t\t}\n\t\tif (linkedNode) {\n\t\t\tfileData.append('linkedNode', linkedNode);\n\t\t}\n\t\t// send the request\n\t\tconst response = await instance.put('/file', fileData, {\n\t\t\theaders: { 'Content-Type': 'multipart/form-data' },\n\t\t});\n\t\t// if it's sucessful dispatch the success action\n\t\tif (response.status === 200) {\n\t\t\tdispatch({ type: CREATE_FILE_NODE_SUCCESS, payload: response.data.node });\n\t\t\t// return the image URL for immediate use\n\t\t\treturn response.data.node.preview;\n\t\t} else {\n\t\t\tmessage.error('There was a problem inserting the file', 1);\n\t\t}\n\t} catch (err) {\n\t\tdispatch({ type: CREATE_FILE_NODE_ERROR });\n\t\tmessage.error('There was a problem inserting the file', 1);\n\t}\n};\n\nexport const linkFileNodes = (fileList, linkedNode) => async (dispatch) => {\n\tdispatch({ type: LINK_FILE_NODES });\n\ttry {\n\t\t// send the request\n\t\tconst response = await instance.put('/file/link', {\n\t\t\tfileList: JSON.stringify(fileList),\n\t\t\tlinkedNode: linkedNode,\n\t\t});\n\t\t// if it's sucessful dispatch the success action\n\t\tif (response.status === 200) {\n\t\t\tdispatch({ type: LINK_FILE_NODES_SUCCESS, nodes: response.data.nodes });\n\t\t} else {\n\t\t\tmessage.error('There was a problem creating the file nodes', 1);\n\t\t}\n\t} catch (err) {\n\t\tdispatch({ type: LINK_FILE_NODES_ERROR });\n\t\tmessage.error('There was a problem creating the file nodes', 1);\n\t}\n};\n\nexport const launchFileNode = (uuid) => async (dispatch) => {\n\t// message.success('loading...', 1);\n\ttry {\n\t\t// send the request\n\t\tawait instance.put('/file/launch', { uuid });\n\t} catch (err) {\n\t\tmessage.error('There was a problem launching the file', 1);\n\t\twindow.location.reload();\n\t}\n};\n\nexport const openFileInExplorer = (uuid) => async (dispatch) => {\n\t// message.success('loading...', 1);\n\ttry {\n\t\t// send the request\n\t\tawait instance.put('/file/explorer', { uuid });\n\t} catch (err) {\n\t\tmessage.error('There was a problem opening the file in the file explorer', 1);\n\t\twindow.location.reload();\n\t}\n};\n","import React, { useEffect } from 'react';\nimport { connect } from 'react-redux';\nimport { loadTheme } from '../api/redux/actions';\nimport defaultBackground from '../resources/cloud9.png';\nimport { loadClientConfig } from '../utils/config';\n\n// theme wrapper component\nconst Theme = (props) => {\n\tuseEffect(() => {\n\t\t// go ahead and load the theme\n\t\tprops.loadTheme();\n\t\t// lets also reload config if its not set for some reason\n\t\tlet localConfigVersion = localStorage.getItem('client-config-version');\n\t\tif (!localConfigVersion) {\n\t\t\tloadClientConfig();\n\t\t}\n\t});\n\n\tconst loadBackground = () => {\n\t\tlet customImage = localStorage.getItem('background-image');\n\t\tlet bgImage = defaultBackground;\n\t\tif (customImage) {\n\t\t\tbgImage = customImage;\n\t\t}\n\t\treturn bgImage;\n\t};\n\n\treturn (\n\t\t<div>\n\t\t\t<img\n\t\t\t\tsrc={loadBackground() ? loadBackground() : defaultBackground}\n\t\t\t\talt='background'\n\t\t\t\tstyle={{\n\t\t\t\t\twidth: '100vw',\n\t\t\t\t\theight: '100vh',\n\t\t\t\t\tposition: 'fixed',\n\t\t\t\t\tbackgroundColor: '#272727',\n\t\t\t\t}}\n\t\t\t/>\n\t\t\t{props.children}\n\t\t</div>\n\t);\n};\n\nexport default connect(null, {\n\tloadTheme,\n})(Theme);\n","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { Link } from 'react-router-dom';\nimport { Formik, Form, Field, ErrorMessage } from 'formik';\nimport * as Yup from 'yup';\nimport { Layout, Card } from 'antd';\n// custom code\nimport { signIn } from '../../api/redux/actions';\nimport './css/Login.less';\n\n// destructure antd\nconst { Content, Footer } = Layout;\n\nclass Login extends Component {\n\tcomponentDidMount() {\n\t\tdocument.title = 'synthona';\n\t}\n\n\tgetUsername = () => {\n\t\t// const username = localStorage.getItem('displayName');\n\t\t// if (username) {\n\t\t//   return username;\n\t\t// } else {\n\t\t//   return 'synthona';\n\t\t// }\n\t\treturn 'synthona';\n\t};\n\n\tonSubmit = (values, { setSubmitting }) => {\n\t\tsetSubmitting(false);\n\t\tthis.props.signIn(values);\n\t};\n\n\trender() {\n\t\treturn (\n\t\t\t<Layout className='login-layout'>\n\t\t\t\t<Content className='login-content'>\n\t\t\t\t\t<Card className='login-card'>\n\t\t\t\t\t\t<Formik\n\t\t\t\t\t\t\tinitialValues={{ email: '', password: '', confirmPassword: '' }}\n\t\t\t\t\t\t\tvalidationSchema={validationSchema}\n\t\t\t\t\t\t\tonSubmit={this.onSubmit}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{({ isSubmitting }) => (\n\t\t\t\t\t\t\t\t<Form className='login-form'>\n\t\t\t\t\t\t\t\t\t<h1 className='login-title'>\n\t\t\t\t\t\t\t\t\t\t<span\n\t\t\t\t\t\t\t\t\t\t\trole='img'\n\t\t\t\t\t\t\t\t\t\t\taria-label='jsx-a11y/accessible-emoji'\n\t\t\t\t\t\t\t\t\t\t\tstyle={{ paddingRight: '0.5rem' }}\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t{' '}\n\t\t\t\t\t\t\t\t\t\t\t✨\n\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\tsynthona\n\t\t\t\t\t\t\t\t\t\t<span\n\t\t\t\t\t\t\t\t\t\t\trole='img'\n\t\t\t\t\t\t\t\t\t\t\taria-label='jsx-a11y/accessible-emoji'\n\t\t\t\t\t\t\t\t\t\t\tstyle={{ paddingRight: '0.5rem' }}\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t{'  '}✨\n\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t</h1>\n\t\t\t\t\t\t\t\t\t<Field type='email' name='email' placeholder='email' className='login-field' />\n\t\t\t\t\t\t\t\t\t<ErrorMessage name='email' component='div' className='login-error' />\n\t\t\t\t\t\t\t\t\t<Field\n\t\t\t\t\t\t\t\t\t\ttype='password'\n\t\t\t\t\t\t\t\t\t\tname='password'\n\t\t\t\t\t\t\t\t\t\tplaceholder='password'\n\t\t\t\t\t\t\t\t\t\tclassName='login-field'\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t<ErrorMessage name='password' component='div' className='login-error' />\n\t\t\t\t\t\t\t\t\t<ErrorMessage name='confirmPassword' component='div' className='login-error' />\n\t\t\t\t\t\t\t\t\t<button type='submit' disabled={isSubmitting} className='login-submit'>\n\t\t\t\t\t\t\t\t\t\tlogin\n\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t\t<Link to='/create-account' className='login-signup'>\n\t\t\t\t\t\t\t\t\t\tcreate account\n\t\t\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t\t\t</Form>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</Formik>\n\t\t\t\t\t\t<div className='login-after-card'>\n\t\t\t\t\t\t\t<Link to='/forgot-password' className='login-forgot-password'>\n\t\t\t\t\t\t\t\tlost password\n\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</Card>\n\t\t\t\t</Content>\n\t\t\t\t<Footer />\n\t\t\t</Layout>\n\t\t);\n\t}\n}\n\nconst validationSchema = Yup.object().shape({\n\temail: Yup.string().required().email('E-mail is not valid!'),\n\tpassword: Yup.string().required().min(5, 'Password has to be longer than 6 characters!'),\n});\n\nconst mapStateToProps = (state) => {\n\treturn { isSignedIn: state.auth.isSignedIn };\n};\n\nexport default connect(mapStateToProps, { signIn })(Login);\n","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { Link } from 'react-router-dom';\nimport { Formik, Form, Field, ErrorMessage } from 'formik';\nimport * as Yup from 'yup';\nimport { Layout, Card } from 'antd';\n// custom code\nimport { forgotPassword } from '../../api/redux/actions';\nimport './css/Login.less';\n\n// destructure antd\nconst { Content, Footer } = Layout;\n\nclass ForgotPassword extends Component {\n  componentDidMount() {\n    document.title = 'forgot password';\n  }\n\n  onSubmit = (values, { setSubmitting }) => {\n    setSubmitting(false);\n    this.props.forgotPassword(values);\n  };\n\n  render() {\n    return (\n      <Layout className='login-layout'>\n        <Content className='login-content'>\n          <Card className='login-card'>\n            <Formik\n              initialValues={{ email: '', password: '', confirmPassword: '' }}\n              validationSchema={validationSchema}\n              onSubmit={this.onSubmit}\n            >\n              {({ isSubmitting }) => (\n                <Form className='login-form'>\n                  <h1 className='login-title'>\n                    {' '}\n                    <span\n                      role='img'\n                      aria-label='jsx-a11y/accessible-emoji'\n                      style={{ paddingRight: '0.5rem' }}\n                    >\n                      {' '}\n                      ✨\n                    </span>\n                    lost password{' '}\n                    <span\n                      role='img'\n                      aria-label='jsx-a11y/accessible-emoji'\n                      style={{ paddingRight: '0.5rem' }}\n                    >\n                      {' '}\n                      ✨\n                    </span>\n                  </h1>\n                  <Field type='email' name='email' placeholder='email' className='login-field' />\n                  <ErrorMessage name='email' component='div' className='login-error' />\n                  <Field\n                    type='password'\n                    name='newPassword'\n                    placeholder='new password'\n                    className='login-field'\n                  />\n                  <ErrorMessage name='newPassword' component='div' className='login-error' />\n                  <Field\n                    type='password'\n                    name='confirmNewPassword'\n                    placeholder='confirm new password'\n                    className='login-field'\n                  />\n                  <ErrorMessage name='confirmNewPassword' component='div' className='login-error' />\n                  <button type='submit' disabled={isSubmitting} className='login-submit'>\n                    reset\n                  </button>\n                  <Link to='/' className='login-signup'>\n                    back to login\n                  </Link>\n                </Form>\n              )}\n            </Formik>\n          </Card>\n        </Content>\n        <Footer />\n      </Layout>\n    );\n  }\n}\n\nconst validationSchema = Yup.object().shape({\n  email: Yup.string().required().email('E-mail is not valid!'),\n  newPassword: Yup.string().required('new password is required'),\n  confirmNewPassword: Yup.string()\n    .required('please confirm new password')\n    .oneOf([Yup.ref('newPassword')], \"Your passwords don't match\"),\n});\n\nconst mapStateToProps = (state) => {\n  return { isSignedIn: state.auth.isSignedIn };\n};\n\nexport default connect(mapStateToProps, { forgotPassword })(ForgotPassword);\n","import React from 'react';\nimport { Layout } from 'antd';\nimport { Spin } from 'antd';\n\nconst Spinner = (props) => {\n\tconst spinnerAlignment = () => {\n\t\tif (props.alignment === 'top') {\n\t\t\treturn 'start';\n\t\t} else {\n\t\t\treturn 'center';\n\t\t}\n\t};\n\n\treturn (\n\t\t<Layout>\n\t\t\t<Spin\n\t\t\t\tstyle={{\n\t\t\t\t\theight: '100vh',\n\t\t\t\t\tdisplay: 'flex',\n\t\t\t\t\tjustifyContent: 'center',\n\t\t\t\t\talignItems: spinnerAlignment(),\n\t\t\t\t}}\n\t\t\t\tclassName='loading-spinner'\n\t\t\t\tsize='large'\n\t\t\t></Spin>\n\t\t</Layout>\n\t);\n};\n\nexport default Spinner;\n","import React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport { Menu, Avatar, Modal, Drawer, Icon } from 'antd';\nimport {\n\tsignOut,\n\thideComponent,\n\tgenerateInstanceExport,\n\tclearActiveNode,\n} from '../../api/redux/actions';\n// images\nimport defaultAvatar from '../../resources/synthona-logo.png';\n// custom code\nimport './css/MainSider.less';\nimport Spinner from './Spinner';\n// destructure antd components\nconst { Item } = Menu;\n\nclass MainSider extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\tshowSignoutModal: null,\n\t\t\tvisible: false,\n\t\t};\n\t}\n\n\tsignOutHandler = () => {\n\t\tthis.props.signOut();\n\t};\n\n\t// show modal to confirm deletion\n\ttoggleSignoutModal = () => {\n\t\tif (this.state.showSignoutModal) {\n\t\t\tthis.setState({ showSignoutModal: false });\n\t\t\t// temporary fix to remove overflow property being set on body by antd\n\t\t\tdocument.body.style.removeProperty('overflow');\n\t\t} else {\n\t\t\tthis.setState({ showSignoutModal: true });\n\t\t}\n\t};\n\n\trenderDrawerClasses = () => {\n\t\tif (this.props.animate === false) {\n\t\t\treturn 'page-sider no-animation';\n\t\t} else {\n\t\t\treturn 'page-sider';\n\t\t}\n\t};\n\n\trender() {\n\t\tif (this.props.mainSider === null) {\n\t\t\treturn <Spinner></Spinner>;\n\t\t}\n\n\t\treturn (\n\t\t\t<div className='sider-container'>\n\t\t\t\t<Drawer\n\t\t\t\t\tclassName={this.renderDrawerClasses()}\n\t\t\t\t\twidth='200px'\n\t\t\t\t\tmask={this.props.showMask}\n\t\t\t\t\tplacement='left'\n\t\t\t\t\tclosable={false}\n\t\t\t\t\tonClose={(e) => this.props.hideComponent('mainSider')}\n\t\t\t\t\tvisible={this.props.mainSider ? this.props.mainSider.visible : false}\n\t\t\t\t>\n\t\t\t\t\t<Menu mode='vertical' defaultSelectedKeys={['1']} className='sider-menu'>\n\t\t\t\t\t\t<Item>\n\t\t\t\t\t\t\t<Link\n\t\t\t\t\t\t\t\tto={`/profile/${this.props.user.username}`}\n\t\t\t\t\t\t\t\tonClick={(e) => this.props.hideComponent('mainSider')}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<Avatar\n\t\t\t\t\t\t\t\t\tclassName='nav-avatar'\n\t\t\t\t\t\t\t\t\tsrc={this.props.user.avatar || defaultAvatar}\n\t\t\t\t\t\t\t\t\ticon='user'\n\t\t\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\t\t\tdisplay: 'inline-block',\n\t\t\t\t\t\t\t\t\t\tverticalAlign: 'middle',\n\t\t\t\t\t\t\t\t\t\tmarginTop: '0.8rem',\n\t\t\t\t\t\t\t\t\t\twidth: '2.5rem',\n\t\t\t\t\t\t\t\t\t\theight: '2.5rem',\n\t\t\t\t\t\t\t\t\t\t// border: '0.1rem solid #272727',\n\t\t\t\t\t\t\t\t\t\tobjectFit: 'contain',\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t</Item>\n\t\t\t\t\t\t<Item className='sider-menu-item sider-title'>\n\t\t\t\t\t\t\t<Link\n\t\t\t\t\t\t\t\tto={`/profile/${this.props.user.username}`}\n\t\t\t\t\t\t\t\tonClick={(e) => this.props.hideComponent('mainSider')}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{/*  <b>@{this.props.user.username}</b>*/}\n\t\t\t\t\t\t\t\t<Icon type={'sketch'} theme='outlined' style={{ margin: '0' }} /> <b>Profile</b>\n\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t</Item>\n\t\t\t\t\t\t<Item className='sider-menu-item'>\n\t\t\t\t\t\t\t<Link to={`/`} onClick={(e) => this.props.hideComponent('mainSider')}>\n\t\t\t\t\t\t\t\tExplore\n\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t</Item>\n\t\t\t\t\t\t<Item className='sider-menu-item'>\n\t\t\t\t\t\t\t<Link to={`/pins`} onClick={(e) => this.props.hideComponent('mainSider')}>\n\t\t\t\t\t\t\t\tFavorites\n\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t</Item>\n\t\t\t\t\t\t<Item className='sider-menu-item'>\n\t\t\t\t\t\t\t<Link\n\t\t\t\t\t\t\t\tto={`/graph`}\n\t\t\t\t\t\t\t\tonClick={(e) => {\n\t\t\t\t\t\t\t\t\tthis.props.clearActiveNode();\n\t\t\t\t\t\t\t\t\tthis.props.hideComponent('mainSider');\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\tConstellation\n\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t</Item>\n\t\t\t\t\t\t<Item className='sider-menu-item'>\n\t\t\t\t\t\t\t<Link to={`/random`} onClick={(e) => this.props.hideComponent('mainSider')}>\n\t\t\t\t\t\t\t\tRandom\n\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t</Item>\n\t\t\t\t\t\t{/*<Item className='sider-menu-item'>\n              <Link to='/' onClick={(e) => this.props.hideComponent('mainSider')}>\n                Nodes\n              </Link>\n            </Item>\n            <Item className='sider-menu-item'>\n              <Link to='/' onClick={(e) => this.props.hideComponent('mainSider')}>\n                Map\n              </Link>\n            </Item>\n            <Item className='sider-menu-item'>\n              <Link to='/' onClick={(e) => this.props.hideComponent('mainSider')}>\n                Chat\n              </Link>\n                </Item>  */}\n\t\t\t\t\t\t<Item className='sider-menu-item'>\n\t\t\t\t\t\t\t<Link to={`/edit/profile/`} onClick={(e) => this.props.hideComponent('mainSider')}>\n\t\t\t\t\t\t\t\tOptions\n\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t</Item>\n\t\t\t\t\t\t<Item className='sider-menu-item'>\n\t\t\t\t\t\t\t<Link\n\t\t\t\t\t\t\t\tto='/help'\n\t\t\t\t\t\t\t\tonClick={(e) => {\n\t\t\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t\t\t\twindow.open(\n\t\t\t\t\t\t\t\t\t\t'https://github.com/synthona/synthona-help/blob/main/README.md',\n\t\t\t\t\t\t\t\t\t\t'_blank'\n\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\tthis.props.hideComponent('mainSider');\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\tHelp\n\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t</Item>\n\t\t\t\t\t\t<Item className='sider-menu-item'>\n\t\t\t\t\t\t\t<Link to='#' onClick={this.toggleSignoutModal}>\n\t\t\t\t\t\t\t\tSign Out\n\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t</Item>\n\t\t\t\t\t</Menu>\n\t\t\t\t</Drawer>\n\t\t\t\t{/* </Sider> */}\n\t\t\t\t<Modal\n\t\t\t\t\ttitle={this.props.user.displayName}\n\t\t\t\t\tvisible={this.state.showSignoutModal}\n\t\t\t\t\tclassName='signout-modal'\n\t\t\t\t\tcentered\n\t\t\t\t\tonOk={this.signOutHandler}\n\t\t\t\t\tokType='primary'\n\t\t\t\t\tokText='Sign Out'\n\t\t\t\t\tclosable={false}\n\t\t\t\t\tonCancel={this.toggleSignoutModal}\n\t\t\t\t>\n\t\t\t\t\t<p>Are you sure you want to sign out?</p>\n\t\t\t\t</Modal>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nconst mapStateToProps = (state) => {\n\treturn { user: state.auth.user, mainSider: state.components.componentList['mainSider'] };\n};\n\nexport default connect(mapStateToProps, {\n\tsignOut,\n\thideComponent,\n\tgenerateInstanceExport,\n\tclearActiveNode,\n})(MainSider);\n","export const validUrl = (value) => {\n\ttry {\n\t\tnew URL(value);\n\t} catch (_) {\n\t\treturn false;\n\t}\n\treturn true;\n};\n\nexport const isImageUrl = (url) => {\n\treturn url.match(/\\..+(jpeg|jpg|gif|png|webp)/) != null || url.includes('http://localhost');\n};\n","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport history from '../../utils/history';\nimport { isElectron } from '../../utils/environment';\nimport { Link } from 'react-router-dom';\nimport { Layout, Button, Input, Select, Icon, message, Tooltip } from 'antd';\n// custom code\nimport { validUrl, isImageUrl } from '../../utils/validation';\nimport './css/IOBar.less';\nimport {\n\tsignOut,\n\tlinkFileNodes,\n\tcreateUrlNode,\n\tcreateNode,\n\tsearchNodes,\n\tshowComponent,\n\thideComponent,\n\tgetRandomNode,\n\tclearActiveNode,\n} from '../../api/redux/actions';\n// destructure antd components\nconst { Header } = Layout;\nconst { Option } = Select;\n\nclass IOBar extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\tinput: this.props.query.searchQuery || '',\n\t\t\tnodeTypes: this.props.query.type || 'all',\n\t\t\tsortType: this.props.query.sortType,\n\t\t\tsortOrder: this.props.query.sortOrder,\n\t\t\tcreateType: null,\n\t\t\tqueryType: null,\n\t\t\tinputMode: 'query',\n\t\t\tmodeIcon: 'search',\n\t\t\tplaceholder: 'query',\n\t\t};\n\t}\n\t// show modal to confirm deletion\n\ttoggleInputMode = () => {\n\t\tif (this.state.inputMode === 'query') {\n\t\t\tthis.setState({\n\t\t\t\tinputMode: 'create',\n\t\t\t\tmodeIcon: 'plus',\n\t\t\t\tplaceholder: 'create',\n\t\t\t\tnodeTypes: 'text',\n\t\t\t});\n\t\t} else {\n\t\t\tthis.setState({\n\t\t\t\tinputMode: 'query',\n\t\t\t\tmodeIcon: 'search',\n\t\t\t\tplaceholder: 'query',\n\t\t\t\tnodeTypes: 'all',\n\t\t\t});\n\t\t}\n\t};\n\n\ttoggleMainSider = async () => {\n\t\tif (this.props.mainSider) {\n\t\t\tthis.props.hideComponent('mainSider');\n\t\t} else {\n\t\t\tthis.props.showComponent('mainSider');\n\t\t}\n\t};\n\n\ttoggleSortOrder = () => {\n\t\tif (this.state.sortOrder === 'ASC') {\n\t\t\tthis.setState({ sortOrder: 'DESC' });\n\t\t\tlocalStorage.setItem('sortOrder', 'DESC');\n\t\t} else {\n\t\t\tthis.setState({ sortOrder: 'ASC' });\n\t\t\tlocalStorage.setItem('sortOrder', 'ASC');\n\t\t}\n\t};\n\n\trenderCreateFileNodeOption = () => {\n\t\tif (isElectron() === true) {\n\t\t\treturn <Option value='file'>files</Option>;\n\t\t}\n\t};\n\n\t// handle text input\n\tcommandHandler = (e) => {\n\t\te.target.blur();\n\t\tswitch (this.state.inputMode) {\n\t\t\tcase 'query':\n\t\t\t\treturn this.props.searchNodes({\n\t\t\t\t\tsearchQuery: this.state.input || '',\n\t\t\t\t\ttype: this.state.nodeTypes,\n\t\t\t\t\tsortType: this.state.sortType,\n\t\t\t\t\tsortOrder: this.state.sortOrder,\n\t\t\t\t});\n\t\t\tcase 'create':\n\t\t\t\treturn this.createNodeHandler();\n\t\t\tdefault:\n\t\t\t\treturn;\n\t\t}\n\t};\n\t// handle the creation of different node types\n\tcreateNodeHandler = () => {\n\t\tvar linkedNode;\n\t\tif (this.props.activeNode) {\n\t\t\tlinkedNode = JSON.stringify(this.props.activeNode);\n\t\t}\n\t\tswitch (this.state.nodeTypes) {\n\t\t\tcase 'text':\n\t\t\t\tthis.props.createNode({\n\t\t\t\t\tisFile: false,\n\t\t\t\t\ttype: 'text',\n\t\t\t\t\tname: this.state.input,\n\t\t\t\t\tpreview: '',\n\t\t\t\t\tlinkedNode,\n\t\t\t\t});\n\t\t\t\t// clear the input bar\n\t\t\t\tthis.setState({ input: '' });\n\t\t\t\t// redirect\n\t\t\t\thistory.push('/');\n\t\t\t\tbreak;\n\t\t\tcase 'file':\n\t\t\t\tif (isElectron()) {\n\t\t\t\t\tthis.selectElectronFile();\n\t\t\t\t} else {\n\t\t\t\t\tthis.selectLocalFile(linkedNode);\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase 'folder':\n\t\t\t\tif (isElectron()) {\n\t\t\t\t\tthis.selectElectronFolder();\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase 'url':\n\t\t\t\t// if the URL is an image add an image node\n\t\t\t\tif (isImageUrl(this.state.input)) {\n\t\t\t\t\tthis.props.createNode({\n\t\t\t\t\t\tisFile: false,\n\t\t\t\t\t\ttype: 'image',\n\t\t\t\t\t\tname: this.state.input,\n\t\t\t\t\t\tpreview: this.state.input,\n\t\t\t\t\t\tcontent: this.state.input,\n\t\t\t\t\t\tlinkedNode,\n\t\t\t\t\t});\n\t\t\t\t\tthis.setState({ input: '' });\n\t\t\t\t\t// otherwise add a regular URL\n\t\t\t\t} else if (validUrl(this.state.input)) {\n\t\t\t\t\tthis.props.createUrlNode({\n\t\t\t\t\t\tisFile: false,\n\t\t\t\t\t\ttype: 'url',\n\t\t\t\t\t\tname: this.state.input,\n\t\t\t\t\t\tpreview: this.state.input,\n\t\t\t\t\t\tpath: this.state.input,\n\t\t\t\t\t\tcontent: this.state.input,\n\t\t\t\t\t\tlinkedNode,\n\t\t\t\t\t});\n\t\t\t\t\t// clear the input bar\n\t\t\t\t\tthis.setState({ input: '' });\n\t\t\t\t} else {\n\t\t\t\t\tmessage.error('You must enter a valid URL', 1);\n\t\t\t\t}\n\t\t\t\t// redirect\n\t\t\t\thistory.push('/');\n\t\t\t\tbreak;\n\t\t\tcase 'collection':\n\t\t\t\tthis.props.createNode({\n\t\t\t\t\tisFile: false,\n\t\t\t\t\ttype: 'collection',\n\t\t\t\t\tname: this.state.input,\n\t\t\t\t\tpreview: '',\n\t\t\t\t\tcontent: this.state.input,\n\t\t\t\t\tlinkedNode,\n\t\t\t\t});\n\t\t\t\t// clear the input bar\n\t\t\t\tthis.setState({ input: '' });\n\t\t\t\t// redirect\n\t\t\t\thistory.push('/');\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\treturn;\n\t\t}\n\t};\n\n\tselectElectronFile = () => {\n\t\tif (window.api) {\n\t\t\twindow.api.send('toMain', { action: 'show-file-picker' });\n\t\t}\n\t};\n\n\tselectElectronFolder = () => {\n\t\tif (window.api) {\n\t\t\twindow.api.send('toMain', { action: 'show-folder-picker' });\n\t\t}\n\t};\n\n\t// select an image.\n\tselectLocalFile = (linkedNode) => {\n\t\tconst input = document.createElement('input');\n\t\tinput.setAttribute('type', 'file');\n\t\tinput.setAttribute('multiple', true);\n\t\tinput.click();\n\t\t// Listen for uploading local file, then save to server\n\t\tinput.onchange = async () => {\n\t\t\tlet fileList = [];\n\t\t\tfor (let file of input.files) {\n\t\t\t\tfileList.push({ name: file.name, path: file.path });\n\t\t\t}\n\t\t\tawait this.props.linkFileNodes(fileList, linkedNode);\n\t\t\t// clear the input bar\n\t\t\tthis.setState({ input: '' });\n\t\t\thistory.push('/');\n\t\t};\n\t};\n\n\trenderCreateFolderOption = () => {\n\t\tif (isElectron() === true) {\n\t\t\treturn <Option value='folder'>folders</Option>;\n\t\t}\n\t};\n\n\t// include an \"all\" option for queries\n\trenderSelectBefore = () => {\n\t\tif (this.state.inputMode === 'query') {\n\t\t\treturn (\n\t\t\t\t<Select\n\t\t\t\t\tshowSearch\n\t\t\t\t\tshowArrow={false}\n\t\t\t\t\tvalue={this.state.nodeTypes}\n\t\t\t\t\tonChange={(value) => {\n\t\t\t\t\t\tthis.setState({ nodeTypes: value });\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t<Option value='all'>all</Option>\n\t\t\t\t\t<Option value='url'>urls</Option>\n\t\t\t\t\t<Option value='file'>file</Option>\n\t\t\t\t\t<Option value='folder'>folder</Option>\n\t\t\t\t\t<Option value='text'>text</Option>\n\t\t\t\t\t<Option value='image'>images</Option>\n\t\t\t\t\t<Option value='package'>packages</Option>\n\t\t\t\t\t<Option value='collection'>collections</Option>\n\t\t\t\t</Select>\n\t\t\t);\n\t\t} else {\n\t\t\t// exclude \"all\" option for creating nodes\n\t\t\treturn (\n\t\t\t\t<Select\n\t\t\t\t\tshowSearch\n\t\t\t\t\tshowArrow={false}\n\t\t\t\t\tvalue={this.state.nodeTypes}\n\t\t\t\t\tonChange={(value) => {\n\t\t\t\t\t\tthis.setState({ nodeTypes: value });\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t<Option value='text'>text</Option>\n\t\t\t\t\t<Option value='url'>url</Option>\n\t\t\t\t\t{this.renderCreateFileNodeOption()}\n\t\t\t\t\t{this.renderCreateFolderOption()}\n\t\t\t\t\t<Option value='collection'>collection</Option>\n\t\t\t\t</Select>\n\t\t\t);\n\t\t}\n\t};\n\n\t// we're going to render the far-right side of the input bar\n\t// which includes all the sort selection variables and buttons\n\trenderSelectAfter = () => {\n\t\treturn (\n\t\t\t<div className='io-input-sort'>\n\t\t\t\t<Input.Group>\n\t\t\t\t\t<Select\n\t\t\t\t\t\tshowSearch\n\t\t\t\t\t\tshowArrow={false}\n\t\t\t\t\t\tvalue={this.state.sortType}\n\t\t\t\t\t\tonChange={(value) => {\n\t\t\t\t\t\t\tthis.setState({ sortType: value });\n\t\t\t\t\t\t\tlocalStorage.setItem('sortType', value);\n\t\t\t\t\t\t}}\n\t\t\t\t\t>\n\t\t\t\t\t\t<Option value='recent'>\n\t\t\t\t\t\t\t<Icon type={'bulb'} theme='outlined' /> recent\n\t\t\t\t\t\t</Option>\n\t\t\t\t\t\t<Option value='views'>\n\t\t\t\t\t\t\t<Icon type={'thunderbolt'} theme='outlined' /> top\n\t\t\t\t\t\t</Option>\n\t\t\t\t\t\t<Option value='created'>\n\t\t\t\t\t\t\t<Icon type={'clock-circle'} theme='outlined' /> created\n\t\t\t\t\t\t</Option>\n\t\t\t\t\t</Select>\n\t\t\t\t\t<Tooltip title={this.state.sortOrder === 'DESC' ? 'a-z' : 'z-a'} mouseEnterDelay={1.1}>\n\t\t\t\t\t\t<Button className='io-input-button' onClick={() => this.toggleSortOrder()}>\n\t\t\t\t\t\t\t<Icon\n\t\t\t\t\t\t\t\ttype={this.state.sortOrder === 'DESC' ? 'arrow-up' : 'arrow-down'}\n\t\t\t\t\t\t\t\ttheme='outlined'\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t</Tooltip>\n\t\t\t\t</Input.Group>\n\t\t\t</div>\n\t\t);\n\t};\n\n\trender() {\n\t\treturn (\n\t\t\t<div>\n\t\t\t\t<Header className='page-header' style={this.props.fixed ? { position: 'fixed' } : null}>\n\t\t\t\t\t<ul className='nav-list'>\n\t\t\t\t\t\t<li className='nav-item io-sider-button mobile-visible' style={{ marginRight: '0' }}>\n\t\t\t\t\t\t\t<Button type='default' shape='circle' onClick={(e) => this.toggleMainSider()}>\n\t\t\t\t\t\t\t\t<Icon type={'bars'} theme='outlined' />\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t</li>\n\t\t\t\t\t\t<li className='nav-item io-sider-button' style={{ marginRight: '0.3rem' }}>\n\t\t\t\t\t\t\t<Tooltip title={'home'} mouseEnterDelay={1.1}>\n\t\t\t\t\t\t\t\t<Link type='default' to={`/`}>\n\t\t\t\t\t\t\t\t\t<Icon\n\t\t\t\t\t\t\t\t\t\ttype={'home'}\n\t\t\t\t\t\t\t\t\t\ttheme='filled'\n\t\t\t\t\t\t\t\t\t\t// style={{ color: '#3ce458' }}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t\t</Tooltip>\n\t\t\t\t\t\t</li>\n\t\t\t\t\t\t<li className='nav-item io-sider-button' style={{ marginRight: '-0.1rem' }}>\n\t\t\t\t\t\t\t<Tooltip title={'graph'} mouseEnterDelay={1.1}>\n\t\t\t\t\t\t\t\t<Link\n\t\t\t\t\t\t\t\t\ttype='default'\n\t\t\t\t\t\t\t\t\tto={`#`}\n\t\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\t\tthis.props.clearActiveNode();\n\t\t\t\t\t\t\t\t\t\twindow.location = '/graph';\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<Icon\n\t\t\t\t\t\t\t\t\t\ttype={'deployment-unit'}\n\t\t\t\t\t\t\t\t\t\ttheme='outlined'\n\t\t\t\t\t\t\t\t\t\t// style={{ color: '#ec486c' }}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t\t</Tooltip>\n\t\t\t\t\t\t</li>\n\t\t\t\t\t\t<li\n\t\t\t\t\t\t\tclassName='nav-item io-sider-button mobile-hidden'\n\t\t\t\t\t\t\tstyle={{ padding: '0', marginRight: '-0.1rem' }}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<Tooltip title={'random'} mouseEnterDelay={1.1}>\n\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\ttype='default'\n\t\t\t\t\t\t\t\t\tshape='circle'\n\t\t\t\t\t\t\t\t\tonClick={(e) => (window.location.href = '/random')}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<Icon\n\t\t\t\t\t\t\t\t\t\ttype={'thunderbolt'}\n\t\t\t\t\t\t\t\t\t\ttheme='filled'\n\t\t\t\t\t\t\t\t\t\t// style={{ color: 'yellow' }}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t</Tooltip>\n\t\t\t\t\t\t</li>\n\t\t\t\t\t\t<li className='nav-item io-sider-button' style={{ marginRight: '0.1rem' }}>\n\t\t\t\t\t\t\t<Tooltip title={'favorites'} mouseEnterDelay={1.1}>\n\t\t\t\t\t\t\t\t<Link type='default' to={`/pins`} style={{ marginRight: '0.3rem' }}>\n\t\t\t\t\t\t\t\t\t<Icon\n\t\t\t\t\t\t\t\t\t\ttype={'star'}\n\t\t\t\t\t\t\t\t\t\ttheme='filled'\n\t\t\t\t\t\t\t\t\t\t// style={{ color: 'yellow' }}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t\t</Tooltip>\n\t\t\t\t\t\t</li>\n\t\t\t\t\t\t<li className='nav-item create-node-button'>\n\t\t\t\t\t\t\t<Button type='default' shape='circle' onClick={(e) => this.toggleInputMode()}>\n\t\t\t\t\t\t\t\t<Icon type={this.state.modeIcon} theme='outlined' />\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t</li>\n\t\t\t\t\t\t<li className='nav-search'>\n\t\t\t\t\t\t\t<Input\n\t\t\t\t\t\t\t\tonPressEnter={(value, event) => this.commandHandler(value)}\n\t\t\t\t\t\t\t\tmaxLength={500}\n\t\t\t\t\t\t\t\tvalue={this.state.input}\n\t\t\t\t\t\t\t\tonChange={(e) => this.setState({ input: e.target.value })}\n\t\t\t\t\t\t\t\tdefaultValue={this.props.query.searchQuery || ''}\n\t\t\t\t\t\t\t\tplaceholder={this.state.placeholder}\n\t\t\t\t\t\t\t\taddonBefore={this.renderSelectBefore()}\n\t\t\t\t\t\t\t\taddonAfter={this.renderSelectAfter()}\n\t\t\t\t\t\t\t\tclassName='nav-search-input'\n\t\t\t\t\t\t\t\tid='nav-primary-search'\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</li>\n\t\t\t\t\t</ul>\n\t\t\t\t</Header>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nconst mapStateToProps = (state) => {\n\treturn {\n\t\tuser: state.auth.user,\n\t\tquery: state.nodes.query,\n\t\tmainSider: state.components.componentList['mainSider'],\n\t\tactiveNode: state.nodes.activeNode,\n\t};\n};\n\nexport default connect(mapStateToProps, {\n\tsignOut,\n\tsearchNodes,\n\tcreateNode,\n\tlinkFileNodes,\n\tcreateUrlNode,\n\tshowComponent,\n\thideComponent,\n\tgetRandomNode,\n\tclearActiveNode,\n})(IOBar);\n","import React, { Component, Fragment } from 'react';\nimport { connect } from 'react-redux';\nimport { Icon, Modal, Tooltip, message } from 'antd';\nimport { validUrl, isImageUrl } from '../../../utils/validation';\nimport { isElectron } from '../../../utils/environment';\nimport {\n\tshowComponent,\n\tunpackImport,\n\tupdateActiveNode,\n\tclearNodePreview,\n\topenFileInExplorer,\n\tdeleteNode,\n\tclearActiveNode,\n\tgenerateExportByUUID,\n\tremoveImportsByPackage,\n} from '../../../api/redux/actions';\n\nclass NodeCardHeaderFull extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\tname: this.props.nodeData.name,\n\t\t\tpreview: this.props.nodeData.preview,\n\t\t\tpinned: this.props.nodeData.pinned,\n\t\t\tpinnedState: 'outlined',\n\t\t\teditable: false,\n\t\t\tshowDeleteModal: null,\n\t\t\tshowExportModal: null,\n\t\t\tshowUrlPreviewImageModal: false,\n\t\t};\n\t}\n\n\tcomponentDidMount() {\n\t\t// set initial pinned state\n\t\tif (this.props.nodeData.pinned) {\n\t\t\tthis.setState({ pinnedState: 'filled' });\n\t\t} else {\n\t\t\tthis.setState({ pinnedState: 'outlined' });\n\t\t}\n\t}\n\n\t// update and save the document name\n\tsaveName = (name) => {\n\t\tif (this.state.name !== name) {\n\t\t\tthis.props.updateActiveNode({ uuid: this.props.nodeData.uuid, name });\n\t\t}\n\t\tthis.setState({ name: name });\n\t};\n\n\t// show modal to confirm deletion\n\ttoggleDeleteModal = () => {\n\t\tif (this.state.showDeleteModal) {\n\t\t\tthis.setState({ showDeleteModal: false });\n\t\t} else {\n\t\t\tthis.setState({ showDeleteModal: true });\n\t\t}\n\t};\n\n\t// delete the node\n\tdeleteHandler = async () => {\n\t\tthis.setState({ showDeleteModal: false });\n\t\tthis.setState({ deleting: true });\n\t\tawait this.props.deleteNode(this.props.nodeData.uuid);\n\t\tthis.props.clearActiveNode();\n\t};\n\n\t// show confirm export modal\n\ttoggleExportModal = () => {\n\t\tif (this.state.showExportModal) {\n\t\t\tthis.setState({ showExportModal: false });\n\t\t} else {\n\t\t\tthis.setState({ showExportModal: true });\n\t\t}\n\t};\n\n\t// delete the node\n\texportHandler = async () => {\n\t\tthis.setState({ showExportModal: false });\n\t\tawait this.props.generateExportByUUID(this.props.nodeData.uuid);\n\t};\n\n\t// select an image.\n\tsetUrlPreviewImage = (preview) => {\n\t\t// update the URL\n\t\tif (isImageUrl(preview) && validUrl(preview)) {\n\t\t\tmessage.success('updated the preview image');\n\t\t\tthis.props.updateActiveNode({ uuid: this.props.nodeData.uuid, preview: preview });\n\t\t} else if (preview === '') {\n\t\t\tmessage.success('removed the preview image');\n\t\t\tthis.props.updateActiveNode({ uuid: this.props.nodeData.uuid, preview: '' });\n\t\t} else {\n\t\t\tmessage.error('there was a problem setting the preview image', 1);\n\t\t}\n\t};\n\n\ttogglePinned = () => {\n\t\tif (this.state.pinned === true) {\n\t\t\tthis.setState({ pinned: false, pinnedState: 'outlined' });\n\t\t\tthis.props.updateActiveNode({ uuid: this.props.nodeData.uuid, pinned: false });\n\t\t} else {\n\t\t\tthis.setState({ pinned: true, pinnedState: 'filled' });\n\t\t\tthis.props.updateActiveNode({ uuid: this.props.nodeData.uuid, pinned: true });\n\t\t}\n\t};\n\n\t// select an image.\n\tsetPreviewToLocalFilePath = () => {\n\t\tif (this.props.nodeData.preview === null) {\n\t\t\tconst input = document.createElement('input');\n\t\t\tinput.setAttribute('type', 'file');\n\t\t\tinput.setAttribute('accept', [\n\t\t\t\t'image/gif',\n\t\t\t\t'image/jpg',\n\t\t\t\t'image/jpeg',\n\t\t\t\t'image/png',\n\t\t\t\t'image/webp',\n\t\t\t]);\n\t\t\tinput.click();\n\t\t\t// Listen for uploading local file, then save to server\n\t\t\tinput.onchange = async () => {\n\t\t\t\tconst file = input.files[0];\n\t\t\t\tthis.props.updateActiveNode({ uuid: this.props.nodeData.uuid, preview: file.path });\n\t\t\t};\n\t\t} else {\n\t\t\tthis.props.clearNodePreview(this.props.nodeData);\n\t\t}\n\t};\n\n\t// render the title\n\trenderTitle = () => {\n\t\tif (!this.state.editable) {\n\t\t\t// if it is not editable render the plain title\n\t\t\treturn (\n\t\t\t\t<h3\n\t\t\t\t\tclassName='full-card-title'\n\t\t\t\t\tstyle={{\n\t\t\t\t\t\tcolor: this.props.theme.cardTitleColor,\n\t\t\t\t\t}}\n\t\t\t\t\tonDoubleClick={(e) => {\n\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\tthis.setState({ editable: true });\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t{this.state.name}\n\t\t\t\t</h3>\n\t\t\t);\n\t\t} else {\n\t\t\t// when title is double clicked render the input field\n\t\t\treturn (\n\t\t\t\t<input\n\t\t\t\t\ttype='text'\n\t\t\t\t\tclassName='full-card-title'\n\t\t\t\t\tstyle={{\n\t\t\t\t\t\tbackgroundColor: 'transparent',\n\t\t\t\t\t}}\n\t\t\t\t\tonBlur={() => this.setState({ editable: null })}\n\t\t\t\t\tmaxLength='250'\n\t\t\t\t\tautoFocus\n\t\t\t\t\tplaceholder='name'\n\t\t\t\t\tvalue={this.state.name}\n\t\t\t\t\tonKeyPress={(e) => {\n\t\t\t\t\t\t// remove input on enter\n\t\t\t\t\t\tif (e.key === 'Enter') {\n\t\t\t\t\t\t\tthis.setState({ editable: null });\n\t\t\t\t\t\t}\n\t\t\t\t\t}}\n\t\t\t\t\tonChange={(e) => {\n\t\t\t\t\t\tthis.saveName(e.target.value);\n\t\t\t\t\t}}\n\t\t\t\t\tonFocus={(e) => {\n\t\t\t\t\t\te.target.select();\n\t\t\t\t\t}}\n\t\t\t\t></input>\n\t\t\t);\n\t\t}\n\t};\n\n\t// render header buttons for node types which need them\n\t// at the moment it's just .synth packages\n\trenderContextualButtons = () => {\n\t\tswitch (this.props.nodeData.type) {\n\t\t\tcase 'package':\n\t\t\t\tlet nodeMetaData = null;\n\t\t\t\t// unfortunately this is necessary due to something that changed on the backend\n\t\t\t\t// but checking only on packages here is better than checking on every request on the server\n\t\t\t\tif (this.props.nodeData.metadata) {\n\t\t\t\t\tlet metadataType = typeof this.props.nodeData.metadata;\n\t\t\t\t\t// parse it into JSON if it's a string\n\t\t\t\t\tif (metadataType === 'string') {\n\t\t\t\t\t\tnodeMetaData = JSON.parse(this.props.nodeData.metadata);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tnodeMetaData = this.props.nodeData.metadata;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t// go ahead and render accordingly\n\t\t\t\tif (nodeMetaData && nodeMetaData.importing) {\n\t\t\t\t\treturn <Fragment></Fragment>;\n\t\t\t\t} else if (nodeMetaData && nodeMetaData.expanded) {\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<Tooltip title={'restore'} mouseEnterDelay={1.1}>\n\t\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\tonClick={(e) => {\n\t\t\t\t\t\t\t\t\t\t// show the modal\n\t\t\t\t\t\t\t\t\t\tthis.props.removeImportsByPackage(this.props.nodeData.uuid);\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<Icon type={'undo'} theme='outlined' className='full-card-button' />\n\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t</Tooltip>\n\t\t\t\t\t);\n\t\t\t\t} else {\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<Tooltip title={'expand'} mouseEnterDelay={1.1}>\n\t\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\tonClick={(e) => {\n\t\t\t\t\t\t\t\t\t\t// show the modal\n\t\t\t\t\t\t\t\t\t\tthis.props.unpackImport(this.props.nodeData.uuid);\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<Icon type={'gift'} theme='filled' className='full-card-button' />\n\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t</Tooltip>\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\tcase 'url':\n\t\t\t\treturn (\n\t\t\t\t\t<Tooltip title={'preview image'} mouseEnterDelay={1.1}>\n\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\tonClick={(e) => {\n\t\t\t\t\t\t\t\t\t// show the modal\n\t\t\t\t\t\t\t\t\tthis.setState({ showUrlPreviewImageModal: true });\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<Icon type={'picture'} theme='outlined' className='full-card-button' />\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t</li>\n\t\t\t\t\t</Tooltip>\n\t\t\t\t);\n\t\t\tcase 'file':\n\t\t\t\tif (isElectron()) {\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<Tooltip title={'replace preview image'} mouseEnterDelay={1.1}>\n\t\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\tonClick={(e) => {\n\t\t\t\t\t\t\t\t\t\t// show the modal\n\t\t\t\t\t\t\t\t\t\tthis.setPreviewToLocalFilePath();\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<Icon type={'picture'} theme='outlined' className='full-card-button' />\n\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t</Tooltip>\n\t\t\t\t\t);\n\t\t\t\t} else {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\tcase 'audio':\n\t\t\t\treturn (\n\t\t\t\t\t<Tooltip title={'replace preview image'} mouseEnterDelay={1.1}>\n\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\tonClick={(e) => {\n\t\t\t\t\t\t\t\t\t// show the modal\n\t\t\t\t\t\t\t\t\tthis.setPreviewToLocalFilePath();\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<Icon type={'picture'} theme='outlined' className='full-card-button' />\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t</li>\n\t\t\t\t\t</Tooltip>\n\t\t\t\t);\n\t\t\tcase 'zip':\n\t\t\t\treturn (\n\t\t\t\t\t<Tooltip title={'replace preview image'} mouseEnterDelay={1.1}>\n\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\tonClick={(e) => {\n\t\t\t\t\t\t\t\t\t// show the modal\n\t\t\t\t\t\t\t\t\tthis.setPreviewToLocalFilePath();\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<Icon type={'picture'} theme='outlined' className='full-card-button' />\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t</li>\n\t\t\t\t\t</Tooltip>\n\t\t\t\t);\n\t\t\tcase 'image':\n\t\t\t\treturn (\n\t\t\t\t\t<Tooltip title={'set as app background'} mouseEnterDelay={1.1}>\n\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\tonClick={(e) => {\n\t\t\t\t\t\t\t\t\t// set the app background to this image\n\t\t\t\t\t\t\t\t\tlocalStorage.setItem('background-image', this.props.nodeData.preview);\n\t\t\t\t\t\t\t\t\twindow.location.reload();\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<Icon type={'layout'} className='full-card-button' />\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t</li>\n\t\t\t\t\t</Tooltip>\n\t\t\t\t);\n\t\t\tdefault:\n\t\t\t\treturn;\n\t\t}\n\t};\n\n\trenderRevealInExplorerButton = () => {\n\t\tif (this.props.nodeData.isFile) {\n\t\t\treturn (\n\t\t\t\t<Tooltip title={'open in file explorer'} mouseEnterDelay={1.1}>\n\t\t\t\t\t<li>\n\t\t\t\t\t\t<button\n\t\t\t\t\t\t\tonClick={(e) => {\n\t\t\t\t\t\t\t\t// show the modal\n\t\t\t\t\t\t\t\tthis.props.openFileInExplorer(this.props.nodeData.uuid);\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<Icon type={'folder-open'} theme='outlined' className='full-card-button' />\n\t\t\t\t\t\t</button>\n\t\t\t\t\t</li>\n\t\t\t\t</Tooltip>\n\t\t\t);\n\t\t}\n\t};\n\n\t// render the export button on non-package nodes\n\trenderExportButton = () => {\n\t\tif (this.props.nodeData.type !== 'package') {\n\t\t\treturn (\n\t\t\t\t<Tooltip title={'generate export'} mouseEnterDelay={1.1}>\n\t\t\t\t\t<li>\n\t\t\t\t\t\t<button\n\t\t\t\t\t\t\tonClick={(e) => {\n\t\t\t\t\t\t\t\tthis.toggleExportModal();\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<Icon type={'gift'} theme='outlined' className='full-card-button' />\n\t\t\t\t\t\t</button>\n\t\t\t\t\t</li>\n\t\t\t\t</Tooltip>\n\t\t\t);\n\t\t}\n\t};\n\n\trender() {\n\t\treturn (\n\t\t\t<div\n\t\t\t\tclassName='full-card-options'\n\t\t\t\tstyle={{\n\t\t\t\t\tbackgroundColor: this.props.theme.cardHeaderColor,\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t{this.renderTitle()}\n\t\t\t\t{/* <p className='full-card-options-date'>{this.props.nodeData.updatedAt}</p> */}\n\t\t\t\t<ul className='full-card-buttons-list'>\n\t\t\t\t\t<Tooltip title={'associations'} mouseEnterDelay={1.1}>\n\t\t\t\t\t\t<li className='mobile-visible'>\n\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\tonClick={(e) => {\n\t\t\t\t\t\t\t\t\t// show the modal\n\t\t\t\t\t\t\t\t\tthis.props.showComponent('associationSider', this.props.nodeData);\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<Icon type={'branches'} theme='outlined' className='full-card-button' />\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t</li>\n\t\t\t\t\t</Tooltip>\n\t\t\t\t\t<Tooltip title={'constellation'} mouseEnterDelay={1.1}>\n\t\t\t\t\t\t<li className='mobile-visible'>\n\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\tonClick={(e) => window.location.replace(`/graph/${this.props.nodeData.uuid}`)}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<Icon type={'deployment-unit'} theme='outlined' className='full-card-button' />\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t</li>\n\t\t\t\t\t</Tooltip>\n\t\t\t\t\t<Tooltip title={'heart'} mouseEnterDelay={1.1}>\n\t\t\t\t\t\t<li className='mobile-visible'>\n\t\t\t\t\t\t\t<button onClick={(e) => this.togglePinned()}>\n\t\t\t\t\t\t\t\t<Icon type={'heart'} theme={this.state.pinnedState} className='full-card-button' />\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t</li>\n\t\t\t\t\t</Tooltip>\n\t\t\t\t\t{this.renderContextualButtons()}\n\t\t\t\t\t{this.renderExportButton()}\n\t\t\t\t\t{this.renderRevealInExplorerButton()}\n\t\t\t\t\t<Tooltip title={'open in browser'} mouseEnterDelay={1.1}>\n\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\tonClick={(e) => window.open(`/associations/${this.props.nodeData.uuid}`, '_blank')}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<Icon type={'global'} theme='outlined' className='full-card-button' />\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t</li>\n\t\t\t\t\t</Tooltip>\n\t\t\t\t\t<Tooltip title={'delete'} mouseEnterDelay={1.1}>\n\t\t\t\t\t\t<li className='mobile-visible'>\n\t\t\t\t\t\t\t<button onClick={(e) => this.toggleDeleteModal()}>\n\t\t\t\t\t\t\t\t<Icon type={'delete'} theme='outlined' className='full-card-button delete' />\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t</li>\n\t\t\t\t\t</Tooltip>\n\t\t\t\t</ul>\n\t\t\t\t<Modal\n\t\t\t\t\ttitle='Confirm Deletion'\n\t\t\t\t\tvisible={this.state.showDeleteModal}\n\t\t\t\t\tclassName='delete-modal'\n\t\t\t\t\tcentered\n\t\t\t\t\tonOk={this.deleteHandler}\n\t\t\t\t\tafterClose={() => document.body.style.removeProperty('overflow')}\n\t\t\t\t\tokType='danger'\n\t\t\t\t\tokText='Delete'\n\t\t\t\t\tclosable={false}\n\t\t\t\t\tonCancel={this.toggleDeleteModal}\n\t\t\t\t>\n\t\t\t\t\t<p>\n\t\t\t\t\t\tAre you sure you want to delete <b>{this.props.nodeData.name || 'untitled'}</b>?\n\t\t\t\t\t</p>\n\t\t\t\t</Modal>\n\t\t\t\t<Modal\n\t\t\t\t\ttitle='Confirm Export'\n\t\t\t\t\tvisible={this.state.showExportModal}\n\t\t\t\t\tclassName='delete-modal'\n\t\t\t\t\tcentered\n\t\t\t\t\tonOk={this.exportHandler}\n\t\t\t\t\tafterClose={() => document.body.style.removeProperty('overflow')}\n\t\t\t\t\tokText='Generate'\n\t\t\t\t\tclosable={false}\n\t\t\t\t\tonCancel={this.toggleExportModal}\n\t\t\t\t>\n\t\t\t\t\t<p>\n\t\t\t\t\t\tGenerate export from <b>{this.props.nodeData.name || 'untitled'}</b>? The export will\n\t\t\t\t\t\tcontain <b>{this.props.nodeData.name || 'untitled'}</b> along with all its associations,\n\t\t\t\t\t\tand appear in the favorites when it is completed.\n\t\t\t\t\t</p>\n\t\t\t\t</Modal>\n\t\t\t\t<Modal\n\t\t\t\t\ttitle='Preview Image'\n\t\t\t\t\tvisible={this.state.showUrlPreviewImageModal}\n\t\t\t\t\tclassName='full-card-modal'\n\t\t\t\t\tcentered\n\t\t\t\t\tonOk={(e) => {\n\t\t\t\t\t\tthis.setState({ showUrlPreviewImageModal: false });\n\t\t\t\t\t\tthis.setUrlPreviewImage(this.state.preview);\n\t\t\t\t\t}}\n\t\t\t\t\tafterClose={() => {\n\t\t\t\t\t\tdocument.body.style.removeProperty('overflow');\n\t\t\t\t\t}}\n\t\t\t\t\tokText='save'\n\t\t\t\t\tclosable={false}\n\t\t\t\t\tonCancel={(e) => {\n\t\t\t\t\t\tthis.setState({\n\t\t\t\t\t\t\tpreview: this.props.nodeData.preview,\n\t\t\t\t\t\t\tshowUrlPreviewImageModal: false,\n\t\t\t\t\t\t});\n\t\t\t\t\t\twindow.getSelection().removeAllRanges();\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t<input\n\t\t\t\t\t\ttype='text'\n\t\t\t\t\t\tclassName='full-card-modal-input'\n\t\t\t\t\t\tautoFocus\n\t\t\t\t\t\tmaxLength='250'\n\t\t\t\t\t\tonFocus={(e) => {\n\t\t\t\t\t\t\te.target.select();\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tplaceholder='image URL'\n\t\t\t\t\t\tvalue={this.state.preview || ''}\n\t\t\t\t\t\tonKeyDown={(e) => {\n\t\t\t\t\t\t\tif (e.key === 'Enter') {\n\t\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t\t\tthis.setState({ showUrlPreviewImageModal: false });\n\t\t\t\t\t\t\t\tthis.setUrlPreviewImage(this.state.preview);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tonChange={(e) => this.setState({ preview: e.target.value })}\n\t\t\t\t\t></input>\n\t\t\t\t</Modal>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nconst mapStateToProps = (state) => {\n\treturn {\n\t\tnodeData: state.nodes.activeNode,\n\t\ttheme: state.components.theme,\n\t};\n};\n\nexport default connect(mapStateToProps, {\n\tshowComponent,\n\tupdateActiveNode,\n\tclearNodePreview,\n\tunpackImport,\n\topenFileInExplorer,\n\tdeleteNode,\n\tclearActiveNode,\n\tgenerateExportByUUID,\n\tremoveImportsByPackage,\n})(NodeCardHeaderFull);\n","import React, { Component } from 'react';\n// import { Link } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport { Icon } from 'antd';\nimport { markNodeView, showComponent, updateNode } from '../../../api/redux/actions';\n\nclass NodeCardHeader extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\tname: this.props.node.name,\n\t\t\teditable: false,\n\t\t};\n\t}\n\n\t// render the title\n\trenderTitle = () => {\n\t\tif (!this.state.editable) {\n\t\t\t// if it is not editable render the plain title\n\t\t\treturn (\n\t\t\t\t<h3\n\t\t\t\t\tclassName='nodelist-item-title'\n\t\t\t\t\ttabIndex={0}\n\t\t\t\t\tonKeyPress={(e) => {\n\t\t\t\t\t\tif (e.key === 'Enter') {\n\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t\tthis.setState({ editable: true });\n\t\t\t\t\t\t}\n\t\t\t\t\t}}\n\t\t\t\t\tstyle={{\n\t\t\t\t\t\tcolor: this.props.theme.cardTitleColor,\n\t\t\t\t\t}}\n\t\t\t\t\tonDoubleClick={(e) => {\n\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\tthis.setState({ editable: true });\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t{this.state.name}\n\t\t\t\t</h3>\n\t\t\t);\n\t\t} else {\n\t\t\t// when title is double clicked render the input field\n\t\t\treturn (\n\t\t\t\t<input\n\t\t\t\t\ttype='text'\n\t\t\t\t\tclassName='nodelist-item-title'\n\t\t\t\t\tstyle={{\n\t\t\t\t\t\tbackgroundColor: 'transparent',\n\t\t\t\t\t}}\n\t\t\t\t\tonBlur={() => this.setState({ editable: null })}\n\t\t\t\t\tmaxLength='250'\n\t\t\t\t\tautoFocus\n\t\t\t\t\tplaceholder='name'\n\t\t\t\t\tvalue={this.state.name}\n\t\t\t\t\tonKeyPress={(e) => {\n\t\t\t\t\t\t// remove input on enter\n\t\t\t\t\t\tif (e.key === 'Enter') {\n\t\t\t\t\t\t\tthis.setState({ editable: null });\n\t\t\t\t\t\t}\n\t\t\t\t\t}}\n\t\t\t\t\tonChange={(e) => {\n\t\t\t\t\t\tthis.saveName(e.target.value);\n\t\t\t\t\t}}\n\t\t\t\t\tonFocus={(e) => {\n\t\t\t\t\t\te.target.select();\n\t\t\t\t\t}}\n\t\t\t\t></input>\n\t\t\t);\n\t\t}\n\t};\n\n\t// the jump to top icon is only available when sorting by most recent\n\trenderLightbulbIcon = () => {\n\t\tlet sortType = localStorage.getItem('sortType');\n\t\tif (sortType === 'recent' || window.location.href.includes('associations')) {\n\t\t\treturn (\n\t\t\t\t<button onClick={(e) => this.props.markNodeView(this.props.node)}>\n\t\t\t\t\t<Icon\n\t\t\t\t\t\ttype={'bulb'}\n\t\t\t\t\t\ttheme='outlined'\n\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\tfontSize: '0.9rem',\n\t\t\t\t\t\t\tdisplay: 'block',\n\t\t\t\t\t\t\ttextAlign: 'center',\n\t\t\t\t\t\t\tpadding: '0',\n\t\t\t\t\t\t\tcolor: this.props.theme.cardButtonColor,\n\t\t\t\t\t\t}}\n\t\t\t\t\t/>\n\t\t\t\t</button>\n\t\t\t);\n\t\t}\n\t};\n\n\t// update and save the document name\n\tsaveName = (name) => {\n\t\tif (this.state.name !== name) {\n\t\t\tthis.props.updateNode({ uuid: this.props.node.uuid, name });\n\t\t\tthis.props.node.name = name;\n\t\t\tthis.setState({ name: name });\n\t\t}\n\t};\n\n\trender() {\n\t\treturn (\n\t\t\t<div\n\t\t\t\tclassName='nodelist-options'\n\t\t\t\tstyle={{\n\t\t\t\t\tbackgroundColor: this.props.theme.cardHeaderColor,\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t{this.renderTitle()}\n\t\t\t\t<div className='nodelist-options-buttons' style={{ marginLeft: 'auto' }}>\n\t\t\t\t\t<button\n\t\t\t\t\t\ttabIndex={0}\n\t\t\t\t\t\tonClick={(e) => window.location.replace('/graph/' + this.props.node.uuid)}\n\t\t\t\t\t>\n\t\t\t\t\t\t<Icon\n\t\t\t\t\t\t\ttype={'deployment-unit'}\n\t\t\t\t\t\t\ttheme='outlined'\n\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\tfontSize: '0.9rem',\n\t\t\t\t\t\t\t\tdisplay: 'block',\n\t\t\t\t\t\t\t\ttextAlign: 'center',\n\t\t\t\t\t\t\t\tpadding: '0',\n\t\t\t\t\t\t\t\tcolor: this.props.theme.cardButtonColor,\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</button>\n\t\t\t\t\t{this.renderLightbulbIcon()}\n\t\t\t\t\t<button\n\t\t\t\t\t\tonClick={(e) => {\n\t\t\t\t\t\t\t// set the active node so the modal has the node data\n\t\t\t\t\t\t\t// show the modal\n\t\t\t\t\t\t\tthis.props.showComponent('associationSider', this.props.node);\n\t\t\t\t\t\t}}\n\t\t\t\t\t>\n\t\t\t\t\t\t<Icon\n\t\t\t\t\t\t\ttype={'branches'}\n\t\t\t\t\t\t\ttheme='outlined'\n\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\tfontSize: '0.9rem',\n\t\t\t\t\t\t\t\tdisplay: 'block',\n\t\t\t\t\t\t\t\ttextAlign: 'center',\n\t\t\t\t\t\t\t\tpadding: '0',\n\t\t\t\t\t\t\t\tcolor: this.props.theme.cardButtonColor,\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</button>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nconst mapStateToProps = (state) => {\n\treturn {\n\t\ttheme: state.components.theme,\n\t};\n};\n\nexport default connect(mapStateToProps, {\n\tmarkNodeView,\n\tshowComponent,\n\tupdateNode,\n})(NodeCardHeader);\n","import React, { Fragment } from \"react\";\nimport { Link } from \"react-router-dom\";\n// for now these are in-common between nodes\nimport NodeCardHeaderFull from \"../../../components/elements/node/NodeCardHeaderFull\";\nimport NodeCardHeader from \"../../../components/elements/node/NodeCardHeader\";\n\nconst Text = (props) => {\n\tconst nodeCard = () => {\n\t\treturn (\n\t\t\t<li className=\"nodelist-item\">\n\t\t\t\t<NodeCardHeader node={props.node} />\n\t\t\t\t<Link\n\t\t\t\t\tto={`/edit/text/${props.node.uuid}`}\n\t\t\t\t\tonClick={(e) => {\n\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\tif (e.shiftKey) {\n\t\t\t\t\t\t\tprops.handleClick();\n\t\t\t\t\t\t\t// prevent the text from being selected\n\t\t\t\t\t\t\twindow.getSelection().removeAllRanges();\n\t\t\t\t\t\t\twindow.location.replace(`/edit/text/${props.node.uuid}`);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t\tprops.handleClick();\n\t\t\t\t\t\t\twindow.location.replace(`/associations/${props.node.uuid}`);\n\t\t\t\t\t\t}\n\t\t\t\t\t}}\n\t\t\t\t\tonKeyDown={(e) => {\n\t\t\t\t\t\tif (e.key === \"Enter\") {\n\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t\tprops.handleClick();\n\t\t\t\t\t\t\twindow.location.replace(`/edit/text/${props.node.uuid}`);\n\t\t\t\t\t\t}\n\t\t\t\t\t}}\n\t\t\t\t\tonContextMenu={(e) => {\n\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\tprops.handleClick();\n\t\t\t\t\t\t// prevent the text from being selected\n\t\t\t\t\t\twindow.getSelection().removeAllRanges();\n\t\t\t\t\t\twindow.location.replace(`/edit/text/${props.node.uuid}`);\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t<p\n\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\tcolor: props.theme.cardTextColor,\n\t\t\t\t\t\t\tbackgroundColor: props.theme.cardBodyColor,\n\t\t\t\t\t\t}}\n\t\t\t\t\t>\n\t\t\t\t\t\t{props.node.preview}\n\t\t\t\t\t</p>\n\t\t\t\t</Link>\n\t\t\t</li>\n\t\t);\n\t};\n\n\t// how the node will appear in collections\n\tconst collectionPreview = () => {\n\t\treturn (\n\t\t\t<Fragment>\n\t\t\t\t<p>{props.node.preview}</p>\n\t\t\t</Fragment>\n\t\t);\n\t};\n\n\tconst fullNode = () => {\n\t\treturn (\n\t\t\t<div className=\"full-node-item\">\n\t\t\t\t<NodeCardHeaderFull />\n\t\t\t\t<Link\n\t\t\t\t\tto={`/edit/text/${props.node.uuid}`}\n\t\t\t\t\tonContextMenu={(e) => {\n\t\t\t\t\t\twindow.getSelection().removeAllRanges();\n\t\t\t\t\t}} /*target='_blank' */\n\t\t\t\t>\n\t\t\t\t\t<p style={{ backgroundColor: props.theme.cardBodyColor }}>{props.node.preview}</p>\n\t\t\t\t</Link>\n\t\t\t</div>\n\t\t);\n\t};\n\n\tconst associationLink = () => {\n\t\treturn (\n\t\t\t<Link\n\t\t\t\tto={`/edit/text/${props.node.uuid}`}\n\t\t\t\tonClick={(e) => props.handleAssociatonClick()}\n\t\t\t\t// target='_blank'\n\t\t\t>\n\t\t\t\t{props.node.name}\n\t\t\t</Link>\n\t\t);\n\t};\n\n\t// render the requested element\n\tconst renderNode = () => {\n\t\tswitch (props.element) {\n\t\t\tcase \"card\":\n\t\t\t\treturn <Fragment>{nodeCard()}</Fragment>;\n\t\t\tcase \"preview\":\n\t\t\t\treturn <Fragment>{collectionPreview()}</Fragment>;\n\t\t\tcase \"full\":\n\t\t\t\treturn <Fragment>{fullNode()}</Fragment>;\n\t\t\tcase \"association-link\":\n\t\t\t\treturn <Fragment>{associationLink()}</Fragment>;\n\t\t\tdefault:\n\t\t\t\treturn;\n\t\t}\n\t};\n\n\treturn <Fragment>{renderNode()}</Fragment>;\n};\n\nexport { Text };\n","import React, { Fragment } from \"react\";\nimport { Link } from \"react-router-dom\";\n// for now these are in-common between nodes\nimport NodeCardHeaderFull from \"../../../components/elements/node/NodeCardHeaderFull\";\nimport missingFileImage from \"../../../resources/missing-file.png\";\nimport { isElectron } from \"../../../utils/environment\";\n\nconst Image = (props) => {\n\tlet fileLoadError = false;\n\n\tconst onFileLoadError = (e) => {\n\t\tif (props.node.isFile) {\n\t\t\te.target.src = missingFileImage;\n\t\t\tfileLoadError = true;\n\t\t}\n\t};\n\n\t// select an image.\n\tconst selectLocalFile = (e) => {\n\t\tconst input = document.createElement(\"input\");\n\t\tinput.setAttribute(\"type\", \"file\");\n\t\tinput.setAttribute(\"accept\", [\"image/gif\", \"image/jpg\", \"image/jpeg\", \"image/png\"]);\n\t\tinput.click();\n\t\t// Listen for uploading local file, then save to server\n\t\tinput.onchange = async () => {\n\t\t\tlet file = input.files[0];\n\t\t\tawait props.updateNode({ uuid: props.node.uuid, path: file.path, preview: file.path });\n\t\t\twindow.location.reload();\n\t\t};\n\t};\n\n\tconst onClickAction = (e) => {\n\t\te.preventDefault();\n\t\tprops.handleClick();\n\t\twindow.location.replace(`/associations/${props.node.uuid}`);\n\t};\n\n\t// const onContextAction = (e) => {\n\t// \tif (!fileLoadError && props.node.isFile) {\n\t// \t\te.preventDefault();\n\t// \t\tprops.handleClick();\n\t// \t\tprops.launchFile(props.node.uuid);\n\t// \t\t// window.location.replace(`/associations/${props.node.uuid}`);\n\t// \t} else if (isElectron() && props.node.isFile) {\n\t// \t\te.preventDefault();\n\t// \t\tselectLocalFile(e);\n\t// \t} else {\n\t// \t\te.preventDefault();\n\t// \t\twindow.location.replace(`/associations/${props.node.uuid}`);\n\t// \t}\n\t// };\n\n\tconst onFullCardAction = (e) => {\n\t\tif (!fileLoadError && props.node.isFile) {\n\t\t\te.preventDefault();\n\t\t\tprops.handleClick();\n\t\t\tprops.launchExplorer(props.node.uuid);\n\t\t} else if (isElectron() && props.node.isFile) {\n\t\t\te.preventDefault();\n\t\t\tselectLocalFile(e);\n\t\t} else {\n\t\t\te.preventDefault();\n\t\t\twindow.location.replace(`/associations/${props.node.uuid}`);\n\t\t}\n\t};\n\n\tconst nodeCard = () => {\n\t\tif (props.node.path === null && props.node.isFile) {\n\t\t\tfileLoadError = true;\n\t\t\tprops.node.preview = missingFileImage;\n\t\t}\n\t\treturn (\n\t\t\t<li className=\"nodelist-item\">\n\t\t\t\t{props.renderHeader()}\n\t\t\t\t<Link\n\t\t\t\t\tid=\"image-node-card-link\"\n\t\t\t\t\tto={`/associations/${props.node.uuid}`}\n\t\t\t\t\tonClick={(e) => {\n\t\t\t\t\t\tonClickAction(e);\n\t\t\t\t\t}}\n\t\t\t\t\t// onContextMenu={(e) => {\n\t\t\t\t\t// \t// onContextAction(e);\n\t\t\t\t\t// }}\n\t\t\t\t>\n\t\t\t\t\t<Fragment>\n\t\t\t\t\t\t<img\n\t\t\t\t\t\t\tsrc={props.node.preview}\n\t\t\t\t\t\t\talt={props.node.name}\n\t\t\t\t\t\t\tonError={(e) => onFileLoadError(e)}\n\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\tobjectFit: \"cover\",\n\t\t\t\t\t\t\t\twidth: \"100%\",\n\t\t\t\t\t\t\t\theight: \"13.2rem\",\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t></img>\n\t\t\t\t\t</Fragment>\n\t\t\t\t</Link>\n\t\t\t</li>\n\t\t);\n\t};\n\n\t// how the node will appear in collections\n\tconst collectionPreview = () => {\n\t\tif (props.node.path === null && props.node.isFile) {\n\t\t\tfileLoadError = true;\n\t\t\tprops.node.preview = missingFileImage;\n\t\t}\n\t\treturn (\n\t\t\t<Fragment>\n\t\t\t\t<img\n\t\t\t\t\tsrc={props.node.preview}\n\t\t\t\t\talt={props.node.name}\n\t\t\t\t\tonError={(e) => onFileLoadError(e)}\n\t\t\t\t\tstyle={{\n\t\t\t\t\t\tobjectFit: \"cover\",\n\t\t\t\t\t\theight: \"13.2rem\",\n\t\t\t\t\t\twidth: \"100%\",\n\t\t\t\t\t}}\n\t\t\t\t></img>\n\t\t\t</Fragment>\n\t\t);\n\t};\n\n\tconst fullNode = () => {\n\t\tif (props.node.path === null && props.node.isFile) {\n\t\t\tfileLoadError = true;\n\t\t\tprops.node.preview = missingFileImage;\n\t\t}\n\t\tlet imageScale = JSON.parse(localStorage.getItem(\"image-sizing\")) || \"classic\";\n\t\tlet imageClass = \"img-\" + imageScale.replace(\" \", \"-\");\n\t\treturn (\n\t\t\t<div className={\"full-node-item \" + imageClass}>\n\t\t\t\t<NodeCardHeaderFull />\n\t\t\t\t<img\n\t\t\t\t\tsrc={props.node.preview}\n\t\t\t\t\talt={props.node.name}\n\t\t\t\t\tonError={(e) => onFileLoadError(e)}\n\t\t\t\t\tstyle={{ cursor: \"pointer\" }}\n\t\t\t\t\tonClick={(e) => {\n\t\t\t\t\t\tonFullCardAction(e);\n\t\t\t\t\t}}\n\t\t\t\t></img>\n\t\t\t</div>\n\t\t);\n\t};\n\n\tconst associationLink = () => {\n\t\treturn (\n\t\t\t<Link\n\t\t\t\tto={`/associations/${props.node.uuid}`}\n\t\t\t\tonClick={(e) => props.handleAssociatonClick()}\n\t\t\t\t// target='_blank'\n\t\t\t>\n\t\t\t\t{props.node.name}\n\t\t\t</Link>\n\t\t);\n\t};\n\n\t// render the requested element\n\tconst renderNode = () => {\n\t\tswitch (props.element) {\n\t\t\tcase \"card\":\n\t\t\t\treturn <Fragment>{nodeCard()}</Fragment>;\n\t\t\tcase \"preview\":\n\t\t\t\treturn <Fragment>{collectionPreview()}</Fragment>;\n\t\t\tcase \"full\":\n\t\t\t\treturn <Fragment>{fullNode()}</Fragment>;\n\t\t\tcase \"association-link\":\n\t\t\t\treturn <Fragment>{associationLink()}</Fragment>;\n\t\t\tdefault:\n\t\t\t\treturn;\n\t\t}\n\t};\n\n\treturn <Fragment>{renderNode()}</Fragment>;\n};\n\nexport { Image };\n","import React, { Fragment } from \"react\";\nimport { Icon } from \"antd\";\nimport { Link } from \"react-router-dom\";\n// for now these are in-common between nodes\nimport NodeCardHeaderFull from \"../../../components/elements/node/NodeCardHeaderFull\";\nimport missingFileImage from \"../../../resources/missing-file.png\";\n\nconst Url = (props) => {\n\tconst urlIcon = \"bulb\";\n\n\tconst renderFullCardPreview = () => {\n\t\t// if the URL is a youtube embed, lets actually load the video here\n\t\tif (props.node.path.includes(\"https://www.youtube.com/embed/\")) {\n\t\t\treturn (\n\t\t\t\t<iframe\n\t\t\t\t\ttitle={props.node.name}\n\t\t\t\t\tsrc={props.node.path}\n\t\t\t\t\tstyle={{ width: \"100%\", height: \"100vh\", border: \"none\" }}\n\t\t\t\t\tallowFullScreen\n\t\t\t\t\tsandbox={\n\t\t\t\t\t\tprops.node.path.includes(\"https://www.youtube.com/embed/\")\n\t\t\t\t\t\t\t? \"allow-scripts allow-same-origin allow-popups\"\n\t\t\t\t\t\t\t: \"\"\n\t\t\t\t\t}\n\t\t\t\t\tid=\"node-card-iframe\"\n\t\t\t\t></iframe>\n\t\t\t);\n\t\t}\n\t\t// for anything else just display a link out to it\n\t\telse {\n\t\t\treturn (\n\t\t\t\t<a\n\t\t\t\t\thref={props.node.path}\n\t\t\t\t\ttarget=\"_blank\"\n\t\t\t\t\trel=\"noopener noreferrer\"\n\t\t\t\t\t// style={{ width: '100%' }}\n\t\t\t\t>\n\t\t\t\t\t{renderPreview()}\n\t\t\t\t</a>\n\t\t\t);\n\t\t}\n\t};\n\n\tconst renderPreview = () => {\n\t\tif (props.node.preview) {\n\t\t\treturn (\n\t\t\t\t<img\n\t\t\t\t\tsrc={props.node.preview}\n\t\t\t\t\talt={props.node.name}\n\t\t\t\t\tstyle={{\n\t\t\t\t\t\tobjectFit: \"cover\",\n\t\t\t\t\t\t// minHeight: '100%',\n\t\t\t\t\t\t// width: '100%',\n\t\t\t\t\t}}\n\t\t\t\t\tonError={(e) => (e.target.src = missingFileImage)}\n\t\t\t\t></img>\n\t\t\t);\n\t\t} else {\n\t\t\treturn (\n\t\t\t\t<Icon\n\t\t\t\t\ttype={urlIcon}\n\t\t\t\t\t// type={'star'}\n\t\t\t\t\ttheme=\"outlined\"\n\t\t\t\t\tstyle={{\n\t\t\t\t\t\tfontSize: \"5rem\",\n\t\t\t\t\t\tcolor: \"#b8b8b8\",\n\t\t\t\t\t\tdisplay: \"block\",\n\t\t\t\t\t\ttextAlign: \"center\",\n\t\t\t\t\t\tpadding: \"4.3rem 3.3rem 3.3rem\",\n\t\t\t\t\t\theight: \"13.2rem\",\n\t\t\t\t\t\tbackgroundColor: props.theme.cardBodyColor,\n\t\t\t\t\t}}\n\t\t\t\t/>\n\t\t\t);\n\t\t}\n\t};\n\n\tconst nodeCard = () => {\n\t\treturn (\n\t\t\t<li className=\"nodelist-item\">\n\t\t\t\t{props.renderHeader()}\n\t\t\t\t<a\n\t\t\t\t\thref={`/associations/${props.node.uuid}`}\n\t\t\t\t\trel=\"noopener noreferrer\"\n\t\t\t\t\tonClick={(e) => {\n\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\tprops.handleClick();\n\t\t\t\t\t\twindow.location.replace(`/associations/${props.node.uuid}`);\n\t\t\t\t\t}}\n\t\t\t\t\tonContextMenu={(e) => {\n\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\twindow.getSelection().removeAllRanges();\n\t\t\t\t\t\t// props.toggleHeader();\n\t\t\t\t\t\twindow.open(props.node.path, \"_blank\");\n\t\t\t\t\t}}\n\t\t\t\t\tstyle={{\n\t\t\t\t\t\twidth: \"100%\",\n\t\t\t\t\t\tbackgroundColor: props.theme.cardBodyColor,\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t{renderPreview()}\n\t\t\t\t</a>\n\t\t\t</li>\n\t\t);\n\t};\n\n\t// how the node will appear in collections\n\tconst collectionPreview = () => {\n\t\tif (props.node.preview) {\n\t\t\treturn (\n\t\t\t\t<Fragment>\n\t\t\t\t\t<img\n\t\t\t\t\t\tsrc={props.node.preview}\n\t\t\t\t\t\talt={props.node.name}\n\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\tobjectFit: \"cover\",\n\t\t\t\t\t\t\twidth: \"100%\",\n\t\t\t\t\t\t}}\n\t\t\t\t\t></img>\n\t\t\t\t</Fragment>\n\t\t\t);\n\t\t} else {\n\t\t\treturn (\n\t\t\t\t<Fragment>\n\t\t\t\t\t<Icon type={urlIcon} theme=\"outlined\" className=\"node-card-icon\" />\n\t\t\t\t</Fragment>\n\t\t\t);\n\t\t}\n\t};\n\n\tconst fullNode = () => {\n\t\tlet imageScale = JSON.parse(localStorage.getItem(\"image-sizing\")) || \"classic\";\n\t\tlet imageClass = \"img-\" + imageScale.replace(\" \", \"-\");\n\t\treturn (\n\t\t\t<div className={\"full-node-item \" + imageClass}>\n\t\t\t\t<NodeCardHeaderFull />\n\t\t\t\t{renderFullCardPreview()}\n\t\t\t\t{/* <p>{props.node.comment}</p> */}\n\t\t\t</div>\n\t\t);\n\t};\n\n\tconst associationLink = () => {\n\t\treturn (\n\t\t\t<Link to={`/associations/${props.node.uuid}`} onClick={(e) => props.handleAssociatonClick()}>\n\t\t\t\t{props.node.name}\n\t\t\t</Link>\n\t\t);\n\t};\n\n\t// render the requested element\n\tconst renderNode = () => {\n\t\tswitch (props.element) {\n\t\t\tcase \"card\":\n\t\t\t\treturn <Fragment>{nodeCard()}</Fragment>;\n\t\t\tcase \"preview\":\n\t\t\t\treturn <Fragment>{collectionPreview()}</Fragment>;\n\t\t\tcase \"full\":\n\t\t\t\treturn <Fragment>{fullNode()}</Fragment>;\n\t\t\tcase \"association-link\":\n\t\t\t\treturn <Fragment>{associationLink()}</Fragment>;\n\t\t\tdefault:\n\t\t\t\treturn;\n\t\t}\n\t};\n\n\treturn <Fragment>{renderNode()}</Fragment>;\n};\n\nexport { Url };\n","import React, { Fragment } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { Icon } from \"antd\";\n// custom code\nimport NodeCardHeaderFull from \"../../../components/elements/node/NodeCardHeaderFull\";\nimport NodeCardHeader from \"../../../components/elements/node/NodeCardHeader\";\nimport missingFileImage from \"../../../resources/missing-file.png\";\nimport { isElectron } from \"../../../utils/environment\";\n\nconst File = (props) => {\n\tlet fileLoadError = false;\n\n\t// select a replacement file\n\tconst selectLocalFile = (e) => {\n\t\tconst input = document.createElement(\"input\");\n\t\tinput.setAttribute(\"type\", \"file\");\n\t\tinput.click();\n\t\t// Listen for uploading local file, then save to server\n\t\tinput.onchange = async () => {\n\t\t\tlet file = input.files[0];\n\t\t\tawait props.updateNode({ uuid: props.node.uuid, path: file.path });\n\t\t\twindow.location.reload();\n\t\t};\n\t};\n\n\tconst onClickAction = (e) => {\n\t\tif (!fileLoadError) {\n\t\t\te.preventDefault();\n\t\t\tprops.handleClick();\n\t\t\twindow.location.replace(`/associations/${props.node.uuid}`);\n\t\t} else if (isElectron()) {\n\t\t\te.preventDefault();\n\t\t\tprops.handleClick();\n\t\t\twindow.location.replace(`/associations/${props.node.uuid}`);\n\t\t} else {\n\t\t\te.preventDefault();\n\t\t\twindow.location.replace(`/associations/${props.node.uuid}`);\n\t\t}\n\t};\n\n\tconst onContextAction = (e) => {\n\t\tif (!fileLoadError) {\n\t\t\te.preventDefault();\n\t\t\tprops.handleClick();\n\t\t\twindow.getSelection().removeAllRanges();\n\t\t\tprops.launchFile(props.node.uuid);\n\t\t} else if (isElectron()) {\n\t\t\te.preventDefault();\n\t\t\twindow.getSelection().removeAllRanges();\n\t\t\tselectLocalFile(e);\n\t\t} else {\n\t\t\te.preventDefault();\n\t\t\twindow.location.replace(`/associations/${props.node.uuid}`);\n\t\t}\n\t};\n\n\tconst onFullCardAction = (e) => {\n\t\tif (!fileLoadError) {\n\t\t\te.preventDefault();\n\t\t\tprops.handleClick();\n\t\t\tprops.launchFile(props.node.uuid);\n\t\t} else if (isElectron()) {\n\t\t\te.preventDefault();\n\t\t\tselectLocalFile(e);\n\t\t} else {\n\t\t\te.preventDefault();\n\t\t\twindow.location.replace(`/associations/${props.node.uuid}`);\n\t\t}\n\t};\n\n\tconst renderPreview = (full) => {\n\t\tif (props.node.path === null) {\n\t\t\tfileLoadError = true;\n\t\t\tprops.node.preview = missingFileImage;\n\t\t}\n\t\tif (props.node.preview) {\n\t\t\treturn (\n\t\t\t\t<Fragment>\n\t\t\t\t\t<img\n\t\t\t\t\t\tsrc={props.node.preview}\n\t\t\t\t\t\talt={props.node.name}\n\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\tobjectFit: \"cover\",\n\t\t\t\t\t\t\theight: full ? \"100%\" : \"13.2rem\",\n\t\t\t\t\t\t\twidth: \"100%\",\n\t\t\t\t\t\t}}\n\t\t\t\t\t></img>\n\t\t\t\t</Fragment>\n\t\t\t);\n\t\t} else {\n\t\t\treturn (\n\t\t\t\t<Icon\n\t\t\t\t\ttype={\"file\"}\n\t\t\t\t\tstyle={{\n\t\t\t\t\t\tcolor: \"white\",\n\t\t\t\t\t\tbackgroundColor: props.theme.cardBodyColor,\n\t\t\t\t\t\theight: full ? \"100%\" : \"13.2rem\",\n\t\t\t\t\t}}\n\t\t\t\t\ttheme=\"filled\"\n\t\t\t\t\tclassName=\"node-card-icon\"\n\t\t\t\t/>\n\t\t\t);\n\t\t}\n\t};\n\n\tconst nodeCard = () => {\n\t\treturn (\n\t\t\t<li className=\"nodelist-item\">\n\t\t\t\t<NodeCardHeader node={props.node} />\n\t\t\t\t<Link\n\t\t\t\t\tto={`/associations/${props.node.uuid}`}\n\t\t\t\t\tonClick={(e) => onClickAction(e)}\n\t\t\t\t\tonContextMenu={(e) => onContextAction(e)}\n\t\t\t\t\tstyle={{\n\t\t\t\t\t\twidth: \"100%\",\n\t\t\t\t\t\tbackgroundColor: props.theme.cardBodyColor,\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t{renderPreview()}\n\t\t\t\t</Link>\n\t\t\t</li>\n\t\t);\n\t};\n\n\t// how the node will appear in collections\n\tconst collectionPreview = () => {\n\t\treturn <Fragment>{renderPreview()}</Fragment>;\n\t};\n\n\tconst fullNode = () => {\n\t\treturn (\n\t\t\t<div className=\"full-node-item\">\n\t\t\t\t<NodeCardHeaderFull />\n\t\t\t\t<Link\n\t\t\t\t\tto={`/associations/${props.node.uuid}`}\n\t\t\t\t\tonClick={(e) => onFullCardAction(e)}\n\t\t\t\t\tonContextMenu={(e) => onContextAction(e)}\n\t\t\t\t>\n\t\t\t\t\t<Fragment>{renderPreview(true)}</Fragment>\n\t\t\t\t</Link>\n\t\t\t</div>\n\t\t);\n\t};\n\n\tconst associationLink = () => {\n\t\treturn (\n\t\t\t<Link to={`/associations/${props.node.uuid}`} onClick={(e) => props.handleAssociatonClick()}>\n\t\t\t\t{props.node.name}\n\t\t\t</Link>\n\t\t);\n\t};\n\n\t// render the requested element\n\tconst renderNode = () => {\n\t\tswitch (props.element) {\n\t\t\tcase \"card\":\n\t\t\t\treturn <Fragment>{nodeCard()}</Fragment>;\n\t\t\tcase \"preview\":\n\t\t\t\treturn <Fragment>{collectionPreview()}</Fragment>;\n\t\t\tcase \"full\":\n\t\t\t\treturn <Fragment>{fullNode()}</Fragment>;\n\t\t\tcase \"association-link\":\n\t\t\t\treturn <Fragment>{associationLink()}</Fragment>;\n\t\t\tdefault:\n\t\t\t\treturn;\n\t\t}\n\t};\n\n\treturn <Fragment>{renderNode()}</Fragment>;\n};\n\nexport { File };\n","import React, { Fragment } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { Icon } from \"antd\";\n// custom code\nimport NodeCardHeaderFull from \"../../../components/elements/node/NodeCardHeaderFull\";\nimport NodeCardHeader from \"../../../components/elements/node/NodeCardHeader\";\nimport missingFileImage from \"../../../resources/missing-file.png\";\nimport { isElectron } from \"../../../utils/environment\";\n\nconst Folder = (props) => {\n\tlet fileLoadError = false;\n\n\t// select a replacement file\n\tconst selectLocalFile = (e) => {\n\t\tconst input = document.createElement(\"input\");\n\t\tinput.setAttribute(\"type\", \"file\");\n\t\tinput.click();\n\t\t// Listen for uploading local file, then save to server\n\t\tinput.onchange = async () => {\n\t\t\tlet file = input.files[0];\n\t\t\tawait props.updateNode({ uuid: props.node.uuid, path: file.path });\n\t\t\twindow.location.reload();\n\t\t};\n\t};\n\n\tconst onClickAction = (e) => {\n\t\tif (!fileLoadError) {\n\t\t\te.preventDefault();\n\t\t\tprops.handleClick();\n\t\t\twindow.location.replace(`/associations/${props.node.uuid}`);\n\t\t} else if (isElectron()) {\n\t\t\te.preventDefault();\n\t\t\tprops.handleClick();\n\t\t\twindow.location.replace(`/associations/${props.node.uuid}`);\n\t\t} else {\n\t\t\te.preventDefault();\n\t\t\twindow.location.replace(`/associations/${props.node.uuid}`);\n\t\t}\n\t};\n\n\tconst onContextAction = (e) => {\n\t\tif (!fileLoadError) {\n\t\t\te.preventDefault();\n\t\t\tprops.handleClick();\n\t\t\tprops.launchFile(props.node.uuid);\n\t\t} else if (isElectron()) {\n\t\t\te.preventDefault();\n\t\t\tselectLocalFile(e);\n\t\t} else {\n\t\t\te.preventDefault();\n\t\t\twindow.location.replace(`/associations/${props.node.uuid}`);\n\t\t}\n\t};\n\n\tconst onFullCardAction = (e) => {\n\t\tif (!fileLoadError) {\n\t\t\te.preventDefault();\n\t\t\tprops.handleClick();\n\t\t\tprops.launchFile(props.node.uuid);\n\t\t} else if (isElectron()) {\n\t\t\te.preventDefault();\n\t\t\tselectLocalFile(e);\n\t\t} else {\n\t\t\te.preventDefault();\n\t\t\twindow.location.replace(`/associations/${props.node.uuid}`);\n\t\t}\n\t};\n\n\tconst renderPreview = () => {\n\t\tif (props.node.path === null) {\n\t\t\tfileLoadError = true;\n\t\t\tprops.node.preview = missingFileImage;\n\t\t}\n\t\tif (props.node.preview) {\n\t\t\treturn (\n\t\t\t\t<Fragment>\n\t\t\t\t\t<img\n\t\t\t\t\t\tsrc={props.node.preview}\n\t\t\t\t\t\talt={props.node.name}\n\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\tobjectFit: \"cover\",\n\t\t\t\t\t\t\tminHeight: \"100%\",\n\t\t\t\t\t\t\twidth: \"100%\",\n\t\t\t\t\t\t}}\n\t\t\t\t\t></img>\n\t\t\t\t</Fragment>\n\t\t\t);\n\t\t} else {\n\t\t\treturn (\n\t\t\t\t<Icon\n\t\t\t\t\ttype={\"folder\"}\n\t\t\t\t\tstyle={{\n\t\t\t\t\t\tcolor: \"white\",\n\t\t\t\t\t\tbackgroundColor: props.theme.cardBodyColor,\n\t\t\t\t\t\theight: \"13.2rem\",\n\t\t\t\t\t}}\n\t\t\t\t\ttheme='filled'\n\t\t\t\t\tclassName='node-card-icon'\n\t\t\t\t/>\n\t\t\t);\n\t\t}\n\t};\n\n\tconst nodeCard = () => {\n\t\treturn (\n\t\t\t<li className='nodelist-item'>\n\t\t\t\t<NodeCardHeader node={props.node} />\n\t\t\t\t<Link\n\t\t\t\t\tto={`/associations/${props.node.uuid}`}\n\t\t\t\t\tonClick={(e) => onClickAction(e)}\n\t\t\t\t\tonContextMenu={(e) => onContextAction(e)}\n\t\t\t\t\tstyle={{\n\t\t\t\t\t\twidth: \"100%\",\n\t\t\t\t\t\tbackgroundColor: props.theme.cardBodyColor,\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t{renderPreview()}\n\t\t\t\t</Link>\n\t\t\t</li>\n\t\t);\n\t};\n\n\t// how the node will appear in collections\n\tconst collectionPreview = () => {\n\t\treturn <Fragment>{renderPreview()}</Fragment>;\n\t};\n\n\tconst fullNode = () => {\n\t\treturn (\n\t\t\t<div className='full-node-item'>\n\t\t\t\t<NodeCardHeaderFull />\n\t\t\t\t<Link to={`/associations/${props.node.uuid}`} onClick={(e) => onFullCardAction(e)}>\n\t\t\t\t\t<Fragment>{renderPreview()}</Fragment>\n\t\t\t\t</Link>\n\t\t\t</div>\n\t\t);\n\t};\n\n\tconst associationLink = () => {\n\t\treturn (\n\t\t\t<Link to={`/associations/${props.node.uuid}`} onClick={(e) => props.handleAssociatonClick()}>\n\t\t\t\t{props.node.name}\n\t\t\t</Link>\n\t\t);\n\t};\n\n\t// render the requested element\n\tconst renderNode = () => {\n\t\tswitch (props.element) {\n\t\t\tcase \"card\":\n\t\t\t\treturn <Fragment>{nodeCard()}</Fragment>;\n\t\t\tcase \"preview\":\n\t\t\t\treturn <Fragment>{collectionPreview()}</Fragment>;\n\t\t\tcase \"full\":\n\t\t\t\treturn <Fragment>{fullNode()}</Fragment>;\n\t\t\tcase \"association-link\":\n\t\t\t\treturn <Fragment>{associationLink()}</Fragment>;\n\t\t\tdefault:\n\t\t\t\treturn;\n\t\t}\n\t};\n\n\treturn <Fragment>{renderNode()}</Fragment>;\n};\n\nexport { Folder };\n","import React, { Fragment } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { Icon } from \"antd\";\n// for now these are in-common between nodes\nimport NodeCardHeaderFull from \"../../../components/elements/node/NodeCardHeaderFull\";\nimport NodeCardHeader from \"../../../components/elements/node/NodeCardHeader\";\nimport missingFileImage from \"../../../resources/missing-file.png\";\nimport { isElectron } from \"../../../utils/environment\";\n\nconst Audio = (props) => {\n\tlet fileLoadError = false;\n\n\t// select a replacement file\n\tconst selectLocalFile = (e) => {\n\t\tconst input = document.createElement(\"input\");\n\t\tinput.setAttribute(\"type\", \"file\");\n\t\tinput.click();\n\t\t// Listen for uploading local file, then save to server\n\t\tinput.onchange = async () => {\n\t\t\tlet file = input.files[0];\n\t\t\tawait props.updateNode({ uuid: props.node.uuid, path: file.path });\n\t\t\twindow.location.reload();\n\t\t};\n\t};\n\n\tconst onClickAction = (e) => {\n\t\tif (!fileLoadError) {\n\t\t\te.preventDefault();\n\t\t\tprops.handleClick();\n\t\t\twindow.location.replace(`/associations/${props.node.uuid}`);\n\t\t} else if (isElectron()) {\n\t\t\te.preventDefault();\n\t\t\tselectLocalFile(e);\n\t\t} else {\n\t\t\te.preventDefault();\n\t\t\twindow.location.replace(`/associations/${props.node.uuid}`);\n\t\t}\n\t};\n\n\tconst onContextAction = (e) => {\n\t\tif (!fileLoadError) {\n\t\t\te.preventDefault();\n\t\t\tprops.handleClick();\n\t\t\tprops.launchFile(props.node.uuid);\n\t\t} else if (isElectron()) {\n\t\t\te.preventDefault();\n\t\t\tselectLocalFile(e);\n\t\t} else {\n\t\t\te.preventDefault();\n\t\t\twindow.location.replace(`/associations/${props.node.uuid}`);\n\t\t}\n\t};\n\n\tconst onFullCardAction = (e) => {\n\t\tif (!fileLoadError) {\n\t\t\te.preventDefault();\n\t\t\tprops.handleClick();\n\t\t\tprops.launchFile(props.node.uuid);\n\t\t} else if (isElectron()) {\n\t\t\te.preventDefault();\n\t\t\tselectLocalFile(e);\n\t\t} else {\n\t\t\te.preventDefault();\n\t\t\twindow.location.replace(`/associations/${props.node.uuid}`);\n\t\t}\n\t};\n\n\tconst renderPreview = () => {\n\t\tif (props.node.path === null) {\n\t\t\tfileLoadError = true;\n\t\t\tprops.node.preview = missingFileImage;\n\t\t}\n\t\tif (props.node.preview) {\n\t\t\treturn (\n\t\t\t\t<Fragment>\n\t\t\t\t\t<img\n\t\t\t\t\t\tsrc={props.node.preview}\n\t\t\t\t\t\talt={props.node.name}\n\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\tobjectFit: \"cover\",\n\t\t\t\t\t\t\theight: \"13.2rem\",\n\t\t\t\t\t\t\twidth: \"100%\",\n\t\t\t\t\t\t}}\n\t\t\t\t\t></img>\n\t\t\t\t</Fragment>\n\t\t\t);\n\t\t} else {\n\t\t\treturn (\n\t\t\t\t<Icon\n\t\t\t\t\ttype={\"sound\"}\n\t\t\t\t\tstyle={{ color: \"white\", backgroundColor: props.theme.cardBodyColor, height: \"13.2rem\" }}\n\t\t\t\t\ttheme=\"filled\"\n\t\t\t\t\tclassName=\"node-card-icon\"\n\t\t\t\t/>\n\t\t\t);\n\t\t}\n\t};\n\n\tconst nodeCard = () => {\n\t\treturn (\n\t\t\t<li className=\"nodelist-item\">\n\t\t\t\t<NodeCardHeader node={props.node} />\n\t\t\t\t<Link\n\t\t\t\t\tto={`/associations/${props.node.uuid}`}\n\t\t\t\t\tonClick={(e) => onClickAction(e)}\n\t\t\t\t\tonContextMenu={(e) => onContextAction(e)}\n\t\t\t\t\tstyle={{\n\t\t\t\t\t\twidth: \"100%\",\n\t\t\t\t\t\tbackgroundColor: props.theme.cardBodyColor,\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t{renderPreview()}\n\t\t\t\t</Link>\n\t\t\t</li>\n\t\t);\n\t};\n\n\t// how the node will appear in collections\n\tconst collectionPreview = () => {\n\t\treturn <Fragment>{renderPreview()}</Fragment>;\n\t};\n\n\tconst fullNode = () => {\n\t\treturn (\n\t\t\t<div className=\"full-node-item\">\n\t\t\t\t<NodeCardHeaderFull />\n\t\t\t\t<Link to={`/associations/${props.node.uuid}`} onClick={(e) => onFullCardAction(e)}>\n\t\t\t\t\t<Fragment>{renderPreview()}</Fragment>\n\t\t\t\t</Link>\n\t\t\t</div>\n\t\t);\n\t};\n\n\tconst associationLink = () => {\n\t\treturn (\n\t\t\t<Link to={`/associations/${props.node.uuid}`} onClick={(e) => props.handleAssociatonClick()}>\n\t\t\t\t{props.node.name}\n\t\t\t</Link>\n\t\t);\n\t};\n\n\t// render the requested element\n\tconst renderNode = () => {\n\t\tswitch (props.element) {\n\t\t\tcase \"card\":\n\t\t\t\treturn <Fragment>{nodeCard()}</Fragment>;\n\t\t\tcase \"preview\":\n\t\t\t\treturn <Fragment>{collectionPreview()}</Fragment>;\n\t\t\tcase \"full\":\n\t\t\t\treturn <Fragment>{fullNode()}</Fragment>;\n\t\t\tcase \"association-link\":\n\t\t\t\treturn <Fragment>{associationLink()}</Fragment>;\n\t\t\tdefault:\n\t\t\t\treturn;\n\t\t}\n\t};\n\n\treturn <Fragment>{renderNode()}</Fragment>;\n};\n\nexport { Audio };\n","import React, { Fragment } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { Icon } from \"antd\";\n// custom code\nimport NodeCardHeaderFull from \"../../../components/elements/node/NodeCardHeaderFull\";\nimport NodeCardHeader from \"../../../components/elements/node/NodeCardHeader\";\nimport missingFileImage from \"../../../resources/missing-file.png\";\nimport { isElectron } from \"../../../utils/environment\";\n\nconst Package = (props) => {\n\tlet fileLoadError = false;\n\n\t// select a replacement file\n\tconst selectLocalFile = (e) => {\n\t\tconst input = document.createElement(\"input\");\n\t\tinput.setAttribute(\"type\", \"file\");\n\t\tinput.click();\n\t\t// Listen for uploading local file, then save to server\n\t\tinput.onchange = async () => {\n\t\t\tlet file = input.files[0];\n\t\t\tawait props.updateNode({ uuid: props.node.uuid, path: file.path });\n\t\t\twindow.location.reload();\n\t\t};\n\t};\n\n\tconst onClickAction = (e) => {\n\t\tif (!fileLoadError) {\n\t\t\te.preventDefault();\n\t\t\tprops.handleClick();\n\t\t\twindow.location.replace(`/associations/${props.node.uuid}`);\n\t\t} else if (isElectron()) {\n\t\t\te.preventDefault();\n\t\t\tselectLocalFile(e);\n\t\t} else {\n\t\t\te.preventDefault();\n\t\t\twindow.location.replace(`/associations/${props.node.uuid}`);\n\t\t}\n\t};\n\n\tconst onContextAction = (e) => {\n\t\tif (!fileLoadError) {\n\t\t\te.preventDefault();\n\t\t\tprops.handleClick();\n\t\t\tprops.launchExplorer(props.node.uuid);\n\t\t} else if (isElectron()) {\n\t\t\te.preventDefault();\n\t\t\tselectLocalFile(e);\n\t\t} else {\n\t\t\te.preventDefault();\n\t\t\twindow.location.replace(`/associations/${props.node.uuid}`);\n\t\t}\n\t};\n\n\tconst onFullCardAction = (e) => {\n\t\tif (!fileLoadError) {\n\t\t\te.preventDefault();\n\t\t\tprops.handleClick();\n\t\t\tprops.launchExplorer(props.node.uuid);\n\t\t} else if (isElectron()) {\n\t\t\te.preventDefault();\n\t\t\tselectLocalFile(e);\n\t\t} else {\n\t\t\te.preventDefault();\n\t\t\twindow.location.replace(`/associations/${props.node.uuid}`);\n\t\t}\n\t};\n\n\tconst renderPreview = () => {\n\t\tif (props.node.path === null) {\n\t\t\tfileLoadError = true;\n\t\t\tprops.node.preview = missingFileImage;\n\t\t}\n\t\tif (props.node.preview) {\n\t\t\treturn (\n\t\t\t\t<Fragment>\n\t\t\t\t\t<img\n\t\t\t\t\t\tsrc={props.node.preview}\n\t\t\t\t\t\talt={props.node.name}\n\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\tobjectFit: \"cover\",\n\t\t\t\t\t\t\theight: \"13.2rem\",\n\t\t\t\t\t\t\twidth: \"100%\",\n\t\t\t\t\t\t}}\n\t\t\t\t\t></img>\n\t\t\t\t</Fragment>\n\t\t\t);\n\t\t} else {\n\t\t\treturn (\n\t\t\t\t<Icon\n\t\t\t\t\ttype={\"gift\"}\n\t\t\t\t\tstyle={{ color: \"white\", backgroundColor: props.theme.cardBodyColor, height: \"13.2rem\" }}\n\t\t\t\t\ttheme=\"filled\"\n\t\t\t\t\tclassName=\"node-card-icon\"\n\t\t\t\t/>\n\t\t\t);\n\t\t}\n\t};\n\n\tconst nodeCard = () => {\n\t\treturn (\n\t\t\t<li className=\"nodelist-item\">\n\t\t\t\t<NodeCardHeader node={props.node} />\n\t\t\t\t<Link\n\t\t\t\t\tto={`/associations/${props.node.uuid}`}\n\t\t\t\t\tonClick={(e) => onClickAction(e)}\n\t\t\t\t\tonContextMenu={(e) => onContextAction(e)}\n\t\t\t\t\tstyle={{\n\t\t\t\t\t\twidth: \"100%\",\n\t\t\t\t\t\tbackgroundColor: props.theme.cardBodyColor,\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t{renderPreview()}\n\t\t\t\t</Link>\n\t\t\t</li>\n\t\t);\n\t};\n\n\t// how the node will appear in collections\n\tconst collectionPreview = () => {\n\t\treturn <Fragment>{renderPreview()}</Fragment>;\n\t};\n\n\tconst fullNode = () => {\n\t\treturn (\n\t\t\t<div className=\"full-node-item\">\n\t\t\t\t<NodeCardHeaderFull />\n\t\t\t\t<Link to={`/associations/${props.node.uuid}`} onClick={(e) => onFullCardAction(e)}>\n\t\t\t\t\t<Fragment>{renderPreview()}</Fragment>\n\t\t\t\t</Link>\n\t\t\t</div>\n\t\t);\n\t};\n\n\tconst associationLink = () => {\n\t\treturn (\n\t\t\t<Link to={`/associations/${props.node.uuid}`} onClick={(e) => props.handleAssociatonClick()}>\n\t\t\t\t{props.node.name}\n\t\t\t</Link>\n\t\t);\n\t};\n\n\t// render the requested element\n\tconst renderNode = () => {\n\t\tswitch (props.element) {\n\t\t\tcase \"card\":\n\t\t\t\treturn <Fragment>{nodeCard()}</Fragment>;\n\t\t\tcase \"preview\":\n\t\t\t\treturn <Fragment>{collectionPreview()}</Fragment>;\n\t\t\tcase \"full\":\n\t\t\t\treturn <Fragment>{fullNode()}</Fragment>;\n\t\t\tcase \"association-link\":\n\t\t\t\treturn <Fragment>{associationLink()}</Fragment>;\n\t\t\tdefault:\n\t\t\t\treturn;\n\t\t}\n\t};\n\n\treturn <Fragment>{renderNode()}</Fragment>;\n};\n\nexport { Package };\n","import React, { Fragment } from 'react';\nimport { Link } from 'react-router-dom';\nimport { Icon } from 'antd';\n// custom code\nimport NodeCardHeaderFull from '../../../components/elements/node/NodeCardHeaderFull';\nimport NodeCardHeader from '../../../components/elements/node/NodeCardHeader';\nimport missingFileImage from '../../../resources/missing-file.png';\nimport { isElectron } from '../../../utils/environment';\n\nconst Zip = (props) => {\n\tlet fileLoadError = false;\n\n\t// select a replacement file\n\tconst selectLocalFile = (e) => {\n\t\tconst input = document.createElement('input');\n\t\tinput.setAttribute('type', 'file');\n\t\tinput.setAttribute('accept', ['application/zip']);\n\t\tinput.click();\n\t\t// Listen for uploading local file, then save to server\n\t\tinput.onchange = async () => {\n\t\t\tlet file = input.files[0];\n\t\t\tawait props.updateNode({ uuid: props.node.uuid, path: file.path });\n\t\t\twindow.location.reload();\n\t\t};\n\t};\n\n\tconst onClickAction = (e) => {\n\t\tif (!fileLoadError) {\n\t\t\te.preventDefault();\n\t\t\tprops.handleClick();\n\t\t\twindow.location.replace(`/associations/${props.node.uuid}`);\n\t\t} else if (isElectron()) {\n\t\t\te.preventDefault();\n\t\t\tselectLocalFile(e);\n\t\t} else {\n\t\t\te.preventDefault();\n\t\t\twindow.location.replace(`/associations/${props.node.uuid}`);\n\t\t}\n\t};\n\n\tconst onContextAction = (e) => {\n\t\tif (!fileLoadError) {\n\t\t\te.preventDefault();\n\t\t\tprops.handleClick();\n\t\t\tprops.launchExplorer(props.node.uuid);\n\t\t} else if (isElectron()) {\n\t\t\te.preventDefault();\n\t\t\tselectLocalFile(e);\n\t\t} else {\n\t\t\te.preventDefault();\n\t\t\twindow.location.replace(`/associations/${props.node.uuid}`);\n\t\t}\n\t};\n\n\tconst onFullCardAction = (e) => {\n\t\tif (!fileLoadError) {\n\t\t\te.preventDefault();\n\t\t\tprops.handleClick();\n\t\t\tprops.launchExplorer(props.node.uuid);\n\t\t} else if (isElectron()) {\n\t\t\te.preventDefault();\n\t\t\tselectLocalFile(e);\n\t\t} else {\n\t\t\te.preventDefault();\n\t\t\twindow.location.replace(`/associations/${props.node.uuid}`);\n\t\t}\n\t};\n\n\tconst renderPreview = () => {\n\t\tif (props.node.path === null) {\n\t\t\tfileLoadError = true;\n\t\t\tprops.node.preview = missingFileImage;\n\t\t}\n\t\tif (props.node.preview) {\n\t\t\treturn (\n\t\t\t\t<Fragment>\n\t\t\t\t\t<img\n\t\t\t\t\t\tsrc={props.node.preview}\n\t\t\t\t\t\talt={props.node.name}\n\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\tobjectFit: 'cover',\n\t\t\t\t\t\t\tminHeight: '100%',\n\t\t\t\t\t\t\twidth: '100%',\n\t\t\t\t\t\t}}\n\t\t\t\t\t></img>\n\t\t\t\t</Fragment>\n\t\t\t);\n\t\t} else {\n\t\t\treturn (\n\t\t\t\t<Icon\n\t\t\t\t\ttype={'file-zip'}\n\t\t\t\t\tstyle={{ color: 'white', backgroundColor: props.theme.cardBodyColor, height: '100%' }}\n\t\t\t\t\ttheme='filled'\n\t\t\t\t\tclassName='node-card-icon'\n\t\t\t\t/>\n\t\t\t);\n\t\t}\n\t};\n\n\tconst nodeCard = () => {\n\t\treturn (\n\t\t\t<li className='nodelist-item'>\n\t\t\t\t<NodeCardHeader node={props.node} />\n\t\t\t\t<Link\n\t\t\t\t\tto={`/associations/${props.node.uuid}`}\n\t\t\t\t\tonClick={(e) => onClickAction(e)}\n\t\t\t\t\tonContextMenu={(e) => onContextAction(e)}\n\t\t\t\t\tstyle={{\n\t\t\t\t\t\twidth: '100%',\n\t\t\t\t\t\tbackgroundColor: props.theme.cardBodyColor,\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t{renderPreview()}\n\t\t\t\t</Link>\n\t\t\t</li>\n\t\t);\n\t};\n\n\t// how the node will appear in collections\n\tconst collectionPreview = () => {\n\t\treturn <Fragment>{renderPreview()}</Fragment>;\n\t};\n\n\tconst fullNode = () => {\n\t\treturn (\n\t\t\t<div className='full-node-item'>\n\t\t\t\t<NodeCardHeaderFull />\n\t\t\t\t<Link to={`/associations/${props.node.uuid}`} onClick={(e) => onFullCardAction(e)}>\n\t\t\t\t\t<Fragment>{renderPreview()}</Fragment>\n\t\t\t\t</Link>\n\t\t\t</div>\n\t\t);\n\t};\n\n\tconst associationLink = () => {\n\t\treturn (\n\t\t\t<Link to={`/associations/${props.node.uuid}`} onClick={(e) => props.handleAssociatonClick()}>\n\t\t\t\t{props.node.name}\n\t\t\t</Link>\n\t\t);\n\t};\n\n\t// render the requested element\n\tconst renderNode = () => {\n\t\tswitch (props.element) {\n\t\t\tcase 'card':\n\t\t\t\treturn <Fragment>{nodeCard()}</Fragment>;\n\t\t\tcase 'preview':\n\t\t\t\treturn <Fragment>{collectionPreview()}</Fragment>;\n\t\t\tcase 'full':\n\t\t\t\treturn <Fragment>{fullNode()}</Fragment>;\n\t\t\tcase 'association-link':\n\t\t\t\treturn <Fragment>{associationLink()}</Fragment>;\n\t\t\tdefault:\n\t\t\t\treturn;\n\t\t}\n\t};\n\n\treturn <Fragment>{renderNode()}</Fragment>;\n};\n\nexport { Zip };\n","import React, { Fragment } from 'react';\nimport { Link } from 'react-router-dom';\nimport { Icon } from 'antd';\n// custom code\nimport NodeRenderer from '../NodeRenderer';\n// for now these are in-common between nodes\nimport NodeCardHeaderFull from '../../../components/elements/node/NodeCardHeaderFull';\n\nconst Collection = (props) => {\n\tconst onCollectionContextMenu = (e) => {\n\t\t// e.preventDefault();\n\t\t// window.location.replace(`/associations/${props.node.uuid}`);\n\t};\n\n\tconst onCollectionClick = (e) => {\n\t\te.preventDefault();\n\t\tprops.handleClick();\n\t\twindow.location.replace(`/associations/${props.node.uuid}`);\n\t};\n\n\tconst nodeCard = () => {\n\t\t// create the collection grid\n\t\tvar previewCount = 0;\n\t\tvar collectionPreview = null;\n\t\tvar preview = null;\n\t\t// check if the collection has a preview\n\t\tif (props.node.preview) {\n\t\t\tpreview = JSON.parse(props.node.preview);\n\t\t\tpreviewCount = preview.length;\n\t\t}\n\t\t// create the different grid types\n\t\tswitch (previewCount) {\n\t\t\tcase 0:\n\t\t\t\tcollectionPreview = (\n\t\t\t\t\t<li className='nodelist-item'>\n\t\t\t\t\t\t{props.renderHeader()}\n\t\t\t\t\t\t<Link\n\t\t\t\t\t\t\tto={`/associations/${props.node.uuid}`}\n\t\t\t\t\t\t\tonClick={(e) => onCollectionClick(e)}\n\t\t\t\t\t\t\tonContextMenu={(e) => onCollectionContextMenu(e)}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<Icon type={'branches'} theme='outlined' className='node-card-icon' />\n\t\t\t\t\t\t</Link>\n\t\t\t\t\t</li>\n\t\t\t\t);\n\t\t\t\treturn collectionPreview;\n\t\t\tcase 1:\n\t\t\t\tcollectionPreview = (\n\t\t\t\t\t<li className='nodelist-item'>\n\t\t\t\t\t\t{props.renderHeader()}\n\t\t\t\t\t\t<Link\n\t\t\t\t\t\t\tto={`/associations/${props.node.uuid}`}\n\t\t\t\t\t\t\tonClick={(e) => onCollectionClick(e)}\n\t\t\t\t\t\t\tonContextMenu={(e) => onCollectionContextMenu(e)}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<NodeRenderer type={preview[0].type} element={'preview'} node={preview[0]} />\n\t\t\t\t\t\t</Link>\n\t\t\t\t\t</li>\n\t\t\t\t);\n\t\t\t\treturn collectionPreview;\n\t\t\tcase 2:\n\t\t\t\tcollectionPreview = (\n\t\t\t\t\t<li className='nodelist-item nodelist-item-collection'>\n\t\t\t\t\t\t{props.renderHeader()}\n\t\t\t\t\t\t<Link\n\t\t\t\t\t\t\tto={`/associations/${props.node.uuid}`}\n\t\t\t\t\t\t\tonClick={(e) => onCollectionClick(e)}\n\t\t\t\t\t\t\tonContextMenu={(e) => onCollectionContextMenu(e)}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<ul className='nodelist-collection-grid'>\n\t\t\t\t\t\t\t\t<li className='nodelist-collection-grid-full-width'>\n\t\t\t\t\t\t\t\t\t<NodeRenderer type={preview[0].type} element={'preview'} node={preview[0]} />\n\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t<li className='nodelist-collection-grid-full-width'>\n\t\t\t\t\t\t\t\t\t<NodeRenderer type={preview[1].type} element={'preview'} node={preview[1]} />\n\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t</Link>\n\t\t\t\t\t</li>\n\t\t\t\t);\n\t\t\t\treturn collectionPreview;\n\t\t\tcase 3:\n\t\t\t\tcollectionPreview = (\n\t\t\t\t\t<li className='nodelist-item nodelist-item-collection'>\n\t\t\t\t\t\t{props.renderHeader()}\n\t\t\t\t\t\t<Link\n\t\t\t\t\t\t\tto={`/associations/${props.node.uuid}`}\n\t\t\t\t\t\t\tonClick={(e) => onCollectionClick(e)}\n\t\t\t\t\t\t\tonContextMenu={(e) => onCollectionContextMenu(e)}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<ul className='nodelist-collection-grid'>\n\t\t\t\t\t\t\t\t<li className='nodelist-collection-grid-full-width'>\n\t\t\t\t\t\t\t\t\t<NodeRenderer type={preview[0].type} element={'preview'} node={preview[0]} />\n\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t\t\t<NodeRenderer type={preview[1].type} element={'preview'} node={preview[1]} />\n\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t\t\t<NodeRenderer type={preview[2].type} element={'preview'} node={preview[2]} />\n\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t<li></li>\n\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t</Link>\n\t\t\t\t\t</li>\n\t\t\t\t);\n\t\t\t\treturn collectionPreview;\n\t\t\tcase 4:\n\t\t\t\tcollectionPreview = (\n\t\t\t\t\t<li className='nodelist-item nodelist-item-collection'>\n\t\t\t\t\t\t{props.renderHeader()}\n\t\t\t\t\t\t<Link\n\t\t\t\t\t\t\tto={`/associations/${props.node.uuid}`}\n\t\t\t\t\t\t\tonClick={(e) => onCollectionClick(e)}\n\t\t\t\t\t\t\tonContextMenu={(e) => onCollectionContextMenu(e)}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<ul className='nodelist-collection-grid'>\n\t\t\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t\t\t<NodeRenderer type={preview[0].type} element={'preview'} node={preview[0]} />\n\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t\t\t<NodeRenderer type={preview[1].type} element={'preview'} node={preview[1]} />\n\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t\t\t<NodeRenderer type={preview[2].type} element={'preview'} node={preview[2]} />\n\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t\t\t<NodeRenderer type={preview[3].type} element={'preview'} node={preview[3]} />\n\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t</Link>\n\t\t\t\t\t</li>\n\t\t\t\t);\n\t\t\t\treturn collectionPreview;\n\t\t\tdefault:\n\t\t\t\treturn;\n\t\t}\n\t};\n\n\tconst fullNode = () => {\n\t\treturn (\n\t\t\t<div className='full-node-item'>\n\t\t\t\t<NodeCardHeaderFull />\n\t\t\t</div>\n\t\t);\n\t};\n\n\tconst associationLink = () => {\n\t\treturn (\n\t\t\t<Link\n\t\t\t\tto={`/associations/${props.node.uuid}`}\n\t\t\t\tonClick={(e) => props.handleAssociatonClick()}\n\t\t\t\t// target='_blank'\n\t\t\t>\n\t\t\t\t{props.node.name}\n\t\t\t</Link>\n\t\t);\n\t};\n\n\t// render the requested element\n\tconst renderNode = () => {\n\t\tswitch (props.element) {\n\t\t\tcase 'card':\n\t\t\t\treturn <Fragment>{nodeCard()}</Fragment>;\n\t\t\tcase 'full':\n\t\t\t\treturn <Fragment>{fullNode()}</Fragment>;\n\t\t\tcase 'association-link':\n\t\t\t\treturn <Fragment>{associationLink()}</Fragment>;\n\t\t\tdefault:\n\t\t\t\treturn;\n\t\t}\n\t};\n\n\treturn <Fragment>{renderNode()}</Fragment>;\n};\n\nexport { Collection };\n","import React, { Fragment } from \"react\";\nimport { Link } from \"react-router-dom\";\n// for now these are in-common between nodes\nimport NodeCardHeaderFull from \"../../../components/elements/node/NodeCardHeaderFull\";\nimport defaultHeader from \"../../../resources/cloud9.png\";\n\nconst User = (props) => {\n\tconst nodeCard = () => {\n\t\treturn (\n\t\t\t<li className=\"nodelist-item\">\n\t\t\t\t{props.renderHeader()}\n\t\t\t\t<Link\n\t\t\t\t\tto={`/profile/${props.node.path}`}\n\t\t\t\t\treplace\n\t\t\t\t\tonClick={(e) => {\n\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\tprops.handleClick();\n\t\t\t\t\t\twindow.location.replace(`/profile/${props.node.path}`);\n\t\t\t\t\t}}\n\t\t\t\t\tonContextMenu={(e) => {\n\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\tprops.handleClick();\n\t\t\t\t\t\twindow.location.replace(`/profile/${props.node.path}`);\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t<img\n\t\t\t\t\t\tsrc={props.node.preview || defaultHeader}\n\t\t\t\t\t\talt={props.node.name}\n\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\tobjectFit: \"cover\",\n\t\t\t\t\t\t\theight: \"13.2rem\",\n\t\t\t\t\t\t\twidth: \"100%\",\n\t\t\t\t\t\t}}\n\t\t\t\t\t></img>\n\t\t\t\t</Link>\n\t\t\t</li>\n\t\t);\n\t};\n\n\t// how the node will appear in collections\n\tconst collectionPreview = () => {\n\t\treturn (\n\t\t\t<Fragment>\n\t\t\t\t<img\n\t\t\t\t\tsrc={props.node.preview || defaultHeader}\n\t\t\t\t\talt={props.node.name}\n\t\t\t\t\tstyle={{\n\t\t\t\t\t\tobjectFit: \"cover\",\n\t\t\t\t\t\tminHeight: \"100%\",\n\t\t\t\t\t\twidth: \"100%\",\n\t\t\t\t\t}}\n\t\t\t\t></img>\n\t\t\t</Fragment>\n\t\t);\n\t};\n\n\tconst fullNode = () => {\n\t\treturn (\n\t\t\t<div className=\"full-node-item\">\n\t\t\t\t<NodeCardHeaderFull />\n\t\t\t\t<Link to={`/profile/${props.node.path}`} /*target='_blank' */>\n\t\t\t\t\t<p>{props.node.name}</p>\n\t\t\t\t</Link>\n\t\t\t</div>\n\t\t);\n\t};\n\n\tconst associationLink = () => {\n\t\treturn (\n\t\t\t<Link\n\t\t\t\tto={`/profile/${props.node.path}`}\n\t\t\t\tonClick={(e) => props.handleAssociatonClick()}\n\t\t\t\t// target='blank'\n\t\t\t>\n\t\t\t\t{props.node.name}\n\t\t\t</Link>\n\t\t);\n\t};\n\n\t// render the requested element\n\tconst renderNode = () => {\n\t\tswitch (props.element) {\n\t\t\tcase \"card\":\n\t\t\t\treturn <Fragment>{nodeCard()}</Fragment>;\n\t\t\tcase \"preview\":\n\t\t\t\treturn <Fragment>{collectionPreview()}</Fragment>;\n\t\t\tcase \"full\":\n\t\t\t\treturn <Fragment>{fullNode()}</Fragment>;\n\t\t\tcase \"association-link\":\n\t\t\t\treturn <Fragment>{associationLink()}</Fragment>;\n\t\t\tdefault:\n\t\t\t\treturn;\n\t\t}\n\t};\n\n\treturn <Fragment>{renderNode()}</Fragment>;\n};\n\nexport { User };\n","// import the default node configurations\nimport React, { Component, Fragment } from 'react';\nimport { connect } from 'react-redux';\nimport {\n\tupdateLinkStrength,\n\thideComponent,\n\tlaunchFileNode,\n\topenFileInExplorer,\n\tupdateNode,\n} from '../../api/redux/actions';\nimport {\n\tText,\n\tImage,\n\tUrl,\n\tFile,\n\tFolder,\n\tAudio,\n\tPackage,\n\tZip,\n\tCollection,\n\tUser,\n} from './core/index';\nimport NodeCardHeader from '../../components/elements/node/NodeCardHeader';\n\nclass NodeRenderer extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\tshowHeader: true,\n\t\t};\n\t}\n\t// increment linkstrength if there is an activeNode\n\thandleNodeClick = () => {\n\t\tconst nodeUUID = this.props.node.uuid;\n\t\tif (this.props.activeNode) {\n\t\t\tconst linkedNodeUUID = this.props.activeNode.uuid;\n\t\t\t// increment the linkStrength on the server\n\t\t\tthis.props.updateLinkStrength(nodeUUID, linkedNodeUUID);\n\t\t}\n\t};\n\n\t// increment linkstrength on association sider clicks\n\thandleAssociatonClick = () => {\n\t\tthis.props.hideComponent('associationSider');\n\t\tif (this.props.siderNodeUUID && this.props.node.uuid) {\n\t\t\tconst siderUUID = this.props.siderNodeUUID;\n\t\t\tconst linkedNodeUUID = this.props.node.uuid;\n\t\t\t// increment the linkStrength on the server\n\t\t\tthis.props.updateLinkStrength(siderUUID, linkedNodeUUID);\n\t\t}\n\t};\n\n\ttoggleHeader = () => {\n\t\tif (this.state.showHeader) {\n\t\t\tthis.setState({ showHeader: false });\n\t\t} else {\n\t\t\tthis.setState({ showHeader: true });\n\t\t}\n\t};\n\n\trenderHeader = () => {\n\t\tif (this.state.showHeader) {\n\t\t\treturn <NodeCardHeader node={this.props.node} />;\n\t\t} else {\n\t\t\treturn;\n\t\t}\n\t};\n\n\trenderNode = () => {\n\t\tswitch (this.props.type) {\n\t\t\tcase 'text':\n\t\t\t\treturn (\n\t\t\t\t\t<Text\n\t\t\t\t\t\telement={this.props.element}\n\t\t\t\t\t\tnode={this.props.node}\n\t\t\t\t\t\thandleClick={this.handleNodeClick}\n\t\t\t\t\t\thandleAssociatonClick={this.handleAssociatonClick}\n\t\t\t\t\t\ttheme={this.props.theme}\n\t\t\t\t\t/>\n\t\t\t\t);\n\t\t\tcase 'image':\n\t\t\t\treturn (\n\t\t\t\t\t<Image\n\t\t\t\t\t\telement={this.props.element}\n\t\t\t\t\t\tnode={this.props.node}\n\t\t\t\t\t\thandleClick={this.handleNodeClick}\n\t\t\t\t\t\thandleAssociatonClick={this.handleAssociatonClick}\n\t\t\t\t\t\tupdateNode={this.props.updateNode}\n\t\t\t\t\t\ttoggleHeader={this.toggleHeader}\n\t\t\t\t\t\trenderHeader={this.renderHeader}\n\t\t\t\t\t\tlaunchExplorer={this.props.openFileInExplorer}\n\t\t\t\t\t\tlaunchFile={this.props.launchFileNode}\n\t\t\t\t\t/>\n\t\t\t\t);\n\t\t\tcase 'url':\n\t\t\t\treturn (\n\t\t\t\t\t<Url\n\t\t\t\t\t\telement={this.props.element}\n\t\t\t\t\t\tnode={this.props.node}\n\t\t\t\t\t\thandleClick={this.handleNodeClick}\n\t\t\t\t\t\thandleAssociatonClick={this.handleAssociatonClick}\n\t\t\t\t\t\ttoggleHeader={this.toggleHeader}\n\t\t\t\t\t\trenderHeader={this.renderHeader}\n\t\t\t\t\t\ttheme={this.props.theme}\n\t\t\t\t\t/>\n\t\t\t\t);\n\t\t\tcase 'file':\n\t\t\t\treturn (\n\t\t\t\t\t<File\n\t\t\t\t\t\telement={this.props.element}\n\t\t\t\t\t\tnode={this.props.node}\n\t\t\t\t\t\tupdateNode={this.props.updateNode}\n\t\t\t\t\t\thandleClick={this.handleNodeClick}\n\t\t\t\t\t\thandleAssociatonClick={this.handleAssociatonClick}\n\t\t\t\t\t\tlaunchFile={this.props.launchFileNode}\n\t\t\t\t\t\tlaunchExplorer={this.props.openFileInExplorer}\n\t\t\t\t\t\ttheme={this.props.theme}\n\t\t\t\t\t/>\n\t\t\t\t);\n\t\t\tcase 'folder':\n\t\t\t\treturn (\n\t\t\t\t\t<Folder\n\t\t\t\t\t\telement={this.props.element}\n\t\t\t\t\t\tnode={this.props.node}\n\t\t\t\t\t\tupdateNode={this.props.updateNode}\n\t\t\t\t\t\thandleClick={this.handleNodeClick}\n\t\t\t\t\t\thandleAssociatonClick={this.handleAssociatonClick}\n\t\t\t\t\t\tlaunchFile={this.props.launchFileNode}\n\t\t\t\t\t\tlaunchExplorer={this.props.openFileInExplorer}\n\t\t\t\t\t\ttheme={this.props.theme}\n\t\t\t\t\t/>\n\t\t\t\t);\n\t\t\tcase 'audio':\n\t\t\t\treturn (\n\t\t\t\t\t<Audio\n\t\t\t\t\t\telement={this.props.element}\n\t\t\t\t\t\tnode={this.props.node}\n\t\t\t\t\t\tupdateNode={this.props.updateNode}\n\t\t\t\t\t\thandleClick={this.handleNodeClick}\n\t\t\t\t\t\thandleAssociatonClick={this.handleAssociatonClick}\n\t\t\t\t\t\tlaunchFile={this.props.launchFileNode}\n\t\t\t\t\t\ttheme={this.props.theme}\n\t\t\t\t\t/>\n\t\t\t\t);\n\t\t\tcase 'package':\n\t\t\t\treturn (\n\t\t\t\t\t<Package\n\t\t\t\t\t\telement={this.props.element}\n\t\t\t\t\t\tnode={this.props.node}\n\t\t\t\t\t\tupdateNode={this.props.updateNode}\n\t\t\t\t\t\thandleClick={this.handleNodeClick}\n\t\t\t\t\t\thandleAssociatonClick={this.handleAssociatonClick}\n\t\t\t\t\t\tlaunchExplorer={this.props.openFileInExplorer}\n\t\t\t\t\t\ttheme={this.props.theme}\n\t\t\t\t\t/>\n\t\t\t\t);\n\t\t\tcase 'zip':\n\t\t\t\treturn (\n\t\t\t\t\t<Zip\n\t\t\t\t\t\telement={this.props.element}\n\t\t\t\t\t\tnode={this.props.node}\n\t\t\t\t\t\tupdateNode={this.props.updateNode}\n\t\t\t\t\t\thandleClick={this.handleNodeClick}\n\t\t\t\t\t\thandleAssociatonClick={this.handleAssociatonClick}\n\t\t\t\t\t\tlaunchExplorer={this.props.openFileInExplorer}\n\t\t\t\t\t\ttheme={this.props.theme}\n\t\t\t\t\t/>\n\t\t\t\t);\n\t\t\tcase 'collection':\n\t\t\t\treturn (\n\t\t\t\t\t<Collection\n\t\t\t\t\t\telement={this.props.element}\n\t\t\t\t\t\tnode={this.props.node}\n\t\t\t\t\t\thandleClick={this.handleNodeClick}\n\t\t\t\t\t\thandleAssociatonClick={this.handleAssociatonClick}\n\t\t\t\t\t\ttoggleHeader={this.toggleHeader}\n\t\t\t\t\t\trenderHeader={this.renderHeader}\n\t\t\t\t\t/>\n\t\t\t\t);\n\t\t\tcase 'user':\n\t\t\t\treturn (\n\t\t\t\t\t<User\n\t\t\t\t\t\telement={this.props.element}\n\t\t\t\t\t\tnode={this.props.node}\n\t\t\t\t\t\thandleClick={this.handleNodeClick}\n\t\t\t\t\t\thandleAssociatonClick={this.handleAssociatonClick}\n\t\t\t\t\t\ttoggleHeader={this.toggleHeader}\n\t\t\t\t\t\trenderHeader={this.renderHeader}\n\t\t\t\t\t/>\n\t\t\t\t);\n\t\t\tdefault:\n\t\t\t\treturn;\n\t\t}\n\t};\n\n\trender() {\n\t\treturn <Fragment>{this.renderNode()}</Fragment>;\n\t}\n}\n\nconst mapStateToProps = (state) => {\n\treturn {\n\t\ttheme: state.components.theme,\n\t};\n};\n\nexport default connect(mapStateToProps, {\n\tupdateLinkStrength,\n\thideComponent,\n\tlaunchFileNode,\n\topenFileInExplorer,\n\tupdateNode,\n})(NodeRenderer);\n","import React from 'react';\n//custom components\nimport NodeRenderer from '../../../types/render/NodeRenderer';\n\nconst NodeCard = (props) => {\n\tconst renderNodeCard = () => {\n\t\tif (props.node) {\n\t\t\treturn (\n\t\t\t\t<NodeRenderer\n\t\t\t\t\ttype={props.node.type}\n\t\t\t\t\telement={'card'}\n\t\t\t\t\tnode={props.node}\n\t\t\t\t\tactiveNode={props.activeNode}\n\t\t\t\t\ttheme={props.theme}\n\t\t\t\t/>\n\t\t\t);\n\t\t}\n\t};\n\n\treturn <div>{renderNodeCard()}</div>;\n};\n\nexport default NodeCard;\n","import React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport {\n\thideComponent,\n\tdeleteAssociationLink,\n\tremoveFromAssociationList,\n\tupdateLinkStrength,\n} from \"../../../api/redux/actions\";\nimport { Button, Tooltip } from \"antd\";\nimport \"./AssociationLinkList.less\";\n// node renderer\nimport NodeRenderer from \"../../../types/render/NodeRenderer\";\n\nclass AssociationLink extends Component {\n\thandleDeleteAssociation = () => {\n\t\t// sider node is the the node the sider was opened from\n\t\tvar siderNodeUUID = this.props.siderNodeUUID;\n\t\t// linked node is the node from the list, to be un-linked, un-associated\n\t\tvar linkedNodeUUID = this.props.association.uuid\n\t\t\t? this.props.association.uuid\n\t\t\t: this.props.association.linkedNodeUUID;\n\t\t// active node is only set when viewing an /association page, the node of the page itself\n\t\tif (this.props.activeNode) {\n\t\t\t// store the active node\n\t\t\tvar activeNodeUUID = this.props.activeNode.uuid;\n\t\t}\n\t\t// if both have values go ahead and delete the association\n\t\tif (siderNodeUUID && linkedNodeUUID) {\n\t\t\tthis.props.deleteAssociationLink(siderNodeUUID, linkedNodeUUID);\n\t\t\t// store pathname\n\t\t\tvar pathname = window.location.pathname;\n\t\t\t// handle removal from association list page if on association page if an associated node was removed\n\t\t\tif (\n\t\t\t\t(pathname.includes(\"associations\") || pathname.includes(\"/edit/text/\")) &&\n\t\t\t\tactiveNodeUUID &&\n\t\t\t\tactiveNodeUUID === siderNodeUUID\n\t\t\t) {\n\t\t\t\tthis.props.removeFromAssociationList(linkedNodeUUID);\n\t\t\t} else if (\n\t\t\t\t(pathname.includes(\"associations\") || pathname.includes(\"/edit/text/\")) &&\n\t\t\t\tactiveNodeUUID &&\n\t\t\t\tactiveNodeUUID === linkedNodeUUID\n\t\t\t) {\n\t\t\t\tthis.props.removeFromAssociationList(siderNodeUUID);\n\t\t\t\tthis.props.hideComponent(\"associationSider\");\n\t\t\t}\n\t\t}\n\t};\n\n\t// render card types\n\trenderAssociationLink = (association) => {\n\t\treturn (\n\t\t\t<li className=\"association-list-item\">\n\t\t\t\t<Tooltip title={association.name} mouseLeaveDelay={0} mouseEnterDelay={0.3}>\n\t\t\t\t\t<Button\n\t\t\t\t\t\ticon=\"close\"\n\t\t\t\t\t\tshape=\"circle\"\n\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\tonClick={(e) => this.handleDeleteAssociation()}\n\t\t\t\t\t/>\n\t\t\t\t\t<NodeRenderer\n\t\t\t\t\t\ttype={association.type}\n\t\t\t\t\t\telement={\"association-link\"}\n\t\t\t\t\t\tnode={association}\n\t\t\t\t\t\tsiderNodeUUID={this.props.siderNodeUUID}\n\t\t\t\t\t></NodeRenderer>\n\t\t\t\t</Tooltip>\n\t\t\t</li>\n\t\t);\n\t};\n\n\trender() {\n\t\treturn <div>{this.renderAssociationLink(this.props.association)}</div>;\n\t}\n}\n\nconst mapStateToProps = (state) => {\n\treturn {\n\t\tsiderNodeUUID: state.components.componentList[\"associationSider\"].content.uuid,\n\t\tactiveNode: state.nodes.activeNode,\n\t};\n};\n\nexport default connect(mapStateToProps, {\n\thideComponent,\n\tdeleteAssociationLink,\n\tremoveFromAssociationList,\n\tupdateLinkStrength,\n})(AssociationLink);\n","import React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\n// custom code\nimport \"../node/NodeList.less\";\nimport { fetchAssociationLinkList } from \"../../../api/redux/actions\";\n// import NodeCard from './NodeCard';\nimport Spinner from \"../Spinner\";\nimport AssociationLink from \"./AssociationLink\";\n\nclass AssociationLinkList extends Component {\n\tcomponentDidMount() {\n\t\tthis.props.fetchAssociationLinkList({ nodeUUID: this.props.nodeUUID });\n\t}\n\n\tloadMore = () => {\n\t\tthis.props.fetchAssociationLinkList({\n\t\t\tnodeUUID: this.props.nodeUUID,\n\t\t\tpage: parseInt(this.props.page) + 1,\n\t\t});\n\t};\n\n\trenderAssociationLinkList = () => {\n\t\t// go through the list of nodes and render them to the page\n\t\tconst list = this.props.associations;\n\t\tif (this.props.isFetching) {\n\t\t\treturn <Spinner alignment=\"top\"></Spinner>;\n\t\t}\n\t\t// if list exists render the links\n\t\tif (list !== null) {\n\t\t\treturn list.map((association) => {\n\t\t\t\treturn <AssociationLink key={association.uuid} association={association} />;\n\t\t\t});\n\t\t} else {\n\t\t\treturn <Spinner></Spinner>;\n\t\t}\n\t};\n\n\trenderLoadMoreButton = () => {\n\t\tvar listLength = this.props.associations.length;\n\t\t// if the total items is more than what is loaded show the load more button\n\t\tif (this.props.totalItems > listLength) {\n\t\t\treturn (\n\t\t\t\t<li style={{ listStyle: \"none\", marginTop: \"0.5rem\", textAlign: \"center\" }}>\n\t\t\t\t\t<button\n\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\tmargin: \"1rem 0\",\n\t\t\t\t\t\t\twidth: \"90%\",\n\t\t\t\t\t\t\tbackgroundColor: \"#272727\",\n\t\t\t\t\t\t\tcolor: \"#16e998\",\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tonClick={this.loadMore}\n\t\t\t\t\t>\n\t\t\t\t\t\tload more\n\t\t\t\t\t</button>\n\t\t\t\t</li>\n\t\t\t);\n\t\t}\n\t};\n\n\trender() {\n\t\treturn (\n\t\t\t<ul id=\"node-info-list\" className=\"association-list\">\n\t\t\t\t{this.renderAssociationLinkList()}\n\t\t\t\t{this.renderLoadMoreButton()}\n\t\t\t</ul>\n\t\t);\n\t}\n}\n\nconst mapStateToProps = (state) => {\n\treturn {\n\t\tassociations: state.associations.associationLinkList,\n\t\tpage: state.associations.associationLinkListPage,\n\t\ttotalItems: state.associations.totalLinkListItems,\n\t\tisFetching: state.associations.isFetching,\n\t\tactiveNode: state.nodes.activeNode,\n\t};\n};\n\nexport default connect(mapStateToProps, {\n\tfetchAssociationLinkList,\n})(AssociationLinkList);\n","import React, { Component } from 'react';\n// import { Link } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport { Drawer, AutoComplete, Tooltip } from 'antd';\nimport {\n\tsignOut,\n\thideComponent,\n\tcreateAssociation,\n\tassociationAutocomplete,\n} from '../../../api/redux/actions';\n// custom code\nimport AssociationLinkList from './AssociationLinkList';\n// destructure antd\nconst { Option } = AutoComplete;\n\nclass AssociationSider extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\tautocompleteOptions: null,\n\t\t\tautocompleteValues: null,\n\t\t\tinputText: '',\n\t\t};\n\t}\n\n\tcreateAssociationHandler = async (input) => {\n\t\t// get the uuid of the node to be associated\n\t\tconst nodeToAssociate = [];\n\t\tvar siderNode = this.props.associationSiderData.content;\n\t\tthis.state.autocompleteValues.forEach((node) => {\n\t\t\tif (node.uuid === input) {\n\t\t\t\tnodeToAssociate.push(node.uuid);\n\t\t\t}\n\t\t});\n\t\tconst nodeUUIDToAssociate = nodeToAssociate[0];\n\t\t// get this node uuid\n\t\tconst nodeUUID = siderNode.uuid;\n\t\t// associate the nodes\n\t\tawait this.props.createAssociation(nodeUUID, nodeUUIDToAssociate);\n\t\tthis.setState({ autocompleteOptions: [], autocompleteValues: null, inputText: '' });\n\t\t// re-render the autocomplete values so more can be added\n\t\tthis.renderAutocompleteValues('');\n\t};\n\n\trenderAutocompleteValues = async (input) => {\n\t\tvar siderNode = this.props.associationSiderData.content;\n\t\tthis.setState({ inputText: input });\n\t\tconst result = await this.props.associationAutocomplete({\n\t\t\tsearchQuery: input || '',\n\t\t\tuuid: siderNode.uuid,\n\t\t});\n\t\tif (result) {\n\t\t\tthis.setState({\n\t\t\t\tautocompleteValues: result.map((node) => {\n\t\t\t\t\treturn node;\n\t\t\t\t}),\n\t\t\t});\n\n\t\t\tconst newValues = result.map((node) => {\n\t\t\t\t// return the options objects\n\t\t\t\treturn (\n\t\t\t\t\t<Option key={node.uuid}>\n\t\t\t\t\t\t<Tooltip title={node.name} mouseEnterDelay={0.7} placement={'left'}>\n\t\t\t\t\t\t\t{node.name}\n\t\t\t\t\t\t</Tooltip>\n\t\t\t\t\t</Option>\n\t\t\t\t);\n\t\t\t});\n\t\t\tthis.setState({ autocompleteOptions: newValues });\n\t\t}\n\t};\n\n\thideInfoSider = () => {\n\t\t// reset state when the sider is hidden\n\t\tthis.setState({ autocompleteOptions: null, autocompleteValues: null, inputText: '' });\n\t\t// hide association sider component\n\t\tthis.props.hideComponent('associationSider');\n\t};\n\n\trenderContent = () => {\n\t\tif (this.props.associationSiderData) {\n\t\t\tvar siderNode = this.props.associationSiderData.content;\n\t\t\treturn (\n\t\t\t\t<div className='node-info-sider-container' style={{ textAlign: 'center' }}>\n\t\t\t\t\t<Drawer\n\t\t\t\t\t\tclassName='node-info-sider'\n\t\t\t\t\t\tplacement='right'\n\t\t\t\t\t\tclosable={false}\n\t\t\t\t\t\ttitle={siderNode.name}\n\t\t\t\t\t\tonClose={() => {\n\t\t\t\t\t\t\tthis.hideInfoSider();\n\t\t\t\t\t\t\t// temporary fix to remove overflow property being set on body by antd\n\t\t\t\t\t\t\tdocument.documentElement.style.cssText = '';\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tvisible={this.props.associationSiderData.visible}\n\t\t\t\t\t>\n\t\t\t\t\t\t{/*  <Link className='node-info-sider-header' to={`/associations/${siderNode.uuid}`}>\n              {siderNode.name}\n            </Link>\n            <p style={{ color: 'white' }}>{siderNode.preview}</p> */}\n\t\t\t\t\t\t<AutoComplete\n\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\twidth: 200,\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\tplaceholder='associate'\n\t\t\t\t\t\t\tvalue={this.state.inputText}\n\t\t\t\t\t\t\tonSearch={(value) => this.renderAutocompleteValues(value)}\n\t\t\t\t\t\t\tonFocus={(value) => this.renderAutocompleteValues(value)}\n\t\t\t\t\t\t\tonSelect={(value) => this.createAssociationHandler(value)}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{this.state.autocompleteOptions}\n\t\t\t\t\t\t</AutoComplete>\n\t\t\t\t\t\t<br />\n\t\t\t\t\t\t<AssociationLinkList nodeUUID={siderNode.uuid} />\n\t\t\t\t\t</Drawer>\n\t\t\t\t</div>\n\t\t\t);\n\t\t}\n\t};\n\n\trender() {\n\t\treturn <div>{this.renderContent()}</div>;\n\t}\n}\n\nconst mapStateToProps = (state) => {\n\treturn {\n\t\tassociationSiderData: state.components.componentList['associationSider'],\n\t\tpage: state.associations.associationLinkListPage,\n\t};\n};\n\nexport default connect(mapStateToProps, {\n\tsignOut,\n\thideComponent,\n\tcreateAssociation,\n\tassociationAutocomplete,\n})(AssociationSider);\n","import React, { Component, Fragment } from \"react\";\nimport { connect } from \"react-redux\";\n// custom code\nimport \"./NodeList.less\";\nimport { fetchNodes } from \"../../../api/redux/actions\";\nimport NodeCard from \"./NodeCard\";\nimport AssociationSider from \"../association/AssociationSider\";\n// import NodeCardFull from '../node/NodeCardFull';\n\nclass NodeList extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\ttopOfPage: false,\n\t\t};\n\t}\n\n\tcomponentDidMount() {\n\t\tthis.props.fetchNodes({\n\t\t\t// page: this.props.query.page > 1 ? this.props.query.page - 1 : this.props.query.page,\n\t\t\tpage: 1,\n\t\t\ttype: this.props.query.type,\n\t\t\tsearchQuery: this.props.query.searchQuery,\n\t\t\tsortType: this.props.query.sortType,\n\t\t\tsortOrder: this.props.query.sortOrder,\n\t\t});\n\t\twindow.addEventListener(\"scroll\", this.infiniteScroll);\n\t}\n\n\tcomponentWillUnmount() {\n\t\twindow.removeEventListener(\"scroll\", this.infiniteScroll);\n\t}\n\n\tinfiniteScroll = (e) => {\n\t\tif (this.endReached() && !this.props.isFetching) {\n\t\t\tthis.setState({ topOfPage: false });\n\t\t\t// fetch the next page\n\t\t\tthis.props.fetchNodes({\n\t\t\t\tpage: this.props.query.page + 1,\n\t\t\t\ttype: this.props.query.type,\n\t\t\t\tsearchQuery: this.props.query.searchQuery,\n\t\t\t\tsortType: this.props.query.sortType,\n\t\t\t\tsortOrder: this.props.query.sortOrder,\n\t\t\t});\n\t\t}\n\t};\n\n\tendReached = () => {\n\t\t// window calculations to tell when the user scrolls to the bottom\n\t\tconst windowHeight =\n\t\t\t\"innerHeight\" in window ? window.innerHeight : document.documentElement.offsetHeight;\n\t\tconst body = document.body;\n\t\tconst html = document.documentElement;\n\t\tconst docHeight = Math.max(\n\t\t\tbody.scrollHeight,\n\t\t\tbody.offsetHeight,\n\t\t\thtml.clientHeight,\n\t\t\thtml.scrollHeight,\n\t\t\thtml.offsetHeight\n\t\t);\n\t\tconst windowBottom = windowHeight + window.pageYOffset;\n\t\t// check if the top is reached\n\t\tif (window.pageYOffset < 1 && !this.props.isFetching && !this.state.topOfPage) {\n\t\t\tthis.setState({ topOfPage: true });\n\t\t\t// at the top of the page, reset the nodelist\n\t\t\tthis.props.fetchNodes({\n\t\t\t\tpage: 1,\n\t\t\t\ttype: this.props.query.type,\n\t\t\t\tsearchQuery: this.props.query.searchQuery,\n\t\t\t\tsortType: this.props.query.sortType,\n\t\t\t\tsortOrder: this.props.query.sortOrder,\n\t\t\t});\n\t\t}\n\t\t// if it's not the top of the page go ahead and fetch more\n\t\t// return windowBottom >= docHeight - 733;\n\t\treturn windowBottom >= docHeight - 1000;\n\t};\n\n\trenderNodeList = () => {\n\t\t// go through the list of nodes and render them to the page\n\t\tconst nodeList = this.props.nodes;\n\t\t// if there are nodes go ahead and render\n\t\tif (nodeList !== null && nodeList.length > 0) {\n\t\t\treturn nodeList.map((node) => {\n\t\t\t\tif (node.uuid) {\n\t\t\t\t\t// return <NodeCardFull key={node.uuid} node={node} />\n\t\t\t\t\treturn <NodeCard key={node.uuid} node={node} />;\n\t\t\t\t} else {\n\t\t\t\t\treturn <Fragment></Fragment>;\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t\t// adding a bit of a fallback search. more to come on this probably\n\t\telse if (this.props.query.searchQuery && !this.props.isFetching) {\n\t\t\tlet fallbackOption = JSON.parse(localStorage.getItem(\"fallback-search\"));\n\t\t\tif (fallbackOption !== \"none\") {\n\t\t\t\treturn (\n\t\t\t\t\t<div\n\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t// height: '100vh',\n\t\t\t\t\t\t\tmarginTop: \"1rem\",\n\t\t\t\t\t\t\tdisplay: \"flex\",\n\t\t\t\t\t\t\tjustifyContent: \"center\",\n\t\t\t\t\t\t\talignItems: \"top\",\n\t\t\t\t\t\t\tcolor: \"white\",\n\t\t\t\t\t\t}}\n\t\t\t\t\t>\n\t\t\t\t\t\t<a\n\t\t\t\t\t\t\ttarget=\"_blank\"\n\t\t\t\t\t\t\trel=\"noopener noreferrer\"\n\t\t\t\t\t\t\thref={`https://www.google.com/search?q=${encodeURIComponent(\n\t\t\t\t\t\t\t\tthis.props.query.searchQuery\n\t\t\t\t\t\t\t)}`}\n\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\tbackgroundColor: \"#272727\",\n\t\t\t\t\t\t\t\tcolor: \"white\",\n\t\t\t\t\t\t\t\tborderRadius: \"3px\",\n\t\t\t\t\t\t\t\tpadding: \"0.5rem 1rem\",\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\tno matches ~ search online instead?\n\t\t\t\t\t\t</a>\n\t\t\t\t\t</div>\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\t};\n\n\trender() {\n\t\treturn (\n\t\t\t<div className=\"nodelist-container\">\n\t\t\t\t<ul className=\"nodelist\">{this.renderNodeList()}</ul>\n\t\t\t\t<AssociationSider />\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nconst mapStateToProps = (state) => {\n\treturn {\n\t\tnodes: state.nodes.nodeList,\n\t\tquery: state.nodes.query,\n\t\ttotalNodes: state.nodes.totalItems,\n\t\tisFetching: state.nodes.isFetching,\n\t};\n};\n\nexport default connect(mapStateToProps, { fetchNodes })(NodeList);\n","import React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport { Layout } from \"antd\";\n// custom code\nimport MainSider from \"../elements/MainSider\";\nimport IOBar from \"../elements/IOBar\";\nimport NodeList from \"../elements/node/NodeList\";\n\nconst { Content } = Layout;\n\nclass Home extends Component {\n\tcomponentDidMount() {\n\t\tdocument.title = \"home\";\n\t\t// temporary fix to undo whatever is setting overflow hidden on-login\n\t\tdocument.body.style.removeProperty(\"overflow\");\n\t\twindow.scrollTo({ top: 0, behavior: \"smooth\" });\n\t\t// clear stored quill editor scrollposition if there is one\n\t\tlocalStorage.removeItem(\"quillScrollY\");\n\t}\n\n\trenderMainSider = () => {\n\t\tif (this.props.mainSider) {\n\t\t\treturn <MainSider />;\n\t\t}\n\t};\n\n\trender() {\n\t\treturn (\n\t\t\t<Layout className=\"page-layout\">\n\t\t\t\t<Layout>\n\t\t\t\t\t{this.renderMainSider()}\n\t\t\t\t\t<Content style={{ minHeight: \"100vh\" }}>\n\t\t\t\t\t\t<IOBar />\n\t\t\t\t\t\t<div className=\"list-container\">\n\t\t\t\t\t\t\t<NodeList />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</Content>\n\t\t\t\t</Layout>\n\t\t\t</Layout>\n\t\t);\n\t}\n}\n\nconst mapStateToProps = (state) => {\n\treturn {\n\t\tisSignedIn: state.auth.isSignedIn,\n\t\tmainSider: state.components.componentList[\"mainSider\"],\n\t};\n};\n\nexport default connect(mapStateToProps)(Home);\n","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { Layout, message, Modal } from 'antd';\n// custom code\nimport Spinner from '../elements/Spinner';\nimport {\n\tfetchUserByUsername,\n\tshowComponent,\n\thideComponent,\n\tmarkNodeView,\n} from '../../api/redux/actions';\nimport './css/Profile.less';\nimport NodeList from '../elements/node/NodeList';\nimport MainSider from '../elements/MainSider';\nimport IOBar from '../elements/IOBar';\n// import default images\nimport defaultHeader from '../../resources/cloud9.png';\nimport defaultAvatar from '../../resources/synthona-logo.png';\n\nconst { Content } = Layout;\n\nclass Profile extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\tinitialized: false,\n\t\t\tusername: '',\n\t\t\tdisplayName: '',\n\t\t\tbio: '',\n\t\t\tavatar: null,\n\t\t\theader: null,\n\t\t\tavatarModal: false,\n\t\t};\n\t}\n\n\tcomponentDidMount() {\n\t\tdocument.title = this.props.match.params.username;\n\t\tthis.initializeFromUrlParams();\n\t}\n\n\tcomponentDidUpdate() {\n\t\tdocument.body.style.removeProperty('overflow');\n\t\tif (this.state.username !== this.props.match.params.username) {\n\t\t\tdocument.title = this.props.match.params.username;\n\t\t\tthis.initializeFromUrlParams();\n\t\t}\n\t}\n\n\tcomponentWillUnmount() {\n\t\tthis.props.hideComponent('mainSider');\n\t}\n\n\ttoggleAvatarModal = () => {\n\t\tif (this.state.avatarModal === false) {\n\t\t\tthis.setState({ avatarModal: true });\n\t\t} else {\n\t\t\tthis.setState({ avatarModal: false });\n\t\t}\n\t};\n\n\trenderMainSider = () => {\n\t\tif (this.props.mainSider) {\n\t\t\treturn <MainSider />;\n\t\t}\n\t};\n\n\t// load the text node and set the local id state.\n\tinitializeFromUrlParams = async () => {\n\t\t// fetch the user info from the server\n\t\tconst user = await this.props.fetchUserByUsername(this.props.match.params.username);\n\t\tif (user) {\n\t\t\tthis.setState({\n\t\t\t\tinitialized: true,\n\t\t\t\tusername: user.username,\n\t\t\t\tdisplayName: user.displayName,\n\t\t\t\tbio: user.bio,\n\t\t\t\tavatar: user.avatar,\n\t\t\t\theader: user.header,\n\t\t\t});\n\t\t\t// mark the profile as viewed\n\t\t\tthis.props.markNodeView({ uuid: user.nodeId });\n\t\t\t// set the page title\n\t\t\tdocument.title = user.displayName;\n\t\t} else {\n\t\t\tmessage.error('there was a problem loading the user');\n\t\t\tthis.props.history.push('/');\n\t\t}\n\t};\n\n\trender() {\n\t\tif (!this.state.initialized) {\n\t\t\treturn (\n\t\t\t\t<Layout className='page-layout'>\n\t\t\t\t\t<Layout>\n\t\t\t\t\t\t<Layout>\n\t\t\t\t\t\t\t<Spinner />\n\t\t\t\t\t\t</Layout>\n\t\t\t\t\t</Layout>\n\t\t\t\t</Layout>\n\t\t\t);\n\t\t}\n\n\t\treturn (\n\t\t\t<div className='profile-container'>\n\t\t\t\t{/*  <MainSider showMask={false} animate={false} />*/}\n\t\t\t\t{this.renderMainSider()}\n\t\t\t\t<Layout>\n\t\t\t\t\t<Content style={{ marginBottom: '0' }} className='Profile'>\n\t\t\t\t\t\t<IOBar />\n\t\t\t\t\t\t<div className='profile-card'>\n\t\t\t\t\t\t\t<button href={`/profile/${this.state.username}`}>\n\t\t\t\t\t\t\t\t<div className='Profile-header'>\n\t\t\t\t\t\t\t\t\t<img src={this.state.header || defaultHeader} alt='example' draggable='false' />\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t{/* <button href={`/profile/${this.state.username}`}> */}\n\t\t\t\t\t\t\t<div className='Profile-avatar'>\n\t\t\t\t\t\t\t\t<img\n\t\t\t\t\t\t\t\t\tsrc={this.state.avatar || defaultAvatar}\n\t\t\t\t\t\t\t\t\talt={'profile'}\n\t\t\t\t\t\t\t\t\tdraggable='false'\n\t\t\t\t\t\t\t\t\tonClick={this.toggleAvatarModal}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t{/* </button> */}\n\t\t\t\t\t\t\t<div className='Profile-info'>\n\t\t\t\t\t\t\t\t<h2 className='Profile-displayName'>\n\t\t\t\t\t\t\t\t\t{this.state.displayName}\n\t\t\t\t\t\t\t\t\t<div className='verified-sign-container'>\n\t\t\t\t\t\t\t\t\t\t<svg\n\t\t\t\t\t\t\t\t\t\t\tviewBox='0 0 24 24'\n\t\t\t\t\t\t\t\t\t\t\taria-label='Verified account'\n\t\t\t\t\t\t\t\t\t\t\tclassName='verified-sign'\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t<g>\n\t\t\t\t\t\t\t\t\t\t\t\t<path d='M22.5 12.5c0-1.58-.875-2.95-2.148-3.6.154-.435.238-.905.238-1.4 0-2.21-1.71-3.998-3.818-3.998-.47 0-.92.084-1.336.25C14.818 2.415 13.51 1.5 12 1.5s-2.816.917-3.437 2.25c-.415-.165-.866-.25-1.336-.25-2.11 0-3.818 1.79-3.818 4 0 .494.083.964.237 1.4-1.272.65-2.147 2.018-2.147 3.6 0 1.495.782 2.798 1.942 3.486-.02.17-.032.34-.032.514 0 2.21 1.708 4 3.818 4 .47 0 .92-.086 1.335-.25.62 1.334 1.926 2.25 3.437 2.25 1.512 0 2.818-.916 3.437-2.25.415.163.865.248 1.336.248 2.11 0 3.818-1.79 3.818-4 0-.174-.012-.344-.033-.513 1.158-.687 1.943-1.99 1.943-3.484zm-6.616-3.334l-4.334 6.5c-.145.217-.382.334-.625.334-.143 0-.288-.04-.416-.126l-.115-.094-2.415-2.415c-.293-.293-.293-.768 0-1.06s.768-.294 1.06 0l1.77 1.767 3.825-5.74c.23-.345.696-.436 1.04-.207.346.23.44.696.21 1.04z'></path>\n\t\t\t\t\t\t\t\t\t\t\t</g>\n\t\t\t\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</h2>\n\t\t\t\t\t\t\t\t<i className='Profile-username'>{`@${this.state.username}`}</i>\n\t\t\t\t\t\t\t\t<p className='Profile-bio'>{this.state.bio}</p>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<Modal\n\t\t\t\t\t\t\ttitle={this.state.displayName}\n\t\t\t\t\t\t\tvisible={this.state.avatarModal}\n\t\t\t\t\t\t\tclassName='profile-modal'\n\t\t\t\t\t\t\tcentered\n\t\t\t\t\t\t\tonCancel={this.toggleAvatarModal}\n\t\t\t\t\t\t\tclosable={false}\n\t\t\t\t\t\t\tfooter={null}\n\t\t\t\t\t\t\tafterClose={() => {\n\t\t\t\t\t\t\t\t// temporary fix to remove overflow property being set on body by antd\n\t\t\t\t\t\t\t\tdocument.body.style.removeProperty('overflow');\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<img src={this.state.avatar || defaultAvatar} alt={'avatar'}></img>\n\t\t\t\t\t\t</Modal>\n\t\t\t\t\t\t<NodeList />\n\t\t\t\t\t</Content>\n\t\t\t\t</Layout>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nconst mapStateToProps = (state) => {\n\treturn { user: state.auth.user, mainSider: state.components.componentList['mainSider'] };\n};\n\nexport default connect(mapStateToProps, {\n\tfetchUserByUsername,\n\tshowComponent,\n\thideComponent,\n\tmarkNodeView,\n})(Profile);\n","import React from \"react\";\nimport { Switch } from \"antd\";\n//custom components\n// import NodeRenderer from '../../../types/render/NodeRenderer';\n\nconst OptionListItem = (props) => {\n\t// render the input type for each value\n\tconst renderInputType = () => {\n\t\tswitch (props.type) {\n\t\t\tcase \"string\":\n\t\t\t\treturn (\n\t\t\t\t\t<input\n\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\tdefaultValue={props.value}\n\t\t\t\t\t\tstyle={{ float: \"right\", margin: 0, padding: 0 }}\n\t\t\t\t\t\tonBlur={(e) => {\n\t\t\t\t\t\t\tprops.onChange(props.keyName, e.target.value);\n\t\t\t\t\t\t}}\n\t\t\t\t\t></input>\n\t\t\t\t);\n\t\t\tcase \"boolean\":\n\t\t\t\treturn (\n\t\t\t\t\t// <div style={{ float: 'right', margin: 0, padding: 0 }}>{props.value.toString()}</div>\n\t\t\t\t\t<Switch\n\t\t\t\t\t\tchecked={props.value}\n\t\t\t\t\t\tcheckedChildren=\"\"\n\t\t\t\t\t\tunCheckedChildren=\"\"\n\t\t\t\t\t\tstyle={{ float: \"right\", margin: 0, padding: 0 }}\n\t\t\t\t\t\tonBlur={(e) => {\n\t\t\t\t\t\t\tprops.onChange(props.keyName, !props.value);\n\t\t\t\t\t\t}}\n\t\t\t\t\t/>\n\t\t\t\t);\n\t\t\tcase \"number\":\n\t\t\t\treturn (\n\t\t\t\t\t<input\n\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\tdefaultValue={props.value.toString()}\n\t\t\t\t\t\tstyle={{ float: \"right\", margin: 0, padding: 0 }}\n\t\t\t\t\t\tonBlur={(e) => {\n\t\t\t\t\t\t\tprops.onChange(props.keyName, parseInt(e.target.value));\n\t\t\t\t\t\t}}\n\t\t\t\t\t></input>\n\t\t\t\t);\n\t\t\tcase \"dropdown\":\n\t\t\t\t// build options list for select dropdown\n\t\t\t\tlet options = props.optionObject.options.map((item) => {\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<option value={item} key={item}>\n\t\t\t\t\t\t\t{item}\n\t\t\t\t\t\t</option>\n\t\t\t\t\t);\n\t\t\t\t});\n\t\t\t\t// return the select dropdown\n\t\t\t\treturn (\n\t\t\t\t\t<select\n\t\t\t\t\t\tname={props.keyName}\n\t\t\t\t\t\tid={props.keyName}\n\t\t\t\t\t\tdefaultValue={props.value}\n\t\t\t\t\t\tstyle={{ float: \"right\", margin: 0, padding: 0 }}\n\t\t\t\t\t\tonChange={(e) => {\n\t\t\t\t\t\t\tprops.onChange(props.keyName, e.target.value);\n\t\t\t\t\t\t}}\n\t\t\t\t\t>\n\t\t\t\t\t\t{options}\n\t\t\t\t\t</select>\n\t\t\t\t);\n\t\t\tdefault:\n\t\t\t\treturn;\n\t\t}\n\t};\n\n\t// render the option item\n\tconst renderOptionItem = () => {\n\t\treturn (\n\t\t\t<li\n\t\t\t\tstyle={{\n\t\t\t\t\tcolor: \"black\",\n\t\t\t\t\twidth: \"100%\",\n\t\t\t\t\tbackgroundColor: \"white\",\n\t\t\t\t\tpadding: \"0.7rem 1.7rem\",\n\t\t\t\t\tmargin: 0,\n\t\t\t\t\tborderBottom: \"1px solid grey\",\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t<div style={{ float: \"left\", margin: 0, padding: 0 }}>{props.name}</div>\n\t\t\t\t{renderInputType()}\n\t\t\t</li>\n\t\t);\n\t};\n\n\treturn <div>{renderOptionItem()}</div>;\n};\n\nexport default OptionListItem;\n","import React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\n// custom code\nimport { fetchNodes, loadTheme } from \"../../../api/redux/actions\";\nimport OptionListItem from \"./OptionListItem\";\nimport { isElectron } from \"../../../utils/environment\";\nimport { Modal } from \"antd\";\nimport { backendConfigMap, backendConfigFilter, loadClientConfig } from \"../../../utils/config.js\";\n\nclass OptionsList extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\ttopOfPage: false,\n\t\t\tbackendConfig: null,\n\t\t\tclientConfig: null,\n\t\t\tshowRestartModal: false,\n\t\t};\n\t}\n\n\t// if this is the host device (is-electron) we'll get the backend config & client config\n\t// otherwise we'll only load the client config. if there's no client config in localstorage\n\t// we need to generate it with default values to make it available\n\tloadOptions = () => {\n\t\tlet clientConfigValues = loadClientConfig();\n\t\tthis.setState({ clientConfig: clientConfigValues });\n\t\tif (isElectron) {\n\t\t\t// load backend config\n\t\t\tthis.setState({\n\t\t\t\tbackendConfig: isElectron ? JSON.parse(localStorage.getItem(\"backend-config\")) : null,\n\t\t\t});\n\t\t}\n\t};\n\n\tcomponentDidMount() {\n\t\t// reload backend config\n\t\tif (window.api) {\n\t\t\twindow.api.send(\"toMain\", { action: \"get-backend-config\" });\n\t\t}\n\t\t// load everything else\n\t\tthis.loadOptions();\n\t}\n\n\t// a function to update the config values to be passed into each\n\tupdateClientConfigValue = (keyName, newValue) => {\n\t\tlet existingClientConfig = this.state.clientConfig;\n\t\t// loop through existing config to update it\n\t\tlet newConfig = existingClientConfig.map((item) => {\n\t\t\t// when we find our value lets update it in localstorage and in our live rendered UI config object\n\t\t\tif (keyName === item.storageKey) {\n\t\t\t\t// update the value in this particular config object\n\t\t\t\titem.value = newValue;\n\t\t\t\t// copy it to localstorage as well\n\t\t\t\tlocalStorage.setItem(keyName, JSON.stringify(newValue));\n\t\t\t\tif (keyName === \"theme\") {\n\t\t\t\t\t// if we set the theme we should reload it in our redux state\n\t\t\t\t\tthis.props.loadTheme();\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn item;\n\t\t});\n\t\tthis.setState({ clientConfig: newConfig });\n\t};\n\n\t// a function to update the config values to be passed into each\n\tupdateBackendConfigValue = (keyName, newValue) => {\n\t\tlet existingBackendConfig = this.state.backendConfig;\n\t\tlet newConfig = {\n\t\t\t...existingBackendConfig,\n\t\t\t[keyName]: newValue,\n\t\t};\n\t\tthis.setState({ backendConfig: newConfig, showRestartModal: true });\n\t\t// update the values in local storage\n\t\twindow.localStorage.setItem(\"backend-config\", JSON.stringify(newConfig));\n\t\t// we also need to send the updated version to the backend app\n\t\tif (window.api) {\n\t\t\twindow.api.send(\"toMain\", {\n\t\t\t\taction: \"update-backend-config\",\n\t\t\t\tupdates: newConfig,\n\t\t\t});\n\t\t}\n\t};\n\n\trestartHandler = () => {\n\t\tif (window.api) {\n\t\t\twindow.api.send(\"toMain\", {\n\t\t\t\taction: \"restart-app\",\n\t\t\t});\n\t\t}\n\t};\n\n\trenderOptionsList = () => {\n\t\tif (this.state.clientConfig) {\n\t\t\t// prepare the options lists\n\t\t\tlet configList = [];\n\t\t\tlet backendConfig = this.state.backendConfig;\n\t\t\tlet clientConfig = this.state.clientConfig;\n\t\t\t// let's go ahead and load all this up\n\t\t\tif (!!backendConfig) {\n\t\t\t\t// load backend config values\n\t\t\t\tfor (var backendKey in backendConfig) {\n\t\t\t\t\tif (!backendConfigFilter.includes(backendKey)) {\n\t\t\t\t\t\tconfigList.push(\n\t\t\t\t\t\t\t<OptionListItem\n\t\t\t\t\t\t\t\tkey={backendConfigMap[backendKey].name}\n\t\t\t\t\t\t\t\tkeyName={backendKey}\n\t\t\t\t\t\t\t\ttype={backendConfigMap[backendKey].type}\n\t\t\t\t\t\t\t\tname={backendConfigMap[backendKey].name}\n\t\t\t\t\t\t\t\toptionObject={backendConfigMap[backendKey]}\n\t\t\t\t\t\t\t\tvalue={backendConfig[backendKey]}\n\t\t\t\t\t\t\t\tonChange={this.updateBackendConfigValue}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\t// add client config values\n\t\t\tfor (var clientKey in clientConfig) {\n\t\t\t\tif (clientKey !== \"CONFIG_VERSION\") {\n\t\t\t\t\tconfigList.push(\n\t\t\t\t\t\t<OptionListItem\n\t\t\t\t\t\t\tkey={clientConfig[clientKey].name}\n\t\t\t\t\t\t\tkeyName={clientConfig[clientKey].storageKey}\n\t\t\t\t\t\t\tname={clientConfig[clientKey].name}\n\t\t\t\t\t\t\tvalue={clientConfig[clientKey].value}\n\t\t\t\t\t\t\ttype={clientConfig[clientKey].type}\n\t\t\t\t\t\t\toptionObject={clientConfig[clientKey]}\n\t\t\t\t\t\t\tonChange={this.updateClientConfigValue}\n\t\t\t\t\t\t/>\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn configList;\n\t\t}\n\t};\n\n\trender() {\n\t\treturn (\n\t\t\t<div className=\"options-list-container\">\n\t\t\t\t<ul className=\"options-list\" style={{ padding: 0, margin: 0 }}>\n\t\t\t\t\t{this.renderOptionsList()}\n\t\t\t\t</ul>\n\t\t\t\t<Modal\n\t\t\t\t\ttitle=\"Restart Required\"\n\t\t\t\t\tvisible={this.state.showRestartModal}\n\t\t\t\t\tclassName=\"delete-modal\"\n\t\t\t\t\tcentered\n\t\t\t\t\tonOk={this.restartHandler}\n\t\t\t\t\tafterClose={() => document.body.style.removeProperty(\"overflow\")}\n\t\t\t\t\tokType=\"danger\"\n\t\t\t\t\tokText=\"Restart\"\n\t\t\t\t\tcancelText=\"Wait\"\n\t\t\t\t\tclosable={false}\n\t\t\t\t\tonCancel={() => this.setState({ showRestartModal: false })}\n\t\t\t\t>\n\t\t\t\t\t<p>\n\t\t\t\t\t\tThis configuration change requires an app restart to take effect, do you want to restart\n\t\t\t\t\t\tnow or wait?\n\t\t\t\t\t</p>\n\t\t\t\t</Modal>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nconst mapStateToProps = (state) => {\n\treturn {\n\t\tquery: state.nodes.query,\n\t\ttotalNodes: state.nodes.totalItems,\n\t\tisFetching: state.nodes.isFetching,\n\t};\n};\n\nexport default connect(mapStateToProps, { fetchNodes, loadTheme })(OptionsList);\n","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { Layout, message, Icon, Button, Modal } from 'antd';\nimport { Formik, Form, Field, ErrorMessage } from 'formik';\nimport * as Yup from 'yup';\n// custom code\nimport {\n\tfetchUserByUsername,\n\tupdateUserInfo,\n\tupdateUserAvatar,\n\tupdateUserHeader,\n\tupdateUsername,\n\tupdateEmail,\n\tchangePassword,\n\tclearAllNodes,\n\tshowComponent,\n\tgenerateInstanceExport,\n\tregenerateCollectionPreviews,\n\thideComponent,\n} from '../../api/redux/actions';\nimport './css/Options.less';\n// import IOBar from '../elements/IOBar';\n// import NodeList from '../elements/node/NodeList';\nimport OptionsList from '../elements/options/OptionsList';\nimport MainSider from '../elements/MainSider';\nimport IOBar from '../elements/IOBar';\n// import default images\nimport defaultHeader from '../../resources/cloud9.png';\nimport defaultAvatar from '../../resources/synthona-logo.png';\n\nconst { Content } = Layout;\n\nclass Options extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\tshowPasswordModal: false,\n\t\t\tshowDeleteNodesModal: false,\n\t\t\tshowExportModal: false,\n\t\t\tinitialized: false,\n\t\t\tusername: '',\n\t\t\temail: '',\n\t\t\tdisplayName: '',\n\t\t\tbio: '',\n\t\t\tavatar: null,\n\t\t\theader: null,\n\t\t};\n\t}\n\n\tcomponentDidMount() {\n\t\tdocument.title = `Edit Profile`;\n\t\t// temporary fix to undo whatever is setting overflow hidden on-login\n\t\tdocument.body.style.removeProperty('overflow');\n\t\tthis.initializeFromUrlParams();\n\t}\n\n\tupdatePassword = (values, { setSubmitting }) => {\n\t\tthis.togglePasswordModal();\n\t\tsetSubmitting(false);\n\t\tthis.props.changePassword(values);\n\t};\n\n\thandleClearNodes = (values, { setSubmitting }) => {\n\t\tthis.toggleDeleteNodesModal();\n\t\tsetSubmitting(false);\n\t\tthis.props.clearAllNodes(values);\n\t};\n\n\t// show modal to confirm deletion\n\ttogglePasswordModal = () => {\n\t\tif (this.state.showPasswordModal) {\n\t\t\tthis.setState({ showPasswordModal: false });\n\t\t} else {\n\t\t\tthis.setState({ showPasswordModal: true });\n\t\t}\n\t};\n\n\t// show modal to confirm deletion\n\ttoggleDeleteNodesModal = () => {\n\t\tif (this.state.showDeleteNodesModal) {\n\t\t\tthis.setState({ showDeleteNodesModal: false });\n\t\t} else {\n\t\t\tthis.setState({ showDeleteNodesModal: true });\n\t\t}\n\t};\n\n\t// show confirm export modal\n\ttoggleExportModal = () => {\n\t\tif (this.state.showExportModal) {\n\t\t\tthis.setState({ showExportModal: false });\n\t\t} else {\n\t\t\tthis.setState({ showExportModal: true });\n\t\t}\n\t};\n\n\t// delete the node\n\texportHandler = async () => {\n\t\tthis.setState({ showExportModal: false });\n\t\tawait this.props.generateInstanceExport();\n\t};\n\n\tpasswordModal = () => {\n\t\treturn (\n\t\t\t<Formik\n\t\t\t\tinitialValues={{ oldPassword: '', newPassword: '', confirmNewPassword: '' }}\n\t\t\t\tvalidationSchema={validationSchema}\n\t\t\t\tonSubmit={this.updatePassword}\n\t\t\t\tstyle={{ display: 'inline-block' }}\n\t\t\t>\n\t\t\t\t{({ isSubmitting }) => (\n\t\t\t\t\t<Form className='password-modal-form'>\n\t\t\t\t\t\t<Field\n\t\t\t\t\t\t\ttype='password'\n\t\t\t\t\t\t\tname='oldPassword'\n\t\t\t\t\t\t\tplaceholder='old password'\n\t\t\t\t\t\t\tclassName='password-modal-field'\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<ErrorMessage name='oldPassword' component='div' />\n\t\t\t\t\t\t<Field\n\t\t\t\t\t\t\ttype='password'\n\t\t\t\t\t\t\tname='newPassword'\n\t\t\t\t\t\t\tplaceholder='new password'\n\t\t\t\t\t\t\tclassName='password-modal-field'\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<ErrorMessage name='newPassword' component='div' />\n\t\t\t\t\t\t<Field\n\t\t\t\t\t\t\ttype='password'\n\t\t\t\t\t\t\tname='confirmNewPassword'\n\t\t\t\t\t\t\tplaceholder='confirm new password'\n\t\t\t\t\t\t\tclassName='password-modal-field'\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<ErrorMessage name='confirmNewPassword' component='div' />\n\t\t\t\t\t\t<button type='submit' disabled={isSubmitting}>\n\t\t\t\t\t\t\tchange password\n\t\t\t\t\t\t</button>\n\t\t\t\t\t</Form>\n\t\t\t\t)}\n\t\t\t</Formik>\n\t\t);\n\t};\n\n\tdeleteAllNodesModal = () => {\n\t\treturn (\n\t\t\t<Formik\n\t\t\t\tinitialValues={{ passwordValue: '', confirmPassword: '' }}\n\t\t\t\tvalidationSchema={deleteNodesValidation}\n\t\t\t\tonSubmit={this.handleClearNodes}\n\t\t\t\tstyle={{ display: 'inline-block' }}\n\t\t\t>\n\t\t\t\t{({ isSubmitting }) => (\n\t\t\t\t\t<Form className='password-modal-form'>\n\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\tAre you are you want to delete all nodes and associations for this user? This action\n\t\t\t\t\t\t\tis not reversible, it's recommended that u make a backup first.\n\t\t\t\t\t\t</p>\n\t\t\t\t\t\t<Field\n\t\t\t\t\t\t\ttype='password'\n\t\t\t\t\t\t\tname='passwordValue'\n\t\t\t\t\t\t\tplaceholder='password'\n\t\t\t\t\t\t\tclassName='password-modal-field'\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<ErrorMessage name='passwordValue' component='div' />\n\t\t\t\t\t\t<Field\n\t\t\t\t\t\t\ttype='password'\n\t\t\t\t\t\t\tname='confirmPassword'\n\t\t\t\t\t\t\tplaceholder='confirm password'\n\t\t\t\t\t\t\tclassName='password-modal-field'\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<ErrorMessage name='confirmPassword' component='div' />\n\t\t\t\t\t\t<button\n\t\t\t\t\t\t\ttype='danger'\n\t\t\t\t\t\t\tdisabled={isSubmitting}\n\t\t\t\t\t\t\tstyle={{ color: 'white', backgroundColor: 'red' }}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\tyes, i want to delete all my data\n\t\t\t\t\t\t</button>\n\t\t\t\t\t</Form>\n\t\t\t\t)}\n\t\t\t</Formik>\n\t\t);\n\t};\n\n\t// load the profile\n\tinitializeFromUrlParams = async () => {\n\t\t// fetch the user info from the server\n\t\tconst user = await this.props.fetchUserByUsername(this.props.user.username);\n\t\tif (user && !this.state.initialized) {\n\t\t\tthis.setState({\n\t\t\t\tinitialized: true,\n\t\t\t\tusername: user.username,\n\t\t\t\temail: this.props.user.email,\n\t\t\t\tdisplayName: user.displayName,\n\t\t\t\tbio: user.bio,\n\t\t\t\tavatar: user.avatar,\n\t\t\t\theader: user.header,\n\t\t\t});\n\t\t} else {\n\t\t\tmessage.error('there was a problem loading your profile');\n\t\t\tthis.props.history.push('/');\n\t\t}\n\t};\n\n\t// select an image.\n\tsetAvatar = () => {\n\t\tconst input = document.createElement('input');\n\t\tinput.setAttribute('type', 'file');\n\t\tinput.click();\n\t\t// Listen for uploading local image, then save to server\n\t\tinput.onchange = async () => {\n\t\t\tconst file = input.files[0];\n\t\t\t// make sure file is an image\n\t\t\tif (/^image\\//.test(file.type)) {\n\t\t\t\t// save the image to the server\n\t\t\t\tconst url = await this.props.updateUserAvatar(file);\n\t\t\t\tthis.setState({ avatar: url });\n\t\t\t} else {\n\t\t\t\tmessage.error('The file must be an image', 1);\n\t\t\t}\n\t\t};\n\t};\n\n\tsetHeader = () => {\n\t\tconst input = document.createElement('input');\n\t\tinput.setAttribute('type', 'file');\n\t\tinput.click();\n\t\t// Listen for uploading local image, then save to server\n\t\tinput.onchange = async () => {\n\t\t\tconst file = input.files[0];\n\t\t\t// make sure file is an image\n\t\t\tif (/^image\\//.test(file.type)) {\n\t\t\t\t// save the image to the server\n\t\t\t\tconst url = await this.props.updateUserHeader(file);\n\t\t\t\tthis.setState({ header: url });\n\t\t\t} else {\n\t\t\t\tmessage.error('The file must be an image', 1);\n\t\t\t}\n\t\t};\n\t};\n\n\t// render display name\n\trenderDisplayName = () => {\n\t\treturn (\n\t\t\t<input\n\t\t\t\ttype='text'\n\t\t\t\tclassName='Options-display-name'\n\t\t\t\tplaceholder='Display Name'\n\t\t\t\tvalue={this.state.displayName}\n\t\t\t\tonChange={(e) => this.saveDisplayName(e.target.value)}\n\t\t\t></input>\n\t\t);\n\t};\n\n\t// update and save the displayName\n\tsaveDisplayName = (displayName) => {\n\t\tif (this.state.displayName !== displayName) {\n\t\t\tthis.props.updateUserInfo({\n\t\t\t\tusername: this.props.user.username,\n\t\t\t\tdisplayName: displayName,\n\t\t\t});\n\t\t\tlocalStorage.setItem('displayName', displayName);\n\t\t\tdocument.title = displayName;\n\t\t\tthis.setState({ displayName });\n\t\t}\n\t};\n\n\t// render the profile bio\n\trenderBio = () => {\n\t\treturn (\n\t\t\t<textarea\n\t\t\t\ttype='text'\n\t\t\t\tclassName='Options-bio'\n\t\t\t\tplaceholder='Bio'\n\t\t\t\tvalue={this.state.bio}\n\t\t\t\tonChange={(e) => this.saveBio(e.target.value)}\n\t\t\t></textarea>\n\t\t);\n\t};\n\n\t// update and save the bio\n\tsaveBio = (bio) => {\n\t\tif (this.state.bio !== bio) {\n\t\t\tthis.props.updateUserInfo({\n\t\t\t\tusername: this.props.user.username,\n\t\t\t\tbio: bio,\n\t\t\t});\n\t\t\tthis.setState({ bio });\n\t\t}\n\t};\n\n\t// render the profile username\n\trenderUsername = () => {\n\t\treturn (\n\t\t\t<input\n\t\t\t\ttype='text'\n\t\t\t\tclassName='Options-standard-input'\n\t\t\t\tplaceholder='username'\n\t\t\t\tvalue={this.state.username}\n\t\t\t\tonChange={(e) => this.saveUsername(e.target.value)}\n\t\t\t></input>\n\t\t);\n\t};\n\n\t// update and save the username\n\tsaveUsername = (username) => {\n\t\tif (this.state.username !== username) {\n\t\t\tthis.props.updateUsername(username);\n\t\t\tthis.setState({ username });\n\t\t}\n\t};\n\n\t// render the profile email\n\trenderEmail = () => {\n\t\treturn (\n\t\t\t<input\n\t\t\t\ttype='text'\n\t\t\t\tclassName='Options-standard-input'\n\t\t\t\tplaceholder='email'\n\t\t\t\tvalue={this.state.email}\n\t\t\t\tonChange={(e) => this.saveEmail(e.target.value)}\n\t\t\t></input>\n\t\t);\n\t};\n\n\t// update and save the email\n\tsaveEmail = (email) => {\n\t\tif (this.state.email !== email) {\n\t\t\tthis.props.updateEmail(email);\n\t\t\tthis.setState({ email });\n\t\t}\n\t};\n\n\trenderMainSider = () => {\n\t\tif (this.props.mainSider) {\n\t\t\treturn <MainSider />;\n\t\t}\n\t};\n\n\tcomponentWillUnmount() {\n\t\t// remove any selections on exit\n\t\twindow.getSelection().removeAllRanges();\n\t\t// hide mainsider again\n\t\tthis.props.hideComponent('mainSider');\n\t}\n\n\trender() {\n\t\treturn (\n\t\t\t<Layout className='Options-container'>\n\t\t\t\t{/* \t<MainSider showMask={false} animate={false} />*/}\n\t\t\t\t{this.renderMainSider()}\n\t\t\t\t<Layout>\n\t\t\t\t\t<Content className='Options'>\n\t\t\t\t\t\t<IOBar />\n\t\t\t\t\t\t<div className='Options-card'>\n\t\t\t\t\t\t\t<button onClick={this.setHeader}>\n\t\t\t\t\t\t\t\t<div className='Options-header'>\n\t\t\t\t\t\t\t\t\t<Icon type='camera' className='Options-header-edit-icon' />\n\t\t\t\t\t\t\t\t\t<img src={this.state.header || defaultHeader} alt='example' draggable='false' />\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t<button onClick={this.setAvatar}>\n\t\t\t\t\t\t\t\t<div className='Options-avatar'>\n\t\t\t\t\t\t\t\t\t<Icon type='camera' className='Options-avatar-edit-icon' />\n\t\t\t\t\t\t\t\t\t<img src={this.state.avatar || defaultAvatar} alt={'profile'} draggable='false' />\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t<div className='Options-info'>\n\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\ttype='default'\n\t\t\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\t\t\tmargin: '0 0 10px',\n\t\t\t\t\t\t\t\t\t\tbackgroundColor: 'white',\n\t\t\t\t\t\t\t\t\t\twidth: '10rem',\n\t\t\t\t\t\t\t\t\t\tpadding: '0.5rem',\n\t\t\t\t\t\t\t\t\t\tdisplay: 'inline-block',\n\t\t\t\t\t\t\t\t\t\ttextAlign: 'center',\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\tonClick={(e) => {\n\t\t\t\t\t\t\t\t\t\tthis.toggleExportModal();\n\t\t\t\t\t\t\t\t\t\t// this.props.generateInstanceExport();\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\texport all user data\n\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t<br />\n\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\ttype='default'\n\t\t\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\t\t\tmargin: '0 0 10px',\n\t\t\t\t\t\t\t\t\t\tbackgroundColor: 'white',\n\t\t\t\t\t\t\t\t\t\twidth: '10rem',\n\t\t\t\t\t\t\t\t\t\tpadding: '0.5rem',\n\t\t\t\t\t\t\t\t\t\tdisplay: 'inline-block',\n\t\t\t\t\t\t\t\t\t\ttextAlign: 'center',\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\tonClick={(e) => this.togglePasswordModal()}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\tchange password\n\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t<br />\n\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\ttype='default'\n\t\t\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\t\t\tmargin: '0 0 10px',\n\t\t\t\t\t\t\t\t\t\tbackgroundColor: 'white',\n\t\t\t\t\t\t\t\t\t\twidth: '10rem',\n\t\t\t\t\t\t\t\t\t\tpadding: '0.5rem',\n\t\t\t\t\t\t\t\t\t\tdisplay: 'inline-block',\n\t\t\t\t\t\t\t\t\t\ttextAlign: 'center',\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\tonClick={(e) => {\n\t\t\t\t\t\t\t\t\t\twindow.location.replace(`/profile/${this.props.user.username}`);\n\t\t\t\t\t\t\t\t\t\tthis.props.regenerateCollectionPreviews();\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\tregenerate previews\n\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t<br />\n\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\ttype='danger'\n\t\t\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\t\t\tmargin: '0 0 10px',\n\t\t\t\t\t\t\t\t\t\tbackgroundColor: 'red',\n\t\t\t\t\t\t\t\t\t\twidth: '10rem',\n\t\t\t\t\t\t\t\t\t\tpadding: '0.5rem',\n\t\t\t\t\t\t\t\t\t\tdisplay: 'inline-block',\n\t\t\t\t\t\t\t\t\t\ttextAlign: 'center',\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\tonClick={(e) => this.toggleDeleteNodesModal()}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\tdelete all data\n\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t<br />\n\t\t\t\t\t\t\t\t{this.renderDisplayName()}\n\t\t\t\t\t\t\t\t{this.renderUsername()}\n\t\t\t\t\t\t\t\t{this.renderEmail()}\n\t\t\t\t\t\t\t\t{this.renderBio()}\n\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\ttype='default'\n\t\t\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\t\t\tmargin: '0 0 10px',\n\t\t\t\t\t\t\t\t\t\tbackgroundColor: 'white',\n\t\t\t\t\t\t\t\t\t\twidth: '4rem',\n\t\t\t\t\t\t\t\t\t\tdisplay: 'inline-block',\n\t\t\t\t\t\t\t\t\t\ttextAlign: 'center',\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\tonClick={(e) => this.props.history.push(`/profile/${this.props.user.username}`)}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\tdone\n\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t<Modal\n\t\t\t\t\t\t\t\t\ttitle='change password'\n\t\t\t\t\t\t\t\t\tvisible={this.state.showPasswordModal}\n\t\t\t\t\t\t\t\t\tclassName='password-modal'\n\t\t\t\t\t\t\t\t\tcentered\n\t\t\t\t\t\t\t\t\tafterClose={() => document.body.style.removeProperty('overflow')}\n\t\t\t\t\t\t\t\t\tfooter={null}\n\t\t\t\t\t\t\t\t\tclosable={false}\n\t\t\t\t\t\t\t\t\tonCancel={this.togglePasswordModal}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{this.passwordModal()}\n\t\t\t\t\t\t\t\t</Modal>\n\t\t\t\t\t\t\t\t<Modal\n\t\t\t\t\t\t\t\t\ttitle='delete all data'\n\t\t\t\t\t\t\t\t\tvisible={this.state.showDeleteNodesModal}\n\t\t\t\t\t\t\t\t\tclassName='password-modal'\n\t\t\t\t\t\t\t\t\tcentered\n\t\t\t\t\t\t\t\t\tafterClose={() => document.body.style.removeProperty('overflow')}\n\t\t\t\t\t\t\t\t\tfooter={null}\n\t\t\t\t\t\t\t\t\tclosable={false}\n\t\t\t\t\t\t\t\t\tonCancel={this.toggleDeleteNodesModal}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{this.deleteAllNodesModal()}\n\t\t\t\t\t\t\t\t</Modal>\n\t\t\t\t\t\t\t\t<Modal\n\t\t\t\t\t\t\t\t\ttitle='Confirm Export'\n\t\t\t\t\t\t\t\t\tvisible={this.state.showExportModal}\n\t\t\t\t\t\t\t\t\tclassName='delete-modal'\n\t\t\t\t\t\t\t\t\tcentered\n\t\t\t\t\t\t\t\t\tonOk={this.exportHandler}\n\t\t\t\t\t\t\t\t\tokText='Generate'\n\t\t\t\t\t\t\t\t\tclosable={false}\n\t\t\t\t\t\t\t\t\tafterClose={() => document.body.style.removeProperty('overflow')}\n\t\t\t\t\t\t\t\t\tonCancel={this.toggleExportModal}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\t\t\t\tGenerate export from <b>{this.props.user.displayName || 'untitled'}</b>? The\n\t\t\t\t\t\t\t\t\t\texport will contain the profile picture, header, bio, along with all this user's\n\t\t\t\t\t\t\t\t\t\tnodes & associations, and appear in your favorites when it is completed. This\n\t\t\t\t\t\t\t\t\t\tmay take a few minutes.\n\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t</Modal>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<OptionsList />\n\t\t\t\t\t</Content>\n\t\t\t\t</Layout>\n\t\t\t</Layout>\n\t\t);\n\t}\n}\n\nconst validationSchema = Yup.object().shape({\n\toldPassword: Yup.string().required('old password is required'),\n\tnewPassword: Yup.string()\n\t\t.min(5, 'Password has to be longer than 6 characters!')\n\t\t.required('password is required'),\n\tconfirmNewPassword: Yup.string()\n\t\t.required('please confirm new password')\n\t\t.oneOf([Yup.ref('newPassword')], \"Your passwords don't match\"),\n});\n\nconst deleteNodesValidation = Yup.object().shape({\n\tpasswordValue: Yup.string()\n\t\t.min(5, 'Password has to be longer than 6 characters!')\n\t\t.required('password is required'),\n\tconfirmPassword: Yup.string()\n\t\t.required('please confirm password')\n\t\t.min(5, 'Password has to be longer than 6 characters!')\n\t\t.oneOf([Yup.ref('passwordValue')], \"Your passwords don't match\"),\n});\n\nconst mapStateToProps = (state) => {\n\treturn { user: state.auth.user, mainSider: state.components.componentList['mainSider'] };\n};\n\nexport default connect(mapStateToProps, {\n\tfetchUserByUsername,\n\tupdateUserInfo,\n\tupdateUserAvatar,\n\tupdateUserHeader,\n\tupdateUsername,\n\tupdateEmail,\n\tclearAllNodes,\n\tchangePassword,\n\tshowComponent,\n\tgenerateInstanceExport,\n\tregenerateCollectionPreviews,\n\thideComponent,\n})(Options);\n","import React from 'react';\nimport { Layout } from 'antd';\n// custom code\nimport './css/Page.less';\n// destructure antd components\nconst { Content } = Layout;\n\nconst MainContent = (props) => {\n  return (\n    <Layout className='page-content'>\n      <Content style={{ backgroundColor: '#272727' }}>{props.children}</Content>\n    </Layout>\n  );\n};\n\nexport default MainContent;\n","import React, { Component } from 'react';\nimport { Layout } from 'antd';\n// custom code\nimport '../elements/css/Page.less';\nimport MainContent from '../elements/MainContent';\nimport IOBar from '../elements/IOBar';\nimport MainSider from '../elements/MainSider';\n\nclass Activity extends Component {\n  render() {\n    return (\n      <Layout className='page-layout'>\n        <IOBar />\n        <Layout>\n          <MainSider />\n          <MainContent />\n        </Layout>\n      </Layout>\n    );\n  }\n}\n\nexport default Activity;\n","import React, { Component, Fragment } from 'react';\nimport { connect } from 'react-redux';\n// custom code\nimport '../node/NodeList.less';\nimport { fetchAssociations, getRandomNode } from '../../../api/redux/actions';\nimport NodeCard from '../node/NodeCard';\nimport AssociationSider from './AssociationSider';\nimport Spinner from '../Spinner';\n\nclass AssociationList extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\ttopOfPage: false,\n\t\t\t// redirectInterval: setInterval(this.advanceToRandomNode, 333),\n\t\t};\n\t}\n\n\tcomponentDidMount() {\n\t\twindow.addEventListener('scroll', this.infiniteScroll);\n\t\t// window.addEventListener('mousemove', this.resetAdvanceCounter);\n\t\t// this.advanceToRandomNode();\n\t}\n\n\tcomponentWillUnmount() {\n\t\twindow.removeEventListener('scroll', this.infiniteScroll);\n\t}\n\n\t// resetAdvanceCounter = () => {\n\t// \tconsole.log('removing interval');\n\t// \tconsole.log(this.state.redirectInterval);\n\t// \tif (this.state.redirectInterval) {\n\t// \t\tclearInterval(this.state.redirectInterval);\n\t// \t\tthis.setState({ redirectInterval: setInterval(this.advanceToRandomNode, 10000) });\n\t// \t}\n\t// };\n\n\t// commenting this out for now.\n\t// was experimenting with random automated wandering, screensaver style\n\t// maybe will revisit this\n\t// advanceToRandomNode = () => {\n\t// \tlet flash = localStorage.getItem('flash');\n\t// \tconsole.log(flash);\n\t// \tif (flash) {\n\t// \t\twindow.location.replace(`/flash`);\n\t// \t\treturn;\n\t// \t}\n\t// \tlet maxNumber = Math.floor(Math.random() * this.props.associations.length + 1);\n\t// \tif (this.props.associations.length > 0) {\n\t// \t\tlet uuid = this.props.associations[this.props.associations.length - maxNumber].uuid;\n\t// \t\twindow.location.replace(`/associations/${uuid}`);\n\t// \t} else {\n\t// \t\tthis.props.getRandomNode();\n\t// \t}\n\t// \tlocalStorage.setItem('flash', true);\n\t// };\n\n\tinfiniteScroll = (e) => {\n\t\tvar currentListLength = this.props.associations.length;\n\t\tif (\n\t\t\tthis.endReached() &&\n\t\t\tthis.props.activeNode &&\n\t\t\tcurrentListLength < this.props.totalNodes &&\n\t\t\t!this.props.isFetching\n\t\t) {\n\t\t\tthis.setState({ topOfPage: false });\n\t\t\t// fetch the next page\n\t\t\tthis.props.fetchAssociations({\n\t\t\t\tpage: this.props.page + 1,\n\t\t\t\tnodeUUID: this.props.activeNode.uuid,\n\t\t\t});\n\t\t}\n\t};\n\n\tendReached = () => {\n\t\t// window calculations to tell when the user scrolls to the bottom\n\t\tconst windowHeight =\n\t\t\t'innerHeight' in window ? window.innerHeight : document.documentElement.offsetHeight;\n\t\tconst body = document.body;\n\t\tconst html = document.documentElement;\n\t\tconst docHeight = Math.max(\n\t\t\tbody.scrollHeight,\n\t\t\tbody.offsetHeight,\n\t\t\thtml.clientHeight,\n\t\t\thtml.scrollHeight,\n\t\t\thtml.offsetHeight\n\t\t);\n\t\tconst windowBottom = windowHeight + window.pageYOffset;\n\t\t// check if the top is reached\n\t\tif (window.pageYOffset < 1 && !this.props.isFetching && !this.state.topOfPage) {\n\t\t\tthis.setState({ topOfPage: true });\n\t\t\t// at the top of the page, reset the associationlist\n\t\t\tthis.props.fetchAssociations({\n\t\t\t\tpage: 1,\n\t\t\t\tnodeUUID: this.props.activeNode.uuid,\n\t\t\t});\n\t\t}\n\t\t// TODO: need to find a way to calculate the \"window top\" as well\n\t\t// so i can decrement the page number when the user scrolls up\n\t\t// this is necessary so redux doesn't have to store everything\n\t\treturn windowBottom >= docHeight - 733;\n\t};\n\n\trenderNodes = () => {\n\t\t// go through the list of nodes and render them to the page\n\t\tconst associationList = this.props.associations;\n\t\t// render the association list as cards\n\t\tif (associationList !== null) {\n\t\t\treturn associationList.map((association) => {\n\t\t\t\treturn (\n\t\t\t\t\t<NodeCard key={association.uuid} node={association} activeNode={this.props.activeNode} />\n\t\t\t\t);\n\t\t\t});\n\t\t} else {\n\t\t\treturn <Spinner></Spinner>;\n\t\t}\n\t};\n\n\trenderList = () => {\n\t\tif (this.props.totalNodes > 0) {\n\t\t\treturn (\n\t\t\t\t<ul style={{ backgroundColor: 'black' }} className='nodelist'>\n\t\t\t\t\t{this.renderNodes()}\n\t\t\t\t</ul>\n\t\t\t);\n\t\t} else {\n\t\t\treturn <Fragment></Fragment>;\n\t\t}\n\t};\n\n\trender() {\n\t\treturn (\n\t\t\t<div>\n\t\t\t\t{this.renderList()}\n\t\t\t\t<AssociationSider />\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nconst mapStateToProps = (state) => {\n\treturn {\n\t\tassociations: state.associations.associationList,\n\t\tisFetching: state.associations.isFetching,\n\t\tactiveNode: state.nodes.activeNode,\n\t\tpage: state.associations.associationListPage,\n\t\ttotalNodes: state.associations.totalAssociationListItems,\n\t};\n};\n\nexport default connect(mapStateToProps, { fetchAssociations, getRandomNode })(AssociationList);\n","import { store } from \"../api/instance\";\nimport { launchFileNode } from \"../api/redux/actions\";\n\nexport const renderlink = (renderlink) => {\n\tlet type = renderlink.split(\"/\")[4];\n\tlet uuid = renderlink.split(\"/\")[5];\n\n\tswitch (type) {\n\t\tcase \"text\":\n\t\t\twindow.location.replace(`/edit/text/${uuid}`);\n\t\t\tbreak;\n\t\tcase \"file\":\n\t\t\tstore.dispatch(launchFileNode(uuid));\n\t\t\tbreak;\n\t\tcase \"audio\":\n\t\t\tstore.dispatch(launchFileNode(uuid));\n\t\t\tbreak;\n\t\tcase \"folder\":\n\t\t\tstore.dispatch(launchFileNode(uuid));\n\t\t\tbreak;\n\t\tcase \"image\":\n\t\t\twindow.location.replace(`/associations/${uuid}`);\n\t\t\tbreak;\n\t\tcase \"collection\":\n\t\t\twindow.location.replace(`/associations/${uuid}`);\n\t\t\tbreak;\n\t\tcase \"zip\":\n\t\t\twindow.location.replace(`/associations/${uuid}`);\n\t\t\tbreak;\n\t\tcase \"package\":\n\t\t\twindow.location.replace(`/associations/${uuid}`);\n\t\t\tbreak;\n\t\tcase \"user\":\n\t\t\twindow.location.replace(`/associations/${uuid}`);\n\t\t\tbreak;\n\t\tdefault:\n\t\t\twindow.open(renderlink, \"_blank\");\n\t\t\tbreak;\n\t}\n};\n","import React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport ReactQuill, { Quill } from \"react-quill\";\nimport Delta from \"quill-delta\";\n// import BlotFormatter, { AlignAction, DeleteAction, ImageSpec } from 'quill-blot-formatter';\nimport { Layout, message } from \"antd\";\nimport \"react-quill/dist/quill.snow.css\";\nimport AssociationList from \"../elements/association/AssociationList\";\nimport AssociationSider from \"../elements/association/AssociationSider\";\nimport NodeCardHeaderFull from \"../elements/node/NodeCardHeaderFull\";\nimport IOBar from \"../elements/IOBar\";\n// custom components\nimport Spinner from \"../elements/Spinner\";\nimport { renderlink } from \"../../utils/renderlink\";\n// redux handlers\nimport {\n\teditTextNode,\n\tprocessTextNode,\n\tcreateFileNode,\n\tsetActiveNode,\n\tcontextualCreate,\n\tupdateNode,\n\tfetchAssociations,\n\tmarkNodeView,\n} from \"../../api/redux/actions\";\n// import custom editor css\nimport \"./QuillEditor.less\";\nimport MainSider from \"../elements/MainSider\";\n// destructure antd components\nconst { Content } = Layout;\n\n// register custom clipboard to handle bugs with the way the default one works\nconst Clipboard = Quill.import(\"modules/clipboard\");\n// https://github.com/quilljs/quill/issues/1374\nclass CustomClipboard extends Clipboard {\n\tonPaste(e) {\n\t\t// get current page offset before paste\n\t\tconst top = window.scrollY;\n\t\tconst left = window.scrollX;\n\n\t\tif (e.defaultPrevented || !this.quill.isEnabled()) return;\n\t\tlet range = this.quill.getSelection();\n\t\tlet delta = new Delta().retain(range.index);\n\t\tthis.container.style.top =\n\t\t\t(\n\t\t\t\twindow.pageYOffset ||\n\t\t\t\tdocument.documentElement.scrollTop ||\n\t\t\t\tdocument.body.scrollTop ||\n\t\t\t\t0\n\t\t\t).toString() + \"px\";\n\t\tthis.container.focus();\n\t\tsetTimeout(() => {\n\t\t\tthis.quill.selection.update(Quill.sources.SILENT);\n\t\t\tdelta = delta.concat(this.convert()).delete(range.length);\n\t\t\tthis.quill.updateContents(delta, Quill.sources.USER);\n\t\t\tthis.quill.setSelection(delta.length() - range.length, Quill.sources.SILENT);\n\t\t\tlet bounds = this.quill.getBounds(delta.length() - range.length, Quill.sources.SILENT);\n\t\t\tthis.quill.scrollingContainer.scrollTop = bounds.top;\n\n\t\t\t// scroll window to previous position after paste\n\t\t\twindow.scrollTo({ top, left });\n\t\t}, 1);\n\t}\n}\n\nQuill.register(\"modules/clipboard\", CustomClipboard, true);\n\n// register custom LINK\nvar Link = Quill.import(\"formats/link\");\nclass CustomLink extends Link {\n\tstatic create(value) {\n\t\tlet node = super.create(value);\n\t\t// value = this.sanitize(value);\n\t\tnode.setAttribute(\"href\", value);\n\t\tnode.removeAttribute(\"target\");\n\t\tnode.addEventListener(\"click\", function (e) {\n\t\t\tdocument.querySelector(\".ql-tooltip\").style.visibility = \"visible\";\n\t\t\tif (e.shiftKey) {\n\t\t\t\tdocument.querySelector(\".ql-tooltip\").style.visibility = \"hidden\";\n\t\t\t\tif (value.includes(\"renderlink\")) {\n\t\t\t\t\trenderlink(value);\n\t\t\t\t} else {\n\t\t\t\t\twindow.open(value, \"_blank\");\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t\tnode.addEventListener(\"contextmenu\", function (e) {\n\t\t\te.preventDefault();\n\t\t\tdocument.querySelector(\".ql-tooltip\").style.visibility = \"hidden\";\n\t\t\tif (value.includes(\"renderlink\")) {\n\t\t\t\trenderlink(value);\n\t\t\t} else {\n\t\t\t\twindow.open(value, \"_blank\");\n\t\t\t}\n\t\t});\n\t\treturn node;\n\t}\n}\n\nQuill.register(CustomLink, true);\n\nclass QuillEditor extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\ttext: \"\",\n\t\t\tname: \"\",\n\t\t\texpanded: localStorage.getItem(\"expanded\"),\n\t\t\tuuid: null,\n\t\t\terror: null,\n\t\t\tinitializing: false,\n\t\t\treadOnly: true,\n\t\t};\n\t\tthis.handleChange = this.handleChange.bind(this);\n\t}\n\n\tref = (quill) => {\n\t\tthis.quill = quill;\n\t};\n\n\tcomponentDidMount() {\n\t\tdocument.body.style.overflow = \"auto\";\n\t\tdocument.body.style.height = \"100%\";\n\t\tdocument.documentElement.style.height = \"100%\";\n\t\t// prevent quill from jumping to top\n\t\tdocument.querySelectorAll(\".ql-picker\").forEach((tool) => {\n\t\t\ttool.addEventListener(\"mousedown\", function (event) {\n\t\t\t\tevent.preventDefault();\n\t\t\t\tevent.stopPropagation();\n\t\t\t});\n\t\t});\n\t\t// initialize\n\t\tthis.initializeFromUrlParams();\n\t}\n\n\tcomponentDidUpdate = async () => {\n\t\t// prevent quill from jumping to top\n\t\tdocument.querySelectorAll(\".ql-picker\").forEach((tool) => {\n\t\t\ttool.addEventListener(\"mousedown\", function (event) {\n\t\t\t\tevent.preventDefault();\n\t\t\t\tevent.stopPropagation();\n\t\t\t});\n\t\t});\n\t\t// if the url has changed reload\n\t\tvar textUUID = this.props.match.params.uuid;\n\t\tif (this.state.uuid !== textUUID && this.state.initializing === false) {\n\t\t\tthis.setState({\n\t\t\t\ttext: \"\",\n\t\t\t\tname: \"\",\n\t\t\t\texpanded: localStorage.getItem(\"expanded\"),\n\t\t\t\tuuid: null,\n\t\t\t\terror: null,\n\t\t\t\tinitializing: true,\n\t\t\t\treadOnly: true,\n\t\t\t});\n\t\t\tthis.regeneratePreview();\n\t\t\tthis.initializeFromUrlParams();\n\t\t}\n\t\tlet quillScrollY = JSON.parse(localStorage.getItem(\"quillScrollY\"));\n\t\tif (quillScrollY && quillScrollY.uuid === textUUID) {\n\t\t\twindow.scrollTo({ top: quillScrollY.scroll });\n\t\t}\n\t};\n\n\t// load the text node and set the local id state.\n\tinitializeFromUrlParams = async () => {\n\t\t// check url params\n\t\tvar textUUID = this.props.match.params.uuid;\n\t\twindow.addEventListener(\"scroll\", () => {\n\t\t\tlocalStorage.setItem(\n\t\t\t\t\"quillScrollY\",\n\t\t\t\tJSON.stringify({\n\t\t\t\t\tuuid: textUUID,\n\t\t\t\t\tscroll: window.scrollY,\n\t\t\t\t})\n\t\t\t);\n\t\t});\n\t\t// clear short term memory from last time\n\t\tlocalStorage.removeItem(\"exclusionData\");\n\t\t// set the local state id equal to the value in the url\n\t\tthis.setState({ uuid: textUUID });\n\t\tawait this.props.setActiveNode(textUUID);\n\t\tif (this.props.nodeData && this.props.nodeData.content) {\n\t\t\t// if there is content set the local editor state equal to it\n\t\t\tdocument.title = this.props.nodeData.name || \"Untitled\";\n\t\t\tvar textValue = JSON.parse(this.props.nodeData.content);\n\t\t\tthis.setState({\n\t\t\t\ttext: textValue,\n\t\t\t\tname: this.props.nodeData.name,\n\t\t\t\tinitializing: false,\n\t\t\t\treadOnly: false,\n\t\t\t});\n\t\t\tthis.props.markNodeView(this.props.nodeData);\n\t\t\t// clear undo history to prevent undo from deleting everything\n\t\t\tconst editor = this.quill.getEditor();\n\t\t\teditor.history.clear();\n\t\t\tthis.props.fetchAssociations({ nodeUUID: textUUID });\n\t\t} else {\n\t\t\t// if there's no content return an error message\n\t\t\tthis.setState({ error: true });\n\t\t\tthis.props.history.push(\"/\");\n\t\t}\n\t};\n\n\t// toggle fullscreen\n\texpandHandler = () => {\n\t\tif (this.state.expanded === null) {\n\t\t\tthis.setState({ expanded: \"expanded\" });\n\t\t\tlocalStorage.setItem(\"expanded\", \"expanded\");\n\t\t} else {\n\t\t\tthis.setState({ expanded: null });\n\t\t\tlocalStorage.removeItem(\"expanded\");\n\t\t}\n\t\tthis.quill.getEditor().disable();\n\t};\n\n\t// exit the editor and return to the home screen\n\texitHandler = async () => {\n\t\t// generate the preview and do whatever processing will be\n\t\t// necessary to process the node\n\t\t// TODO: alter this so it stores a condensed version of the document instead of plain text\n\t\tlocalStorage.removeItem(\"exclusionData\");\n\t\tthis.regeneratePreview();\n\t\tthis.props.history.push(\"/\");\n\t};\n\n\tregeneratePreview = () => {\n\t\tif (!this.state.deleting && !this.state.error && this.state.uuid !== null && this.quill) {\n\t\t\tconst previewLength = 500;\n\t\t\tconst editor = this.quill.getEditor();\n\t\t\t// process the text node\n\t\t\tconst content = editor.getText();\n\t\t\tconst preview = content.substring(0, previewLength);\n\t\t\tthis.props.nodeData.preview = preview;\n\t\t\t// wait for preview to update before going back to homepage so it will be up to date\n\t\t\tthis.props.processTextNode({ uuid: this.state.uuid, preview });\n\t\t}\n\t};\n\n\t// select an image.\n\tselectLocalImage = () => {\n\t\tconst input = document.createElement(\"input\");\n\t\tinput.setAttribute(\"type\", \"file\");\n\t\tinput.setAttribute(\"accept\", [\"image/gif\", \"image/jpg\", \"image/jpeg\", \"image/png\"]);\n\t\tinput.click();\n\n\t\t// Listen for uploading local image, then save to server\n\t\tinput.onchange = async () => {\n\t\t\tconst file = input.files[0];\n\n\t\t\t// make sure file is an image\n\t\t\tif (/^image\\//.test(file.type)) {\n\t\t\t\t// save the image to the server\n\t\t\t\tconst url = await this.props.createFileNode(\n\t\t\t\t\tfile,\n\t\t\t\t\tnull,\n\t\t\t\t\tJSON.stringify(this.props.nodeData)\n\t\t\t\t);\n\t\t\t\t// push image url to rich editor.\n\t\t\t\tconst range = this.quill.getEditor().getSelection();\n\t\t\t\tthis.quill.getEditor().insertEmbed(range.index, \"image\", url);\n\t\t\t} else {\n\t\t\t\tmessage.error(\"The file must be an image\", 1);\n\t\t\t}\n\t\t};\n\t};\n\n\tisImageUrl = (url) => {\n\t\tvar expression =\n\t\t\t/[-a-zA-Z0-9@:%._+~#=]{1,256}\\.[a-zA-Z0-9()]{1,6}\\b([-a-zA-Z0-9()@:%_+.~#?&//=]*)?/gi;\n\t\tvar regex = new RegExp(expression);\n\t\treturn regex.test(url);\n\t};\n\n\t// handle pasting of images\n\t// these could potentially be stored in a special database table? I'm not sure if\n\t// externally linked images would be a node type? I don't see why not. i think they're urls\n\tmatcherImageHandler = (node, delta) => {\n\t\tconst url = node.src;\n\t\tconst newDelta = new Delta();\n\t\treturn newDelta.insert({ image: url });\n\t};\n\n\tmodules = {\n\t\ttoolbar: {\n\t\t\tcontainer: [\n\t\t\t\t[{ header: [1, 2, 3, 4, 5, false] }],\n\t\t\t\t[{ font: [] }],\n\t\t\t\t[{ indent: \"-1\" }, { indent: \"+1\" }],\n\t\t\t\t[\"bold\", \"italic\", \"underline\", \"strike\"],\n\t\t\t\t[\n\t\t\t\t\t{\n\t\t\t\t\t\tcolor: [\n\t\t\t\t\t\t\t\"\",\n\t\t\t\t\t\t\t\"#fff\",\n\t\t\t\t\t\t\t\"#bbbbbb\",\n\t\t\t\t\t\t\t\"#df0000\",\n\t\t\t\t\t\t\t\"#a80b44\",\n\t\t\t\t\t\t\t\"#ff0062\",\n\t\t\t\t\t\t\t\"#df1f95\",\n\t\t\t\t\t\t\t\"#9933ff\",\n\t\t\t\t\t\t\t\"#c06be2\",\n\t\t\t\t\t\t\t\"#c8f0ae\",\n\t\t\t\t\t\t\t\"#7fba00\",\n\t\t\t\t\t\t\t\"#45d458\",\n\t\t\t\t\t\t\t\"#31d697\",\n\t\t\t\t\t\t\t\"#00dfd3\",\n\t\t\t\t\t\t\t\"#67edff\",\n\t\t\t\t\t\t\t\"#00a4ef\",\n\t\t\t\t\t\t\t\"#4178df\",\n\t\t\t\t\t\t\t\"#4d2ff7\",\n\t\t\t\t\t\t\t\"#000080\",\n\t\t\t\t\t\t\t\"#56007a\",\n\t\t\t\t\t\t\t\"#007c25\",\n\t\t\t\t\t\t\t\"#e2d58a\",\n\t\t\t\t\t\t\t\"#f8cc52\",\n\t\t\t\t\t\t\t\"#fff12b\",\n\t\t\t\t\t\t\t\"#eb875f\",\n\t\t\t\t\t\t\t\"#ff4500\",\n\t\t\t\t\t\t\t\"#f40000\",\n\t\t\t\t\t\t\t\"#a0390d\",\n\t\t\t\t\t\t],\n\t\t\t\t\t},\n\t\t\t\t\t{ background: [] },\n\t\t\t\t],\n\t\t\t\t[{ align: null }, { align: \"center\" }, { align: \"right\" }, { align: \"justify\" }],\n\t\t\t\t[{ list: \"ordered\" }, { list: \"bullet\" }],\n\t\t\t\t[{ script: \"sub\" }, { script: \"super\" }], // superscript/subscript\n\t\t\t\t[\"code-block\", \"blockquote\"],\n\t\t\t\t[\"link\", \"image\", \"video\"],\n\t\t\t\t[\"clean\"],\n\t\t\t\t[\"expand\", \"exit\"],\n\t\t\t],\n\t\t\thandlers: {\n\t\t\t\texpand: this.expandHandler,\n\t\t\t\texit: this.exitHandler,\n\t\t\t\timage: this.selectLocalImage,\n\t\t\t},\n\t\t},\n\t\tclipboard: {\n\t\t\tmatchVisual: false,\n\t\t\tmatchers: [[\"img\", this.matcherImageHandler]],\n\t\t},\n\t\tkeyboard: {\n\t\t\tbindings: {\n\t\t\t\trenderLinkEnter: {\n\t\t\t\t\tkey: \"Enter\",\n\t\t\t\t\tprefix: /\\[\\[.*?\\]\\]/g,\n\t\t\t\t\thandler: async (range, context) => {\n\t\t\t\t\t\tawait this.handleRenderlinking(context);\n\t\t\t\t\t\treturn;\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t\trenderLinkSpace: {\n\t\t\t\t\tkey: 32,\n\t\t\t\t\tprefix: /\\[\\[.*?\\]\\]/g,\n\t\t\t\t\thandler: async (range, context) => {\n\t\t\t\t\t\tawait this.handleRenderlinking(context);\n\t\t\t\t\t\treturn;\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t},\n\t\t},\n\t\t// blotFormatter: {\n\t\t//   overlay: {\n\t\t//     style: {\n\t\t//       border: '2px solid #41e254',\n\t\t//     },\n\t\t//   },\n\t\t// },\n\t};\n\n\tallowedFormats = [\n\t\t\"header\",\n\t\t\"font\",\n\t\t\"indent\",\n\t\t\"bold\",\n\t\t\"italic\",\n\t\t\"underline\",\n\t\t\"strike\",\n\t\t\"color\",\n\t\t\"background\",\n\t\t\"align\",\n\t\t\"list\",\n\t\t\"script\",\n\t\t\"code-block\",\n\t\t\"blockquote\",\n\t\t\"link\",\n\t\t\"image\",\n\t\t\"video\",\n\t];\n\n\thandleRenderlinking = async (context) => {\n\t\tlet regex = /\\[\\[.*?\\]\\]/g;\n\t\tlet phraseLinks = [...context.prefix.matchAll(regex)];\n\t\tlet linkedNodeUUID = this.props.nodeData.uuid;\n\t\tconst editor = this.quill.getEditor();\n\t\t//============================================================================\n\t\tfor (let phrase of phraseLinks) {\n\t\t\tlet name;\n\t\t\tlet renderlinkUrl;\n\t\t\tlet phraseBase = phrase[0].substring(2, phrase[0].length - 2);\n\t\t\tlet escapedPhraseString = phraseBase.replace(/[.*+?^${}()|[\\]]/g, \"\\\\$&\");\n\t\t\tlet phraseRegex = new RegExp(\"\\\\[\\\\[\" + escapedPhraseString + \"\\\\]\\\\]\", \"g\");\n\t\t\tlet duplicateList = [...editor.getText(0).matchAll(phraseRegex)];\n\t\t\t// only take the first 255 characters of the phrase for DB (just in case)\n\t\t\tlet shortenedPhraseBase = phraseBase.substring(0, 255);\n\t\t\t// editor.getText(0) omits non-text chars so we need to know the diff for later\n\t\t\tlet lengthDiff = editor.getLength(0) - editor.getText(0).length;\n\t\t\t// variables for short term memory system\n\t\t\tlet exclusionData = localStorage.getItem(\"exclusionData\")\n\t\t\t\t? JSON.parse(localStorage.getItem(\"exclusionData\"))\n\t\t\t\t: null;\n\t\t\tlet lastCreatedPhrase = exclusionData ? exclusionData.name : null;\n\t\t\tlet exclusionList = [];\n\t\t\t// we wanna clear short term memory if the user has typed a new phrase, or if\n\t\t\t// there are duplicates of this same phrase already in the document\n\t\t\tif (lastCreatedPhrase !== phraseBase || duplicateList.length > 1) {\n\t\t\t\tlocalStorage.removeItem(\"exclusionData\");\n\t\t\t\texclusionList = [];\n\t\t\t} else if (exclusionData) {\n\t\t\t\t// if we have typed the same phrase twice and yet there are no duplicates\n\t\t\t\t// we will go ahead and keep our short term memory exclusion list going\n\t\t\t\texclusionList = [...exclusionData.list];\n\t\t\t}\n\t\t\t// we have to make the request\n\t\t\tlet result = await this.props.contextualCreate(\n\t\t\t\tshortenedPhraseBase,\n\t\t\t\tlinkedNodeUUID,\n\t\t\t\texclusionList\n\t\t\t);\n\t\t\t// if we get a result back lets format it in the document\n\t\t\tif (result) {\n\t\t\t\trenderlinkUrl = result.url;\n\t\t\t\tname = result.name;\n\t\t\t\t// now we're going to loop through to update the actual document\n\t\t\t\tif (duplicateList.length === 1) {\n\t\t\t\t\t// if theres only 1, we will also update the name contents\n\t\t\t\t\tlet phraseIndex = duplicateList[0].index;\n\t\t\t\t\tif (name && renderlinkUrl) {\n\t\t\t\t\t\teditor.updateContents(\n\t\t\t\t\t\t\tnew Delta()\n\t\t\t\t\t\t\t\t.retain(phraseIndex + lengthDiff)\n\t\t\t\t\t\t\t\t.delete(phraseBase.length + 4)\n\t\t\t\t\t\t\t\t.insert(\"[[\" + name + \"]]\", { link: renderlinkUrl })\n\t\t\t\t\t\t\t\t.insert(\" \")\n\t\t\t\t\t\t);\n\t\t\t\t\t}\n\t\t\t\t} else if (duplicateList.length > 1) {\n\t\t\t\t\t// if theres a lot of duplicates all we can do is set the links correctly\n\t\t\t\t\t// we're not going to replace any text in this case because it will mess up the indexes\n\t\t\t\t\t// and cause a whole bunch of problems. its not necessary anyways\n\t\t\t\t\tif (renderlinkUrl) {\n\t\t\t\t\t\tduplicateList.forEach((value) => {\n\t\t\t\t\t\t\teditor.formatText(value.index, phraseBase.length + 4, \"link\", renderlinkUrl);\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t// update the exclusion data based on our latest result as long as\n\t\t\t\t// the input phrase is not identical to the returned value from DB\n\t\t\t\tif (name !== phraseBase) {\n\t\t\t\t\tlocalStorage.setItem(\n\t\t\t\t\t\t\"exclusionData\",\n\t\t\t\t\t\tJSON.stringify({\n\t\t\t\t\t\t\tlist: [...exclusionList, result.uuid],\n\t\t\t\t\t\t\tname: phraseBase,\n\t\t\t\t\t\t})\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn;\n\t};\n\n\t// render the main navbar\n\trenderHeader = () => {\n\t\t// Only render the header if the editor is  expanded\n\t\tif (this.state.expanded === null && this.props.nodeData) {\n\t\t\treturn (\n\t\t\t\t<div>\n\t\t\t\t\t{/* <div style={{ height: '3rem' }}>\n\t\t\t\t\t\t<IOBar fixed={true} />\n\t\t\t\t\t</div>*/}\n\t\t\t\t\t<div style={{ height: \"3rem\" }}>\n\t\t\t\t\t\t<IOBar fixed={true} />\n\t\t\t\t\t</div>\n\t\t\t\t\t<NodeCardHeaderFull />\n\t\t\t\t</div>\n\t\t\t);\n\t\t}\n\t};\n\n\thandleChange(content, delta, source, editor) {\n\t\t// Check to see if the document has changed before saving.\n\t\t// TODO: i think this comparison is broken\n\t\tif (editor.getContents() !== this.state.text && this.state.initializing === false) {\n\t\t\tconst fullDelta = JSON.stringify(editor.getContents());\n\t\t\tthis.props.editTextNode({\n\t\t\t\tuuid: this.props.match.params.uuid,\n\t\t\t\tcontent: fullDelta,\n\t\t\t});\n\t\t\tthis.setState({ text: content });\n\t\t\tthis.regeneratePreview();\n\t\t}\n\t}\n\n\trenderMainSider = () => {\n\t\tif (this.props.mainSider) {\n\t\t\treturn <MainSider />;\n\t\t}\n\t};\n\n\trenderClassName = () => {\n\t\tlet documentWidth = JSON.parse(localStorage.getItem(\"quill-document-width\")) || \"\";\n\t\tlet documentClass = \"quill-\" + documentWidth.replace(\" \", \"-\");\n\t\t// return the classname\n\t\treturn documentClass;\n\t};\n\n\tcomponentWillUnmount() {\n\t\t// clear styles\n\t\tdocument.body.style.overflow = null;\n\t\tdocument.body.style.height = null;\n\t\tdocument.documentElement.style.overflow = null;\n\t\tdocument.documentElement.style.height = null;\n\t\tlocalStorage.removeItem(\"exclusionData\");\n\t\twindow.getSelection().removeAllRanges();\n\t}\n\n\trender() {\n\t\tif (this.props.isLoading) {\n\t\t\treturn (\n\t\t\t\t<Layout className=\"page-layout\">\n\t\t\t\t\t<Layout>\n\t\t\t\t\t\t<Layout>\n\t\t\t\t\t\t\t{this.renderHeader()}\n\t\t\t\t\t\t\t<Spinner />\n\t\t\t\t\t\t</Layout>\n\t\t\t\t\t</Layout>\n\t\t\t\t</Layout>\n\t\t\t);\n\t\t}\n\n\t\treturn (\n\t\t\t<Layout className=\"page-layout\">\n\t\t\t\t{this.renderMainSider()}\n\t\t\t\t<Content className={\"text-editor-content \" + this.state.expanded}>\n\t\t\t\t\t{this.renderHeader()}\n\t\t\t\t\t<ReactQuill\n\t\t\t\t\t\tvalue={this.state.text}\n\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\tbackgroundColor: this.props.editorTheme\n\t\t\t\t\t\t\t\t? this.props.editorTheme.textEditorBackground\n\t\t\t\t\t\t\t\t: null,\n\t\t\t\t\t\t\tcolor: this.props.editorTheme ? this.props.editorTheme.textEditorText : null,\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tclassName={this.renderClassName()}\n\t\t\t\t\t\tonChange={this.handleChange}\n\t\t\t\t\t\tmodules={this.modules}\n\t\t\t\t\t\tref={this.ref}\n\t\t\t\t\t\treadOnly={this.state.readOnly}\n\t\t\t\t\t\tformats={this.allowedFormats}\n\t\t\t\t\t\tscrollingContainer={\"body\"}\n\t\t\t\t\t\tonKeyDown={(e) => {\n\t\t\t\t\t\t\tif (e.key !== \"Enter\") {\n\t\t\t\t\t\t\t\tlocalStorage.setItem(\n\t\t\t\t\t\t\t\t\t\"quillScrollY\",\n\t\t\t\t\t\t\t\t\tJSON.stringify({\n\t\t\t\t\t\t\t\t\t\tuuid: this.state.uuid,\n\t\t\t\t\t\t\t\t\t\tscroll: window.scrollY,\n\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\twindow.scrollBy({ top: 20 });\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tonBlur={() => {\n\t\t\t\t\t\t\tlocalStorage.setItem(\n\t\t\t\t\t\t\t\t\"quillScrollY\",\n\t\t\t\t\t\t\t\tJSON.stringify({\n\t\t\t\t\t\t\t\t\tuuid: this.state.uuid,\n\t\t\t\t\t\t\t\t\tscroll: window.scrollY,\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t// check to see if we should regenerate preview\n\t\t\t\t\t\t\tif (this.props.nodeData.preview.length < 500) {\n\t\t\t\t\t\t\t\tthis.regeneratePreview();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}}\n\t\t\t\t\t></ReactQuill>\n\t\t\t\t\t<AssociationSider />\n\t\t\t\t\t<AssociationList />\n\t\t\t\t</Content>\n\t\t\t</Layout>\n\t\t);\n\t}\n}\n\nconst mapStateToProps = (state) => {\n\treturn {\n\t\tnodeData: state.nodes.activeNode,\n\t\tisLoading: state.nodes.isFetching,\n\t\tmainSider: state.components.componentList[\"mainSider\"],\n\t\teditorTheme: state.components.editorTheme,\n\t};\n};\n\nexport default connect(mapStateToProps, {\n\teditTextNode,\n\tprocessTextNode,\n\tcreateFileNode,\n\tcontextualCreate,\n\tupdateNode,\n\tsetActiveNode,\n\tfetchAssociations,\n\tmarkNodeView,\n})(QuillEditor);\n","import instance from \"../../../api/instance\";\nimport history from \"../../../utils/history\";\nimport {\n\tEDIT_TEXT_NODE,\n\tEDIT_TEXT_NODE_SUCCESS,\n\tEDIT_TEXT_NODE_ERROR,\n\tPROCESS_TEXT_NODE,\n\tPROCESS_TEXT_NODE_SUCCESS,\n\tPROCESS_TEXT_NODE_ERROR,\n} from \"./types\";\nimport { message } from \"antd\";\n\n// edit text node handler\nexport const editTextNode = (node) => async (dispatch) => {\n\tdispatch({ type: EDIT_TEXT_NODE });\n\ttry {\n\t\tawait instance.patch(\"/text\", {\n\t\t\tuuid: node.uuid,\n\t\t\tcontent: node.content,\n\t\t});\n\t\tdispatch({\n\t\t\ttype: EDIT_TEXT_NODE_SUCCESS,\n\t\t\tnode: node,\n\t\t});\n\t} catch (err) {\n\t\tdispatch({ type: EDIT_TEXT_NODE_ERROR });\n\t\tmessage.error(\"There was a problem saving your changes\", 1);\n\t\thistory.push(\"/\");\n\t}\n};\n\n// final processing of text node after closing the editor\nexport const processTextNode = (node) => async (dispatch) => {\n\tdispatch({ type: PROCESS_TEXT_NODE });\n\ttry {\n\t\tawait instance.patch(\"/text/process\", { uuid: node.uuid, preview: node.preview });\n\t\tdispatch({ type: PROCESS_TEXT_NODE_SUCCESS, node, preview: node.preview });\n\t} catch (err) {\n\t\tdispatch({ type: PROCESS_TEXT_NODE_ERROR });\n\t}\n};\n","import React from 'react';\nimport { Layout } from 'antd';\n// custom code\nimport './css/Page.less';\n// destructure antd components\nconst { Footer } = Layout;\n\nconst MainFooter = () => {\n  return <Footer className='page-footer' />;\n};\n\nexport default MainFooter;\n","import React, { Component } from 'react';\nimport { Layout } from 'antd';\n// custom code\nimport '../elements/css/Page.less';\nimport MainContent from '../elements/MainContent';\nimport IOBar from '../elements/IOBar';\n// import MainSider from '../elements/MainSider';\nimport MainFooter from '../elements/MainFooter';\n\nclass Collections extends Component {\n  render() {\n    return (\n      <Layout className='page-layout'>\n        <IOBar />\n        <Layout>\n          <MainContent>Collections</MainContent>\n        </Layout>\n        <MainFooter />\n      </Layout>\n    );\n  }\n}\n\nexport default Collections;\n","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { Link } from 'react-router-dom';\nimport { Formik, Form, Field, ErrorMessage } from 'formik';\nimport * as Yup from 'yup';\nimport { Layout, Card } from 'antd';\n// custom code\nimport { createAccount } from '../../api/redux/actions';\nimport './css/Login.less';\n\n// destructure antd\nconst { Content, Footer } = Layout;\n\nclass CreateAccount extends Component {\n  componentDidMount() {\n    document.title = 'Create Account';\n  }\n\n  onSubmit = (values, { setSubmitting }) => {\n    setSubmitting(false);\n    this.props.createAccount(values);\n  };\n\n  render() {\n    return (\n      <Layout className='login-layout'>\n        <Content className='login-content'>\n          <Card className='login-card'>\n            <Formik\n              initialValues={{ email: '', password: '', confirmPassword: '' }}\n              validationSchema={validationSchema}\n              onSubmit={this.onSubmit}\n            >\n              {({ isSubmitting }) => (\n                <Form className='login-form'>\n                  <h1 className='login-title'>\n                    <span\n                      role='img'\n                      aria-label='jsx-a11y/accessible-emoji'\n                      style={{ paddingRight: '0.5rem' }}\n                    >\n                      ✨\n                    </span>\n                    create user\n                    <span\n                      role='img'\n                      aria-label='jsx-a11y/accessible-emoji'\n                      style={{ paddingLeft: '0.5rem' }}\n                    >\n                      ✨\n                    </span>\n                  </h1>\n                  <Field type='email' name='email' placeholder='email' className='login-field' />\n                  <ErrorMessage name='email' component='div' />\n                  <Field\n                    type='username'\n                    name='username'\n                    placeholder='username'\n                    className='login-field'\n                  />\n                  <ErrorMessage name='username' component='div' />\n                  <Field\n                    type='password'\n                    name='password'\n                    placeholder='password'\n                    className='login-field'\n                  />\n                  <ErrorMessage name='password' component='div' />\n                  <Field\n                    type='password'\n                    name='confirmPassword'\n                    placeholder='confirm password'\n                    className='login-field'\n                  />\n                  <ErrorMessage name='confirmPassword' component='div' />\n                  <button type='submit' disabled={isSubmitting} className='login-submit'>\n                    create account\n                  </button>\n                  <Link to='/' style={{ textAlign: 'center' }} className='login-signup'>\n                    back to login\n                  </Link>\n                </Form>\n              )}\n            </Formik>\n          </Card>\n        </Content>\n        <Footer />\n      </Layout>\n    );\n  }\n}\n\nconst validationSchema = Yup.object().shape({\n  email: Yup.string().email('E-mail is not valid!').required('email is required'),\n  username: Yup.string().required('username is required'),\n  password: Yup.string()\n    .min(5, 'Password has to be longer than 6 characters!')\n    .required('password is required'),\n  confirmPassword: Yup.string()\n    .required('please confirm password')\n    .oneOf([Yup.ref('password')], \"Your passwords don't match\"),\n});\n\nconst mapStateToProps = (state) => {\n  return { isSignedIn: state.auth.isSignedIn };\n};\n\nexport default connect(mapStateToProps, { createAccount })(CreateAccount);\n","import React, { Fragment } from 'react';\n//custom components\nimport NodeRenderer from '../../../types/render/NodeRenderer';\nimport './NodeCardFull.less';\n\nconst NodeCardFull = (props) => {\n  const renderNodeCard = () => {\n    if (props.node) {\n      return <NodeRenderer type={props.node.type} element={'full'} node={props.node} />;\n    }\n  };\n\n  return <Fragment>{renderNodeCard()}</Fragment>;\n};\n\nexport default NodeCardFull;\n","import React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport { Layout } from \"antd\";\nimport {\n\tsetActiveNode,\n\tclearActiveNode,\n\tfetchAssociations,\n\tmarkNodeView,\n\tupdateNode,\n} from \"../../api/redux/actions\";\nimport MainSider from \"../elements/MainSider\";\nimport NodeCardFull from \"../elements/node/NodeCardFull\";\nimport Spinner from \"../elements/Spinner\";\nimport IOBar from \"../elements/IOBar\";\nimport AssociationList from \"../elements/association/AssociationList\";\nimport { message } from \"antd\";\nconst { Content } = Layout;\n\nclass AssociationBrowser extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\tinitialized: false,\n\t\t\tuuid: null,\n\t\t};\n\t}\n\n\tcomponentDidMount() {\n\t\tif (!this.state.initialized) {\n\t\t\tthis.initializeFromUrlParams();\n\t\t}\n\t}\n\n\tcomponentDidUpdate() {\n\t\tvar uuid = this.props.match.params.uuid;\n\t\t// re-initialize if the URL changes\n\t\tif (this.state.initialized && this.state.uuid !== uuid) {\n\t\t\tthis.setState({ initialized: false });\n\t\t\tthis.initializeFromUrlParams();\n\t\t}\n\t}\n\n\tcomponentWillUnmount() {\n\t\tthis.props.clearActiveNode();\n\t}\n\n\t// intialize the association page\n\tinitializeFromUrlParams = async () => {\n\t\tvar uuid = this.props.match.params.uuid;\n\t\twindow.scrollTo({ top: 0 });\n\t\tawait this.props.setActiveNode(uuid);\n\t\tif (this.props.activeNode !== null) {\n\t\t\tthis.props.markNodeView(this.props.activeNode);\n\t\t}\n\t\t// fetch the user info from the server\n\t\tawait this.props.fetchAssociations({ nodeUUID: uuid });\n\t\tif (this.props.associations !== null && this.props.activeNode !== null) {\n\t\t\tthis.setState({\n\t\t\t\tinitialized: true,\n\t\t\t\tuuid: uuid,\n\t\t\t});\n\t\t\t// update collection preview if necessary\n\t\t\tif (this.props.activeNode.type && this.props.activeNode.type === \"collection\") {\n\t\t\t\tthis.regenerateCollectionPreview(this.props.activeNode, this.props.associations);\n\t\t\t}\n\t\t\tdocument.title = this.props.activeNode.name;\n\t\t} else {\n\t\t\tmessage.error(\"there was a problem loading the associations\");\n\t\t\tthis.props.history.push(\"/\");\n\t\t}\n\t};\n\n\tregenerateCollectionPreview = async (collectionNode, associationList) => {\n\t\ttry {\n\t\t\tif (collectionNode && associationList) {\n\t\t\t\tvar i = 0;\n\t\t\t\tvar node;\n\t\t\t\tvar preview = [];\n\t\t\t\t// get the first 4 non-collection non-user associated nodes and add them to the new preview\n\t\t\t\twhile (i < associationList.length && preview.length < 4) {\n\t\t\t\t\tnode = associationList[i];\n\t\t\t\t\tif (node.type === \"image\" || node.type === \"url\" || node.type === \"text\") {\n\t\t\t\t\t\tpreview.push({\n\t\t\t\t\t\t\ttype: node.type,\n\t\t\t\t\t\t\tpreview: node.preview,\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t\ti++;\n\t\t\t\t}\n\t\t\t\tthis.props.updateNode({ uuid: collectionNode.uuid, preview: JSON.stringify(preview) });\n\t\t\t}\n\t\t} catch (err) {\n\t\t\tthis.props.history.push(\"/\");\n\t\t}\n\t};\n\n\trenderNode = () => {\n\t\tif (this.state.uuid !== null && this.state.uuid === this.props.activeNode.uuid) {\n\t\t\treturn <NodeCardFull node={this.props.activeNode} />;\n\t\t} else {\n\t\t\treturn <Spinner></Spinner>;\n\t\t}\n\t};\n\n\trenderMainSider = () => {\n\t\tif (this.props.mainSider) {\n\t\t\treturn <MainSider />;\n\t\t}\n\t};\n\n\trender() {\n\t\treturn (\n\t\t\t<Layout className=\"page-layout\">\n\t\t\t\t{this.renderMainSider()}\n\t\t\t\t<Layout>\n\t\t\t\t\t<Content\n\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\tpaddingTop: \"0\",\n\t\t\t\t\t\t\tminHeight: \"100vh\",\n\t\t\t\t\t\t}}\n\t\t\t\t\t>\n\t\t\t\t\t\t<IOBar />\n\t\t\t\t\t\t<div className=\"list-container\">{this.renderNode()}</div>\n\t\t\t\t\t\t<AssociationList />\n\t\t\t\t\t</Content>\n\t\t\t\t</Layout>\n\t\t\t</Layout>\n\t\t);\n\t}\n}\n\nconst mapStateToProps = (state) => {\n\treturn {\n\t\tassociations: state.associations.associationList,\n\t\tisLoading: state.nodes.isFetching,\n\t\tactiveNode: state.nodes.activeNode,\n\t\tmainSider: state.components.componentList[\"mainSider\"],\n\t\tisDeleting: state.nodes.isDeleting,\n\t};\n};\n\nexport default connect(mapStateToProps, {\n\tsetActiveNode,\n\tclearActiveNode,\n\tfetchAssociations,\n\tmarkNodeView,\n\tupdateNode,\n})(AssociationBrowser);\n","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport {\n\tfetchNodes,\n\tfetchAssociations,\n\tshowComponent,\n\tfetchGraphData,\n\tsetActiveNode,\n} from '../../api/redux/actions';\nimport { Layout, message } from 'antd';\nimport { select, selectAll } from 'd3-selection';\nimport { drag } from 'd3-drag';\nimport { forceSimulation, forceLink, forceManyBody, forceCenter, forceX, forceY } from 'd3-force';\nimport { zoom, zoomIdentity } from 'd3-zoom';\n//custom components\nimport './css/GraphBrowser.less';\nimport MainSider from '../elements/MainSider';\nimport AssociationSider from '../elements/association/AssociationSider';\nimport AssociationList from '../elements/association/AssociationList';\nimport IOBar from '../elements/IOBar';\n// destructure antd layout\nconst { Content } = Layout;\n\nclass GraphBrowser extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\tinitialized: false,\n\t\t\tuuid: null,\n\t\t};\n\t}\n\n\tcomponentDidMount() {\n\t\tdocument.title = 'constellation';\n\t\tif (!this.state.initialized) {\n\t\t\tthis.initializeFromUrlParams();\n\t\t}\n\t}\n\n\tcomponentDidUpdate() {\n\t\tvar uuid = this.props.match.params.uuid;\n\t\t// re-initialize if the URL changes\n\t\tif (this.state.initialized && this.state.uuid !== uuid) {\n\t\t\tthis.setState({ initialized: false });\n\t\t\tthis.initializeFromUrlParams();\n\t\t}\n\t}\n\n\t// intialize the association page\n\tinitializeFromUrlParams = async () => {\n\t\tvar uuid = this.props.match.params.uuid;\n\t\t// fetch the graph data\n\t\tawait this.props.fetchGraphData({\n\t\t\tanchorNode: uuid,\n\t\t\ttype: this.props.query.type,\n\t\t\tsearchQuery: this.props.query.searchQuery,\n\t\t});\n\t\t// if all that was successful, finish initialization\n\t\tif (this.props.graphData !== null) {\n\t\t\tthis.setState({\n\t\t\t\tinitialized: true,\n\t\t\t\tuuid: uuid,\n\t\t\t});\n\t\t\t// render graph\n\t\t\tthis.renderGraph();\n\t\t\tif (uuid) {\n\t\t\t\tawait this.props.setActiveNode(uuid);\n\t\t\t\tawait this.props.fetchAssociations({ nodeUUID: uuid });\n\t\t\t}\n\t\t} else {\n\t\t\tmessage.error('there was a problem loading the data');\n\t\t\tthis.props.history.push('/');\n\t\t}\n\t};\n\n\trenderMainSider = () => {\n\t\tif (this.props.mainSider) {\n\t\t\treturn <MainSider />;\n\t\t}\n\t};\n\n\t// renderBackgroundImage = () => {\n\t//   if (this.props.graphData) {\n\t//     const graphData = this.props.graphData.nodes;\n\t//     for (let item of graphData) {\n\t//       if (item.type === 'image') {\n\t//         // const imageUrl = item.path || item.preview;\n\t//         // return { backgroundImage: `url(${imageUrl})` };\n\t//         return null;\n\t//       }\n\t//     }\n\t//     // return { backgroundImage: `url(${})` };\n\t//     return null;\n\t//   }\n\t// };\n\n\trenderAssociationSider = () => {\n\t\tif (this.props.associationSider) {\n\t\t\treturn <AssociationSider />;\n\t\t}\n\t};\n\n\trenderAssociationList = () => {\n\t\tif (this.props.associations && this.props.associations.length > 0 && this.props.activeNode) {\n\t\t\t// let graphData = this.props.graphData;\n\t\t\t// return (\n\t\t\t//   <div>\n\t\t\t//   <NodeCardFull node={this.props.graphData.nodes[0]} />\n\t\t\t//   <div>\n\t\t\t// )\n\t\t\treturn <AssociationList />;\n\t\t}\n\t};\n\n\trenderGraph = async () => {\n\t\t// node data\n\t\tconst nodeData = this.props.graphData.nodes;\n\t\t// link data\n\t\tconst linkData = this.props.graphData.associations;\n\t\t// width and height\n\t\tconst height = window.innerHeight;\n\t\tconst width = window.innerWidth;\n\t\t// const nodeScale = 23;\n\t\tconst nodeScale = 33;\n\n\t\t// simulation\n\t\tconst simulation = forceSimulation(nodeData)\n\t\t\t.force(\n\t\t\t\t'link',\n\t\t\t\tforceLink(linkData)\n\t\t\t\t\t// .distance(0.7)\n\t\t\t\t\t.id((d) => {\n\t\t\t\t\t\treturn d.id;\n\t\t\t\t\t})\n\t\t\t)\n\t\t\t.force('charge', forceManyBody().strength(-700000 / nodeData.length))\n\t\t\t.force('x', forceX())\n\t\t\t.force('y', forceY())\n\t\t\t.force('center', forceCenter());\n\t\t// initial zoom\n\t\t// var initialZoom = zoomIdentity.scale(0.55).translate(0, -15);\n\t\tvar initialZoom = zoomIdentity.scale(0.17).translate(0, -15);\n\t\tconst zoomData = zoom().scaleExtent([0.1, 1.7]).on('zoom', zoomed);\n\n\t\tconst svg = select(this.node)\n\t\t\t.append('svg')\n\t\t\t.attr('class', 'graph-svg')\n\t\t\t.attr('viewBox', [-width / 2, -height / 2, width, height])\n\t\t\t.on('contextmenu', (e) => {\n\t\t\t\te.preventDefault();\n\t\t\t});\n\n\t\tconst g = svg.append('g');\n\n\t\tconst link = g\n\t\t\t.append('g')\n\t\t\t.attr('stroke', 'white')\n\t\t\t.attr('stroke-opacity', 0.7)\n\t\t\t.selectAll('line')\n\t\t\t.data(linkData)\n\t\t\t.join('line')\n\t\t\t.attr('class', 'graph-link')\n\t\t\t.attr('stroke-width', (d) => Math.sqrt(d.value));\n\n\t\tconst node = g\n\t\t\t.append('g')\n\t\t\t.selectAll('circle')\n\t\t\t.data(nodeData)\n\t\t\t.join('g')\n\t\t\t.call(this.drag(simulation))\n\t\t\t.append('circle')\n\t\t\t.attr('fill', this.props.theme.graphNodeColor)\n\t\t\t.attr('stroke', this.props.theme.graphNodeBorderColor)\n\t\t\t.on('contextmenu', (e, d) => {\n\t\t\t\te.preventDefault();\n\t\t\t\twindow.location.replace('/graph/' + d.uuid);\n\t\t\t})\n\t\t\t.on('mouseover', (e, d) => {\n\t\t\t\tselect(e.currentTarget).style('fill', this.props.theme.graphNodeHoverColor);\n\t\t\t\tselect(e.currentTarget).style('stroke', this.props.theme.graphNodeBorderHoverColor);\n\n\t\t\t\td.fx = null;\n\t\t\t\td.fy = null;\n\t\t\t})\n\t\t\t.on('mouseout', (e, d) => {\n\t\t\t\tselect(e.currentTarget).style('fill', this.props.theme.graphNodeColor);\n\t\t\t\tselect(e.currentTarget).style('stroke', this.props.theme.graphNodeBorderColor);\n\n\t\t\t\td.fx = null;\n\t\t\t\td.fy = null;\n\t\t\t})\n\t\t\t// .on('click', (e, d) => {\n\t\t\t//   e.preventDefault();\n\t\t\t//   this.props.showComponent('associationSider', d);\n\t\t\t// })\n\t\t\t.on('dblclick', (e, d) => {\n\t\t\t\te.preventDefault();\n\t\t\t\tif (d.type === 'text') {\n\t\t\t\t\twindow.location.replace('/edit/text/' + d.uuid);\n\t\t\t\t} else if (d.type === 'user') {\n\t\t\t\t\twindow.location.replace(`/profile/${this.props.user.username}`);\n\t\t\t\t} else {\n\t\t\t\t\twindow.location.replace('/associations/' + d.uuid);\n\t\t\t\t}\n\t\t\t})\n\t\t\t.attr('r', nodeScale)\n\t\t\t// .attr('cursor', 'grab')\n\t\t\t.attr('cursor', 'none')\n\t\t\t// .attr('fill', '#16e998')\n\t\t\t.attr('class', 'graph-node');\n\n\t\tconst text = selectAll('g g g')\n\t\t\t.append('text')\n\t\t\t.text((d) => d.name.substring(0, 100))\n\t\t\t.attr('font-size', '0.8rem')\n\t\t\t.attr('cursor', 'grab')\n\t\t\t// .on('mouseover', (e, d) => {\n\t\t\t// \t// on mouseover without a click run simulation\n\t\t\t// \td.fx = null;\n\t\t\t// \td.fy = null;\n\t\t\t// })\n\t\t\t// .attr('cursor', 'none')\n\t\t\t// .attr('stroke', 'white')\n\t\t\t// .attr('stroke-width', 0.1)\n\t\t\t.attr('class', 'graph-text');\n\t\t// .call(this.drag(simulation));\n\n\t\tsvg.call(zoomData).call(zoomData.transform, initialZoom);\n\n\t\tfunction zoomed({ transform }) {\n\t\t\tg.attr('transform', transform);\n\t\t}\n\n\t\tsimulation.on('tick', () => {\n\t\t\t// update link location values\n\t\t\tlink\n\t\t\t\t.attr('x1', (d) => d.source.x)\n\t\t\t\t.attr('y1', (d) => d.source.y)\n\t\t\t\t.attr('x2', (d) => d.target.x)\n\t\t\t\t.attr('y2', (d) => d.target.y);\n\t\t\t// update node location values\n\t\t\tnode.attr('cx', (d) => d.x).attr('cy', (d) => d.y);\n\t\t\t// update text location values\n\t\t\ttext.attr('x', (d) => d.x + nodeScale).attr('y', (d) => d.y - nodeScale);\n\t\t});\n\n\t\treturn svg.node();\n\t};\n\n\tdrag = (simulation) => {\n\t\tfunction dragstarted(event, d) {\n\t\t\t// move the dragged item to the top\n\t\t\tvar sel = select(this);\n\t\t\tsel.raise();\n\t\t\t// hide cursor\n\t\t\tdocument.body.style.cursor = 'none';\n\t\t\t// handle updating of coords\n\t\t\tif (!event.active) simulation.alphaTarget(0.3).restart();\n\t\t\td.fx = d.x;\n\t\t\td.fy = d.y;\n\t\t}\n\n\t\tfunction dragged(event, d) {\n\t\t\tdocument.body.style.cursor = 'none';\n\t\t\td.fx = event.x;\n\t\t\td.fy = event.y;\n\t\t}\n\n\t\tfunction dragended(event, d) {\n\t\t\tif (!event.active) simulation.alphaTarget(0);\n\t\t\t// d.fx = null;\n\t\t\t// d.fy = null;\n\t\t\twindow.setTimeout(() => {\n\t\t\t\t// show cursor\n\t\t\t\tdocument.body.style.cursor = 'auto';\n\t\t\t}, 333);\n\t\t}\n\n\t\treturn drag().on('start', dragstarted).on('drag', dragged).on('end', dragended);\n\t};\n\n\trender() {\n\t\treturn (\n\t\t\t<Layout className='page-layout'>\n\t\t\t\t{this.renderMainSider()}\n\t\t\t\t{this.renderAssociationSider()}\n\t\t\t\t<Layout>\n\t\t\t\t\t<Content\n\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\tpaddingTop: '0',\n\t\t\t\t\t\t}}\n\t\t\t\t\t>\n\t\t\t\t\t\t{/*  <IOBar />*/}\n\t\t\t\t\t\t<IOBar />\n\t\t\t\t\t\t<div\n\t\t\t\t\t\t\tclassName='graph-container'\n\t\t\t\t\t\t\t// style={this.renderBackgroundImage()}\n\t\t\t\t\t\t\tref={(node) => (this.node = node)}\n\t\t\t\t\t\t></div>\n\t\t\t\t\t\t{this.renderAssociationList()}\n\t\t\t\t\t</Content>\n\t\t\t\t</Layout>\n\t\t\t</Layout>\n\t\t);\n\t}\n}\n\nconst mapStateToProps = (state) => {\n\treturn {\n\t\tassociations: state.associations.associationList,\n\t\tuser: state.auth.user,\n\t\tactiveNode: state.nodes.activeNode,\n\t\tgraphData: state.graph.graphData,\n\t\tloading: state.graph.isFetching,\n\t\tassociationSider: state.components.componentList['associationSider'],\n\t\tmainSider: state.components.componentList['mainSider'],\n\t\tnodeList: state.nodes.nodeList,\n\t\tquery: state.nodes.query,\n\t\tisFetching: state.nodes.isFetching,\n\t\ttheme: state.components.theme,\n\t};\n};\n\nexport default connect(mapStateToProps, {\n\tfetchNodes,\n\tshowComponent,\n\tfetchGraphData,\n\tfetchAssociations,\n\tsetActiveNode,\n})(GraphBrowser);\n","import instance from '../../../api/instance';\nimport history from '../../../utils/history';\nimport {\n\tFETCH_GRAPH_DATA,\n\tFETCH_GRAPH_DATA_ERROR,\n\tFETCH_GRAPH_DATA_SUCCESS,\n\tRESET_APP,\n} from './types';\nimport { message } from 'antd';\n\n// fetch a list of nodes\nexport const fetchGraphData = (query) => async (dispatch) => {\n\tlet linkMode = JSON.parse(localStorage.getItem('link-mode'));\n\tlet bidirectional = linkMode === 'bidirectional' ? 'yes' : 'no';\n\tlet graphRenderLimit = JSON.parse(localStorage.getItem('graph-render-limit'));\n\t// default to 100 if there's no value\n\tif (!graphRenderLimit) {\n\t\tgraphRenderLimit = 100;\n\t}\n\t// lets make our request now\n\ttry {\n\t\tdispatch({ type: FETCH_GRAPH_DATA });\n\t\tconst response = await instance.get('/node/graph', {\n\t\t\tparams: {\n\t\t\t\tanchorNode: query.anchorNode,\n\t\t\t\ttype: query.type,\n\t\t\t\tsearchQuery: query.searchQuery,\n\t\t\t\tgraphRenderLimit: graphRenderLimit,\n\t\t\t\tbidirectional,\n\t\t\t},\n\t\t});\n\t\tdispatch({ type: FETCH_GRAPH_DATA_SUCCESS, payload: response.data, query });\n\t} catch (err) {\n\t\tdispatch({ type: FETCH_GRAPH_DATA_ERROR });\n\t\tdispatch({ type: RESET_APP });\n\t\tmessage.error('Could not fetch items', 1);\n\t\thistory.push('/');\n\t}\n};\n","import React, { Component, Fragment } from 'react';\nimport { connect } from 'react-redux';\n// custom code\nimport './NodeList.less';\nimport { fetchNodes } from '../../../api/redux/actions';\nimport NodeCard from './NodeCard';\nimport AssociationSider from '../association/AssociationSider';\nimport Spinner from '../Spinner';\n\nclass PinList extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\ttopOfPage: false,\n\t\t};\n\t}\n\n\tcomponentDidMount() {\n\t\tthis.props.fetchNodes({\n\t\t\tpage: 1,\n\t\t\ttype: this.props.query.type,\n\t\t\tsearchQuery: this.props.query.searchQuery,\n\t\t\tpinned: true,\n\t\t\tsortType: this.props.query.sortType,\n\t\t\tsortOrder: this.props.query.sortOrder,\n\t\t});\n\t\twindow.addEventListener('scroll', this.infiniteScroll);\n\t}\n\n\tcomponentWillUnmount() {\n\t\twindow.removeEventListener('scroll', this.infiniteScroll);\n\t}\n\n\tinfiniteScroll = (e) => {\n\t\tif (this.endReached() && !this.props.isFetching) {\n\t\t\tthis.setState({ topOfPage: false });\n\t\t\t// fetch the next page\n\t\t\tthis.props.fetchNodes({\n\t\t\t\tpage: this.props.query.page + 1,\n\t\t\t\ttype: this.props.query.type,\n\t\t\t\tsearchQuery: this.props.query.searchQuery,\n\t\t\t\tpinned: true,\n\t\t\t\tsortType: this.props.query.sortType,\n\t\t\t\tsortOrder: this.props.query.sortOrder,\n\t\t\t});\n\t\t}\n\t};\n\n\tendReached = () => {\n\t\t// window calculations to tell when the user scrolls to the bottom\n\t\tconst windowHeight =\n\t\t\t'innerHeight' in window ? window.innerHeight : document.documentElement.offsetHeight;\n\t\tconst body = document.body;\n\t\tconst html = document.documentElement;\n\t\tconst docHeight = Math.max(\n\t\t\tbody.scrollHeight,\n\t\t\tbody.offsetHeight,\n\t\t\thtml.clientHeight,\n\t\t\thtml.scrollHeight,\n\t\t\thtml.offsetHeight\n\t\t);\n\t\tconst windowBottom = windowHeight + window.pageYOffset;\n\t\t// check if the top is reached\n\t\tif (window.pageYOffset < 1 && !this.props.isFetching && !this.state.topOfPage) {\n\t\t\tthis.setState({ topOfPage: true });\n\t\t\t// at the top of the page, reset the nodelist\n\t\t\tthis.props.fetchNodes({\n\t\t\t\tpage: 1,\n\t\t\t\ttype: this.props.query.type,\n\t\t\t\tsearchQuery: this.props.query.searchQuery,\n\t\t\t\tpinned: true,\n\t\t\t\tsortType: this.props.query.sortType,\n\t\t\t\tsortOrder: this.props.query.sortOrder,\n\t\t\t});\n\t\t}\n\t\t// if it's not the top of the page go ahead and fetch more\n\t\treturn windowBottom >= docHeight - 733;\n\t};\n\n\trenderPinList = () => {\n\t\t// go through the list of nodes and render them to the page\n\t\tconst nodeList = this.props.nodes;\n\t\t// if there are nodes go ahead and render\n\t\tif (nodeList !== null) {\n\t\t\treturn nodeList.map((node) => {\n\t\t\t\tif (node.uuid) {\n\t\t\t\t\t// return <NodeCardFull key={node.uuid} node={node} />\n\t\t\t\t\treturn <NodeCard key={node.uuid} node={node} />;\n\t\t\t\t} else {\n\t\t\t\t\treturn <Fragment></Fragment>;\n\t\t\t\t}\n\t\t\t});\n\t\t} else {\n\t\t\treturn <Spinner></Spinner>;\n\t\t}\n\t};\n\n\trender() {\n\t\treturn (\n\t\t\t<div className='nodelist-container'>\n\t\t\t\t<ul className='nodelist'>{this.renderPinList()}</ul>\n\t\t\t\t<AssociationSider />\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nconst mapStateToProps = (state) => {\n\treturn {\n\t\tnodes: state.nodes.nodeList,\n\t\tquery: state.nodes.query,\n\t\ttotalNodes: state.nodes.totalItems,\n\t\tisFetching: state.nodes.isFetching,\n\t};\n};\n\nexport default connect(mapStateToProps, { fetchNodes })(PinList);\n","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { Link } from 'react-router-dom';\nimport { Layout, Button, Select, Icon } from 'antd';\n// custom code\nimport './css/IOBar.less';\nimport {\n\tsignOut,\n\tcreateUrlNode,\n\tsearchNodes,\n\tshowComponent,\n\thideComponent,\n} from '../../api/redux/actions';\n// destructure antd components\nconst { Header } = Layout;\nconst { Option } = Select;\n\nclass PinHeader extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\tinput: this.props.query.searchQuery || '',\n\t\t\tnodeTypes: this.props.query.type || 'all',\n\t\t};\n\t}\n\n\ttoggleMainSider = async () => {\n\t\tif (this.props.mainSider) {\n\t\t\tthis.props.hideComponent('mainSider');\n\t\t} else {\n\t\t\tthis.props.showComponent('mainSider');\n\t\t}\n\t};\n\n\t// handle text input\n\tcommandHandler = () => {\n\t\treturn this.props.searchNodes({\n\t\t\tsearchQuery: this.state.input,\n\t\t\ttype: this.state.nodeTypes,\n\t\t});\n\t};\n\n\t// include an \"all\" option for queries\n\trenderSelectBefore = () => {\n\t\treturn (\n\t\t\t<Select\n\t\t\t\tshowSearch\n\t\t\t\tshowArrow={false}\n\t\t\t\tvalue={this.state.nodeTypes}\n\t\t\t\tonChange={(value) => this.setState({ nodeTypes: value })}\n\t\t\t>\n\t\t\t\t<Option value='all'>all</Option>\n\t\t\t\t<Option value='url'>urls</Option>\n\t\t\t\t<Option value='text'>text</Option>\n\t\t\t\t<Option value='file'>file</Option>\n\t\t\t\t<Option value='image'>images</Option>\n\t\t\t\t<Option value='collection'>collections</Option>\n\t\t\t</Select>\n\t\t);\n\t};\n\n\trender() {\n\t\treturn (\n\t\t\t<div>\n\t\t\t\t<Header className='page-header'>\n\t\t\t\t\t<ul\n\t\t\t\t\t\tclassName='nav-list'\n\t\t\t\t\t\tstyle={{ width: 'auto', justifyContent: 'left', marginLeft: '1.1rem' }}\n\t\t\t\t\t>\n\t\t\t\t\t\t<li className='nav-item io-sider-button mobile-visible' style={{ marginRight: '0' }}>\n\t\t\t\t\t\t\t<Button type='default' shape='circle' onClick={(e) => this.toggleMainSider()}>\n\t\t\t\t\t\t\t\t<Icon type={'bars'} theme='outlined' />\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t</li>\n\t\t\t\t\t\t<li className='nav-item io-sider-button' style={{ marginRight: '0.5rem' }}>\n\t\t\t\t\t\t\t<Link type='default' to={`/graph`}>\n\t\t\t\t\t\t\t\t<Icon\n\t\t\t\t\t\t\t\t\ttype={'deployment-unit'}\n\t\t\t\t\t\t\t\t\ttheme='outlined'\n\t\t\t\t\t\t\t\t\t// style={{ color: '#ec486c' }}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t</li>\n\t\t\t\t\t\t<li className='nav-item io-sider-button'>\n\t\t\t\t\t\t\t<Link type='default' to={`/`}>\n\t\t\t\t\t\t\t\t<Icon\n\t\t\t\t\t\t\t\t\ttype={'home'}\n\t\t\t\t\t\t\t\t\ttheme='filled'\n\t\t\t\t\t\t\t\t\t// style={{ color: '#3ce458' }}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t</li>\n\t\t\t\t\t\t<li className='nav-item'>\n\t\t\t\t\t\t\t<p style={{ color: 'grey', paddingLeft: '0.7rem' }}>favorites</p>\n\t\t\t\t\t\t</li>\n\t\t\t\t\t</ul>\n\t\t\t\t</Header>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nconst mapStateToProps = (state) => {\n\treturn {\n\t\tuser: state.auth.user,\n\t\tquery: state.nodes.query,\n\t\tmainSider: state.components.componentList['mainSider'],\n\t\tactiveNode: state.nodes.activeNode,\n\t};\n};\n\nexport default connect(mapStateToProps, {\n\tsignOut,\n\tsearchNodes,\n\tcreateUrlNode,\n\tshowComponent,\n\thideComponent,\n})(PinHeader);\n","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { Layout } from 'antd';\n// custom code\nimport MainSider from '../elements/MainSider';\nimport PinList from '../elements/node/PinList';\nimport PinHeader from '../elements/PinHeader';\n\nconst { Content } = Layout;\n\nclass Pins extends Component {\n\tcomponentDidMount() {\n\t\tdocument.title = 'pins';\n\t\t// temporary fix to undo whatever is setting overflow hidden on-login\n\t\tdocument.body.style.removeProperty('overflow');\n\t\twindow.scrollTo({ top: 0, behavior: 'smooth' });\n\t}\n\n\trenderMainSider = () => {\n\t\tif (this.props.mainSider) {\n\t\t\treturn <MainSider />;\n\t\t}\n\t};\n\n\trender() {\n\t\treturn (\n\t\t\t<Layout className='page-layout'>\n\t\t\t\t<Layout>\n\t\t\t\t\t{this.renderMainSider()}\n\t\t\t\t\t<Content style={{ minHeight: '100vh' }}>\n\t\t\t\t\t\t<PinHeader />\n\t\t\t\t\t\t<div className='list-container'>\n\t\t\t\t\t\t\t<PinList />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</Content>\n\t\t\t\t</Layout>\n\t\t\t</Layout>\n\t\t);\n\t}\n}\n\nconst mapStateToProps = (state) => {\n\treturn {\n\t\tisSignedIn: state.auth.isSignedIn,\n\t\tmainSider: state.components.componentList['mainSider'],\n\t};\n};\n\nexport default connect(mapStateToProps)(Pins);\n","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { Layout } from 'antd';\nimport { getRandomNode } from '../../api/redux/actions';\n// custom code\n\nclass RandomRedirect extends Component {\n\tcomponentDidMount() {\n\t\tlocalStorage.setItem('flash', false);\n\t\tsetInterval(this.props.getRandomNode(), 50);\n\t}\n\n\trender() {\n\t\treturn <Layout style={{ height: '100vh' }}></Layout>;\n\t}\n}\n\nexport default connect(null, { getRandomNode })(RandomRedirect);\n","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\n// import { message } from 'antd';\nimport './ElectronSearch.less';\n\n// this component sends \"search strings\" to electron findInPage\nclass ElectronSearch extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.searchInput = React.createRef();\n\t}\n\n\tcomponentWillUnmount() {\n\t\twindow.api.send('toMain', { action: 'hide-search' });\n\t}\n\n\thandleElectronSearch = (e) => {\n\t\twindow.api.send('toMain', { action: 'search', query: e.target.value });\n\n\t\tsetTimeout(() => {\n\t\t\tthis.searchInput.current.focus();\n\t\t}, 100);\n\t};\n\n\trender() {\n\t\treturn (\n\t\t\t<div className='electron-search'>\n\t\t\t\t<input\n\t\t\t\t\ttype='text'\n\t\t\t\t\tautoFocus\n\t\t\t\t\tref={this.searchInput}\n\t\t\t\t\tid='electron-search-input'\n\t\t\t\t\tonKeyPress={(e) => {\n\t\t\t\t\t\tif (e.key === 'Enter') {\n\t\t\t\t\t\t\tthis.handleElectronSearch(e);\n\t\t\t\t\t\t}\n\t\t\t\t\t}}\n\t\t\t\t></input>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default connect(null, {})(ElectronSearch);\n","// SPECIAL COMPONENT\n// this is a special component to integrate with redux\n// while also sending & recieving messages from electron\nimport React, { Component, Fragment } from \"react\";\nimport { connect } from \"react-redux\";\nimport ElectronSearch from \"./ElectronSearch\";\nimport { showComponent, hideComponent, linkFileNodes } from \"../../api/redux/actions\";\nimport { message, Modal } from \"antd\";\nimport history from \"../../utils/history\";\n\n// a place to send & recieve messages to & from electron\nclass ElectronMessage extends Component {\n\tcomponentDidMount() {\n\t\t// load up window.api.recieve function\n\t\tif (window.api) {\n\t\t\twindow.api.receive(\"fromMain\", async (data) => {\n\t\t\t\tvar linkedNode;\n\n\t\t\t\tswitch (data.message) {\n\t\t\t\t\tcase \"search\":\n\t\t\t\t\t\tif (!this.props.electronSearchData) {\n\t\t\t\t\t\t\tthis.props.showComponent(\"electronSearch\");\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tthis.props.hideComponent(\"electronSearch\");\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn;\n\t\t\t\t\tcase \"update-available\":\n\t\t\t\t\t\tif (!this.props.updateAvailable) {\n\t\t\t\t\t\t\tthis.props.showComponent(\"updateAvailable\");\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tthis.props.hideComponent(\"updateAvailable\");\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn;\n\t\t\t\t\tcase \"search-all\":\n\t\t\t\t\t\t// autofocus on the search bar, if it is onscreen & not selected\n\t\t\t\t\t\tif (document.getElementById(\"nav-primary-search\")) {\n\t\t\t\t\t\t\twindow.scrollTo({ top: 0 });\n\t\t\t\t\t\t\tdocument.getElementById(\"nav-primary-search\").select();\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\thistory.push(\"/\");\n\t\t\t\t\t\t\twindow.scrollTo({ top: 0 });\n\t\t\t\t\t\t\tdocument.getElementById(\"nav-primary-search\").select();\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn;\n\t\t\t\t\tcase \"latest-version\":\n\t\t\t\t\t\tmessage.success(\"Synthona Is Up To Date\", 2);\n\t\t\t\t\t\treturn;\n\t\t\t\t\tcase \"load-backend-config\":\n\t\t\t\t\t\twindow.localStorage.setItem(\"backend-config\", JSON.stringify(data.config));\n\t\t\t\t\t\treturn;\n\t\t\t\t\tcase \"file-pick-success\":\n\t\t\t\t\t\tif (this.props.activeNode) {\n\t\t\t\t\t\t\tlinkedNode = JSON.stringify(this.props.activeNode);\n\t\t\t\t\t\t}\n\t\t\t\t\t\t// okay! well pretty much this is when we should take this list of files and send it to the backend. that simple\n\t\t\t\t\t\tlet fileName;\n\t\t\t\t\t\tlet fileList = [];\n\t\t\t\t\t\tfor (let file of data.files) {\n\t\t\t\t\t\t\t// in order to get the fileName we have to replace windows backslashes \\ with /\n\t\t\t\t\t\t\tlet simplifiedPath = file.replace(/\\\\/g, \"/\");\n\t\t\t\t\t\t\t// get the filename out of the corrected paths\n\t\t\t\t\t\t\tfileName = simplifiedPath.substring(simplifiedPath.lastIndexOf(\"/\") + 1);\n\t\t\t\t\t\t\t// add to the filelist, for the path, use whichever was provided by the system\n\t\t\t\t\t\t\tfileList.push({ name: fileName, path: file });\n\t\t\t\t\t\t}\n\t\t\t\t\t\tawait this.props.linkFileNodes(fileList, linkedNode);\n\t\t\t\t\t\t// redirect to homepage\n\t\t\t\t\t\thistory.push(\"/\");\n\t\t\t\t\t\treturn;\n\t\t\t\t\tcase \"folder-pick-success\":\n\t\t\t\t\t\tif (this.props.activeNode) {\n\t\t\t\t\t\t\tlinkedNode = JSON.stringify(this.props.activeNode);\n\t\t\t\t\t\t}\n\t\t\t\t\t\t// okay! well pretty much this is when we should take this list of files and send it to the backend. that simple\n\t\t\t\t\t\tlet folderName;\n\t\t\t\t\t\tlet folderList = [];\n\t\t\t\t\t\tfor (let folder of data.files) {\n\t\t\t\t\t\t\t// in order to get the fileName we have to replace windows backslashes \\ with /\n\t\t\t\t\t\t\tlet simplifiedPath = folder.replace(/\\\\/g, \"/\");\n\t\t\t\t\t\t\t// get the filename out of the corrected paths\n\t\t\t\t\t\t\tfolderName = simplifiedPath.substring(simplifiedPath.lastIndexOf(\"/\") + 1);\n\t\t\t\t\t\t\t// add to the filelist, for the path, use whichever was provided by the system\n\t\t\t\t\t\t\tfolderList.push({ name: folderName, path: folder });\n\t\t\t\t\t\t}\n\t\t\t\t\t\tawait this.props.linkFileNodes(folderList, linkedNode);\n\t\t\t\t\t\t// redirect to homepage\n\t\t\t\t\t\thistory.push(\"/\");\n\t\t\t\t\t\treturn;\n\t\t\t\t\tdefault:\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t}\n\n\trenderElectronSearch = () => {\n\t\tif (this.props.electronSearchData && this.props.electronSearchData.visible) {\n\t\t\treturn <ElectronSearch />;\n\t\t}\n\t};\n\n\trenderUpdateAvailableModal = () => {\n\t\tif (this.props.updateAvailable && this.props.updateAvailable.visible) {\n\t\t\treturn (\n\t\t\t\t<Modal\n\t\t\t\t\ttitle={\"A New Version Is Available!\"}\n\t\t\t\t\tvisible={true}\n\t\t\t\t\tclassName=\"signout-modal\"\n\t\t\t\t\tcentered\n\t\t\t\t\tonOk={(e) => window.open(\"http://www.synthona.net\", \"_blank\")}\n\t\t\t\t\tokType=\"primary\"\n\t\t\t\t\tokText=\"Yes!\"\n\t\t\t\t\tclosable={false}\n\t\t\t\t\tonCancel={() => this.props.hideComponent(\"updateAvailable\")}\n\t\t\t\t>\n\t\t\t\t\t<p>An upgrade for Synthona is available. Do you want to know more?</p>\n\t\t\t\t</Modal>\n\t\t\t);\n\t\t}\n\t};\n\n\trender() {\n\t\treturn (\n\t\t\t<Fragment>\n\t\t\t\t{this.renderElectronSearch()}\n\t\t\t\t{this.renderUpdateAvailableModal()}\n\t\t\t</Fragment>\n\t\t);\n\t}\n}\n\nconst mapStateToProps = (state) => {\n\treturn {\n\t\telectronSearchData: state.components.componentList[\"electronSearch\"],\n\t\tupdateAvailable: state.components.componentList[\"updateAvailable\"],\n\t\tactiveNode: state.nodes.activeNode,\n\t};\n};\n\nexport default connect(mapStateToProps, { showComponent, hideComponent, linkFileNodes })(\n\tElectronMessage\n);\n","import React, { Component } from \"react\";\nimport { Route, Switch } from \"react-router-dom\";\nimport { connect } from \"react-redux\";\n// custom code\nimport \"../app.less\";\nimport { isElectron } from \"../utils/environment\";\nimport { isAuthenticated } from \"../api/redux/actions\";\n// custom components\nimport Theme from \"./Theme\";\nimport Login from \"./layouts/Login\";\nimport ForgotPassword from \"./layouts/ForgotPassword\";\nimport Home from \"./layouts/Home\";\nimport Profile from \"./layouts/Profile\";\nimport Options from \"./layouts/Options\";\nimport Activity from \"./layouts/Activity\";\nimport QuillEditor from \"./QuillEditor/QuillEditor\";\nimport Collections from \"./layouts/Collections\";\nimport Spinner from \"./elements/Spinner\";\nimport CreateAccount from \"./layouts/CreateAccount\";\nimport AssociationBrowser from \"./layouts/AssociationBrowser\";\nimport GraphBrowser from \"./layouts/GraphBrowser\";\nimport Pins from \"./layouts/Pins\";\nimport RandomRedirect from \"./layouts/RandomRedirect\";\n// special\nimport ElectronMessage from \"./electron/ElectronMessage\";\n\nclass App extends Component {\n\tcomponentDidMount() {\n\t\tif (this.props.isAuth === null) {\n\t\t\tthis.props.isAuthenticated();\n\t\t}\n\t\t// if (window.api) {\n\t\t// \twindow.api.receive('fromMain', (data) => {\n\t\t// \t\tconsole.log(data);\n\t\t// \t});\n\t\t// }\n\t\t// window.api.send('toMain', 'some data');\n\t}\n\n\trenderElectronMessage = () => {\n\t\t// initialize the electron-message module\n\t\t// if this is an electron environment\n\t\tif (isElectron()) {\n\t\t\treturn <ElectronMessage />;\n\t\t}\n\t};\n\n\trender() {\n\t\tlet routes;\n\t\tif (this.props.isAuth) {\n\t\t\troutes = (\n\t\t\t\t<Theme>\n\t\t\t\t\t<Switch>\n\t\t\t\t\t\t<Route path=\"/\" exact component={Home} />\n\t\t\t\t\t\t<Route path=\"/profile/:username\" exact component={Profile} />\n\t\t\t\t\t\t<Route path=\"/activity\" exact component={Activity} />\n\t\t\t\t\t\t<Route path=\"/collections\" exact component={Collections} />\n\t\t\t\t\t\t<Route path=\"/edit/text/:uuid\" exact component={QuillEditor} />\n\t\t\t\t\t\t<Route path=\"/edit/profile\" exact component={Options} />\n\t\t\t\t\t\t<Route path=\"/associations/:uuid\" exact component={AssociationBrowser} />\n\t\t\t\t\t\t<Route path=\"/graph/:uuid?\" exact component={GraphBrowser} />\n\t\t\t\t\t\t<Route path=\"/pins\" exact component={Pins} />\n\t\t\t\t\t\t<Route path=\"/random\" exact component={RandomRedirect} />\n\t\t\t\t\t</Switch>\n\t\t\t\t</Theme>\n\t\t\t);\n\t\t} else if (this.props.isFetchingAuth) {\n\t\t\troutes = <Spinner />;\n\t\t} else {\n\t\t\troutes = (\n\t\t\t\t<Switch>\n\t\t\t\t\t<Route path=\"/\" exact component={Login} />\n\t\t\t\t\t<Route path=\"/create-account\" exact component={CreateAccount} />\n\t\t\t\t\t<Route path=\"/forgot-password\" exact component={ForgotPassword} />\n\t\t\t\t\t<Route component={Login} />\n\t\t\t\t</Switch>\n\t\t\t);\n\t\t}\n\t\treturn (\n\t\t\t<div style={{ backgroundColor: \"#272727\" }}>\n\t\t\t\t{this.renderElectronMessage()}\n\t\t\t\t{routes}\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nconst mapStateToProps = (state) => {\n\treturn {\n\t\tuser: state.auth.user,\n\t\tisFetchingAuth: state.auth.isFetching,\n\t\tisAuth: state.auth.isAuth,\n\t};\n};\n\nexport default connect(mapStateToProps, { isAuthenticated })(App);\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { Router } from \"react-router-dom\";\nimport { Provider } from \"react-redux\";\n//custom code\nimport history from \"./utils/history\";\nimport App from \"./components/App\";\nimport { store } from \"./api/instance\";\n\nReactDOM.render(\n\t<Provider store={store}>\n\t\t<Router history={history}>\n\t\t\t<App />\n\t\t</Router>\n\t</Provider>,\n\tdocument.querySelector(\"#root\")\n);\n","module.exports = __webpack_public_path__ + \"static/media/cloud9.22dc8cce.png\";","module.exports = __webpack_public_path__ + \"static/media/synthona-logo.b740604b.png\";"],"sourceRoot":""}
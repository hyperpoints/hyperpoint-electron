{"version":3,"sources":["utils/environment.js","resources/nice-star.gif","resources/missing-file.png","utils/history.js","api/instance.js","api/redux/actions/nodeActions.js","api/redux/actions/types.js","api/redux/actions/authActions.js","api/redux/actions/userActions.js","api/redux/actions/associationActions.js","api/redux/actions/componentActions.js","utils/theme.js","api/redux/actions/portActions.js","api/redux/actions/fileActions.js","components/Theme.js","components/layouts/Login.js","components/layouts/ForgotPassword.js","components/elements/Spinner.js","components/elements/MainSider.js","utils/validation.js","components/elements/IOBar.js","components/elements/node/NodeCardHeaderFull.js","components/elements/node/NodeCardHeader.js","types/render/core/Text.js","types/render/core/Image.js","types/render/core/Url.js","types/render/core/File.js","types/render/core/Audio.js","types/render/core/Package.js","types/render/core/Zip.js","types/render/core/Collection.js","types/render/core/User.js","types/render/NodeRenderer.js","components/elements/node/NodeCard.js","components/elements/association/AssociationLink.js","components/elements/association/AssociationLinkList.js","components/elements/association/AssociationSider.js","components/elements/node/NodeList.js","components/layouts/Home.js","components/layouts/Profile.js","components/elements/options/OptionListItem.js","components/elements/options/OptionsList.js","components/layouts/Options.js","components/elements/MainContent.js","components/layouts/Activity.js","components/elements/association/AssociationList.js","components/QuillEditor/QuillEditor.js","api/redux/reducers/associationReducer.js","api/redux/actions/textActions.js","components/elements/MainFooter.js","components/layouts/Collections.js","components/layouts/CreateAccount.js","components/elements/node/NodeCardFull.js","components/layouts/AssociationBrowser.js","components/layouts/GraphBrowser.js","api/redux/actions/graphActions.js","components/elements/node/PinList.js","components/elements/PinHeader.js","components/layouts/Pins.js","components/layouts/RandomRedirect.js","components/electron/ElectronSearch.js","components/electron/ElectronMessage.js","components/App.js","api/redux/reducers/authReducer.js","api/redux/reducers/nodeReducer.js","api/redux/reducers/componentReducer.js","api/redux/reducers/graphReducer.js","index.js","api/redux/reducers/index.js","utils/config.js","resources/synthona-logo.png","resources/cloud9.png"],"names":["isElectron","window","process","type","versions","electron","navigator","userAgent","indexOf","module","exports","createBrowserHistory","CancelToken","axios","source","create","baseURL","location","hostname","withCredentials","cancelToken","token","fetchNodes","query","dispatch","a","instance","get","params","page","searchQuery","pinned","sortType","sortOrder","response","payload","data","history","push","searchNodes","message","error","updateNode","node","patch","uuid","name","preview","path","result","createNode","file","delta","Delta","insert","content","JSON","stringify","put","isFile","linkedNode","status","createUrlNode","markNodeView","setActiveNode","getRandomNode","replace","clearActiveNode","signOut","success","fetchUserByUsername","username","user","fetchAssociationLinkList","linkMode","parse","localStorage","getItem","bidirectional","nodeUUID","fetchAssociations","updateLinkStrength","nodeA","nodeB","showComponent","hideComponent","loadTheme","console","log","theme","colors","cardTitleColor","cardButtonColor","cardHeaderColor","cardBodyColor","cardTextColor","graphNodeColor","graphNodeBorderColor","graphNodeHoverColor","graphNodeBorderHoverColor","textEditorBackground","textEditorText","setupTheme","generateInstanceExport","openFileInExplorer","reload","connect","props","useEffect","style","backgroundImage","customImage","bgImage","test","loadBackground","backgroundColor","backgroundSize","backgroundRepeat","children","Content","Footer","Login","getUsername","onSubmit","values","setSubmitting","signIn","document","title","className","initialValues","email","password","confirmPassword","validationSchema","this","isSubmitting","role","aria-label","paddingRight","placeholder","component","disabled","to","Component","Yup","shape","required","min","state","isSignedIn","auth","formValues","loadClientConfig","setItem","displayName","ForgotPassword","forgotPassword","newPassword","confirmNewPassword","oneOf","Spinner","height","display","justifyContent","alignItems","alignment","size","Item","MainSider","signOutHandler","toggleSignoutModal","showSignoutModal","setState","body","removeProperty","renderDrawerClasses","animate","visible","mainSider","width","mask","showMask","placement","closable","onClose","e","mode","defaultSelectedKeys","onClick","src","avatar","defaultAvatar","icon","verticalAlign","marginTop","objectFit","margin","preventDefault","open","centered","onOk","okType","okText","onCancel","components","componentList","validUrl","value","URL","_","isImageUrl","url","match","includes","Header","Option","IOBar","toggleInputMode","inputMode","modeIcon","nodeTypes","toggleMainSider","toggleSortOrder","renderCreateFileNodeOption","commandHandler","target","blur","input","createNodeHandler","activeNode","selectLocalFile","createElement","setAttribute","click","onchange","fileList","files","linkFileNodes","renderSelectBefore","showSearch","showArrow","onChange","renderSelectAfter","Group","mouseEnterDelay","createType","queryType","fixed","position","marginRight","padding","href","onPressEnter","event","maxLength","defaultValue","addonBefore","addonAfter","id","nodes","NodeCardHeaderFull","saveName","updateActiveNode","nodeData","toggleDeleteModal","showDeleteModal","deleteHandler","deleting","deleteNode","toggleExportModal","showExportModal","exportHandler","generateExportByUUID","setUrlPreviewImage","togglePinned","pinnedState","setPreviewToLocalFilePath","clearNodePreview","renderTitle","editable","onBlur","autoFocus","onKeyPress","key","onFocus","select","color","onDoubleClick","renderContextualButtons","metadata","importing","expanded","removeImportsByPackage","unpackImport","showUrlPreviewImageModal","renderRevealInExplorerButton","renderExportButton","afterClose","getSelection","removeAllRanges","onKeyDown","delete","NodeCardHeader","renderLightbulbIcon","fontSize","textAlign","marginLeft","Text","element","onContextMenu","handleClick","handleAssociatonClick","renderNode","Image","fileLoadError","onFileLoadError","missingFileImage","onFullCardAction","launchFile","nodeCard","renderHeader","onClickAction","alt","onError","minHeight","imageClass","cursor","fullNode","Url","renderPreview","border","allowFullScreen","sandbox","rel","File","onContextAction","Audio","Package","launchExplorer","Zip","Collection","onCollectionClick","previewCount","length","User","defaultHeader","NodeRenderer","handleNodeClick","linkedNodeUUID","siderNodeUUID","siderUUID","toggleHeader","showHeader","launchFileNode","NodeCard","renderNodeCard","AssociationLink","handleDeleteAssociation","association","activeNodeUUID","deleteAssociationLink","pathname","removeFromAssociationList","renderAssociationLink","mouseLeaveDelay","deletedUUID","AssociationLinkList","loadMore","parseInt","renderAssociationLinkList","list","associations","isFetching","map","renderLoadMoreButton","listLength","totalItems","listStyle","associationLinkList","associationLinkListPage","totalLinkListItems","AssociationSider","createAssociationHandler","nodeToAssociate","siderNode","associationSiderData","autocompleteValues","forEach","nodeUUIDToAssociate","createAssociation","autocompleteOptions","inputText","renderAutocompleteValues","associationAutocomplete","newValues","hideInfoSider","renderContent","documentElement","cssText","onSearch","onSelect","NodeList","infiniteScroll","endReached","topOfPage","windowHeight","innerHeight","offsetHeight","html","docHeight","Math","max","scrollHeight","clientHeight","windowBottom","pageYOffset","renderNodeList","nodeList","encodeURIComponent","borderRadius","addEventListener","removeEventListener","totalNodes","Home","renderMainSider","scrollTo","top","behavior","Profile","toggleAvatarModal","avatarModal","initializeFromUrlParams","initialized","bio","header","nodeId","marginBottom","draggable","viewBox","d","footer","OptionListItem","borderBottom","float","keyName","checked","checkedChildren","unCheckedChildren","toString","options","optionObject","item","renderInputType","OptionsList","loadOptions","clientConfigValues","clientConfig","backendConfig","updateClientConfigValue","newValue","newConfig","storageKey","updateBackendConfigValue","existingBackendConfig","showRestartModal","api","send","action","updates","restartHandler","renderOptionsList","configList","backendKey","backendConfigFilter","backendConfigMap","clientKey","cancelText","Options","updatePassword","togglePasswordModal","changePassword","handleClearNodes","toggleDeleteNodesModal","clearAllNodes","showPasswordModal","showDeleteNodesModal","passwordModal","oldPassword","deleteAllNodesModal","passwordValue","deleteNodesValidation","setAvatar","updateUserAvatar","setHeader","updateUserHeader","renderDisplayName","saveDisplayName","updateUserInfo","renderBio","saveBio","renderUsername","saveUsername","updateUsername","renderEmail","saveEmail","updateEmail","updatedUser","imageData","FormData","append","headers","MainContent","Activity","AssociationList","currentListLength","renderNodes","associationList","renderList","associationListPage","totalAssociationListItems","CustomClipboard","left","pageXOffset","defaultPrevented","quill","isEnabled","range","retain","index","container","scrollTop","focus","setTimeout","selection","update","Quill","sources","SILENT","concat","convert","updateContents","USER","setSelection","bounds","getBounds","scrollingContainer","import","register","newAssociationList","QuillEditor","ref","componentDidUpdate","querySelectorAll","tool","stopPropagation","textUUID","initializing","text","readOnly","regeneratePreview","textValue","getEditor","clear","expandHandler","removeItem","exitHandler","getText","substring","processTextNode","selectLocalImage","createFileNode","insertEmbed","RegExp","matcherImageHandler","image","modules","toolbar","font","indent","background","align","script","handlers","expand","exit","clipboard","matchVisual","matchers","allowedFormats","renderClassName","handleChange","bind","overflow","editor","getContents","fullDelta","editTextNode","isLoading","formats","fileData","MainFooter","Collections","CreateAccount","createAccount","paddingLeft","NodeCardFull","AssociationBrowser","regenerateCollectionPreview","collectionNode","i","err","paddingTop","isDeleting","GraphBrowser","fetchGraphData","anchorNode","graphData","renderGraph","renderAssociationSider","associationSider","renderAssociationList","zoomed","transform","g","attr","linkData","innerWidth","simulation","forceSimulation","force","forceLink","forceManyBody","strength","forceX","forceY","forceCenter","initialZoom","zoomIdentity","scale","translate","zoomData","zoom","scaleExtent","on","svg","link","selectAll","join","sqrt","call","drag","currentTarget","fx","fy","x","y","raise","active","alphaTarget","restart","graph","loading","graphRenderLimit","PinList","renderPinList","PinHeader","Pins","RandomRedirect","setInterval","ElectronSearch","handleElectronSearch","searchInput","current","React","createRef","ElectronMessage","renderElectronSearch","electronSearchData","renderUpdateAvailableModal","updateAvailable","receive","getElementById","config","App","renderElectronMessage","isAuth","isAuthenticated","routes","exact","isFetchingAuth","INITIAL_STATE","isSaving","nodesArray","Object","some","linkNodesArray","filter","newNodeList","associationLinkListArray","associationsArray","associatedNode","associated","original","addBackToList","newTotalLinkListItems","newTotalItems","graphNodeList","graphAssociationList","nodeArray","associationArray","reformated","composeEnhancers","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","authReducer","nodeReducer","componentReducer","associationReducer","graphReducer","applyMiddleware","reduxThunk","ReactDOM","render","querySelector","configArray","configValue","FULLSCREEN","OPEN_URLS_IN_BROWSER","HTTP_CACHE","CLEAR_CACHE_ON_START","ENABLE_HARDWARE_ACCELERATION","DEBUG","SERVER_PORT","CLIENT_PORT","CLIENT_BASE","APP_NAME"],"mappings":"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","file":"static/js/main.018a1355.chunk.js","sourcesContent":["export const isElectron = () => {\n\t// Renderer process\n\tif (\n\t\ttypeof window !== 'undefined' &&\n\t\ttypeof window.process === 'object' &&\n\t\twindow.process.type === 'renderer'\n\t) {\n\t\treturn true;\n\t}\n\t// Main process\n\tif (\n\t\ttypeof process !== 'undefined' &&\n\t\ttypeof process.versions === 'object' &&\n\t\t!!process.versions.electron\n\t) {\n\t\treturn true;\n\t}\n\t// Detect the user agent when the `nodeIntegration` option is set to true\n\tif (\n\t\ttypeof navigator === 'object' &&\n\t\ttypeof navigator.userAgent === 'string' &&\n\t\tnavigator.userAgent.indexOf('Electron') >= 0\n\t) {\n\t\treturn true;\n\t}\n\n\treturn false;\n};\n","module.exports = __webpack_public_path__ + \"static/media/nice-star.780b1d07.gif\";","module.exports = __webpack_public_path__ + \"static/media/missing-file.20cda3d1.png\";","import { createBrowserHistory } from 'history';\nexport default createBrowserHistory();\n","import axios from 'axios';\nconst CancelToken = axios.CancelToken;\nconst source = CancelToken.source();\n\nexport default axios.create({\n\tbaseURL:\n\t\t'http://' + window.location.hostname + ':' + process.env.REACT_APP_SERVER_PORT ||\n\t\twindow.location.port,\n\twithCredentials: true,\n\tcancelToken: source.token,\n});\n","import instance from '../../../api/instance';\nimport history from '../../../utils/history';\nimport {\n\tFETCH_NODES,\n\tFETCH_NODES_ERROR,\n\tFETCH_NODES_SUCCESS,\n\tUPDATE_NODE,\n\tUPDATE_NODE_SUCCESS,\n\tUPDATE_NODE_ERROR,\n\tUPDATE_ACTIVE_NODE,\n\tUPDATE_ACTIVE_NODE_ERROR,\n\tUPDATE_ACTIVE_NODE_SUCCESS,\n\tSEARCH_NODES,\n\tSEARCH_NODES_ERROR,\n\tSEARCH_NODES_SUCCESS,\n\tRESET_APP,\n\tCREATE_NODE,\n\tCREATE_NODE_SUCCESS,\n\tCREATE_NODE_ERROR,\n\tMARK_NODE_VIEW,\n\tMARK_NODE_VIEW_ERROR,\n\tMARK_NODE_VIEW_SUCCESS,\n\tSET_ACTIVE_NODE,\n\tSET_ACTIVE_NODE_SUCCESS,\n\tSET_ACTIVE_NODE_ERROR,\n\tDELETE_NODE,\n\tDELETE_NODE_ERROR,\n\tDELETE_NODE_SUCCESS,\n\tCLEAR_ACTIVE_NODE,\n} from './types';\nimport { message } from 'antd';\nimport Delta from 'quill-delta';\n\n// fetch a list of nodes\nexport const fetchNodes = (query) => async (dispatch) => {\n\ttry {\n\t\tdispatch({ type: FETCH_NODES });\n\t\tconst response = await instance.get('/node/search', {\n\t\t\tparams: {\n\t\t\t\tpage: query.page,\n\t\t\t\ttype: query.type,\n\t\t\t\tsearchQuery: query.searchQuery,\n\t\t\t\tpinned: query.pinned,\n\t\t\t\tsortType: query.sortType,\n\t\t\t\tsortOrder: query.sortOrder,\n\t\t\t},\n\t\t});\n\t\tdispatch({ type: FETCH_NODES_SUCCESS, payload: response.data, query });\n\t} catch (err) {\n\t\tdispatch({ type: FETCH_NODES_ERROR });\n\t\tdispatch({ type: RESET_APP });\n\t\t// message.error('Could not fetch items', 1);\n\t\thistory.push('/');\n\t}\n};\n\n// search the database\nexport const searchNodes = (query) => async (dispatch) => {\n\tif (query.type === 'all') {\n\t\tquery.type = null;\n\t}\n\ttry {\n\t\tdispatch({ type: SEARCH_NODES });\n\t\tconst response = await instance.get('/node/search', {\n\t\t\tparams: {\n\t\t\t\tpage: query.page,\n\t\t\t\ttype: query.type,\n\t\t\t\tsearchQuery: query.searchQuery,\n\t\t\t\tpinned: query.pinned,\n\t\t\t\tsortType: query.sortType,\n\t\t\t\tsortOrder: query.sortOrder,\n\t\t\t},\n\t\t});\n\t\tdispatch({ type: SEARCH_NODES_SUCCESS, payload: response.data, query });\n\t\thistory.push('/');\n\t} catch (err) {\n\t\tdispatch({ type: SEARCH_NODES_ERROR });\n\t\tdispatch({ type: RESET_APP });\n\t\tmessage.error('Could not search nodes', 1);\n\t\thistory.push('/');\n\t}\n};\n\n// update node handler\nexport const updateNode = (node) => async (dispatch) => {\n\tdispatch({ type: UPDATE_NODE });\n\ttry {\n\t\tconst result = await instance.patch('/node', {\n\t\t\tuuid: node.uuid,\n\t\t\tname: node.name,\n\t\t\tpreview: node.preview,\n\t\t\tpath: node.path,\n\t\t});\n\t\tdispatch({\n\t\t\ttype: UPDATE_NODE_SUCCESS,\n\t\t\tuuid: node.uuid,\n\t\t\tresult: result.data.node,\n\t\t});\n\t} catch (err) {\n\t\tdispatch({ type: UPDATE_NODE_ERROR });\n\t\tmessage.error('There was a problem saving your changes', 1);\n\t\thistory.push('/');\n\t}\n};\n\n// update node handler\nexport const clearNodePreview = (node) => async (dispatch) => {\n\tdispatch({ type: UPDATE_ACTIVE_NODE });\n\ttry {\n\t\tawait instance.patch('/node/preview/clear', {\n\t\t\tuuid: node.uuid,\n\t\t});\n\t\twindow.location.reload();\n\t} catch (err) {\n\t\tmessage.error('There was a problem saving your changes', 1);\n\t\thistory.push('/');\n\t}\n};\n\n// special handler for updating the active node\nexport const updateActiveNode = (node) => async (dispatch) => {\n\tdispatch({ type: UPDATE_ACTIVE_NODE });\n\ttry {\n\t\tconst result = await instance.patch('/node', {\n\t\t\tuuid: node.uuid,\n\t\t\tname: node.name,\n\t\t\tpreview: node.preview,\n\t\t\tpinned: node.pinned,\n\t\t});\n\t\tdispatch({\n\t\t\ttype: UPDATE_ACTIVE_NODE_SUCCESS,\n\t\t\tuuid: node.uuid,\n\t\t\tresult: result.data.node,\n\t\t});\n\t} catch (err) {\n\t\tdispatch({ type: UPDATE_ACTIVE_NODE_ERROR });\n\t\tmessage.error('There was a problem saving your changes', 1);\n\t\thistory.push('/');\n\t}\n};\n\nexport const createNode = (node, file) => async (dispatch) => {\n\tdispatch({ type: CREATE_NODE });\n\t// set content to empty quill delta for text node\n\tif (node.type === 'text') {\n\t\tconst delta = new Delta();\n\t\tdelta.insert(node.name);\n\t\tnode.content = JSON.stringify(delta);\n\t}\n\ttry {\n\t\tconst response = await instance.put('/node', {\n\t\t\tisFile: node.isFile,\n\t\t\ttype: node.type,\n\t\t\tname: node.name,\n\t\t\tpreview: node.preview,\n\t\t\tcontent: node.content,\n\t\t\tlinkedNode: node.linkedNode,\n\t\t});\n\t\tdispatch({\n\t\t\ttype: CREATE_NODE_SUCCESS,\n\t\t\tpayload: response.data.node,\n\t\t});\n\t\tif (response.status === 200 && node.type === 'text') {\n\t\t\t// if successfully created, redirect the user to the edit node page\n\t\t\thistory.push('/edit/text/' + response.data.node.uuid);\n\t\t}\n\t} catch (err) {\n\t\tdispatch({ type: CREATE_NODE_ERROR });\n\t\tmessage.error('There was a problem creating that node', 1);\n\t\thistory.push('/');\n\t}\n};\n\nexport const createUrlNode = (node) => async (dispatch) => {\n\tdispatch({ type: CREATE_NODE });\n\ttry {\n\t\tconst response = await instance.put('/url', {\n\t\t\tisFile: node.isFile,\n\t\t\ttype: node.type,\n\t\t\tname: node.name,\n\t\t\tpreview: node.preview,\n\t\t\tpath: node.path,\n\t\t\tcontent: node.content,\n\t\t\tlinkedNode: node.linkedNode,\n\t\t});\n\t\tdispatch({\n\t\t\ttype: CREATE_NODE_SUCCESS,\n\t\t\tpayload: response.data.node,\n\t\t});\n\t} catch (err) {\n\t\tdispatch({ type: CREATE_NODE_ERROR });\n\t\tmessage.error('There was a problem adding that URL', 1);\n\t\thistory.push('/');\n\t}\n};\n\nexport const markNodeView = (node) => async (dispatch) => {\n\tdispatch({ type: MARK_NODE_VIEW });\n\ttry {\n\t\tawait instance.patch('/node/viewed', {\n\t\t\tuuid: node.uuid,\n\t\t});\n\t\tdispatch({ type: MARK_NODE_VIEW_SUCCESS, node });\n\t} catch (err) {\n\t\tdispatch({ type: MARK_NODE_VIEW_ERROR });\n\t\tmessage.error('Could not mark node view', 1);\n\t\thistory.push('/');\n\t}\n};\n\n// set active node\nexport const setActiveNode = (uuid) => async (dispatch) => {\n\tdispatch({ type: SET_ACTIVE_NODE });\n\ttry {\n\t\tconst response = await instance.get('/node', {\n\t\t\tparams: { uuid },\n\t\t});\n\t\tdispatch({ type: SET_ACTIVE_NODE_SUCCESS, payload: response.data });\n\t} catch (err) {\n\t\tdispatch({ type: SET_ACTIVE_NODE_ERROR });\n\t\thistory.push('/');\n\t\tmessage.error('Could not retrieve values', 1);\n\t}\n};\n\n// get random node\nexport const getRandomNode = () => async (dispatch) => {\n\tdispatch({ type: SET_ACTIVE_NODE });\n\ttry {\n\t\tconst response = await instance.get('/node/random');\n\t\tdispatch({ type: SET_ACTIVE_NODE_SUCCESS, payload: response.data });\n\t\twindow.location.replace(`/associations/${response.data.node.uuid}`);\n\t} catch (err) {\n\t\tdispatch({ type: SET_ACTIVE_NODE_ERROR });\n\t\thistory.push('/');\n\t\tmessage.error('Could not retrieve values', 1);\n\t}\n};\n\nexport const clearActiveNode = () => {\n\treturn {\n\t\ttype: CLEAR_ACTIVE_NODE,\n\t};\n};\n\n// delete text node handler\nexport const deleteNode = (uuid) => async (dispatch) => {\n\tdispatch({ type: DELETE_NODE });\n\ttry {\n\t\tconst response = await instance.delete(`/node`, { params: { uuid } });\n\t\tif (response.status === 200) {\n\t\t\thistory.push('/');\n\t\t\tdispatch({ type: DELETE_NODE_SUCCESS, uuid: uuid });\n\t\t\tmessage.success('successfully deleted', 1);\n\t\t}\n\t} catch (err) {\n\t\tdispatch({ type: DELETE_NODE_ERROR });\n\t\tmessage.error('There was a problem deleting the node', 1);\n\t}\n};\n\n//regenerate collection previews\nexport const regenerateCollectionPreviews = () => async (dispatch) => {\n\ttry {\n\t\tawait instance.patch(`/collection/regenerate`);\n\t} catch (err) {\n\t\tmessage.error('There was a problem regenerating the collection previews', 1);\n\t}\n};\n\n// clear all nodes\nexport const clearAllNodes = (formValues) => async (dispatch) => {\n\ttry {\n\t\tconst response = await instance.patch('/user/clear', {\n\t\t\tpassword: formValues.passwordValue,\n\t\t});\n\t\tif (response.status === 200) {\n\t\t\thistory.push('/');\n\t\t\tmessage.success('successfully deleted all your data :)', 3);\n\t\t}\n\t} catch (err) {\n\t\tmessage.error('There was a problem, please try again', 1);\n\t}\n};\n","export const RESET_APP = 'RESET_APP';\n// modal actions\nexport const SHOW_COMPONENT = 'SHOW_COMPONENT';\nexport const HIDE_COMPONENT = 'HIDE_COMPONENT';\n// sign in\nexport const CREATE_ACCOUNT = 'CREATE_ACCOUNT';\nexport const CREATE_ACCOUNT_SUCCESS = 'CREATE_ACCOUNT_SUCCESS';\nexport const CREATE_ACCOUNT_ERROR = 'CREATE_ACCOUNT_ERROR';\n// sign in\nexport const SIGN_IN = 'SIGN_IN';\nexport const SIGN_IN_SUCCESS = 'SIGN_IN_SUCCESS';\nexport const SIGN_IN_ERROR = 'SIGN_IN_ERROR';\n// sign out\nexport const SIGN_OUT = 'SIGN_OUT';\nexport const SIGN_OUT_ERROR = 'SIGN_OUT_ERROR';\n// refresh auth\nexport const REFRESH_AUTH = 'REFRESH_AUTH';\nexport const REFRESH_AUTH_SUCCESS = 'REFRESH_AUTH_SUCCESS';\nexport const REFRESH_AUTH_ERROR = 'REFRESH_AUTH_ERROR';\n// create node\nexport const CREATE_NODE = 'CREATE_NODE';\nexport const CREATE_NODE_SUCCESS = 'CREATE_NODE_SUCCESS';\nexport const CREATE_NODE_ERROR = 'CREATE_NODE_ERROR';\n// fetch nodes\nexport const FETCH_NODES = 'FETCH_NODES';\nexport const FETCH_NODES_SUCCESS = 'FETCH_NODES_SUCCESS';\nexport const FETCH_NODES_ERROR = 'FETCH_NODES_ERROR';\n// search nodes\nexport const SEARCH_NODES = 'SEARCH_NODES';\nexport const SEARCH_NODES_SUCCESS = 'SEARCH_NODES_SUCCESS';\nexport const SEARCH_NODES_ERROR = 'SEARCH_NODES_ERROR';\n// update node\nexport const UPDATE_NODE = 'UPDATE_NODE';\nexport const UPDATE_NODE_SUCCESS = 'UPDATE_NODE_SUCCESS';\nexport const UPDATE_NODE_ERROR = 'UPDATE_NODE_ERROR';\n// update active node\nexport const UPDATE_ACTIVE_NODE = 'UPDATE_ACTIVE_NODE';\nexport const UPDATE_ACTIVE_NODE_ERROR = 'UPDATE_ACTIVE_NODE_ERROR';\nexport const UPDATE_ACTIVE_NODE_SUCCESS = 'UPDATE_ACTIVE_NODE_SUCCESS';\n// mark node view\nexport const MARK_NODE_VIEW = 'MARK_NODE_VIEW';\nexport const MARK_NODE_VIEW_SUCCESS = 'MARK_NODE_VIEW_SUCCESS';\nexport const MARK_NODE_VIEW_ERROR = 'MARK_NODE_VIEW_ERROR';\n// edit text node\nexport const EDIT_TEXT_NODE = 'EDIT_TEXT_NODE';\nexport const EDIT_TEXT_NODE_SUCCESS = 'EDIT_TEXT_NODE_SUCCESS';\nexport const EDIT_TEXT_NODE_ERROR = 'EDIT_TEXT_NODE_ERROR';\n// process text node\nexport const PROCESS_TEXT_NODE = 'PROCESS_TEXT_NODE';\nexport const PROCESS_TEXT_NODE_SUCCESS = 'PROCESS_TEXT_NODE_SUCCESS';\nexport const PROCESS_TEXT_NODE_ERROR = 'PROCESS_TEXT_NODE_ERROR';\n// create file node\nexport const CREATE_FILE_NODE = 'CREATE_FILE_NODE';\nexport const CREATE_FILE_NODE_SUCCESS = ' CREATE_FILE_NODE_SUCCESS';\nexport const CREATE_FILE_NODE_ERROR = 'CREATE_FILE_NODE_ERROR';\n// link file nodes\nexport const LINK_FILE_NODES = 'LINK_FILE_NODES';\nexport const LINK_FILE_NODES_SUCCESS = 'LINK_FILE_NODES_SUCCESS';\nexport const LINK_FILE_NODES_ERROR = 'LINK_FILE_NODES_ERROR';\n// fetch user node\nexport const FETCH_USER_NODE = 'FETCH_USER_NODE';\nexport const FETCH_USER_NODE_SUCCESS = 'FETCH_USER_NODE_SUCCESS';\nexport const FETCH_USER_NODE_ERROR = 'FETCH_USER_NODE_ERROR';\n// update user node\nexport const UPDATE_USER_NODE = 'UPDATE_USER_NODE';\nexport const UPDATE_USER_NODE_SUCCESS = 'UPDATE_USER_NODE_SUCCESS';\nexport const UPDATE_USER_NODE_ERROR = 'UPDATE_USER_NODE_ERROR';\n// update user avatar\nexport const UPDATE_USER_AVATAR = 'UPDATE_USER_AVATAR';\nexport const UPDATE_USER_AVATAR_SUCCESS = 'UPDATE_USER_AVATAR_SUCCESS';\nexport const UPDATE_USER_AVATAR_ERROR = 'UPDATE_USER_NODE_ERROR';\n// update user header image\nexport const UPDATE_USER_HEADER = 'UPDATE_USER_HEADER';\nexport const UPDATE_USER_HEADER_SUCCESS = 'UPDATE_USER_HEADER_SUCCESS';\nexport const UPDATE_USER_HEADER_ERROR = 'UPDATE_USER_HEADER_ERROR';\n// create associations\nexport const CREATE_ASSOCIATION = 'CREATE_ASSOCIATION';\nexport const CREATE_ASSOCIATION_SUCCESS = 'CREATE_ASSOCIATION_SUCCESS';\nexport const CREATE_ASSOCIATION_ERROR = 'CREATE_ASSOCIATION_ERROR';\n// fetch associations\nexport const FETCH_ASSOCIATIONS = 'FETCH_ASSOCIATIONS';\nexport const FETCH_ASSOCIATIONS_SUCCESS = 'FETCH_ASSOCIATIONS_SUCCESS';\nexport const FETCH_ASSOCIATIONS_ERROR = 'FETCH_ASSOCIATIONS_ERROR';\n// reset association list\nexport const RESET_ASSOCIATIONS = 'RESET_ASSOCIATIONS';\n// fetch association link list\nexport const FETCH_ASSOCIATION_LINK_LIST = 'FETCH_ASSOCIATIONS_LINK_LIST';\nexport const FETCH_ASSOCIATION_LINK_LIST_SUCCESS = 'FETCH_ASSOCIATIONS_LINK_LIST_SUCCESS';\nexport const FETCH_ASSOCIATION_LINK_LIST_ERROR = 'FETCH_ASSOCIATIONS_LINK_LIST_ERROR';\n// reset association link list\nexport const RESET_ASSOCIATION_LINK_LIST = 'RESET_ASSOCIATION_LINK_LIST';\n// set active node\nexport const SET_ACTIVE_NODE = 'SET_ACTIVE_NODE';\nexport const SET_ACTIVE_NODE_SUCCESS = 'SET_ACTIVE_NODE_SUCCESS';\nexport const SET_ACTIVE_NODE_ERROR = 'SET_ACTIVE_NODE_ERROR';\n// clear active node\nexport const CLEAR_ACTIVE_NODE = 'CLEAR_ACTIVE_NODE';\n// delete node\nexport const DELETE_NODE = 'DELETE_NODE';\nexport const DELETE_NODE_SUCCESS = 'DELETE_NODE_SUCCESS';\nexport const DELETE_NODE_ERROR = 'DELETE_NODE_ERROR';\n// remove from association list\nexport const REMOVE_FROM_ASSOCIATION_LIST = 'REMOVE_FROM_ASSOCIATION_LIST';\n// delete association link\nexport const DELETE_ASSOCIATION_LINK = 'DELETE_ASSOCIATION_LINK';\nexport const DELETE_ASSOCIATION_LINK_SUCCESS = 'DELETE_ASSOCIATION_LINK_SUCCESS';\nexport const DELETE_ASSOCIATION_LINK_ERROR = 'DELETE_ASSOCIATION_LINK_ERROR';\n// generate instance export\nexport const GENERATE_EXPORT = 'GENERATE_EXPORT';\nexport const GENERATE_EXPORT_ERROR = 'GENERATE_EXPORT_ERROR';\nexport const GENERATE_EXPORT_SUCCESS = 'GENERATE_EXPORT_SUCCESS';\n// fetch graph nodes\nexport const FETCH_GRAPH_DATA = 'FETCH_GRAPH_DATA';\nexport const FETCH_GRAPH_DATA_ERROR = 'FETCH_GRAPH_DATA_ERROR';\nexport const FETCH_GRAPH_DATA_SUCCESS = 'FETCH_GRAPH_DATA_SUCCESS';\n// load theme\nexport const LOAD_THEME = 'LOAD_THEME';\n","import instance from '../../../api/instance';\nimport history from '../../../utils/history';\nimport {\n\tCREATE_ACCOUNT,\n\tCREATE_ACCOUNT_SUCCESS,\n\tCREATE_ACCOUNT_ERROR,\n\tSIGN_IN,\n\tSIGN_IN_SUCCESS,\n\tSIGN_IN_ERROR,\n\tSIGN_OUT,\n\tSIGN_OUT_ERROR,\n\tREFRESH_AUTH,\n\tREFRESH_AUTH_SUCCESS,\n\tREFRESH_AUTH_ERROR,\n\tRESET_APP,\n} from './types';\nimport { message } from 'antd';\nimport { loadClientConfig } from '../../../utils/config';\n\n// Create Account Action handler\nexport const createAccount = (formValues) => async (dispatch) => {\n\t// let's take this as an opportunity to (re)initialize the backend config values in localstorage\n\tif (window.api) {\n\t\twindow.api.send('toMain', { action: 'get-backend-config' });\n\t}\n\t// lets also initialize some config values into storage/load them if they exist on this computer\n\tloadClientConfig();\n\t// dispatch create account action\n\tdispatch({ type: CREATE_ACCOUNT });\n\ttry {\n\t\tconst response = await instance.put('/auth/signup', formValues);\n\t\tlocalStorage.setItem('displayName', response.data.displayName);\n\t\tdispatch({ type: CREATE_ACCOUNT_SUCCESS, payload: response.data });\n\t\thistory.push('/');\n\t} catch (err) {\n\t\tdispatch({ type: CREATE_ACCOUNT_ERROR });\n\t\tmessage.error('There was a problem creating the account', 1);\n\t\thistory.push('/');\n\t}\n};\n\n// Sign In Action handler\nexport const signIn = (formValues) => async (dispatch) => {\n\tdispatch({ type: SIGN_IN });\n\t// lets also initialize some config values into storage/load them if they exist on this computer\n\tloadClientConfig();\n\ttry {\n\t\tconst response = await instance.put('/auth/login', formValues);\n\t\tlocalStorage.setItem('displayName', response.data.displayName);\n\t\tdispatch({ type: SIGN_IN_SUCCESS, payload: response.data });\n\t} catch (err) {\n\t\tdispatch({ type: SIGN_IN_ERROR });\n\t\tmessage.error('There was a problem signing in', 1);\n\t\thistory.push('/');\n\t}\n};\n\n// Sign Out Action Handler\nexport const signOut = () => async (dispatch) => {\n\tdispatch({ type: SIGN_OUT });\n\ttry {\n\t\tawait instance.get('/auth/signout');\n\t\tdispatch({ type: RESET_APP });\n\t\tmessage.success('Signed Out', 1);\n\t\t// send page redirect for the user\n\t\thistory.push('/');\n\t} catch (err) {\n\t\tdispatch({ type: SIGN_OUT_ERROR });\n\t\tmessage.error('There was a problem signing out', 1);\n\t}\n};\n\nexport const changePassword = (formValues) => async (dispatch) => {\n\ttry {\n\t\tconst response = await instance.patch('/auth/password', {\n\t\t\toldPassword: formValues.oldPassword,\n\t\t\tnewPassword: formValues.newPassword,\n\t\t});\n\t\tif (response.status === 200) {\n\t\t\tmessage.success('changed password', 1);\n\t\t}\n\t} catch (err) {\n\t\tmessage.error('Could not update password', 1);\n\t}\n};\n\nexport const forgotPassword = (formValues) => async (dispatch) => {\n\ttry {\n\t\tconst response = await instance.put('/auth/forgot-password', {\n\t\t\temail: formValues.email,\n\t\t\tnewPassword: formValues.newPassword,\n\t\t\tconfirmNewPassword: formValues.confirmNewPassword,\n\t\t});\n\t\tif (response.status === 200) {\n\t\t\twindow.location.replace('/');\n\t\t}\n\t} catch (err) {\n\t\tmessage.error('something went wrong', 1);\n\t}\n};\n\nexport const isAuthenticated = () => async (dispatch) => {\n\ttry {\n\t\tdispatch({ type: REFRESH_AUTH });\n\t\tconst response = await instance.get('/auth');\n\t\tdispatch({ type: REFRESH_AUTH_SUCCESS, payload: response.data });\n\t} catch (err) {\n\t\tdispatch({ type: REFRESH_AUTH_ERROR });\n\t}\n};\n","import instance from '../../../api/instance';\n// import history from '../history';\nimport {\n  FETCH_USER_NODE,\n  UPDATE_USER_NODE,\n  UPDATE_USER_NODE_ERROR,\n  UPDATE_USER_NODE_SUCCESS,\n  UPDATE_USER_AVATAR,\n  UPDATE_USER_AVATAR_SUCCESS,\n  UPDATE_USER_AVATAR_ERROR,\n  UPDATE_USER_HEADER,\n  UPDATE_USER_HEADER_SUCCESS,\n  UPDATE_USER_HEADER_ERROR,\n} from './types';\nimport { message } from 'antd';\n\n// get user by username handler\nexport const fetchUserByUsername = (username) => async (dispatch) => {\n  dispatch({ type: FETCH_USER_NODE });\n  try {\n    const response = await instance.get('/user/username', { params: { username } });\n    const user = response.data.user;\n    return user;\n    // TODO: once i add users a node type on the homepage, is when i should be adding this reducer\n    // dispatch({ type: FETCH_TEXT_NODE_SUCCESS, payload: response.data });\n  } catch (err) {\n    // dispatch({ type: FETCH_TEXT_NODE_ERROR });\n    message.error('Could not fetch user', 1);\n    // history.push('/');\n  }\n};\n\n// get user by username handler\n// export const fetchUserByEmail = email => async dispatch => {\n//   dispatch({ type: FETCH_USER_NODE });\n//   try {\n//     const response = await instance.get('/user/username', { params: { email } });\n//     const user = response.data.user;\n//     return user;\n//     // TODO: once i add users a node type on the homepage, is when i should be adding this reducer\n//     // dispatch({ type: FETCH_TEXT_NODE_SUCCESS, payload: response.data });\n//   } catch (err) {\n//     // dispatch({ type: FETCH_TEXT_NODE_ERROR });\n//     message.error('Could not fetch user', 1);\n//     // history.push('/');\n//   }\n// };\n\n// update user by username\nexport const updateUserInfo = (user) => async (dispatch) => {\n  dispatch({ type: UPDATE_USER_NODE });\n  try {\n    const response = await instance.patch('/user/info', {\n      username: user.username,\n      bio: user.bio,\n      displayName: user.displayName,\n    });\n    const updatedUser = response.data.user;\n    dispatch({ type: UPDATE_USER_NODE_SUCCESS, user: updatedUser });\n    return updatedUser;\n  } catch (err) {\n    dispatch({ type: UPDATE_USER_NODE_ERROR });\n    message.error('Could not update user', 1);\n  }\n};\n\n// update username\nexport const updateUsername = (username) => async (dispatch) => {\n  dispatch({ type: UPDATE_USER_NODE });\n  try {\n    const response = await instance.patch('/user/username', {\n      username: username,\n    });\n    const updatedUser = response.data.user;\n    dispatch({ type: UPDATE_USER_NODE_SUCCESS, user: updatedUser });\n    return updatedUser;\n  } catch (err) {\n    dispatch({ type: UPDATE_USER_NODE_ERROR });\n    message.error('Could not update user', 1);\n  }\n};\n\n// update user by username\nexport const updateEmail = (email) => async (dispatch) => {\n  dispatch({ type: UPDATE_USER_NODE });\n  try {\n    const response = await instance.patch('/user/email', {\n      email: email,\n    });\n    const updatedUser = response.data.user;\n    dispatch({ type: UPDATE_USER_NODE_SUCCESS, user: updatedUser });\n    return updatedUser;\n  } catch (err) {\n    dispatch({ type: UPDATE_USER_NODE_ERROR });\n    message.error('Could not update user', 1);\n  }\n};\n\n// update user avatar\nexport const updateUserAvatar = (file) => async (dispatch) => {\n  dispatch({ type: UPDATE_USER_AVATAR });\n  try {\n    // create image FormData\n    const imageData = new FormData();\n    imageData.append('image', file);\n    // send the request\n    const response = await instance.patch('/user/avatar', imageData, {\n      headers: { 'Content-Type': 'multipart/form-data' },\n    });\n    // if it's sucessful dispatch the success action\n    if (response.status === 200) {\n      dispatch({ type: UPDATE_USER_AVATAR_SUCCESS, url: response.data.url });\n      // return the image URL for immediate use\n      return response.data.url;\n    } else {\n      message.error('There was a problem uploading the image', 1);\n    }\n  } catch (err) {\n    dispatch({ type: UPDATE_USER_AVATAR_ERROR });\n    message.error('There was a problem uploading the image', 1);\n  }\n};\n\nexport const updateUserHeader = (file) => async (dispatch) => {\n  dispatch({ type: UPDATE_USER_HEADER });\n  try {\n    // create image FormData\n    const imageData = new FormData();\n    imageData.append('image', file);\n    // send the request\n    const response = await instance.patch('/user/header', imageData, {\n      headers: { 'Content-Type': 'multipart/form-data' },\n    });\n    // if it's sucessful dispatch the success action\n    if (response.status === 200) {\n      dispatch({ type: UPDATE_USER_HEADER_SUCCESS, url: response.data.url });\n      // return the image URL for immediate use\n      return response.data.url;\n    } else {\n      message.error('There was a problem uploading the image', 1);\n    }\n  } catch (err) {\n    dispatch({ type: UPDATE_USER_HEADER_ERROR });\n    message.error('There was a problem uploading the image', 1);\n  }\n};\n","import instance from '../../../api/instance';\nimport history from '../../../utils/history';\nimport {\n\tCREATE_ASSOCIATION,\n\tCREATE_ASSOCIATION_ERROR,\n\tCREATE_ASSOCIATION_SUCCESS,\n\tFETCH_ASSOCIATION_LINK_LIST,\n\tFETCH_ASSOCIATION_LINK_LIST_ERROR,\n\tFETCH_ASSOCIATION_LINK_LIST_SUCCESS,\n\tRESET_ASSOCIATION_LINK_LIST,\n\tFETCH_ASSOCIATIONS,\n\tFETCH_ASSOCIATIONS_ERROR,\n\tFETCH_ASSOCIATIONS_SUCCESS,\n\tRESET_ASSOCIATIONS,\n\tREMOVE_FROM_ASSOCIATION_LIST,\n\tDELETE_ASSOCIATION_LINK,\n\tDELETE_ASSOCIATION_LINK_SUCCESS,\n\tDELETE_ASSOCIATION_LINK_ERROR,\n\t// RESET_APP\n} from './types';\nimport { message } from 'antd';\n\n// fetch associations for associationLinklist\nexport const fetchAssociationLinkList = (query) => async (dispatch) => {\n\tlet linkMode = JSON.parse(localStorage.getItem('link-mode'));\n\tlet bidirectional = linkMode === 'bidirectional' ? 'yes' : 'no';\n\ttry {\n\t\tif (!query.page) {\n\t\t\tdispatch({ type: RESET_ASSOCIATION_LINK_LIST });\n\t\t\tquery.page = 1;\n\t\t}\n\t\tdispatch({ type: FETCH_ASSOCIATION_LINK_LIST });\n\t\tconst response = await instance.get('/association', {\n\t\t\tparams: { nodeUUID: query.nodeUUID, page: query.page, bidirectional },\n\t\t});\n\t\tdispatch({\n\t\t\ttype: FETCH_ASSOCIATION_LINK_LIST_SUCCESS,\n\t\t\tpayload: response.data,\n\t\t\tnodeUUID: query.nodeUUID,\n\t\t\tpage: query.page,\n\t\t});\n\t} catch (err) {\n\t\tdispatch({ type: FETCH_ASSOCIATION_LINK_LIST_ERROR });\n\t\tmessage.error('Could not fetch items', 1);\n\t\thistory.push('/');\n\t}\n};\n\n// fetch associations for associationList\nexport const fetchAssociations = (query) => async (dispatch) => {\n\tlet linkMode = JSON.parse(localStorage.getItem('link-mode'));\n\tlet bidirectional = linkMode === 'bidirectional' ? 'yes' : 'no';\n\ttry {\n\t\tif (!query.page) {\n\t\t\tdispatch({ type: RESET_ASSOCIATIONS });\n\t\t\tquery.page = 1;\n\t\t}\n\t\tdispatch({ type: FETCH_ASSOCIATIONS });\n\t\tconst response = await instance.get('/association', {\n\t\t\tparams: { nodeUUID: query.nodeUUID, page: query.page, bidirectional },\n\t\t});\n\t\tdispatch({\n\t\t\ttype: FETCH_ASSOCIATIONS_SUCCESS,\n\t\t\tpayload: response.data,\n\t\t\tnodeUUID: query.nodeUUID,\n\t\t\tpage: query.page,\n\t\t});\n\t} catch (err) {\n\t\tdispatch({ type: FETCH_ASSOCIATIONS_ERROR });\n\t\tmessage.error('Could not fetch items', 1);\n\t\thistory.push('/');\n\t}\n};\n\n// create a new association\nexport const createAssociation = (nodeUUID, linkedNodeUUID) => async (dispatch) => {\n\ttry {\n\t\tdispatch({ type: CREATE_ASSOCIATION });\n\t\tconst response = await instance.put('/association', {\n\t\t\tnodeUUID,\n\t\t\tlinkedNodeUUID,\n\t\t});\n\t\tdispatch({\n\t\t\ttype: CREATE_ASSOCIATION_SUCCESS,\n\t\t\tnodes: response.data.association,\n\t\t\tnodeUUID,\n\t\t});\n\t} catch (err) {\n\t\tdispatch({ type: CREATE_ASSOCIATION_ERROR });\n\t\tmessage.error('Could not create association', 1);\n\t\thistory.push('/');\n\t}\n};\n\n// get autocomplete values for association creation\nexport const associationAutocomplete = (query) => async (dispatch) => {\n\tlet linkMode = JSON.parse(localStorage.getItem('link-mode'));\n\tlet bidirectional = linkMode === 'bidirectional' ? 'yes' : 'no';\n\ttry {\n\t\tconst response = await instance.get('/association/autocomplete', {\n\t\t\tparams: { searchQuery: query.searchQuery, nodeUUID: query.uuid, bidirectional },\n\t\t});\n\t\treturn response.data.nodes;\n\t} catch (err) {\n\t\tmessage.error('Could not search nodes', 1);\n\t\thistory.push('/');\n\t}\n};\n\n// delete text node handler\nexport const deleteAssociationLink = (nodeA, nodeB) => async (dispatch) => {\n\tlet linkMode = JSON.parse(localStorage.getItem('link-mode'));\n\tlet bidirectional = linkMode === 'bidirectional' ? 'yes' : 'no';\n\tdispatch({ type: DELETE_ASSOCIATION_LINK });\n\ttry {\n\t\tconst response = await instance.delete(`/association`, {\n\t\t\tparams: { nodeA, nodeB, bidirectional },\n\t\t});\n\t\tif (response.status === 200) {\n\t\t\tdispatch({ type: DELETE_ASSOCIATION_LINK_SUCCESS, deletedUUID: response.data.deletedUUID });\n\t\t}\n\t} catch (err) {\n\t\tdispatch({ type: DELETE_ASSOCIATION_LINK_ERROR });\n\t\tmessage.error('There was a problem deleting the node', 1);\n\t}\n};\n\n// remove from association list\nexport const removeFromAssociationList = (uuid) => {\n\treturn {\n\t\ttype: REMOVE_FROM_ASSOCIATION_LIST,\n\t\tdeletedUUID: uuid,\n\t};\n};\n\n// update the linkStrength for an association\nexport const updateLinkStrength = (nodeA, nodeB) => async (dispatch) => {\n\ttry {\n\t\tawait instance.put('/association/linkstrength', {\n\t\t\tnodeA,\n\t\t\tnodeB,\n\t\t});\n\t} catch (err) {\n\t\tmessage.error('There was a problem with your request', 1);\n\t}\n};\n","import { SHOW_COMPONENT, HIDE_COMPONENT, LOAD_THEME } from './types';\nimport { setupTheme } from '../../../utils/theme';\n\nexport const showComponent = (type, content) => {\n\treturn {\n\t\ttype: SHOW_COMPONENT,\n\t\tpayload: {\n\t\t\ttype: type,\n\t\t\tcontent: content,\n\t\t},\n\t};\n};\n\nexport const hideComponent = (type) => {\n\treturn {\n\t\ttype: HIDE_COMPONENT,\n\t\tpayload: {\n\t\t\ttype: type,\n\t\t},\n\t};\n};\n\nexport const loadTheme = () => {\n\tconsole.log('load theme called');\n\tlet theme = setupTheme();\n\treturn {\n\t\ttype: LOAD_THEME,\n\t\tpayload: {\n\t\t\ttheme,\n\t\t},\n\t};\n};\n","export const setupTheme = () => {\n\tlet theme = JSON.parse(localStorage.getItem('theme'));\n\tlet colors = {};\n\tswitch (theme) {\n\t\tcase 'classic':\n\t\t\tcolors = {\n\t\t\t\tcardTitleColor: '#03fc88',\n\t\t\t\tcardButtonColor: 'white',\n\t\t\t\tcardHeaderColor: '#111111',\n\t\t\t\tcardBodyColor: '#111111',\n\t\t\t\tcardTextColor: '#e7e7e7',\n\t\t\t\tgraphNodeColor: '#ffffff',\n\t\t\t\tgraphNodeBorderColor: '#fff019',\n\t\t\t\tgraphNodeHoverColor: '#f0ff99',\n\t\t\t\tgraphNodeBorderHoverColor: '#f0ff99',\n\t\t\t\ttextEditorBackground: 'white',\n\t\t\t\ttextEditorText: 'black',\n\t\t\t};\n\t\t\tbreak;\n\t\tcase 'light':\n\t\t\tcolors = {\n\t\t\t\tcardTitleColor: 'black',\n\t\t\t\tcardButtonColor: 'black',\n\t\t\t\tcardHeaderColor: '#e7e7e7',\n\t\t\t\tcardBodyColor: '#e7e7e7',\n\t\t\t\tcardTextColor: 'grey',\n\t\t\t\tgraphNodeColor: '#f0ff99',\n\t\t\t\tgraphNodeBorderColor: '#f0ff99',\n\t\t\t\tgraphNodeHoverColor: 'white',\n\t\t\t\tgraphNodeBorderHoverColor: 'white',\n\t\t\t\ttextEditorBackground: 'white',\n\t\t\t\ttextEditorText: 'black',\n\t\t\t};\n\t\t\tbreak;\n\t\tcase 'translucent':\n\t\t\tcolors = {\n\t\t\t\tcardTitleColor: 'white',\n\t\t\t\tcardButtonColor: 'white',\n\t\t\t\tcardHeaderColor: 'rgba(0, 0, 0, .6)',\n\t\t\t\tcardBodyColor: 'rgba(0, 0, 0, .3)',\n\t\t\t\tcardTextColor: '#e7e7e7',\n\t\t\t\tgraphNodeColor: 'rgba(255, 255, 255, .7)',\n\t\t\t\tgraphNodeBorderColor: '#e7e7e7',\n\t\t\t\tgraphNodeHoverColor: 'rgba(255, 255, 255, .4)',\n\t\t\t\tgraphNodeBorderHoverColor: 'rgba(255, 255, 255, .4)',\n\t\t\t\ttextEditorBackground: 'white',\n\t\t\t\ttextEditorText: '#272727',\n\t\t\t};\n\t\t\tbreak;\n\t\tcase 'translucent green':\n\t\t\tcolors = {\n\t\t\t\tcardTitleColor: '#03fc88',\n\t\t\t\tcardButtonColor: '#03fc88',\n\t\t\t\tcardHeaderColor: 'rgba(0, 0, 0, .6)',\n\t\t\t\tcardBodyColor: 'rgba(0, 0, 0, .3)',\n\t\t\t\tcardTextColor: '#e7e7e7',\n\t\t\t\tgraphNodeColor: '#03fc88',\n\t\t\t\tgraphNodeBorderColor: '#03fc88',\n\t\t\t\tgraphNodeHoverColor: 'rgba(3, 252, 136, .5)',\n\t\t\t\tgraphNodeBorderHoverColor: 'rgba(3, 252, 136, .5)',\n\t\t\t\ttextEditorBackground: 'white',\n\t\t\t\ttextEditorText: '#272727',\n\t\t\t};\n\t\t\tbreak;\n\t\tcase 'translucent blue':\n\t\t\tcolors = {\n\t\t\t\tcardTitleColor: '#34d5eb',\n\t\t\t\tcardButtonColor: '#34d5eb',\n\t\t\t\tcardHeaderColor: 'rgba(0, 0, 0, .6)',\n\t\t\t\tcardBodyColor: 'rgba(0, 0, 0, .3)',\n\t\t\t\tcardTextColor: '#e7e7e7',\n\t\t\t\tgraphNodeColor: '#34d5eb',\n\t\t\t\tgraphNodeBorderColor: '#3651ff',\n\t\t\t\tgraphNodeHoverColor: 'rgba(50, 66, 168, .5)',\n\t\t\t\tgraphNodeBorderHoverColor: 'rgba(50, 66, 168, .5)',\n\t\t\t\ttextEditorBackground: 'white',\n\t\t\t\ttextEditorText: '#272727',\n\t\t\t};\n\t\t\tbreak;\n\t\tcase 'translucent red':\n\t\t\tcolors = {\n\t\t\t\tcardTitleColor: '#ff3d78',\n\t\t\t\tcardButtonColor: '#ff3d78',\n\t\t\t\tcardHeaderColor: 'rgba(0, 0, 0, .6)',\n\t\t\t\tcardBodyColor: 'rgba(0, 0, 0, .3)',\n\t\t\t\tcardTextColor: '#e7e7e7',\n\t\t\t\tgraphNodeColor: '#ff3d78',\n\t\t\t\tgraphNodeBorderColor: '#c70a43',\n\t\t\t\tgraphNodeHoverColor: 'rgba(255, 61, 120, .5)',\n\t\t\t\tgraphNodeBorderHoverColor: 'rgba(255, 61, 120, .5)',\n\t\t\t\ttextEditorBackground: 'white',\n\t\t\t\ttextEditorText: '#272727',\n\t\t\t};\n\t\t\tbreak;\n\t\tcase 'translucent yellow':\n\t\t\tcolors = {\n\t\t\t\tcardTitleColor: '#faff63',\n\t\t\t\tcardButtonColor: '#faff63',\n\t\t\t\tcardHeaderColor: 'rgba(0, 0, 0, .6)',\n\t\t\t\tcardBodyColor: 'rgba(0, 0, 0, .3)',\n\t\t\t\tcardTextColor: '#e7e7e7',\n\t\t\t\tgraphNodeColor: '#faff63',\n\t\t\t\tgraphNodeBorderColor: '#e7e7e7',\n\t\t\t\tgraphNodeHoverColor: 'rgba(250, 255, 99, .5)',\n\t\t\t\tgraphNodeBorderHoverColor: 'rgba(250, 255, 99, .5)',\n\t\t\t\ttextEditorBackground: 'white',\n\t\t\t\ttextEditorText: '#272727',\n\t\t\t};\n\t\t\tbreak;\n\t\tcase 'translucent orange':\n\t\t\tcolors = {\n\t\t\t\tcardTitleColor: '#ffa424',\n\t\t\t\tcardButtonColor: '#ffa424',\n\t\t\t\tcardHeaderColor: 'rgba(0, 0, 0, .6)',\n\t\t\t\tcardBodyColor: 'rgba(0, 0, 0, .3)',\n\t\t\t\tcardTextColor: '#e7e7e7',\n\t\t\t\tgraphNodeColor: '#ffa424',\n\t\t\t\tgraphNodeBorderColor: '#e7e7e7',\n\t\t\t\tgraphNodeHoverColor: 'rgba(255, 164, 36, .5)',\n\t\t\t\tgraphNodeBorderHoverColor: 'rgba(255, 164, 36, .5)',\n\t\t\t\ttextEditorBackground: 'white',\n\t\t\t\ttextEditorText: '#272727',\n\t\t\t};\n\t\t\tbreak;\n\t\tdefault:\n\t\t\tbreak;\n\t}\n\treturn colors;\n};\n","import instance from '../../../api/instance';\nimport history from '../../../utils/history';\nimport { GENERATE_EXPORT, GENERATE_EXPORT_ERROR, GENERATE_EXPORT_SUCCESS } from './types';\nimport { message } from 'antd';\n\n// export the instance data and get the url of the file\nexport const generateInstanceExport = () => async (dispatch) => {\n\tmessage.success('generating export!', 2);\n\ttry {\n\t\tdispatch({ type: GENERATE_EXPORT });\n\t\tconst response = await instance.put('/port/export/all');\n\t\tif (response.status === 200) {\n\t\t\tdispatch({ type: GENERATE_EXPORT_SUCCESS, payload: response.data });\n\t\t\t// redirect\n\t\t\thistory.push('/');\n\t\t}\n\t} catch (err) {\n\t\tdispatch({ type: GENERATE_EXPORT_ERROR });\n\t\tmessage.error('Could not export instance data', 1);\n\t\thistory.push('/');\n\t}\n};\n\n// generate export based on a node\nexport const generateExportByUUID = (uuid) => async (dispatch) => {\n\tmessage.success('generating export!', 2);\n\ttry {\n\t\tdispatch({ type: GENERATE_EXPORT });\n\t\tconst response = await instance.put('/port/export/', { uuid });\n\t\tif (response.status === 200) {\n\t\t\tdispatch({ type: GENERATE_EXPORT_SUCCESS, payload: response.data });\n\t\t\t// redirect\n\t\t\thistory.push('/');\n\t\t}\n\t} catch (err) {\n\t\tdispatch({ type: GENERATE_EXPORT_ERROR });\n\t\tmessage.error('Could not export instance data', 1);\n\t\thistory.push('/');\n\t}\n};\n\n// export the instance data and get the url of the file\nexport const unpackImport = (uuid) => async (dispatch) => {\n\ttry {\n\t\tconst response = await instance.put('/port/import/', { uuid });\n\t\tif (response.status === 200) {\n\t\t\tmessage.success('started import process!', 3);\n\t\t\thistory.push('/');\n\t\t}\n\t} catch (err) {\n\t\tmessage.error('Could not import instance data', 1);\n\t\thistory.push('/');\n\t}\n};\n\nexport const removeImportsByPackage = (uuid) => async (dispatch) => {\n\tmessage.success('removing imports...', 1);\n\ttry {\n\t\tconst response = await instance.patch('/port/export/undo/', { uuid });\n\t\tif (response.status === 200) {\n\t\t\thistory.push('/');\n\t\t}\n\t} catch (err) {\n\t\tmessage.error('Could not remove imports for this export', 1);\n\t\thistory.push('/');\n\t}\n};\n","import instance from '../../instance';\nimport {\n\tCREATE_FILE_NODE,\n\tCREATE_FILE_NODE_SUCCESS,\n\tCREATE_FILE_NODE_ERROR,\n\tLINK_FILE_NODES,\n\tLINK_FILE_NODES_SUCCESS,\n\tLINK_FILE_NODES_ERROR,\n} from './types';\nimport { message } from 'antd';\n\nexport const createFileNode = (file, name, linkedNode) => async (dispatch) => {\n\tdispatch({ type: CREATE_FILE_NODE });\n\ttry {\n\t\t// create image FormData\n\t\tconst fileData = new FormData();\n\t\tfileData.append('image', file);\n\t\tif (name) {\n\t\t\tfileData.append('name', name);\n\t\t}\n\t\tif (linkedNode) {\n\t\t\tfileData.append('linkedNode', linkedNode);\n\t\t}\n\t\t// send the request\n\t\tconst response = await instance.put('/file', fileData, {\n\t\t\theaders: { 'Content-Type': 'multipart/form-data' },\n\t\t});\n\t\t// if it's sucessful dispatch the success action\n\t\tif (response.status === 200) {\n\t\t\tdispatch({ type: CREATE_FILE_NODE_SUCCESS, payload: response.data.node });\n\t\t\t// return the image URL for immediate use\n\t\t\treturn response.data.node.preview;\n\t\t} else {\n\t\t\tmessage.error('There was a problem inserting the file', 1);\n\t\t}\n\t} catch (err) {\n\t\tdispatch({ type: CREATE_FILE_NODE_ERROR });\n\t\tmessage.error('There was a problem inserting the file', 1);\n\t}\n};\n\nexport const linkFileNodes = (fileList, linkedNode) => async (dispatch) => {\n\tdispatch({ type: LINK_FILE_NODES });\n\ttry {\n\t\t// send the request\n\t\tconst response = await instance.put('/file/link', {\n\t\t\tfileList: JSON.stringify(fileList),\n\t\t\tlinkedNode: linkedNode,\n\t\t});\n\t\t// if it's sucessful dispatch the success action\n\t\tif (response.status === 200) {\n\t\t\tdispatch({ type: LINK_FILE_NODES_SUCCESS, nodes: response.data.nodes });\n\t\t} else {\n\t\t\tmessage.error('There was a problem creating the file nodes', 1);\n\t\t}\n\t} catch (err) {\n\t\tdispatch({ type: LINK_FILE_NODES_ERROR });\n\t\tmessage.error('There was a problem creating the file nodes', 1);\n\t}\n};\n\nexport const launchFileNode = (uuid) => async (dispatch) => {\n\t// message.success('loading...', 1);\n\ttry {\n\t\t// send the request\n\t\tawait instance.put('/file/launch', { uuid });\n\t} catch (err) {\n\t\tmessage.error('There was a problem launching the file', 1);\n\t\twindow.location.reload();\n\t}\n};\n\nexport const openFileInExplorer = (uuid) => async (dispatch) => {\n\t// message.success('loading...', 1);\n\ttry {\n\t\t// send the request\n\t\tawait instance.put('/file/explorer', { uuid });\n\t} catch (err) {\n\t\tmessage.error('There was a problem opening the file in the file explorer', 1);\n\t\twindow.location.reload();\n\t}\n};\n","import React, { useEffect } from 'react';\nimport { connect } from 'react-redux';\nimport { loadTheme } from '../api/redux/actions';\nimport test from '../resources/nice-star.gif';\n\n// theme wrapper component\nconst Theme = (props) => {\n\tuseEffect(() => {\n\t\t// go ahead and load the theme\n\t\tprops.loadTheme();\n\t});\n\n\tconst loadBackground = () => {\n\t\tlet customImage = localStorage.getItem('background-image');\n\t\tlet bgImage = test;\n\t\tif (customImage) {\n\t\t\tbgImage = customImage;\n\t\t}\n\t\treturn bgImage;\n\t};\n\n\treturn (\n\t\t<div\n\t\t\tstyle={{\n\t\t\t\tbackgroundImage: `url(${loadBackground()})`,\n\t\t\t\tbackgroundColor: '#272727',\n\t\t\t\tbackgroundSize: '100vw 107vh',\n\t\t\t\tbackgroundRepeat: 'repeat',\n\t\t\t}}\n\t\t>\n\t\t\t{props.children}\n\t\t</div>\n\t);\n};\n\nexport default connect(null, {\n\tloadTheme,\n})(Theme);\n","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { Link } from 'react-router-dom';\nimport { Formik, Form, Field, ErrorMessage } from 'formik';\nimport * as Yup from 'yup';\nimport { Layout, Card } from 'antd';\n// custom code\nimport { signIn } from '../../api/redux/actions';\nimport './css/Login.less';\n\n// destructure antd\nconst { Content, Footer } = Layout;\n\nclass Login extends Component {\n\tcomponentDidMount() {\n\t\tdocument.title = 'synthona';\n\t}\n\n\tgetUsername = () => {\n\t\t// const username = localStorage.getItem('displayName');\n\t\t// if (username) {\n\t\t//   return username;\n\t\t// } else {\n\t\t//   return 'synthona';\n\t\t// }\n\t\treturn 'synthona';\n\t};\n\n\tonSubmit = (values, { setSubmitting }) => {\n\t\tsetSubmitting(false);\n\t\tthis.props.signIn(values);\n\t};\n\n\trender() {\n\t\treturn (\n\t\t\t<Layout className='login-layout'>\n\t\t\t\t<Content className='login-content'>\n\t\t\t\t\t<Card className='login-card'>\n\t\t\t\t\t\t<Formik\n\t\t\t\t\t\t\tinitialValues={{ email: '', password: '', confirmPassword: '' }}\n\t\t\t\t\t\t\tvalidationSchema={validationSchema}\n\t\t\t\t\t\t\tonSubmit={this.onSubmit}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{({ isSubmitting }) => (\n\t\t\t\t\t\t\t\t<Form className='login-form'>\n\t\t\t\t\t\t\t\t\t<h1 className='login-title'>\n\t\t\t\t\t\t\t\t\t\t<span\n\t\t\t\t\t\t\t\t\t\t\trole='img'\n\t\t\t\t\t\t\t\t\t\t\taria-label='jsx-a11y/accessible-emoji'\n\t\t\t\t\t\t\t\t\t\t\tstyle={{ paddingRight: '0.5rem' }}\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t{' '}\n\t\t\t\t\t\t\t\t\t\t\t✨\n\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\tsynthona\n\t\t\t\t\t\t\t\t\t\t<span\n\t\t\t\t\t\t\t\t\t\t\trole='img'\n\t\t\t\t\t\t\t\t\t\t\taria-label='jsx-a11y/accessible-emoji'\n\t\t\t\t\t\t\t\t\t\t\tstyle={{ paddingRight: '0.5rem' }}\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t{'  '}✨\n\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t</h1>\n\t\t\t\t\t\t\t\t\t<Field type='email' name='email' placeholder='email' className='login-field' />\n\t\t\t\t\t\t\t\t\t<ErrorMessage name='email' component='div' className='login-error' />\n\t\t\t\t\t\t\t\t\t<Field\n\t\t\t\t\t\t\t\t\t\ttype='password'\n\t\t\t\t\t\t\t\t\t\tname='password'\n\t\t\t\t\t\t\t\t\t\tplaceholder='password'\n\t\t\t\t\t\t\t\t\t\tclassName='login-field'\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t<ErrorMessage name='password' component='div' className='login-error' />\n\t\t\t\t\t\t\t\t\t<ErrorMessage name='confirmPassword' component='div' className='login-error' />\n\t\t\t\t\t\t\t\t\t<button type='submit' disabled={isSubmitting} className='login-submit'>\n\t\t\t\t\t\t\t\t\t\tlogin\n\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t\t<Link to='/create-account' className='login-signup'>\n\t\t\t\t\t\t\t\t\t\tcreate account\n\t\t\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t\t\t</Form>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</Formik>\n\t\t\t\t\t\t<div className='login-after-card'>\n\t\t\t\t\t\t\t<Link to='/forgot-password' className='login-forgot-password'>\n\t\t\t\t\t\t\t\tlost password\n\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</Card>\n\t\t\t\t</Content>\n\t\t\t\t<Footer />\n\t\t\t</Layout>\n\t\t);\n\t}\n}\n\nconst validationSchema = Yup.object().shape({\n\temail: Yup.string().required().email('E-mail is not valid!'),\n\tpassword: Yup.string().required().min(5, 'Password has to be longer than 6 characters!'),\n});\n\nconst mapStateToProps = (state) => {\n\treturn { isSignedIn: state.auth.isSignedIn };\n};\n\nexport default connect(mapStateToProps, { signIn })(Login);\n","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { Link } from 'react-router-dom';\nimport { Formik, Form, Field, ErrorMessage } from 'formik';\nimport * as Yup from 'yup';\nimport { Layout, Card } from 'antd';\n// custom code\nimport { forgotPassword } from '../../api/redux/actions';\nimport './css/Login.less';\n\n// destructure antd\nconst { Content, Footer } = Layout;\n\nclass ForgotPassword extends Component {\n  componentDidMount() {\n    document.title = 'forgot password';\n  }\n\n  onSubmit = (values, { setSubmitting }) => {\n    setSubmitting(false);\n    this.props.forgotPassword(values);\n  };\n\n  render() {\n    return (\n      <Layout className='login-layout'>\n        <Content className='login-content'>\n          <Card className='login-card'>\n            <Formik\n              initialValues={{ email: '', password: '', confirmPassword: '' }}\n              validationSchema={validationSchema}\n              onSubmit={this.onSubmit}\n            >\n              {({ isSubmitting }) => (\n                <Form className='login-form'>\n                  <h1 className='login-title'>\n                    {' '}\n                    <span\n                      role='img'\n                      aria-label='jsx-a11y/accessible-emoji'\n                      style={{ paddingRight: '0.5rem' }}\n                    >\n                      {' '}\n                      ✨\n                    </span>\n                    lost password{' '}\n                    <span\n                      role='img'\n                      aria-label='jsx-a11y/accessible-emoji'\n                      style={{ paddingRight: '0.5rem' }}\n                    >\n                      {' '}\n                      ✨\n                    </span>\n                  </h1>\n                  <Field type='email' name='email' placeholder='email' className='login-field' />\n                  <ErrorMessage name='email' component='div' className='login-error' />\n                  <Field\n                    type='password'\n                    name='newPassword'\n                    placeholder='new password'\n                    className='login-field'\n                  />\n                  <ErrorMessage name='newPassword' component='div' className='login-error' />\n                  <Field\n                    type='password'\n                    name='confirmNewPassword'\n                    placeholder='confirm new password'\n                    className='login-field'\n                  />\n                  <ErrorMessage name='confirmNewPassword' component='div' className='login-error' />\n                  <button type='submit' disabled={isSubmitting} className='login-submit'>\n                    reset\n                  </button>\n                  <Link to='/' className='login-signup'>\n                    back to login\n                  </Link>\n                </Form>\n              )}\n            </Formik>\n          </Card>\n        </Content>\n        <Footer />\n      </Layout>\n    );\n  }\n}\n\nconst validationSchema = Yup.object().shape({\n  email: Yup.string().required().email('E-mail is not valid!'),\n  newPassword: Yup.string().required('new password is required'),\n  confirmNewPassword: Yup.string()\n    .required('please confirm new password')\n    .oneOf([Yup.ref('newPassword')], \"Your passwords don't match\"),\n});\n\nconst mapStateToProps = (state) => {\n  return { isSignedIn: state.auth.isSignedIn };\n};\n\nexport default connect(mapStateToProps, { forgotPassword })(ForgotPassword);\n","import React from 'react';\nimport { Layout } from 'antd';\nimport { Spin } from 'antd';\n\nconst Spinner = (props) => {\n\tconst spinnerAlignment = () => {\n\t\tif (props.alignment === 'top') {\n\t\t\treturn 'start';\n\t\t} else {\n\t\t\treturn 'center';\n\t\t}\n\t};\n\n\treturn (\n\t\t<Layout>\n\t\t\t<Spin\n\t\t\t\tstyle={{\n\t\t\t\t\theight: '100vh',\n\t\t\t\t\tdisplay: 'flex',\n\t\t\t\t\tjustifyContent: 'center',\n\t\t\t\t\talignItems: spinnerAlignment(),\n\t\t\t\t}}\n\t\t\t\tclassName='loading-spinner'\n\t\t\t\tsize='large'\n\t\t\t></Spin>\n\t\t</Layout>\n\t);\n};\n\nexport default Spinner;\n","import React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport { Menu, Avatar, Modal, Drawer, Icon } from 'antd';\nimport {\n\tsignOut,\n\thideComponent,\n\tgenerateInstanceExport,\n\tclearActiveNode,\n} from '../../api/redux/actions';\n// images\nimport defaultAvatar from '../../resources/synthona-logo.png';\n// custom code\nimport './css/MainSider.less';\nimport Spinner from './Spinner';\n// destructure antd components\nconst { Item } = Menu;\n\nclass MainSider extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\tshowSignoutModal: null,\n\t\t\tvisible: false,\n\t\t};\n\t}\n\n\tsignOutHandler = () => {\n\t\tthis.props.signOut();\n\t};\n\n\t// show modal to confirm deletion\n\ttoggleSignoutModal = () => {\n\t\tif (this.state.showSignoutModal) {\n\t\t\tthis.setState({ showSignoutModal: false });\n\t\t\t// temporary fix to remove overflow property being set on body by antd\n\t\t\tdocument.body.style.removeProperty('overflow');\n\t\t} else {\n\t\t\tthis.setState({ showSignoutModal: true });\n\t\t}\n\t};\n\n\trenderDrawerClasses = () => {\n\t\tif (this.props.animate === false) {\n\t\t\treturn 'page-sider no-animation';\n\t\t} else {\n\t\t\treturn 'page-sider';\n\t\t}\n\t};\n\n\trender() {\n\t\tif (this.props.mainSider === null) {\n\t\t\treturn <Spinner></Spinner>;\n\t\t}\n\n\t\treturn (\n\t\t\t<div className='sider-container'>\n\t\t\t\t<Drawer\n\t\t\t\t\tclassName={this.renderDrawerClasses()}\n\t\t\t\t\twidth='200px'\n\t\t\t\t\tmask={this.props.showMask}\n\t\t\t\t\tplacement='left'\n\t\t\t\t\tclosable={false}\n\t\t\t\t\tonClose={(e) => this.props.hideComponent('mainSider')}\n\t\t\t\t\tvisible={this.props.mainSider ? this.props.mainSider.visible : false}\n\t\t\t\t>\n\t\t\t\t\t<Menu mode='vertical' defaultSelectedKeys={['1']} className='sider-menu'>\n\t\t\t\t\t\t<Item>\n\t\t\t\t\t\t\t<Link\n\t\t\t\t\t\t\t\tto={`/profile/${this.props.user.username}`}\n\t\t\t\t\t\t\t\tonClick={(e) => this.props.hideComponent('mainSider')}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<Avatar\n\t\t\t\t\t\t\t\t\tclassName='nav-avatar'\n\t\t\t\t\t\t\t\t\tsrc={this.props.user.avatar || defaultAvatar}\n\t\t\t\t\t\t\t\t\ticon='user'\n\t\t\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\t\t\tdisplay: 'inline-block',\n\t\t\t\t\t\t\t\t\t\tverticalAlign: 'middle',\n\t\t\t\t\t\t\t\t\t\tmarginTop: '0.8rem',\n\t\t\t\t\t\t\t\t\t\twidth: '2.5rem',\n\t\t\t\t\t\t\t\t\t\theight: '2.5rem',\n\t\t\t\t\t\t\t\t\t\t// border: '0.1rem solid #272727',\n\t\t\t\t\t\t\t\t\t\tobjectFit: 'contain',\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t</Item>\n\t\t\t\t\t\t<Item className='sider-menu-item sider-title'>\n\t\t\t\t\t\t\t<Link\n\t\t\t\t\t\t\t\tto={`/profile/${this.props.user.username}`}\n\t\t\t\t\t\t\t\tonClick={(e) => this.props.hideComponent('mainSider')}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{/*  <b>@{this.props.user.username}</b>*/}\n\t\t\t\t\t\t\t\t<Icon type={'sketch'} theme='outlined' style={{ margin: '0' }} /> <b>Profile</b>\n\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t</Item>\n\t\t\t\t\t\t<Item className='sider-menu-item'>\n\t\t\t\t\t\t\t<Link to={`/`} onClick={(e) => this.props.hideComponent('mainSider')}>\n\t\t\t\t\t\t\t\tExplore\n\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t</Item>\n\t\t\t\t\t\t<Item className='sider-menu-item'>\n\t\t\t\t\t\t\t<Link to={`/pins`} onClick={(e) => this.props.hideComponent('mainSider')}>\n\t\t\t\t\t\t\t\tFavorites\n\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t</Item>\n\t\t\t\t\t\t<Item className='sider-menu-item'>\n\t\t\t\t\t\t\t<Link\n\t\t\t\t\t\t\t\tto={`/graph`}\n\t\t\t\t\t\t\t\tonClick={(e) => {\n\t\t\t\t\t\t\t\t\tthis.props.clearActiveNode();\n\t\t\t\t\t\t\t\t\tthis.props.hideComponent('mainSider');\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\tConstellation\n\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t</Item>\n\t\t\t\t\t\t<Item className='sider-menu-item'>\n\t\t\t\t\t\t\t<Link to={`/random`} onClick={(e) => this.props.hideComponent('mainSider')}>\n\t\t\t\t\t\t\t\tRandom\n\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t</Item>\n\t\t\t\t\t\t{/*<Item className='sider-menu-item'>\n              <Link to='/' onClick={(e) => this.props.hideComponent('mainSider')}>\n                Nodes\n              </Link>\n            </Item>\n            <Item className='sider-menu-item'>\n              <Link to='/' onClick={(e) => this.props.hideComponent('mainSider')}>\n                Map\n              </Link>\n            </Item>\n            <Item className='sider-menu-item'>\n              <Link to='/' onClick={(e) => this.props.hideComponent('mainSider')}>\n                Chat\n              </Link>\n                </Item>  */}\n\t\t\t\t\t\t<Item className='sider-menu-item'>\n\t\t\t\t\t\t\t<Link to={`/edit/profile/`} onClick={(e) => this.props.hideComponent('mainSider')}>\n\t\t\t\t\t\t\t\tOptions\n\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t</Item>\n\t\t\t\t\t\t<Item className='sider-menu-item'>\n\t\t\t\t\t\t\t<Link\n\t\t\t\t\t\t\t\tto='/help'\n\t\t\t\t\t\t\t\tonClick={(e) => {\n\t\t\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t\t\t\twindow.open(\n\t\t\t\t\t\t\t\t\t\t'https://github.com/synthona/synthona-help/blob/main/README.md',\n\t\t\t\t\t\t\t\t\t\t'_blank'\n\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\tthis.props.hideComponent('mainSider');\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\tHelp\n\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t</Item>\n\t\t\t\t\t\t<Item className='sider-menu-item'>\n\t\t\t\t\t\t\t<Link to='#' onClick={this.toggleSignoutModal}>\n\t\t\t\t\t\t\t\tSign Out\n\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t</Item>\n\t\t\t\t\t</Menu>\n\t\t\t\t</Drawer>\n\t\t\t\t{/* </Sider> */}\n\t\t\t\t<Modal\n\t\t\t\t\ttitle={this.props.user.displayName}\n\t\t\t\t\tvisible={this.state.showSignoutModal}\n\t\t\t\t\tclassName='signout-modal'\n\t\t\t\t\tcentered\n\t\t\t\t\tonOk={this.signOutHandler}\n\t\t\t\t\tokType='primary'\n\t\t\t\t\tokText='Sign Out'\n\t\t\t\t\tclosable={false}\n\t\t\t\t\tonCancel={this.toggleSignoutModal}\n\t\t\t\t>\n\t\t\t\t\t<p>Are you sure you want to sign out?</p>\n\t\t\t\t</Modal>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nconst mapStateToProps = (state) => {\n\treturn { user: state.auth.user, mainSider: state.components.componentList['mainSider'] };\n};\n\nexport default connect(mapStateToProps, {\n\tsignOut,\n\thideComponent,\n\tgenerateInstanceExport,\n\tclearActiveNode,\n})(MainSider);\n","export const validUrl = (value) => {\n\ttry {\n\t\tnew URL(value);\n\t} catch (_) {\n\t\treturn false;\n\t}\n\treturn true;\n};\n\nexport const isImageUrl = (url) => {\n\treturn url.match(/\\..+(jpeg|jpg|gif|png|webp)/) != null || url.includes('http://localhost');\n};\n","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport history from '../../utils/history';\nimport { isElectron } from '../../utils/environment';\nimport { Link } from 'react-router-dom';\nimport { Layout, Button, Input, Select, Icon, message, Tooltip } from 'antd';\n// custom code\nimport { validUrl, isImageUrl } from '../../utils/validation';\nimport './css/IOBar.less';\nimport {\n\tsignOut,\n\tlinkFileNodes,\n\tcreateUrlNode,\n\tcreateNode,\n\tsearchNodes,\n\tshowComponent,\n\thideComponent,\n\tgetRandomNode,\n\tclearActiveNode,\n} from '../../api/redux/actions';\n// destructure antd components\nconst { Header } = Layout;\nconst { Option } = Select;\n\nclass IOBar extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\tinput: this.props.query.searchQuery,\n\t\t\tnodeTypes: this.props.query.type || 'all',\n\t\t\tsortType: this.props.query.sortType,\n\t\t\tsortOrder: this.props.query.sortOrder,\n\t\t\tcreateType: null,\n\t\t\tqueryType: null,\n\t\t\tinputMode: 'query',\n\t\t\tmodeIcon: 'search',\n\t\t\tplaceholder: 'query',\n\t\t};\n\t}\n\t// show modal to confirm deletion\n\ttoggleInputMode = () => {\n\t\tif (this.state.inputMode === 'query') {\n\t\t\tthis.setState({\n\t\t\t\tinputMode: 'create',\n\t\t\t\tmodeIcon: 'plus',\n\t\t\t\tplaceholder: 'create',\n\t\t\t\tnodeTypes: 'text',\n\t\t\t});\n\t\t} else {\n\t\t\tthis.setState({\n\t\t\t\tinputMode: 'query',\n\t\t\t\tmodeIcon: 'search',\n\t\t\t\tplaceholder: 'query',\n\t\t\t\tnodeTypes: 'all',\n\t\t\t});\n\t\t}\n\t};\n\n\ttoggleMainSider = async () => {\n\t\tif (this.props.mainSider) {\n\t\t\tthis.props.hideComponent('mainSider');\n\t\t} else {\n\t\t\tthis.props.showComponent('mainSider');\n\t\t}\n\t};\n\n\ttoggleSortOrder = () => {\n\t\tif (this.state.sortOrder === 'ASC') {\n\t\t\tthis.setState({ sortOrder: 'DESC' });\n\t\t\tlocalStorage.setItem('sortOrder', 'DESC');\n\t\t} else {\n\t\t\tthis.setState({ sortOrder: 'ASC' });\n\t\t\tlocalStorage.setItem('sortOrder', 'ASC');\n\t\t}\n\t};\n\n\trenderCreateFileNodeOption = () => {\n\t\tif (isElectron() === true) {\n\t\t\treturn <Option value='file'>files</Option>;\n\t\t}\n\t};\n\n\t// handle text input\n\tcommandHandler = (e) => {\n\t\te.target.blur();\n\t\tswitch (this.state.inputMode) {\n\t\t\tcase 'query':\n\t\t\t\treturn this.props.searchNodes({\n\t\t\t\t\tsearchQuery: this.state.input,\n\t\t\t\t\ttype: this.state.nodeTypes,\n\t\t\t\t\tsortType: this.state.sortType,\n\t\t\t\t\tsortOrder: this.state.sortOrder,\n\t\t\t\t});\n\t\t\tcase 'create':\n\t\t\t\treturn this.createNodeHandler();\n\t\t\tdefault:\n\t\t\t\treturn;\n\t\t}\n\t};\n\t// handle the creation of different node types\n\tcreateNodeHandler = () => {\n\t\tvar linkedNode;\n\t\tif (this.props.activeNode) {\n\t\t\tlinkedNode = JSON.stringify(this.props.activeNode);\n\t\t}\n\t\tswitch (this.state.nodeTypes) {\n\t\t\tcase 'text':\n\t\t\t\tthis.props.createNode({\n\t\t\t\t\tisFile: false,\n\t\t\t\t\ttype: 'text',\n\t\t\t\t\tname: this.state.input,\n\t\t\t\t\tpreview: '',\n\t\t\t\t\tlinkedNode,\n\t\t\t\t});\n\t\t\t\t// clear the input bar\n\t\t\t\tthis.setState({ input: '' });\n\t\t\t\t// redirect\n\t\t\t\thistory.push('/');\n\t\t\t\tbreak;\n\t\t\tcase 'file':\n\t\t\t\tthis.selectLocalFile(linkedNode);\n\t\t\t\tbreak;\n\t\t\tcase 'url':\n\t\t\t\t// if the URL is an image add an image node\n\t\t\t\tif (isImageUrl(this.state.input)) {\n\t\t\t\t\tthis.props.createNode({\n\t\t\t\t\t\tisFile: false,\n\t\t\t\t\t\ttype: 'image',\n\t\t\t\t\t\tname: this.state.input,\n\t\t\t\t\t\tpreview: this.state.input,\n\t\t\t\t\t\tcontent: this.state.input,\n\t\t\t\t\t\tlinkedNode,\n\t\t\t\t\t});\n\t\t\t\t\tthis.setState({ input: '' });\n\t\t\t\t\t// otherwise add a regular URL\n\t\t\t\t} else if (validUrl(this.state.input)) {\n\t\t\t\t\tthis.props.createUrlNode({\n\t\t\t\t\t\tisFile: false,\n\t\t\t\t\t\ttype: 'url',\n\t\t\t\t\t\tname: this.state.input,\n\t\t\t\t\t\tpreview: this.state.input,\n\t\t\t\t\t\tpath: this.state.input,\n\t\t\t\t\t\tcontent: this.state.input,\n\t\t\t\t\t\tlinkedNode,\n\t\t\t\t\t});\n\t\t\t\t\t// clear the input bar\n\t\t\t\t\tthis.setState({ input: '' });\n\t\t\t\t} else {\n\t\t\t\t\tmessage.error('You must enter a valid URL', 1);\n\t\t\t\t}\n\t\t\t\t// redirect\n\t\t\t\thistory.push('/');\n\t\t\t\tbreak;\n\t\t\tcase 'collection':\n\t\t\t\tthis.props.createNode({\n\t\t\t\t\tisFile: false,\n\t\t\t\t\ttype: 'collection',\n\t\t\t\t\tname: this.state.input,\n\t\t\t\t\tpreview: '',\n\t\t\t\t\tcontent: this.state.input,\n\t\t\t\t\tlinkedNode,\n\t\t\t\t});\n\t\t\t\t// clear the input bar\n\t\t\t\tthis.setState({ input: '' });\n\t\t\t\t// redirect\n\t\t\t\thistory.push('/');\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\treturn;\n\t\t}\n\t};\n\n\t// select an image.\n\tselectLocalFile = (linkedNode) => {\n\t\tconst input = document.createElement('input');\n\t\tinput.setAttribute('type', 'file');\n\t\tinput.setAttribute('multiple', true);\n\t\tinput.click();\n\t\t// Listen for uploading local file, then save to server\n\t\tinput.onchange = async () => {\n\t\t\tlet fileList = [];\n\t\t\tfor (let file of input.files) {\n\t\t\t\tfileList.push({ name: file.name, path: file.path, type: file.type });\n\t\t\t}\n\t\t\tawait this.props.linkFileNodes(fileList, linkedNode);\n\t\t\t// clear the input bar\n\t\t\tthis.setState({ input: '' });\n\t\t\thistory.push('/');\n\t\t};\n\t};\n\n\t// include an \"all\" option for queries\n\trenderSelectBefore = () => {\n\t\tif (this.state.inputMode === 'query') {\n\t\t\treturn (\n\t\t\t\t<Select\n\t\t\t\t\tshowSearch\n\t\t\t\t\tshowArrow={false}\n\t\t\t\t\tvalue={this.state.nodeTypes}\n\t\t\t\t\tonChange={(value) => {\n\t\t\t\t\t\tthis.setState({ nodeTypes: value });\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t<Option value='all'>all</Option>\n\t\t\t\t\t<Option value='url'>urls</Option>\n\t\t\t\t\t<Option value='file'>file</Option>\n\t\t\t\t\t<Option value='text'>text</Option>\n\t\t\t\t\t<Option value='image'>images</Option>\n\t\t\t\t\t<Option value='package'>packages</Option>\n\t\t\t\t\t<Option value='collection'>collections</Option>\n\t\t\t\t</Select>\n\t\t\t);\n\t\t} else {\n\t\t\t// exclude \"all\" option for creating nodes\n\t\t\treturn (\n\t\t\t\t<Select\n\t\t\t\t\tshowSearch\n\t\t\t\t\tshowArrow={false}\n\t\t\t\t\tvalue={this.state.nodeTypes}\n\t\t\t\t\tonChange={(value) => {\n\t\t\t\t\t\tthis.setState({ nodeTypes: value });\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t<Option value='text'>text</Option>\n\t\t\t\t\t{this.renderCreateFileNodeOption()}\n\t\t\t\t\t<Option value='url'>url</Option>\n\t\t\t\t\t<Option value='collection'>collection</Option>\n\t\t\t\t</Select>\n\t\t\t);\n\t\t}\n\t};\n\n\t// we're going to render the far-right side of the input bar\n\t// which includes all the sort selection variables and buttons\n\trenderSelectAfter = () => {\n\t\treturn (\n\t\t\t<div className='io-input-sort'>\n\t\t\t\t<Input.Group>\n\t\t\t\t\t<Select\n\t\t\t\t\t\tshowSearch\n\t\t\t\t\t\tshowArrow={false}\n\t\t\t\t\t\tvalue={this.state.sortType}\n\t\t\t\t\t\tonChange={(value) => {\n\t\t\t\t\t\t\tthis.setState({ sortType: value });\n\t\t\t\t\t\t\tlocalStorage.setItem('sortType', value);\n\t\t\t\t\t\t}}\n\t\t\t\t\t>\n\t\t\t\t\t\t<Option value='recent'>\n\t\t\t\t\t\t\t<Icon type={'bulb'} theme='outlined' /> recent\n\t\t\t\t\t\t</Option>\n\t\t\t\t\t\t<Option value='views'>\n\t\t\t\t\t\t\t<Icon type={'thunderbolt'} theme='outlined' /> top\n\t\t\t\t\t\t</Option>\n\t\t\t\t\t\t<Option value='created'>\n\t\t\t\t\t\t\t<Icon type={'clock-circle'} theme='outlined' /> created\n\t\t\t\t\t\t</Option>\n\t\t\t\t\t</Select>\n\t\t\t\t\t<Tooltip title={this.state.sortOrder === 'DESC' ? 'a-z' : 'z-a'} mouseEnterDelay={1.1}>\n\t\t\t\t\t\t<Button className='io-input-button' onClick={() => this.toggleSortOrder()}>\n\t\t\t\t\t\t\t<Icon\n\t\t\t\t\t\t\t\ttype={this.state.sortOrder === 'DESC' ? 'arrow-up' : 'arrow-down'}\n\t\t\t\t\t\t\t\ttheme='outlined'\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t</Tooltip>\n\t\t\t\t</Input.Group>\n\t\t\t</div>\n\t\t);\n\t};\n\n\trender() {\n\t\treturn (\n\t\t\t<div>\n\t\t\t\t<Header className='page-header' style={this.props.fixed ? { position: 'fixed' } : null}>\n\t\t\t\t\t<ul className='nav-list'>\n\t\t\t\t\t\t<li className='nav-item io-sider-button mobile-visible' style={{ marginRight: '0' }}>\n\t\t\t\t\t\t\t<Button type='default' shape='circle' onClick={(e) => this.toggleMainSider()}>\n\t\t\t\t\t\t\t\t<Icon type={'bars'} theme='outlined' />\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t</li>\n\t\t\t\t\t\t<li className='nav-item io-sider-button' style={{ marginRight: '0.3rem' }}>\n\t\t\t\t\t\t\t<Tooltip title={'home'} mouseEnterDelay={1.1}>\n\t\t\t\t\t\t\t\t<Link type='default' to={`/`}>\n\t\t\t\t\t\t\t\t\t<Icon\n\t\t\t\t\t\t\t\t\t\ttype={'home'}\n\t\t\t\t\t\t\t\t\t\ttheme='filled'\n\t\t\t\t\t\t\t\t\t\t// style={{ color: '#3ce458' }}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t\t</Tooltip>\n\t\t\t\t\t\t</li>\n\t\t\t\t\t\t<li className='nav-item io-sider-button' style={{ marginRight: '-0.1rem' }}>\n\t\t\t\t\t\t\t<Tooltip title={'graph'} mouseEnterDelay={1.1}>\n\t\t\t\t\t\t\t\t<Link\n\t\t\t\t\t\t\t\t\ttype='default'\n\t\t\t\t\t\t\t\t\tto={`#`}\n\t\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\t\tthis.props.clearActiveNode();\n\t\t\t\t\t\t\t\t\t\twindow.location = '/graph';\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<Icon\n\t\t\t\t\t\t\t\t\t\ttype={'deployment-unit'}\n\t\t\t\t\t\t\t\t\t\ttheme='outlined'\n\t\t\t\t\t\t\t\t\t\t// style={{ color: '#ec486c' }}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t\t</Tooltip>\n\t\t\t\t\t\t</li>\n\t\t\t\t\t\t<li\n\t\t\t\t\t\t\tclassName='nav-item io-sider-button mobile-hidden'\n\t\t\t\t\t\t\tstyle={{ padding: '0', marginRight: '-0.1rem' }}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<Tooltip title={'random'} mouseEnterDelay={1.1}>\n\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\ttype='default'\n\t\t\t\t\t\t\t\t\tshape='circle'\n\t\t\t\t\t\t\t\t\tonClick={(e) => (window.location.href = '/random')}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<Icon\n\t\t\t\t\t\t\t\t\t\ttype={'thunderbolt'}\n\t\t\t\t\t\t\t\t\t\ttheme='filled'\n\t\t\t\t\t\t\t\t\t\t// style={{ color: 'yellow' }}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t</Tooltip>\n\t\t\t\t\t\t</li>\n\t\t\t\t\t\t<li className='nav-item io-sider-button' style={{ marginRight: '0.1rem' }}>\n\t\t\t\t\t\t\t<Tooltip title={'favorites'} mouseEnterDelay={1.1}>\n\t\t\t\t\t\t\t\t<Link type='default' to={`/pins`} style={{ marginRight: '0.3rem' }}>\n\t\t\t\t\t\t\t\t\t<Icon\n\t\t\t\t\t\t\t\t\t\ttype={'star'}\n\t\t\t\t\t\t\t\t\t\ttheme='filled'\n\t\t\t\t\t\t\t\t\t\t// style={{ color: 'yellow' }}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t\t</Tooltip>\n\t\t\t\t\t\t</li>\n\t\t\t\t\t\t<li className='nav-item create-node-button'>\n\t\t\t\t\t\t\t<Button type='default' shape='circle' onClick={(e) => this.toggleInputMode()}>\n\t\t\t\t\t\t\t\t<Icon type={this.state.modeIcon} theme='outlined' />\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t</li>\n\t\t\t\t\t\t<li className='nav-search'>\n\t\t\t\t\t\t\t<Input\n\t\t\t\t\t\t\t\tonPressEnter={(value, event) => this.commandHandler(value)}\n\t\t\t\t\t\t\t\tmaxLength={500}\n\t\t\t\t\t\t\t\tvalue={this.state.input}\n\t\t\t\t\t\t\t\tonChange={(e) => this.setState({ input: e.target.value })}\n\t\t\t\t\t\t\t\tdefaultValue={this.props.query.searchQuery || ''}\n\t\t\t\t\t\t\t\tplaceholder={this.state.placeholder}\n\t\t\t\t\t\t\t\taddonBefore={this.renderSelectBefore()}\n\t\t\t\t\t\t\t\taddonAfter={this.renderSelectAfter()}\n\t\t\t\t\t\t\t\tclassName='nav-search-input'\n\t\t\t\t\t\t\t\tid='nav-primary-search'\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</li>\n\t\t\t\t\t</ul>\n\t\t\t\t</Header>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nconst mapStateToProps = (state) => {\n\treturn {\n\t\tuser: state.auth.user,\n\t\tquery: state.nodes.query,\n\t\tmainSider: state.components.componentList['mainSider'],\n\t\tactiveNode: state.nodes.activeNode,\n\t};\n};\n\nexport default connect(mapStateToProps, {\n\tsignOut,\n\tsearchNodes,\n\tcreateNode,\n\tlinkFileNodes,\n\tcreateUrlNode,\n\tshowComponent,\n\thideComponent,\n\tgetRandomNode,\n\tclearActiveNode,\n})(IOBar);\n","import React, { Component, Fragment } from 'react';\nimport { connect } from 'react-redux';\nimport { Icon, Modal, Tooltip, message } from 'antd';\nimport { validUrl, isImageUrl } from '../../../utils/validation';\nimport { isElectron } from '../../../utils/environment';\nimport {\n\tshowComponent,\n\tunpackImport,\n\tupdateActiveNode,\n\tclearNodePreview,\n\topenFileInExplorer,\n\tdeleteNode,\n\tclearActiveNode,\n\tgenerateExportByUUID,\n\tremoveImportsByPackage,\n} from '../../../api/redux/actions';\n\nclass NodeCardHeaderFull extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\tname: this.props.nodeData.name,\n\t\t\tpreview: this.props.nodeData.preview,\n\t\t\tpinned: this.props.nodeData.pinned,\n\t\t\tpinnedState: 'outlined',\n\t\t\teditable: false,\n\t\t\tshowDeleteModal: null,\n\t\t\tshowExportModal: null,\n\t\t\tshowUrlPreviewImageModal: false,\n\t\t};\n\t}\n\n\tcomponentDidMount() {\n\t\t// set initial pinned state\n\t\tif (this.props.nodeData.pinned) {\n\t\t\tthis.setState({ pinnedState: 'filled' });\n\t\t} else {\n\t\t\tthis.setState({ pinnedState: 'outlined' });\n\t\t}\n\t}\n\n\t// update and save the document name\n\tsaveName = (name) => {\n\t\tif (this.state.name !== name) {\n\t\t\tthis.props.updateActiveNode({ uuid: this.props.nodeData.uuid, name });\n\t\t}\n\t\tthis.setState({ name: name });\n\t};\n\n\t// show modal to confirm deletion\n\ttoggleDeleteModal = () => {\n\t\tif (this.state.showDeleteModal) {\n\t\t\tthis.setState({ showDeleteModal: false });\n\t\t} else {\n\t\t\tthis.setState({ showDeleteModal: true });\n\t\t}\n\t};\n\n\t// delete the node\n\tdeleteHandler = async () => {\n\t\tthis.setState({ showDeleteModal: false });\n\t\tthis.setState({ deleting: true });\n\t\tawait this.props.deleteNode(this.props.nodeData.uuid);\n\t\tthis.props.clearActiveNode();\n\t};\n\n\t// show confirm export modal\n\ttoggleExportModal = () => {\n\t\tif (this.state.showExportModal) {\n\t\t\tthis.setState({ showExportModal: false });\n\t\t} else {\n\t\t\tthis.setState({ showExportModal: true });\n\t\t}\n\t};\n\n\t// delete the node\n\texportHandler = async () => {\n\t\tthis.setState({ showExportModal: false });\n\t\tawait this.props.generateExportByUUID(this.props.nodeData.uuid);\n\t};\n\n\t// select an image.\n\tsetUrlPreviewImage = (preview) => {\n\t\t// update the URL\n\t\tif (isImageUrl(preview) && validUrl(preview)) {\n\t\t\tmessage.success('updated the preview image');\n\t\t\tthis.props.updateActiveNode({ uuid: this.props.nodeData.uuid, preview: preview });\n\t\t} else if (preview === '') {\n\t\t\tmessage.success('removed the preview image');\n\t\t\tthis.props.updateActiveNode({ uuid: this.props.nodeData.uuid, preview: '' });\n\t\t} else {\n\t\t\tmessage.error('there was a problem setting the preview image', 1);\n\t\t}\n\t};\n\n\ttogglePinned = () => {\n\t\tif (this.state.pinned === true) {\n\t\t\tthis.setState({ pinned: false, pinnedState: 'outlined' });\n\t\t\tthis.props.updateActiveNode({ uuid: this.props.nodeData.uuid, pinned: false });\n\t\t} else {\n\t\t\tthis.setState({ pinned: true, pinnedState: 'filled' });\n\t\t\tthis.props.updateActiveNode({ uuid: this.props.nodeData.uuid, pinned: true });\n\t\t}\n\t};\n\n\t// select an image.\n\tsetPreviewToLocalFilePath = () => {\n\t\tif (this.props.nodeData.preview === null) {\n\t\t\tconst input = document.createElement('input');\n\t\t\tinput.setAttribute('type', 'file');\n\t\t\tinput.setAttribute('accept', [\n\t\t\t\t'image/gif',\n\t\t\t\t'image/jpg',\n\t\t\t\t'image/jpeg',\n\t\t\t\t'image/png',\n\t\t\t\t'image/webp',\n\t\t\t]);\n\t\t\tinput.click();\n\t\t\t// Listen for uploading local file, then save to server\n\t\t\tinput.onchange = async () => {\n\t\t\t\tconst file = input.files[0];\n\t\t\t\tthis.props.updateActiveNode({ uuid: this.props.nodeData.uuid, preview: file.path });\n\t\t\t};\n\t\t} else {\n\t\t\tthis.props.clearNodePreview(this.props.nodeData);\n\t\t}\n\t};\n\n\t// render the title\n\trenderTitle = () => {\n\t\tif (!this.state.editable) {\n\t\t\t// if it is not editable render the plain title\n\t\t\treturn (\n\t\t\t\t<h3\n\t\t\t\t\tclassName='full-card-title'\n\t\t\t\t\tstyle={{\n\t\t\t\t\t\tcolor: this.props.theme.cardTitleColor,\n\t\t\t\t\t}}\n\t\t\t\t\tonDoubleClick={(e) => {\n\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\tthis.setState({ editable: true });\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t{this.state.name}\n\t\t\t\t</h3>\n\t\t\t);\n\t\t} else {\n\t\t\t// when title is double clicked render the input field\n\t\t\treturn (\n\t\t\t\t<input\n\t\t\t\t\ttype='text'\n\t\t\t\t\tclassName='full-card-title'\n\t\t\t\t\tstyle={{\n\t\t\t\t\t\tbackgroundColor: 'transparent',\n\t\t\t\t\t}}\n\t\t\t\t\tonBlur={() => this.setState({ editable: null })}\n\t\t\t\t\tmaxLength='250'\n\t\t\t\t\tautoFocus\n\t\t\t\t\tplaceholder='name'\n\t\t\t\t\tvalue={this.state.name}\n\t\t\t\t\tonKeyPress={(e) => {\n\t\t\t\t\t\t// remove input on enter\n\t\t\t\t\t\tif (e.key === 'Enter') {\n\t\t\t\t\t\t\tthis.setState({ editable: null });\n\t\t\t\t\t\t}\n\t\t\t\t\t}}\n\t\t\t\t\tonChange={(e) => {\n\t\t\t\t\t\tthis.saveName(e.target.value);\n\t\t\t\t\t}}\n\t\t\t\t\tonFocus={(e) => {\n\t\t\t\t\t\te.target.select();\n\t\t\t\t\t}}\n\t\t\t\t></input>\n\t\t\t);\n\t\t}\n\t};\n\n\t// render header buttons for node types which need them\n\t// at the moment it's just .synth packages\n\trenderContextualButtons = () => {\n\t\tswitch (this.props.nodeData.type) {\n\t\t\tcase 'package':\n\t\t\t\tif (this.props.nodeData.metadata && this.props.nodeData.metadata.importing) {\n\t\t\t\t\treturn <Fragment></Fragment>;\n\t\t\t\t} else if (this.props.nodeData.metadata && this.props.nodeData.metadata.expanded) {\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<Tooltip title={'restore'} mouseEnterDelay={1.1}>\n\t\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\tonClick={(e) => {\n\t\t\t\t\t\t\t\t\t\t// show the modal\n\t\t\t\t\t\t\t\t\t\tthis.props.removeImportsByPackage(this.props.nodeData.uuid);\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<Icon type={'undo'} theme='outlined' className='full-card-button' />\n\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t</Tooltip>\n\t\t\t\t\t);\n\t\t\t\t} else {\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<Tooltip title={'expand'} mouseEnterDelay={1.1}>\n\t\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\tonClick={(e) => {\n\t\t\t\t\t\t\t\t\t\t// show the modal\n\t\t\t\t\t\t\t\t\t\tthis.props.unpackImport(this.props.nodeData.uuid);\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<Icon type={'gift'} theme='filled' className='full-card-button' />\n\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t</Tooltip>\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\tcase 'url':\n\t\t\t\treturn (\n\t\t\t\t\t<Tooltip title={'preview image'} mouseEnterDelay={1.1}>\n\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\tonClick={(e) => {\n\t\t\t\t\t\t\t\t\t// show the modal\n\t\t\t\t\t\t\t\t\tthis.setState({ showUrlPreviewImageModal: true });\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<Icon type={'picture'} theme='outlined' className='full-card-button' />\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t</li>\n\t\t\t\t\t</Tooltip>\n\t\t\t\t);\n\t\t\tcase 'file':\n\t\t\t\tif (isElectron()) {\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<Tooltip title={'replace preview image'} mouseEnterDelay={1.1}>\n\t\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\tonClick={(e) => {\n\t\t\t\t\t\t\t\t\t\t// show the modal\n\t\t\t\t\t\t\t\t\t\tthis.setPreviewToLocalFilePath();\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<Icon type={'picture'} theme='outlined' className='full-card-button' />\n\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t</Tooltip>\n\t\t\t\t\t);\n\t\t\t\t} else {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\tcase 'audio':\n\t\t\t\treturn (\n\t\t\t\t\t<Tooltip title={'replace preview image'} mouseEnterDelay={1.1}>\n\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\tonClick={(e) => {\n\t\t\t\t\t\t\t\t\t// show the modal\n\t\t\t\t\t\t\t\t\tthis.setPreviewToLocalFilePath();\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<Icon type={'picture'} theme='outlined' className='full-card-button' />\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t</li>\n\t\t\t\t\t</Tooltip>\n\t\t\t\t);\n\t\t\tcase 'zip':\n\t\t\t\treturn (\n\t\t\t\t\t<Tooltip title={'replace preview image'} mouseEnterDelay={1.1}>\n\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\tonClick={(e) => {\n\t\t\t\t\t\t\t\t\t// show the modal\n\t\t\t\t\t\t\t\t\tthis.setPreviewToLocalFilePath();\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<Icon type={'picture'} theme='outlined' className='full-card-button' />\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t</li>\n\t\t\t\t\t</Tooltip>\n\t\t\t\t);\n\t\t\tcase 'image':\n\t\t\t\treturn (\n\t\t\t\t\t<Tooltip title={'set as app background'} mouseEnterDelay={1.1}>\n\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\tonClick={(e) => {\n\t\t\t\t\t\t\t\t\t// set the app background to this image\n\t\t\t\t\t\t\t\t\tlocalStorage.setItem('background-image', this.props.nodeData.preview);\n\t\t\t\t\t\t\t\t\twindow.location.reload();\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<Icon type={'layout'} className='full-card-button' />\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t</li>\n\t\t\t\t\t</Tooltip>\n\t\t\t\t);\n\t\t\tdefault:\n\t\t\t\treturn;\n\t\t}\n\t};\n\n\trenderRevealInExplorerButton = () => {\n\t\tif (this.props.nodeData.isFile) {\n\t\t\treturn (\n\t\t\t\t<Tooltip title={'open in file explorer'} mouseEnterDelay={1.1}>\n\t\t\t\t\t<li>\n\t\t\t\t\t\t<button\n\t\t\t\t\t\t\tonClick={(e) => {\n\t\t\t\t\t\t\t\t// show the modal\n\t\t\t\t\t\t\t\tthis.props.openFileInExplorer(this.props.nodeData.uuid);\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<Icon type={'folder-open'} theme='outlined' className='full-card-button' />\n\t\t\t\t\t\t</button>\n\t\t\t\t\t</li>\n\t\t\t\t</Tooltip>\n\t\t\t);\n\t\t}\n\t};\n\n\t// render the export button on non-package nodes\n\trenderExportButton = () => {\n\t\tif (this.props.nodeData.type !== 'package') {\n\t\t\treturn (\n\t\t\t\t<Tooltip title={'generate export'} mouseEnterDelay={1.1}>\n\t\t\t\t\t<li>\n\t\t\t\t\t\t<button\n\t\t\t\t\t\t\tonClick={(e) => {\n\t\t\t\t\t\t\t\tthis.toggleExportModal();\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<Icon type={'gift'} theme='outlined' className='full-card-button' />\n\t\t\t\t\t\t</button>\n\t\t\t\t\t</li>\n\t\t\t\t</Tooltip>\n\t\t\t);\n\t\t}\n\t};\n\n\trender() {\n\t\treturn (\n\t\t\t<div\n\t\t\t\tclassName='full-card-options'\n\t\t\t\tstyle={{\n\t\t\t\t\tbackgroundColor: this.props.theme.cardHeaderColor,\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t{this.renderTitle()}\n\t\t\t\t{/* <p className='full-card-options-date'>{this.props.nodeData.updatedAt}</p> */}\n\t\t\t\t<ul className='full-card-buttons-list'>\n\t\t\t\t\t<Tooltip title={'associations'} mouseEnterDelay={1.1}>\n\t\t\t\t\t\t<li className='mobile-visible'>\n\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\tonClick={(e) => {\n\t\t\t\t\t\t\t\t\t// show the modal\n\t\t\t\t\t\t\t\t\tthis.props.showComponent('associationSider', this.props.nodeData);\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<Icon type={'branches'} theme='outlined' className='full-card-button' />\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t</li>\n\t\t\t\t\t</Tooltip>\n\t\t\t\t\t<Tooltip title={'constellation'} mouseEnterDelay={1.1}>\n\t\t\t\t\t\t<li className='mobile-visible'>\n\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\tonClick={(e) => window.location.replace(`/graph/${this.props.nodeData.uuid}`)}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<Icon type={'deployment-unit'} theme='outlined' className='full-card-button' />\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t</li>\n\t\t\t\t\t</Tooltip>\n\t\t\t\t\t<Tooltip title={'star'} mouseEnterDelay={1.1}>\n\t\t\t\t\t\t<li className='mobile-visible'>\n\t\t\t\t\t\t\t<button onClick={(e) => this.togglePinned()}>\n\t\t\t\t\t\t\t\t<Icon type={'star'} theme={this.state.pinnedState} className='full-card-button' />\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t</li>\n\t\t\t\t\t</Tooltip>\n\t\t\t\t\t{this.renderContextualButtons()}\n\t\t\t\t\t{this.renderExportButton()}\n\t\t\t\t\t{this.renderRevealInExplorerButton()}\n\t\t\t\t\t<Tooltip title={'open in browser'} mouseEnterDelay={1.1}>\n\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\tonClick={(e) => window.open(`/associations/${this.props.nodeData.uuid}`, '_blank')}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<Icon type={'global'} theme='outlined' className='full-card-button' />\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t</li>\n\t\t\t\t\t</Tooltip>\n\t\t\t\t\t<Tooltip title={'delete'} mouseEnterDelay={1.1}>\n\t\t\t\t\t\t<li className='mobile-visible'>\n\t\t\t\t\t\t\t<button onClick={(e) => this.toggleDeleteModal()}>\n\t\t\t\t\t\t\t\t<Icon type={'delete'} theme='outlined' className='full-card-button delete' />\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t</li>\n\t\t\t\t\t</Tooltip>\n\t\t\t\t</ul>\n\t\t\t\t<Modal\n\t\t\t\t\ttitle='Confirm Deletion'\n\t\t\t\t\tvisible={this.state.showDeleteModal}\n\t\t\t\t\tclassName='delete-modal'\n\t\t\t\t\tcentered\n\t\t\t\t\tonOk={this.deleteHandler}\n\t\t\t\t\tafterClose={() => document.body.style.removeProperty('overflow')}\n\t\t\t\t\tokType='danger'\n\t\t\t\t\tokText='Delete'\n\t\t\t\t\tclosable={false}\n\t\t\t\t\tonCancel={this.toggleDeleteModal}\n\t\t\t\t>\n\t\t\t\t\t<p>\n\t\t\t\t\t\tAre you sure you want to delete <b>{this.props.nodeData.name || 'untitled'}</b>?\n\t\t\t\t\t</p>\n\t\t\t\t</Modal>\n\t\t\t\t<Modal\n\t\t\t\t\ttitle='Confirm Export'\n\t\t\t\t\tvisible={this.state.showExportModal}\n\t\t\t\t\tclassName='delete-modal'\n\t\t\t\t\tcentered\n\t\t\t\t\tonOk={this.exportHandler}\n\t\t\t\t\tafterClose={() => document.body.style.removeProperty('overflow')}\n\t\t\t\t\tokText='Generate'\n\t\t\t\t\tclosable={false}\n\t\t\t\t\tonCancel={this.toggleExportModal}\n\t\t\t\t>\n\t\t\t\t\t<p>\n\t\t\t\t\t\tGenerate export from <b>{this.props.nodeData.name || 'untitled'}</b>? The export will\n\t\t\t\t\t\tcontain <b>{this.props.nodeData.name || 'untitled'}</b> along with all its associations,\n\t\t\t\t\t\tand appear in the favorites when it is completed.\n\t\t\t\t\t</p>\n\t\t\t\t</Modal>\n\t\t\t\t<Modal\n\t\t\t\t\ttitle='Preview Image'\n\t\t\t\t\tvisible={this.state.showUrlPreviewImageModal}\n\t\t\t\t\tclassName='full-card-modal'\n\t\t\t\t\tcentered\n\t\t\t\t\tonOk={(e) => {\n\t\t\t\t\t\tthis.setState({ showUrlPreviewImageModal: false });\n\t\t\t\t\t\tthis.setUrlPreviewImage(this.state.preview);\n\t\t\t\t\t}}\n\t\t\t\t\tafterClose={() => {\n\t\t\t\t\t\tdocument.body.style.removeProperty('overflow');\n\t\t\t\t\t}}\n\t\t\t\t\tokText='save'\n\t\t\t\t\tclosable={false}\n\t\t\t\t\tonCancel={(e) => {\n\t\t\t\t\t\tthis.setState({\n\t\t\t\t\t\t\tpreview: this.props.nodeData.preview,\n\t\t\t\t\t\t\tshowUrlPreviewImageModal: false,\n\t\t\t\t\t\t});\n\t\t\t\t\t\twindow.getSelection().removeAllRanges();\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t<input\n\t\t\t\t\t\ttype='text'\n\t\t\t\t\t\tclassName='full-card-modal-input'\n\t\t\t\t\t\tautoFocus\n\t\t\t\t\t\tmaxLength='250'\n\t\t\t\t\t\tonFocus={(e) => {\n\t\t\t\t\t\t\te.target.select();\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tplaceholder='image URL'\n\t\t\t\t\t\tvalue={this.state.preview || ''}\n\t\t\t\t\t\tonKeyDown={(e) => {\n\t\t\t\t\t\t\tif (e.key === 'Enter') {\n\t\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t\t\tthis.setState({ showUrlPreviewImageModal: false });\n\t\t\t\t\t\t\t\tthis.setUrlPreviewImage(this.state.preview);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tonChange={(e) => this.setState({ preview: e.target.value })}\n\t\t\t\t\t></input>\n\t\t\t\t</Modal>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nconst mapStateToProps = (state) => {\n\treturn {\n\t\tnodeData: state.nodes.activeNode,\n\t\ttheme: state.components.theme,\n\t};\n};\n\nexport default connect(mapStateToProps, {\n\tshowComponent,\n\tupdateActiveNode,\n\tclearNodePreview,\n\tunpackImport,\n\topenFileInExplorer,\n\tdeleteNode,\n\tclearActiveNode,\n\tgenerateExportByUUID,\n\tremoveImportsByPackage,\n})(NodeCardHeaderFull);\n","import React, { Component } from 'react';\n// import { Link } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport { Icon } from 'antd';\nimport { markNodeView, showComponent, updateNode } from '../../../api/redux/actions';\n\nclass NodeCardHeader extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\tname: this.props.node.name,\n\t\t\teditable: false,\n\t\t};\n\t}\n\n\t// render the title\n\trenderTitle = () => {\n\t\tif (!this.state.editable) {\n\t\t\t// if it is not editable render the plain title\n\t\t\treturn (\n\t\t\t\t<h3\n\t\t\t\t\tclassName='nodelist-item-title'\n\t\t\t\t\tstyle={{ color: this.props.theme.cardTitleColor }}\n\t\t\t\t\tonDoubleClick={(e) => {\n\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\tthis.setState({ editable: true });\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t{this.state.name}\n\t\t\t\t</h3>\n\t\t\t);\n\t\t} else {\n\t\t\t// when title is double clicked render the input field\n\t\t\treturn (\n\t\t\t\t<input\n\t\t\t\t\ttype='text'\n\t\t\t\t\tclassName='nodelist-item-title'\n\t\t\t\t\tstyle={{\n\t\t\t\t\t\tbackgroundColor: 'transparent',\n\t\t\t\t\t}}\n\t\t\t\t\tonBlur={() => this.setState({ editable: null })}\n\t\t\t\t\tmaxLength='250'\n\t\t\t\t\tautoFocus\n\t\t\t\t\tplaceholder='name'\n\t\t\t\t\tvalue={this.state.name}\n\t\t\t\t\tonKeyPress={(e) => {\n\t\t\t\t\t\t// remove input on enter\n\t\t\t\t\t\tif (e.key === 'Enter') {\n\t\t\t\t\t\t\tthis.setState({ editable: null });\n\t\t\t\t\t\t}\n\t\t\t\t\t}}\n\t\t\t\t\tonChange={(e) => {\n\t\t\t\t\t\tthis.saveName(e.target.value);\n\t\t\t\t\t}}\n\t\t\t\t\tonFocus={(e) => {\n\t\t\t\t\t\te.target.select();\n\t\t\t\t\t}}\n\t\t\t\t></input>\n\t\t\t);\n\t\t}\n\t};\n\n\t// the jump to top icon is only available when sorting by most recent\n\trenderLightbulbIcon = () => {\n\t\tlet sortType = localStorage.getItem('sortType');\n\t\tconsole.log(window.location.href);\n\t\tif (sortType === 'recent' || window.location.href.includes('associations')) {\n\t\t\treturn (\n\t\t\t\t<button onClick={(e) => this.props.markNodeView(this.props.node)}>\n\t\t\t\t\t<Icon\n\t\t\t\t\t\ttype={'bulb'}\n\t\t\t\t\t\ttheme='outlined'\n\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\tfontSize: '0.9rem',\n\t\t\t\t\t\t\tdisplay: 'block',\n\t\t\t\t\t\t\ttextAlign: 'center',\n\t\t\t\t\t\t\tpadding: '0',\n\t\t\t\t\t\t\tcolor: this.props.theme.cardButtonColor,\n\t\t\t\t\t\t}}\n\t\t\t\t\t/>\n\t\t\t\t</button>\n\t\t\t);\n\t\t}\n\t};\n\n\t// update and save the document name\n\tsaveName = (name) => {\n\t\tif (this.state.name !== name) {\n\t\t\tthis.props.updateNode({ uuid: this.props.node.uuid, name });\n\t\t\tthis.props.node.name = name;\n\t\t\tthis.setState({ name: name });\n\t\t}\n\t};\n\n\trender() {\n\t\treturn (\n\t\t\t<div\n\t\t\t\tclassName='nodelist-options'\n\t\t\t\tstyle={{\n\t\t\t\t\tbackgroundColor: this.props.theme.cardHeaderColor,\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t{this.renderTitle()}\n\t\t\t\t<div className='nodelist-options-buttons' style={{ marginLeft: 'auto' }}>\n\t\t\t\t\t<button onClick={(e) => window.location.replace('/graph/' + this.props.node.uuid)}>\n\t\t\t\t\t\t<Icon\n\t\t\t\t\t\t\ttype={'deployment-unit'}\n\t\t\t\t\t\t\ttheme='outlined'\n\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\tfontSize: '0.9rem',\n\t\t\t\t\t\t\t\tdisplay: 'block',\n\t\t\t\t\t\t\t\ttextAlign: 'center',\n\t\t\t\t\t\t\t\tpadding: '0',\n\t\t\t\t\t\t\t\tcolor: this.props.theme.cardButtonColor,\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</button>\n\t\t\t\t\t{this.renderLightbulbIcon()}\n\t\t\t\t\t<button\n\t\t\t\t\t\tonClick={(e) => {\n\t\t\t\t\t\t\t// set the active node so the modal has the node data\n\t\t\t\t\t\t\t// show the modal\n\t\t\t\t\t\t\tthis.props.showComponent('associationSider', this.props.node);\n\t\t\t\t\t\t}}\n\t\t\t\t\t>\n\t\t\t\t\t\t<Icon\n\t\t\t\t\t\t\ttype={'branches'}\n\t\t\t\t\t\t\ttheme='outlined'\n\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\tfontSize: '0.9rem',\n\t\t\t\t\t\t\t\tdisplay: 'block',\n\t\t\t\t\t\t\t\ttextAlign: 'center',\n\t\t\t\t\t\t\t\tpadding: '0',\n\t\t\t\t\t\t\t\tcolor: this.props.theme.cardButtonColor,\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</button>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nconst mapStateToProps = (state) => {\n\treturn {\n\t\ttheme: state.components.theme,\n\t};\n};\n\nexport default connect(mapStateToProps, {\n\tmarkNodeView,\n\tshowComponent,\n\tupdateNode,\n})(NodeCardHeader);\n","import React, { Fragment } from 'react';\nimport { Link } from 'react-router-dom';\n// for now these are in-common between nodes\nimport NodeCardHeaderFull from '../../../components/elements/node/NodeCardHeaderFull';\nimport NodeCardHeader from '../../../components/elements/node/NodeCardHeader';\n\nconst Text = (props) => {\n\tconst nodeCard = () => {\n\t\treturn (\n\t\t\t<li className='nodelist-item'>\n\t\t\t\t<NodeCardHeader node={props.node} />\n\t\t\t\t<Link\n\t\t\t\t\tto={`/edit/text/${props.node.uuid}`}\n\t\t\t\t\tonClick={(e) => {\n\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t// prevent the text from being selected\n\t\t\t\t\t\twindow.getSelection().removeAllRanges();\n\t\t\t\t\t\twindow.location.replace(`/associations/${props.node.uuid}`);\n\t\t\t\t\t}}\n\t\t\t\t\tonContextMenu={(e) => {\n\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\tprops.handleClick();\n\t\t\t\t\t\twindow.getSelection().removeAllRanges();\n\t\t\t\t\t\twindow.location.replace(`/edit/text/${props.node.uuid}`);\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t<p\n\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\tcolor: props.theme.cardTextColor,\n\t\t\t\t\t\t\tbackgroundColor: props.theme.cardBodyColor,\n\t\t\t\t\t\t}}\n\t\t\t\t\t>\n\t\t\t\t\t\t{props.node.preview}\n\t\t\t\t\t</p>\n\t\t\t\t</Link>\n\t\t\t</li>\n\t\t);\n\t};\n\n\t// how the node will appear in collections\n\tconst collectionPreview = () => {\n\t\treturn (\n\t\t\t<Fragment>\n\t\t\t\t<p>{props.node.preview}</p>\n\t\t\t</Fragment>\n\t\t);\n\t};\n\n\tconst fullNode = () => {\n\t\treturn (\n\t\t\t<div className='full-node-item'>\n\t\t\t\t<NodeCardHeaderFull />\n\t\t\t\t<Link\n\t\t\t\t\tto={`/edit/text/${props.node.uuid}`}\n\t\t\t\t\tonContextMenu={(e) => {\n\t\t\t\t\t\twindow.getSelection().removeAllRanges();\n\t\t\t\t\t}} /*target='_blank' */\n\t\t\t\t>\n\t\t\t\t\t<p style={{ backgroundColor: props.theme.cardBodyColor }}>{props.node.preview}</p>\n\t\t\t\t</Link>\n\t\t\t</div>\n\t\t);\n\t};\n\n\tconst associationLink = () => {\n\t\treturn (\n\t\t\t<Link\n\t\t\t\tto={`/edit/text/${props.node.uuid}`}\n\t\t\t\tonClick={(e) => props.handleAssociatonClick()}\n\t\t\t\t// target='_blank'\n\t\t\t>\n\t\t\t\t{props.node.name}\n\t\t\t</Link>\n\t\t);\n\t};\n\n\t// render the requested element\n\tconst renderNode = () => {\n\t\tswitch (props.element) {\n\t\t\tcase 'card':\n\t\t\t\treturn <Fragment>{nodeCard()}</Fragment>;\n\t\t\tcase 'preview':\n\t\t\t\treturn <Fragment>{collectionPreview()}</Fragment>;\n\t\t\tcase 'full':\n\t\t\t\treturn <Fragment>{fullNode()}</Fragment>;\n\t\t\tcase 'association-link':\n\t\t\t\treturn <Fragment>{associationLink()}</Fragment>;\n\t\t\tdefault:\n\t\t\t\treturn;\n\t\t}\n\t};\n\n\treturn <Fragment>{renderNode()}</Fragment>;\n};\n\nexport { Text };\n","import React, { Fragment } from 'react';\nimport { Link } from 'react-router-dom';\n// for now these are in-common between nodes\nimport NodeCardHeaderFull from '../../../components/elements/node/NodeCardHeaderFull';\nimport missingFileImage from '../../../resources/missing-file.png';\nimport { isElectron } from '../../../utils/environment';\n\nconst Image = (props) => {\n\tlet fileLoadError = false;\n\n\tconst onFileLoadError = (e) => {\n\t\tif (props.node.isFile) {\n\t\t\te.target.src = missingFileImage;\n\t\t\tfileLoadError = true;\n\t\t}\n\t};\n\n\t// select an image.\n\tconst selectLocalFile = (e) => {\n\t\tconst input = document.createElement('input');\n\t\tinput.setAttribute('type', 'file');\n\t\tinput.setAttribute('accept', ['image/gif', 'image/jpg', 'image/jpeg', 'image/png']);\n\t\tinput.click();\n\t\t// Listen for uploading local file, then save to server\n\t\tinput.onchange = async () => {\n\t\t\tlet file = input.files[0];\n\t\t\tawait props.updateNode({ uuid: props.node.uuid, path: file.path, preview: file.path });\n\t\t\twindow.location.reload();\n\t\t};\n\t};\n\n\tconst onClickAction = (e) => {\n\t\te.preventDefault();\n\t\tprops.handleClick();\n\t\twindow.location.replace(`/associations/${props.node.uuid}`);\n\t};\n\n\t// const onContextAction = (e) => {\n\t// \tif (!fileLoadError && props.node.isFile) {\n\t// \t\te.preventDefault();\n\t// \t\tprops.handleClick();\n\t// \t\tprops.launchFile(props.node.uuid);\n\t// \t\t// window.location.replace(`/associations/${props.node.uuid}`);\n\t// \t} else if (isElectron() && props.node.isFile) {\n\t// \t\te.preventDefault();\n\t// \t\tselectLocalFile(e);\n\t// \t} else {\n\t// \t\te.preventDefault();\n\t// \t\twindow.location.replace(`/associations/${props.node.uuid}`);\n\t// \t}\n\t// };\n\n\tconst onFullCardAction = (e) => {\n\t\tif (!fileLoadError && props.node.isFile) {\n\t\t\te.preventDefault();\n\t\t\tprops.handleClick();\n\t\t\tprops.launchFile(props.node.uuid);\n\t\t} else if (isElectron() && props.node.isFile) {\n\t\t\te.preventDefault();\n\t\t\tselectLocalFile(e);\n\t\t} else {\n\t\t\te.preventDefault();\n\t\t\twindow.location.replace(`/associations/${props.node.uuid}`);\n\t\t}\n\t};\n\n\tconst nodeCard = () => {\n\t\tif (props.node.path === null && props.node.isFile) {\n\t\t\tfileLoadError = true;\n\t\t\tprops.node.preview = missingFileImage;\n\t\t}\n\t\treturn (\n\t\t\t<li className='nodelist-item'>\n\t\t\t\t{props.renderHeader()}\n\t\t\t\t<Link\n\t\t\t\t\tid='image-node-card-link'\n\t\t\t\t\tto={`/associations/${props.node.uuid}`}\n\t\t\t\t\tonClick={(e) => {\n\t\t\t\t\t\tonClickAction(e);\n\t\t\t\t\t}}\n\t\t\t\t\t// onContextMenu={(e) => {\n\t\t\t\t\t// \t// onContextAction(e);\n\t\t\t\t\t// }}\n\t\t\t\t>\n\t\t\t\t\t<Fragment>\n\t\t\t\t\t\t<img\n\t\t\t\t\t\t\tsrc={props.node.preview}\n\t\t\t\t\t\t\talt={props.node.name}\n\t\t\t\t\t\t\tonError={(e) => onFileLoadError(e)}\n\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\tobjectFit: 'cover',\n\t\t\t\t\t\t\t\tminHeight: '100%',\n\t\t\t\t\t\t\t\twidth: '100%',\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t></img>\n\t\t\t\t\t</Fragment>\n\t\t\t\t</Link>\n\t\t\t</li>\n\t\t);\n\t};\n\n\t// how the node will appear in collections\n\tconst collectionPreview = () => {\n\t\tif (props.node.path === null && props.node.isFile) {\n\t\t\tfileLoadError = true;\n\t\t\tprops.node.preview = missingFileImage;\n\t\t}\n\t\treturn (\n\t\t\t<Fragment>\n\t\t\t\t<img\n\t\t\t\t\tsrc={props.node.preview}\n\t\t\t\t\talt={props.node.name}\n\t\t\t\t\tonError={(e) => onFileLoadError(e)}\n\t\t\t\t\tstyle={{\n\t\t\t\t\t\tobjectFit: 'cover',\n\t\t\t\t\t\tminHeight: '100%',\n\t\t\t\t\t\twidth: '100%',\n\t\t\t\t\t}}\n\t\t\t\t></img>\n\t\t\t</Fragment>\n\t\t);\n\t};\n\n\tconst fullNode = () => {\n\t\tif (props.node.path === null && props.node.isFile) {\n\t\t\tfileLoadError = true;\n\t\t\tprops.node.preview = missingFileImage;\n\t\t}\n\t\tlet imageScale = JSON.parse(localStorage.getItem('image-sizing')) || 'classic';\n\t\tlet imageClass = 'img-' + imageScale.replace(' ', '-');\n\t\treturn (\n\t\t\t<div className={'full-node-item ' + imageClass}>\n\t\t\t\t<NodeCardHeaderFull />\n\t\t\t\t<img\n\t\t\t\t\tsrc={props.node.preview}\n\t\t\t\t\talt={props.node.name}\n\t\t\t\t\tonError={(e) => onFileLoadError(e)}\n\t\t\t\t\tstyle={{ cursor: 'pointer' }}\n\t\t\t\t\tonClick={(e) => {\n\t\t\t\t\t\tonFullCardAction(e);\n\t\t\t\t\t}}\n\t\t\t\t></img>\n\t\t\t</div>\n\t\t);\n\t};\n\n\tconst associationLink = () => {\n\t\treturn (\n\t\t\t<Link\n\t\t\t\tto={`/associations/${props.node.uuid}`}\n\t\t\t\tonClick={(e) => props.handleAssociatonClick()}\n\t\t\t\t// target='_blank'\n\t\t\t>\n\t\t\t\t{props.node.name}\n\t\t\t</Link>\n\t\t);\n\t};\n\n\t// render the requested element\n\tconst renderNode = () => {\n\t\tswitch (props.element) {\n\t\t\tcase 'card':\n\t\t\t\treturn <Fragment>{nodeCard()}</Fragment>;\n\t\t\tcase 'preview':\n\t\t\t\treturn <Fragment>{collectionPreview()}</Fragment>;\n\t\t\tcase 'full':\n\t\t\t\treturn <Fragment>{fullNode()}</Fragment>;\n\t\t\tcase 'association-link':\n\t\t\t\treturn <Fragment>{associationLink()}</Fragment>;\n\t\t\tdefault:\n\t\t\t\treturn;\n\t\t}\n\t};\n\n\treturn <Fragment>{renderNode()}</Fragment>;\n};\n\nexport { Image };\n","import React, { Fragment } from 'react';\nimport { Icon } from 'antd';\nimport { Link } from 'react-router-dom';\n// for now these are in-common between nodes\nimport NodeCardHeaderFull from '../../../components/elements/node/NodeCardHeaderFull';\nimport missingFileImage from '../../../resources/missing-file.png';\n\nconst Url = (props) => {\n\tconst urlIcon = 'bulb';\n\n\tconst renderFullCardPreview = () => {\n\t\t// if the URL is a youtube embed, lets actually load the video here\n\t\tif (props.node.path.includes('https://www.youtube.com/embed/')) {\n\t\t\treturn (\n\t\t\t\t<iframe\n\t\t\t\t\ttitle={props.node.name}\n\t\t\t\t\tsrc={props.node.path}\n\t\t\t\t\tstyle={{ width: '100%', height: '100vh', border: 'none' }}\n\t\t\t\t\tallowFullScreen\n\t\t\t\t\tsandbox={\n\t\t\t\t\t\tprops.node.path.includes('https://www.youtube.com/embed/')\n\t\t\t\t\t\t\t? 'allow-scripts allow-same-origin allow-popups'\n\t\t\t\t\t\t\t: ''\n\t\t\t\t\t}\n\t\t\t\t\tid='node-card-iframe'\n\t\t\t\t></iframe>\n\t\t\t);\n\t\t}\n\t\t// for anything else just display a link out to it\n\t\telse {\n\t\t\treturn (\n\t\t\t\t<a\n\t\t\t\t\thref={props.node.path}\n\t\t\t\t\ttarget='_blank'\n\t\t\t\t\trel='noopener noreferrer'\n\t\t\t\t\t// style={{ width: '100%' }}\n\t\t\t\t>\n\t\t\t\t\t{renderPreview()}\n\t\t\t\t</a>\n\t\t\t);\n\t\t}\n\t};\n\n\tconst renderPreview = () => {\n\t\tif (props.node.preview) {\n\t\t\treturn (\n\t\t\t\t<img\n\t\t\t\t\tsrc={props.node.preview}\n\t\t\t\t\talt={props.node.name}\n\t\t\t\t\tstyle={{\n\t\t\t\t\t\tobjectFit: 'cover',\n\t\t\t\t\t\t// minHeight: '100%',\n\t\t\t\t\t\t// width: '100%',\n\t\t\t\t\t}}\n\t\t\t\t\tonError={(e) => (e.target.src = missingFileImage)}\n\t\t\t\t></img>\n\t\t\t);\n\t\t} else {\n\t\t\treturn (\n\t\t\t\t<Icon\n\t\t\t\t\ttype={urlIcon}\n\t\t\t\t\t// type={'star'}\n\t\t\t\t\ttheme='outlined'\n\t\t\t\t\tstyle={{\n\t\t\t\t\t\tfontSize: '5rem',\n\t\t\t\t\t\tcolor: '#b8b8b8',\n\t\t\t\t\t\tdisplay: 'block',\n\t\t\t\t\t\ttextAlign: 'center',\n\t\t\t\t\t\tpadding: '4.3rem 3.3rem 3.3rem',\n\t\t\t\t\t\theight: '100%',\n\t\t\t\t\t\tbackgroundColor: props.theme.cardBodyColor,\n\t\t\t\t\t}}\n\t\t\t\t/>\n\t\t\t);\n\t\t}\n\t};\n\n\tconst nodeCard = () => {\n\t\treturn (\n\t\t\t<li className='nodelist-item'>\n\t\t\t\t{props.renderHeader()}\n\t\t\t\t<a\n\t\t\t\t\thref={`/associations/${props.node.uuid}`}\n\t\t\t\t\trel='noopener noreferrer'\n\t\t\t\t\tonClick={(e) => {\n\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\tprops.handleClick();\n\t\t\t\t\t\twindow.location.replace(`/associations/${props.node.uuid}`);\n\t\t\t\t\t}}\n\t\t\t\t\tonContextMenu={(e) => {\n\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t// props.toggleHeader();\n\t\t\t\t\t\twindow.open(props.node.path, '_blank');\n\t\t\t\t\t}}\n\t\t\t\t\tstyle={{\n\t\t\t\t\t\twidth: '100%',\n\t\t\t\t\t\tbackgroundColor: props.theme.cardBodyColor,\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t{renderPreview()}\n\t\t\t\t</a>\n\t\t\t</li>\n\t\t);\n\t};\n\n\t// how the node will appear in collections\n\tconst collectionPreview = () => {\n\t\tif (props.node.preview) {\n\t\t\treturn (\n\t\t\t\t<Fragment>\n\t\t\t\t\t<img\n\t\t\t\t\t\tsrc={props.node.preview}\n\t\t\t\t\t\talt={props.node.name}\n\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\tobjectFit: 'cover',\n\t\t\t\t\t\t\twidth: '100%',\n\t\t\t\t\t\t}}\n\t\t\t\t\t></img>\n\t\t\t\t</Fragment>\n\t\t\t);\n\t\t} else {\n\t\t\treturn (\n\t\t\t\t<Fragment>\n\t\t\t\t\t<Icon type={urlIcon} theme='outlined' className='node-card-icon' />\n\t\t\t\t</Fragment>\n\t\t\t);\n\t\t}\n\t};\n\n\tconst fullNode = () => {\n\t\tlet imageScale = JSON.parse(localStorage.getItem('image-sizing')) || 'classic';\n\t\tlet imageClass = 'img-' + imageScale.replace(' ', '-');\n\t\treturn (\n\t\t\t<div className={'full-node-item ' + imageClass}>\n\t\t\t\t<NodeCardHeaderFull />\n\t\t\t\t{renderFullCardPreview()}\n\t\t\t\t{/* <p>{props.node.comment}</p> */}\n\t\t\t</div>\n\t\t);\n\t};\n\n\tconst associationLink = () => {\n\t\treturn (\n\t\t\t<Link to={`/associations/${props.node.uuid}`} onClick={(e) => props.handleAssociatonClick()}>\n\t\t\t\t{props.node.name}\n\t\t\t</Link>\n\t\t);\n\t};\n\n\t// render the requested element\n\tconst renderNode = () => {\n\t\tswitch (props.element) {\n\t\t\tcase 'card':\n\t\t\t\treturn <Fragment>{nodeCard()}</Fragment>;\n\t\t\tcase 'preview':\n\t\t\t\treturn <Fragment>{collectionPreview()}</Fragment>;\n\t\t\tcase 'full':\n\t\t\t\treturn <Fragment>{fullNode()}</Fragment>;\n\t\t\tcase 'association-link':\n\t\t\t\treturn <Fragment>{associationLink()}</Fragment>;\n\t\t\tdefault:\n\t\t\t\treturn;\n\t\t}\n\t};\n\n\treturn <Fragment>{renderNode()}</Fragment>;\n};\n\nexport { Url };\n","import React, { Fragment } from 'react';\nimport { Link } from 'react-router-dom';\nimport { Icon } from 'antd';\n// custom code\nimport NodeCardHeaderFull from '../../../components/elements/node/NodeCardHeaderFull';\nimport NodeCardHeader from '../../../components/elements/node/NodeCardHeader';\nimport missingFileImage from '../../../resources/missing-file.png';\nimport { isElectron } from '../../../utils/environment';\n\nconst File = (props) => {\n\tlet fileLoadError = false;\n\n\t// select a replacement file\n\tconst selectLocalFile = (e) => {\n\t\tconst input = document.createElement('input');\n\t\tinput.setAttribute('type', 'file');\n\t\tinput.click();\n\t\t// Listen for uploading local file, then save to server\n\t\tinput.onchange = async () => {\n\t\t\tlet file = input.files[0];\n\t\t\tawait props.updateNode({ uuid: props.node.uuid, path: file.path });\n\t\t\twindow.location.reload();\n\t\t};\n\t};\n\n\tconst onClickAction = (e) => {\n\t\tif (!fileLoadError) {\n\t\t\te.preventDefault();\n\t\t\tprops.handleClick();\n\t\t\twindow.location.replace(`/associations/${props.node.uuid}`);\n\t\t} else if (isElectron()) {\n\t\t\te.preventDefault();\n\t\t\tprops.handleClick();\n\t\t\twindow.location.replace(`/associations/${props.node.uuid}`);\n\t\t} else {\n\t\t\te.preventDefault();\n\t\t\twindow.location.replace(`/associations/${props.node.uuid}`);\n\t\t}\n\t};\n\n\tconst onContextAction = (e) => {\n\t\tif (!fileLoadError) {\n\t\t\te.preventDefault();\n\t\t\tprops.handleClick();\n\t\t\tprops.launchFile(props.node.uuid);\n\t\t} else if (isElectron()) {\n\t\t\te.preventDefault();\n\t\t\tselectLocalFile(e);\n\t\t} else {\n\t\t\te.preventDefault();\n\t\t\twindow.location.replace(`/associations/${props.node.uuid}`);\n\t\t}\n\t};\n\n\tconst onFullCardAction = (e) => {\n\t\tif (!fileLoadError) {\n\t\t\te.preventDefault();\n\t\t\tprops.handleClick();\n\t\t\tprops.launchFile(props.node.uuid);\n\t\t} else if (isElectron()) {\n\t\t\te.preventDefault();\n\t\t\tselectLocalFile(e);\n\t\t} else {\n\t\t\te.preventDefault();\n\t\t\twindow.location.replace(`/associations/${props.node.uuid}`);\n\t\t}\n\t};\n\n\tconst renderPreview = () => {\n\t\tif (props.node.path === null) {\n\t\t\tfileLoadError = true;\n\t\t\tprops.node.preview = missingFileImage;\n\t\t}\n\t\tif (props.node.preview) {\n\t\t\treturn (\n\t\t\t\t<Fragment>\n\t\t\t\t\t<img\n\t\t\t\t\t\tsrc={props.node.preview}\n\t\t\t\t\t\talt={props.node.name}\n\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\tobjectFit: 'cover',\n\t\t\t\t\t\t\tminHeight: '100%',\n\t\t\t\t\t\t\twidth: '100%',\n\t\t\t\t\t\t}}\n\t\t\t\t\t></img>\n\t\t\t\t</Fragment>\n\t\t\t);\n\t\t} else {\n\t\t\treturn (\n\t\t\t\t<Icon\n\t\t\t\t\ttype={'thunderbolt'}\n\t\t\t\t\tstyle={{ color: 'white', backgroundColor: props.theme.cardBodyColor, height: '100%' }}\n\t\t\t\t\ttheme='filled'\n\t\t\t\t\tclassName='node-card-icon'\n\t\t\t\t/>\n\t\t\t);\n\t\t}\n\t};\n\n\tconst nodeCard = () => {\n\t\treturn (\n\t\t\t<li className='nodelist-item'>\n\t\t\t\t<NodeCardHeader node={props.node} />\n\t\t\t\t<Link\n\t\t\t\t\tto={`/associations/${props.node.uuid}`}\n\t\t\t\t\tonClick={(e) => onClickAction(e)}\n\t\t\t\t\tonContextMenu={(e) => onContextAction(e)}\n\t\t\t\t\tstyle={{\n\t\t\t\t\t\twidth: '100%',\n\t\t\t\t\t\tbackgroundColor: props.theme.cardBodyColor,\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t{renderPreview()}\n\t\t\t\t</Link>\n\t\t\t</li>\n\t\t);\n\t};\n\n\t// how the node will appear in collections\n\tconst collectionPreview = () => {\n\t\treturn <Fragment>{renderPreview()}</Fragment>;\n\t};\n\n\tconst fullNode = () => {\n\t\treturn (\n\t\t\t<div className='full-node-item'>\n\t\t\t\t<NodeCardHeaderFull />\n\t\t\t\t<Link to={`/associations/${props.node.uuid}`} onClick={(e) => onFullCardAction(e)}>\n\t\t\t\t\t<Fragment>{renderPreview()}</Fragment>\n\t\t\t\t</Link>\n\t\t\t</div>\n\t\t);\n\t};\n\n\tconst associationLink = () => {\n\t\treturn (\n\t\t\t<Link to={`/associations/${props.node.uuid}`} onClick={(e) => props.handleAssociatonClick()}>\n\t\t\t\t{props.node.name}\n\t\t\t</Link>\n\t\t);\n\t};\n\n\t// render the requested element\n\tconst renderNode = () => {\n\t\tswitch (props.element) {\n\t\t\tcase 'card':\n\t\t\t\treturn <Fragment>{nodeCard()}</Fragment>;\n\t\t\tcase 'preview':\n\t\t\t\treturn <Fragment>{collectionPreview()}</Fragment>;\n\t\t\tcase 'full':\n\t\t\t\treturn <Fragment>{fullNode()}</Fragment>;\n\t\t\tcase 'association-link':\n\t\t\t\treturn <Fragment>{associationLink()}</Fragment>;\n\t\t\tdefault:\n\t\t\t\treturn;\n\t\t}\n\t};\n\n\treturn <Fragment>{renderNode()}</Fragment>;\n};\n\nexport { File };\n","import React, { Fragment } from 'react';\nimport { Link } from 'react-router-dom';\nimport { Icon } from 'antd';\n// for now these are in-common between nodes\nimport NodeCardHeaderFull from '../../../components/elements/node/NodeCardHeaderFull';\nimport NodeCardHeader from '../../../components/elements/node/NodeCardHeader';\nimport missingFileImage from '../../../resources/missing-file.png';\nimport { isElectron } from '../../../utils/environment';\n\nconst Audio = (props) => {\n\tlet fileLoadError = false;\n\n\t// select a replacement file\n\tconst selectLocalFile = (e) => {\n\t\tconst input = document.createElement('input');\n\t\tinput.setAttribute('type', 'file');\n\t\tinput.click();\n\t\t// Listen for uploading local file, then save to server\n\t\tinput.onchange = async () => {\n\t\t\tlet file = input.files[0];\n\t\t\tawait props.updateNode({ uuid: props.node.uuid, path: file.path });\n\t\t\twindow.location.reload();\n\t\t};\n\t};\n\n\tconst onClickAction = (e) => {\n\t\tif (!fileLoadError) {\n\t\t\te.preventDefault();\n\t\t\tprops.handleClick();\n\t\t\twindow.location.replace(`/associations/${props.node.uuid}`);\n\t\t} else if (isElectron()) {\n\t\t\te.preventDefault();\n\t\t\tselectLocalFile(e);\n\t\t} else {\n\t\t\te.preventDefault();\n\t\t\twindow.location.replace(`/associations/${props.node.uuid}`);\n\t\t}\n\t};\n\n\tconst onContextAction = (e) => {\n\t\tif (!fileLoadError) {\n\t\t\te.preventDefault();\n\t\t\tprops.handleClick();\n\t\t\tprops.launchFile(props.node.uuid);\n\t\t} else if (isElectron()) {\n\t\t\te.preventDefault();\n\t\t\tselectLocalFile(e);\n\t\t} else {\n\t\t\te.preventDefault();\n\t\t\twindow.location.replace(`/associations/${props.node.uuid}`);\n\t\t}\n\t};\n\n\tconst onFullCardAction = (e) => {\n\t\tif (!fileLoadError) {\n\t\t\te.preventDefault();\n\t\t\tprops.handleClick();\n\t\t\tprops.launchFile(props.node.uuid);\n\t\t} else if (isElectron()) {\n\t\t\te.preventDefault();\n\t\t\tselectLocalFile(e);\n\t\t} else {\n\t\t\te.preventDefault();\n\t\t\twindow.location.replace(`/associations/${props.node.uuid}`);\n\t\t}\n\t};\n\n\tconst renderPreview = () => {\n\t\tif (props.node.path === null) {\n\t\t\tfileLoadError = true;\n\t\t\tprops.node.preview = missingFileImage;\n\t\t}\n\t\tif (props.node.preview) {\n\t\t\treturn (\n\t\t\t\t<Fragment>\n\t\t\t\t\t<img\n\t\t\t\t\t\tsrc={props.node.preview}\n\t\t\t\t\t\talt={props.node.name}\n\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\tobjectFit: 'cover',\n\t\t\t\t\t\t\tminHeight: '100%',\n\t\t\t\t\t\t\twidth: '100%',\n\t\t\t\t\t\t}}\n\t\t\t\t\t></img>\n\t\t\t\t</Fragment>\n\t\t\t);\n\t\t} else {\n\t\t\treturn (\n\t\t\t\t<Icon\n\t\t\t\t\ttype={'sound'}\n\t\t\t\t\tstyle={{ color: 'white', backgroundColor: props.theme.cardBodyColor, height: '100%' }}\n\t\t\t\t\ttheme='filled'\n\t\t\t\t\tclassName='node-card-icon'\n\t\t\t\t/>\n\t\t\t);\n\t\t}\n\t};\n\n\tconst nodeCard = () => {\n\t\treturn (\n\t\t\t<li className='nodelist-item'>\n\t\t\t\t<NodeCardHeader node={props.node} />\n\t\t\t\t<Link\n\t\t\t\t\tto={`/associations/${props.node.uuid}`}\n\t\t\t\t\tonClick={(e) => onClickAction(e)}\n\t\t\t\t\tonContextMenu={(e) => onContextAction(e)}\n\t\t\t\t\tstyle={{\n\t\t\t\t\t\twidth: '100%',\n\t\t\t\t\t\tbackgroundColor: props.theme.cardBodyColor,\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t{renderPreview()}\n\t\t\t\t</Link>\n\t\t\t</li>\n\t\t);\n\t};\n\n\t// how the node will appear in collections\n\tconst collectionPreview = () => {\n\t\treturn <Fragment>{renderPreview()}</Fragment>;\n\t};\n\n\tconst fullNode = () => {\n\t\treturn (\n\t\t\t<div className='full-node-item'>\n\t\t\t\t<NodeCardHeaderFull />\n\t\t\t\t<Link to={`/associations/${props.node.uuid}`} onClick={(e) => onFullCardAction(e)}>\n\t\t\t\t\t<Fragment>{renderPreview()}</Fragment>\n\t\t\t\t</Link>\n\t\t\t</div>\n\t\t);\n\t};\n\n\tconst associationLink = () => {\n\t\treturn (\n\t\t\t<Link to={`/associations/${props.node.uuid}`} onClick={(e) => props.handleAssociatonClick()}>\n\t\t\t\t{props.node.name}\n\t\t\t</Link>\n\t\t);\n\t};\n\n\t// render the requested element\n\tconst renderNode = () => {\n\t\tswitch (props.element) {\n\t\t\tcase 'card':\n\t\t\t\treturn <Fragment>{nodeCard()}</Fragment>;\n\t\t\tcase 'preview':\n\t\t\t\treturn <Fragment>{collectionPreview()}</Fragment>;\n\t\t\tcase 'full':\n\t\t\t\treturn <Fragment>{fullNode()}</Fragment>;\n\t\t\tcase 'association-link':\n\t\t\t\treturn <Fragment>{associationLink()}</Fragment>;\n\t\t\tdefault:\n\t\t\t\treturn;\n\t\t}\n\t};\n\n\treturn <Fragment>{renderNode()}</Fragment>;\n};\n\nexport { Audio };\n","import React, { Fragment } from 'react';\nimport { Link } from 'react-router-dom';\nimport { Icon } from 'antd';\n// custom code\nimport NodeCardHeaderFull from '../../../components/elements/node/NodeCardHeaderFull';\nimport NodeCardHeader from '../../../components/elements/node/NodeCardHeader';\nimport missingFileImage from '../../../resources/missing-file.png';\nimport { isElectron } from '../../../utils/environment';\n\nconst Package = (props) => {\n\tlet fileLoadError = false;\n\n\t// select a replacement file\n\tconst selectLocalFile = (e) => {\n\t\tconst input = document.createElement('input');\n\t\tinput.setAttribute('type', 'file');\n\t\tinput.click();\n\t\t// Listen for uploading local file, then save to server\n\t\tinput.onchange = async () => {\n\t\t\tlet file = input.files[0];\n\t\t\tawait props.updateNode({ uuid: props.node.uuid, path: file.path });\n\t\t\twindow.location.reload();\n\t\t};\n\t};\n\n\tconst onClickAction = (e) => {\n\t\tif (!fileLoadError) {\n\t\t\te.preventDefault();\n\t\t\tprops.handleClick();\n\t\t\twindow.location.replace(`/associations/${props.node.uuid}`);\n\t\t} else if (isElectron()) {\n\t\t\te.preventDefault();\n\t\t\tselectLocalFile(e);\n\t\t} else {\n\t\t\te.preventDefault();\n\t\t\twindow.location.replace(`/associations/${props.node.uuid}`);\n\t\t}\n\t};\n\n\tconst onContextAction = (e) => {\n\t\tif (!fileLoadError) {\n\t\t\te.preventDefault();\n\t\t\tprops.handleClick();\n\t\t\tprops.launchExplorer(props.node.uuid);\n\t\t} else if (isElectron()) {\n\t\t\te.preventDefault();\n\t\t\tselectLocalFile(e);\n\t\t} else {\n\t\t\te.preventDefault();\n\t\t\twindow.location.replace(`/associations/${props.node.uuid}`);\n\t\t}\n\t};\n\n\tconst onFullCardAction = (e) => {\n\t\tif (!fileLoadError) {\n\t\t\te.preventDefault();\n\t\t\tprops.handleClick();\n\t\t\tprops.launchExplorer(props.node.uuid);\n\t\t} else if (isElectron()) {\n\t\t\te.preventDefault();\n\t\t\tselectLocalFile(e);\n\t\t} else {\n\t\t\te.preventDefault();\n\t\t\twindow.location.replace(`/associations/${props.node.uuid}`);\n\t\t}\n\t};\n\n\tconst renderPreview = () => {\n\t\tif (props.node.path === null) {\n\t\t\tfileLoadError = true;\n\t\t\tprops.node.preview = missingFileImage;\n\t\t}\n\t\tif (props.node.preview) {\n\t\t\treturn (\n\t\t\t\t<Fragment>\n\t\t\t\t\t<img\n\t\t\t\t\t\tsrc={props.node.preview}\n\t\t\t\t\t\talt={props.node.name}\n\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\tobjectFit: 'cover',\n\t\t\t\t\t\t\tminHeight: '100%',\n\t\t\t\t\t\t\twidth: '100%',\n\t\t\t\t\t\t}}\n\t\t\t\t\t></img>\n\t\t\t\t</Fragment>\n\t\t\t);\n\t\t} else {\n\t\t\treturn (\n\t\t\t\t<Icon\n\t\t\t\t\ttype={'gift'}\n\t\t\t\t\tstyle={{ color: 'white', backgroundColor: props.theme.cardBodyColor, height: '100%' }}\n\t\t\t\t\ttheme='filled'\n\t\t\t\t\tclassName='node-card-icon'\n\t\t\t\t/>\n\t\t\t);\n\t\t}\n\t};\n\n\tconst nodeCard = () => {\n\t\treturn (\n\t\t\t<li className='nodelist-item'>\n\t\t\t\t<NodeCardHeader node={props.node} />\n\t\t\t\t<Link\n\t\t\t\t\tto={`/associations/${props.node.uuid}`}\n\t\t\t\t\tonClick={(e) => onClickAction(e)}\n\t\t\t\t\tonContextMenu={(e) => onContextAction(e)}\n\t\t\t\t\tstyle={{\n\t\t\t\t\t\twidth: '100%',\n\t\t\t\t\t\tbackgroundColor: props.theme.cardBodyColor,\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t{renderPreview()}\n\t\t\t\t</Link>\n\t\t\t</li>\n\t\t);\n\t};\n\n\t// how the node will appear in collections\n\tconst collectionPreview = () => {\n\t\treturn <Fragment>{renderPreview()}</Fragment>;\n\t};\n\n\tconst fullNode = () => {\n\t\treturn (\n\t\t\t<div className='full-node-item'>\n\t\t\t\t<NodeCardHeaderFull />\n\t\t\t\t<Link to={`/associations/${props.node.uuid}`} onClick={(e) => onFullCardAction(e)}>\n\t\t\t\t\t<Fragment>{renderPreview()}</Fragment>\n\t\t\t\t</Link>\n\t\t\t</div>\n\t\t);\n\t};\n\n\tconst associationLink = () => {\n\t\treturn (\n\t\t\t<Link to={`/associations/${props.node.uuid}`} onClick={(e) => props.handleAssociatonClick()}>\n\t\t\t\t{props.node.name}\n\t\t\t</Link>\n\t\t);\n\t};\n\n\t// render the requested element\n\tconst renderNode = () => {\n\t\tswitch (props.element) {\n\t\t\tcase 'card':\n\t\t\t\treturn <Fragment>{nodeCard()}</Fragment>;\n\t\t\tcase 'preview':\n\t\t\t\treturn <Fragment>{collectionPreview()}</Fragment>;\n\t\t\tcase 'full':\n\t\t\t\treturn <Fragment>{fullNode()}</Fragment>;\n\t\t\tcase 'association-link':\n\t\t\t\treturn <Fragment>{associationLink()}</Fragment>;\n\t\t\tdefault:\n\t\t\t\treturn;\n\t\t}\n\t};\n\n\treturn <Fragment>{renderNode()}</Fragment>;\n};\n\nexport { Package };\n","import React, { Fragment } from 'react';\nimport { Link } from 'react-router-dom';\nimport { Icon } from 'antd';\n// custom code\nimport NodeCardHeaderFull from '../../../components/elements/node/NodeCardHeaderFull';\nimport NodeCardHeader from '../../../components/elements/node/NodeCardHeader';\nimport missingFileImage from '../../../resources/missing-file.png';\nimport { isElectron } from '../../../utils/environment';\n\nconst Zip = (props) => {\n\tlet fileLoadError = false;\n\n\t// select a replacement file\n\tconst selectLocalFile = (e) => {\n\t\tconst input = document.createElement('input');\n\t\tinput.setAttribute('type', 'file');\n\t\tinput.setAttribute('accept', ['application/zip']);\n\t\tinput.click();\n\t\t// Listen for uploading local file, then save to server\n\t\tinput.onchange = async () => {\n\t\t\tlet file = input.files[0];\n\t\t\tawait props.updateNode({ uuid: props.node.uuid, path: file.path });\n\t\t\twindow.location.reload();\n\t\t};\n\t};\n\n\tconst onClickAction = (e) => {\n\t\tif (!fileLoadError) {\n\t\t\te.preventDefault();\n\t\t\tprops.handleClick();\n\t\t\twindow.location.replace(`/associations/${props.node.uuid}`);\n\t\t} else if (isElectron()) {\n\t\t\te.preventDefault();\n\t\t\tselectLocalFile(e);\n\t\t} else {\n\t\t\te.preventDefault();\n\t\t\twindow.location.replace(`/associations/${props.node.uuid}`);\n\t\t}\n\t};\n\n\tconst onContextAction = (e) => {\n\t\tif (!fileLoadError) {\n\t\t\te.preventDefault();\n\t\t\tprops.handleClick();\n\t\t\tprops.launchExplorer(props.node.uuid);\n\t\t} else if (isElectron()) {\n\t\t\te.preventDefault();\n\t\t\tselectLocalFile(e);\n\t\t} else {\n\t\t\te.preventDefault();\n\t\t\twindow.location.replace(`/associations/${props.node.uuid}`);\n\t\t}\n\t};\n\n\tconst onFullCardAction = (e) => {\n\t\tif (!fileLoadError) {\n\t\t\te.preventDefault();\n\t\t\tprops.handleClick();\n\t\t\tprops.launchExplorer(props.node.uuid);\n\t\t} else if (isElectron()) {\n\t\t\te.preventDefault();\n\t\t\tselectLocalFile(e);\n\t\t} else {\n\t\t\te.preventDefault();\n\t\t\twindow.location.replace(`/associations/${props.node.uuid}`);\n\t\t}\n\t};\n\n\tconst renderPreview = () => {\n\t\tif (props.node.path === null) {\n\t\t\tfileLoadError = true;\n\t\t\tprops.node.preview = missingFileImage;\n\t\t}\n\t\tif (props.node.preview) {\n\t\t\treturn (\n\t\t\t\t<Fragment>\n\t\t\t\t\t<img\n\t\t\t\t\t\tsrc={props.node.preview}\n\t\t\t\t\t\talt={props.node.name}\n\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\tobjectFit: 'cover',\n\t\t\t\t\t\t\tminHeight: '100%',\n\t\t\t\t\t\t\twidth: '100%',\n\t\t\t\t\t\t}}\n\t\t\t\t\t></img>\n\t\t\t\t</Fragment>\n\t\t\t);\n\t\t} else {\n\t\t\treturn (\n\t\t\t\t<Icon\n\t\t\t\t\ttype={'file-zip'}\n\t\t\t\t\tstyle={{ color: 'white', backgroundColor: props.theme.cardBodyColor, height: '100%' }}\n\t\t\t\t\ttheme='filled'\n\t\t\t\t\tclassName='node-card-icon'\n\t\t\t\t/>\n\t\t\t);\n\t\t}\n\t};\n\n\tconst nodeCard = () => {\n\t\treturn (\n\t\t\t<li className='nodelist-item'>\n\t\t\t\t<NodeCardHeader node={props.node} />\n\t\t\t\t<Link\n\t\t\t\t\tto={`/associations/${props.node.uuid}`}\n\t\t\t\t\tonClick={(e) => onClickAction(e)}\n\t\t\t\t\tonContextMenu={(e) => onContextAction(e)}\n\t\t\t\t\tstyle={{\n\t\t\t\t\t\twidth: '100%',\n\t\t\t\t\t\tbackgroundColor: props.theme.cardBodyColor,\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t{renderPreview()}\n\t\t\t\t</Link>\n\t\t\t</li>\n\t\t);\n\t};\n\n\t// how the node will appear in collections\n\tconst collectionPreview = () => {\n\t\treturn <Fragment>{renderPreview()}</Fragment>;\n\t};\n\n\tconst fullNode = () => {\n\t\treturn (\n\t\t\t<div className='full-node-item'>\n\t\t\t\t<NodeCardHeaderFull />\n\t\t\t\t<Link to={`/associations/${props.node.uuid}`} onClick={(e) => onFullCardAction(e)}>\n\t\t\t\t\t<Fragment>{renderPreview()}</Fragment>\n\t\t\t\t</Link>\n\t\t\t</div>\n\t\t);\n\t};\n\n\tconst associationLink = () => {\n\t\treturn (\n\t\t\t<Link to={`/associations/${props.node.uuid}`} onClick={(e) => props.handleAssociatonClick()}>\n\t\t\t\t{props.node.name}\n\t\t\t</Link>\n\t\t);\n\t};\n\n\t// render the requested element\n\tconst renderNode = () => {\n\t\tswitch (props.element) {\n\t\t\tcase 'card':\n\t\t\t\treturn <Fragment>{nodeCard()}</Fragment>;\n\t\t\tcase 'preview':\n\t\t\t\treturn <Fragment>{collectionPreview()}</Fragment>;\n\t\t\tcase 'full':\n\t\t\t\treturn <Fragment>{fullNode()}</Fragment>;\n\t\t\tcase 'association-link':\n\t\t\t\treturn <Fragment>{associationLink()}</Fragment>;\n\t\t\tdefault:\n\t\t\t\treturn;\n\t\t}\n\t};\n\n\treturn <Fragment>{renderNode()}</Fragment>;\n};\n\nexport { Zip };\n","import React, { Fragment } from 'react';\nimport { Link } from 'react-router-dom';\nimport { Icon } from 'antd';\n// custom code\nimport NodeRenderer from '../NodeRenderer';\n// for now these are in-common between nodes\nimport NodeCardHeaderFull from '../../../components/elements/node/NodeCardHeaderFull';\n\nconst Collection = (props) => {\n\tconst onCollectionContextMenu = (e) => {\n\t\t// e.preventDefault();\n\t\t// window.location.replace(`/associations/${props.node.uuid}`);\n\t};\n\n\tconst onCollectionClick = (e) => {\n\t\te.preventDefault();\n\t\tprops.handleClick();\n\t\twindow.location.replace(`/associations/${props.node.uuid}`);\n\t};\n\n\tconst nodeCard = () => {\n\t\t// create the collection grid\n\t\tvar previewCount = 0;\n\t\tvar collectionPreview = null;\n\t\tvar preview = null;\n\t\t// check if the collection has a preview\n\t\tif (props.node.preview) {\n\t\t\tpreview = JSON.parse(props.node.preview);\n\t\t\tpreviewCount = preview.length;\n\t\t}\n\t\t// create the different grid types\n\t\tswitch (previewCount) {\n\t\t\tcase 0:\n\t\t\t\tcollectionPreview = (\n\t\t\t\t\t<li className='nodelist-item'>\n\t\t\t\t\t\t{props.renderHeader()}\n\t\t\t\t\t\t<Link\n\t\t\t\t\t\t\tto={`/associations/${props.node.uuid}`}\n\t\t\t\t\t\t\tonClick={(e) => onCollectionClick(e)}\n\t\t\t\t\t\t\tonContextMenu={(e) => onCollectionContextMenu(e)}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<Icon type={'branches'} theme='outlined' className='node-card-icon' />\n\t\t\t\t\t\t</Link>\n\t\t\t\t\t</li>\n\t\t\t\t);\n\t\t\t\treturn collectionPreview;\n\t\t\tcase 1:\n\t\t\t\tcollectionPreview = (\n\t\t\t\t\t<li className='nodelist-item'>\n\t\t\t\t\t\t{props.renderHeader()}\n\t\t\t\t\t\t<Link\n\t\t\t\t\t\t\tto={`/associations/${props.node.uuid}`}\n\t\t\t\t\t\t\tonClick={(e) => onCollectionClick(e)}\n\t\t\t\t\t\t\tonContextMenu={(e) => onCollectionContextMenu(e)}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<NodeRenderer type={preview[0].type} element={'preview'} node={preview[0]} />\n\t\t\t\t\t\t</Link>\n\t\t\t\t\t</li>\n\t\t\t\t);\n\t\t\t\treturn collectionPreview;\n\t\t\tcase 2:\n\t\t\t\tcollectionPreview = (\n\t\t\t\t\t<li className='nodelist-item nodelist-item-collection'>\n\t\t\t\t\t\t{props.renderHeader()}\n\t\t\t\t\t\t<Link\n\t\t\t\t\t\t\tto={`/associations/${props.node.uuid}`}\n\t\t\t\t\t\t\tonClick={(e) => onCollectionClick(e)}\n\t\t\t\t\t\t\tonContextMenu={(e) => onCollectionContextMenu(e)}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<ul className='nodelist-collection-grid'>\n\t\t\t\t\t\t\t\t<li className='nodelist-collection-grid-full-width'>\n\t\t\t\t\t\t\t\t\t<NodeRenderer type={preview[0].type} element={'preview'} node={preview[0]} />\n\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t<li className='nodelist-collection-grid-full-width'>\n\t\t\t\t\t\t\t\t\t<NodeRenderer type={preview[1].type} element={'preview'} node={preview[1]} />\n\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t</Link>\n\t\t\t\t\t</li>\n\t\t\t\t);\n\t\t\t\treturn collectionPreview;\n\t\t\tcase 3:\n\t\t\t\tcollectionPreview = (\n\t\t\t\t\t<li className='nodelist-item nodelist-item-collection'>\n\t\t\t\t\t\t{props.renderHeader()}\n\t\t\t\t\t\t<Link\n\t\t\t\t\t\t\tto={`/associations/${props.node.uuid}`}\n\t\t\t\t\t\t\tonClick={(e) => onCollectionClick(e)}\n\t\t\t\t\t\t\tonContextMenu={(e) => onCollectionContextMenu(e)}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<ul className='nodelist-collection-grid'>\n\t\t\t\t\t\t\t\t<li className='nodelist-collection-grid-full-width'>\n\t\t\t\t\t\t\t\t\t<NodeRenderer type={preview[0].type} element={'preview'} node={preview[0]} />\n\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t\t\t<NodeRenderer type={preview[1].type} element={'preview'} node={preview[1]} />\n\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t\t\t<NodeRenderer type={preview[2].type} element={'preview'} node={preview[2]} />\n\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t<li></li>\n\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t</Link>\n\t\t\t\t\t</li>\n\t\t\t\t);\n\t\t\t\treturn collectionPreview;\n\t\t\tcase 4:\n\t\t\t\tcollectionPreview = (\n\t\t\t\t\t<li className='nodelist-item nodelist-item-collection'>\n\t\t\t\t\t\t{props.renderHeader()}\n\t\t\t\t\t\t<Link\n\t\t\t\t\t\t\tto={`/associations/${props.node.uuid}`}\n\t\t\t\t\t\t\tonClick={(e) => onCollectionClick(e)}\n\t\t\t\t\t\t\tonContextMenu={(e) => onCollectionContextMenu(e)}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<ul className='nodelist-collection-grid'>\n\t\t\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t\t\t<NodeRenderer type={preview[0].type} element={'preview'} node={preview[0]} />\n\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t\t\t<NodeRenderer type={preview[1].type} element={'preview'} node={preview[1]} />\n\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t\t\t<NodeRenderer type={preview[2].type} element={'preview'} node={preview[2]} />\n\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t\t\t<NodeRenderer type={preview[3].type} element={'preview'} node={preview[3]} />\n\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t</Link>\n\t\t\t\t\t</li>\n\t\t\t\t);\n\t\t\t\treturn collectionPreview;\n\t\t\tdefault:\n\t\t\t\treturn;\n\t\t}\n\t};\n\n\tconst fullNode = () => {\n\t\treturn (\n\t\t\t<div className='full-node-item'>\n\t\t\t\t<NodeCardHeaderFull />\n\t\t\t</div>\n\t\t);\n\t};\n\n\tconst associationLink = () => {\n\t\treturn (\n\t\t\t<Link\n\t\t\t\tto={`/associations/${props.node.uuid}`}\n\t\t\t\tonClick={(e) => props.handleAssociatonClick()}\n\t\t\t\t// target='_blank'\n\t\t\t>\n\t\t\t\t{props.node.name}\n\t\t\t</Link>\n\t\t);\n\t};\n\n\t// render the requested element\n\tconst renderNode = () => {\n\t\tswitch (props.element) {\n\t\t\tcase 'card':\n\t\t\t\treturn <Fragment>{nodeCard()}</Fragment>;\n\t\t\tcase 'full':\n\t\t\t\treturn <Fragment>{fullNode()}</Fragment>;\n\t\t\tcase 'association-link':\n\t\t\t\treturn <Fragment>{associationLink()}</Fragment>;\n\t\t\tdefault:\n\t\t\t\treturn;\n\t\t}\n\t};\n\n\treturn <Fragment>{renderNode()}</Fragment>;\n};\n\nexport { Collection };\n","import React, { Fragment } from 'react';\nimport { Link } from 'react-router-dom';\n// for now these are in-common between nodes\nimport NodeCardHeaderFull from '../../../components/elements/node/NodeCardHeaderFull';\nimport defaultHeader from '../../../resources/cloud9.png';\n\nconst User = (props) => {\n\tconst nodeCard = () => {\n\t\treturn (\n\t\t\t<li className='nodelist-item'>\n\t\t\t\t{props.renderHeader()}\n\t\t\t\t<Link\n\t\t\t\t\tto={`/profile/${props.node.path}`}\n\t\t\t\t\treplace\n\t\t\t\t\tonClick={(e) => {\n\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\tprops.handleClick();\n\t\t\t\t\t\twindow.location.replace(`/profile/${props.node.path}`);\n\t\t\t\t\t}}\n\t\t\t\t\tonContextMenu={(e) => {\n\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\tprops.handleClick();\n\t\t\t\t\t\twindow.location.replace(`/profile/${props.node.path}`);\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t<img\n\t\t\t\t\t\tsrc={props.node.preview || defaultHeader}\n\t\t\t\t\t\talt={props.node.name}\n\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\tobjectFit: 'cover',\n\t\t\t\t\t\t\tminHeight: '100%',\n\t\t\t\t\t\t\twidth: '100%',\n\t\t\t\t\t\t}}\n\t\t\t\t\t></img>\n\t\t\t\t</Link>\n\t\t\t</li>\n\t\t);\n\t};\n\n\t// how the node will appear in collections\n\tconst collectionPreview = () => {\n\t\treturn (\n\t\t\t<Fragment>\n\t\t\t\t<img\n\t\t\t\t\tsrc={props.node.preview || defaultHeader}\n\t\t\t\t\talt={props.node.name}\n\t\t\t\t\tstyle={{\n\t\t\t\t\t\tobjectFit: 'cover',\n\t\t\t\t\t\tminHeight: '100%',\n\t\t\t\t\t\twidth: '100%',\n\t\t\t\t\t}}\n\t\t\t\t></img>\n\t\t\t</Fragment>\n\t\t);\n\t};\n\n\tconst fullNode = () => {\n\t\treturn (\n\t\t\t<div className='full-node-item'>\n\t\t\t\t<NodeCardHeaderFull />\n\t\t\t\t<Link to={`/profile/${props.node.path}`} /*target='_blank' */>\n\t\t\t\t\t<p>{props.node.name}</p>\n\t\t\t\t</Link>\n\t\t\t</div>\n\t\t);\n\t};\n\n\tconst associationLink = () => {\n\t\treturn (\n\t\t\t<Link\n\t\t\t\tto={`/profile/${props.node.path}`}\n\t\t\t\tonClick={(e) => props.handleAssociatonClick()}\n\t\t\t\t// target='blank'\n\t\t\t>\n\t\t\t\t{props.node.name}\n\t\t\t</Link>\n\t\t);\n\t};\n\n\t// render the requested element\n\tconst renderNode = () => {\n\t\tswitch (props.element) {\n\t\t\tcase 'card':\n\t\t\t\treturn <Fragment>{nodeCard()}</Fragment>;\n\t\t\tcase 'preview':\n\t\t\t\treturn <Fragment>{collectionPreview()}</Fragment>;\n\t\t\tcase 'full':\n\t\t\t\treturn <Fragment>{fullNode()}</Fragment>;\n\t\t\tcase 'association-link':\n\t\t\t\treturn <Fragment>{associationLink()}</Fragment>;\n\t\t\tdefault:\n\t\t\t\treturn;\n\t\t}\n\t};\n\n\treturn <Fragment>{renderNode()}</Fragment>;\n};\n\nexport { User };\n","// import the default node configurations\nimport React, { Component, Fragment } from 'react';\nimport { connect } from 'react-redux';\nimport {\n\tupdateLinkStrength,\n\thideComponent,\n\tlaunchFileNode,\n\topenFileInExplorer,\n\tupdateNode,\n} from '../../api/redux/actions';\nimport { Text, Image, Url, File, Audio, Package, Zip, Collection, User } from './core/index';\nimport NodeCardHeader from '../../components/elements/node/NodeCardHeader';\n\nclass NodeRenderer extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\tshowHeader: true,\n\t\t};\n\t}\n\t// increment linkstrength if there is an activeNode\n\thandleNodeClick = () => {\n\t\tconst nodeUUID = this.props.node.uuid;\n\t\tif (this.props.activeNode) {\n\t\t\tconst linkedNodeUUID = this.props.activeNode.uuid;\n\t\t\t// increment the linkStrength on the server\n\t\t\tthis.props.updateLinkStrength(nodeUUID, linkedNodeUUID);\n\t\t}\n\t};\n\n\t// increment linkstrength on association sider clicks\n\thandleAssociatonClick = () => {\n\t\tthis.props.hideComponent('associationSider');\n\t\tif (this.props.siderNodeUUID && this.props.node.uuid) {\n\t\t\tconst siderUUID = this.props.siderNodeUUID;\n\t\t\tconst linkedNodeUUID = this.props.node.uuid;\n\t\t\t// increment the linkStrength on the server\n\t\t\tthis.props.updateLinkStrength(siderUUID, linkedNodeUUID);\n\t\t}\n\t};\n\n\ttoggleHeader = () => {\n\t\tif (this.state.showHeader) {\n\t\t\tthis.setState({ showHeader: false });\n\t\t} else {\n\t\t\tthis.setState({ showHeader: true });\n\t\t}\n\t};\n\n\trenderHeader = () => {\n\t\tif (this.state.showHeader) {\n\t\t\treturn <NodeCardHeader node={this.props.node} />;\n\t\t} else {\n\t\t\treturn;\n\t\t}\n\t};\n\n\trenderNode = () => {\n\t\tswitch (this.props.type) {\n\t\t\tcase 'text':\n\t\t\t\treturn (\n\t\t\t\t\t<Text\n\t\t\t\t\t\telement={this.props.element}\n\t\t\t\t\t\tnode={this.props.node}\n\t\t\t\t\t\thandleClick={this.handleNodeClick}\n\t\t\t\t\t\thandleAssociatonClick={this.handleAssociatonClick}\n\t\t\t\t\t\ttheme={this.props.theme}\n\t\t\t\t\t/>\n\t\t\t\t);\n\t\t\tcase 'image':\n\t\t\t\treturn (\n\t\t\t\t\t<Image\n\t\t\t\t\t\telement={this.props.element}\n\t\t\t\t\t\tnode={this.props.node}\n\t\t\t\t\t\thandleClick={this.handleNodeClick}\n\t\t\t\t\t\thandleAssociatonClick={this.handleAssociatonClick}\n\t\t\t\t\t\tupdateNode={this.props.updateNode}\n\t\t\t\t\t\ttoggleHeader={this.toggleHeader}\n\t\t\t\t\t\trenderHeader={this.renderHeader}\n\t\t\t\t\t\tlaunchExplorer={this.props.openFileInExplorer}\n\t\t\t\t\t\tlaunchFile={this.props.launchFileNode}\n\t\t\t\t\t/>\n\t\t\t\t);\n\t\t\tcase 'url':\n\t\t\t\treturn (\n\t\t\t\t\t<Url\n\t\t\t\t\t\telement={this.props.element}\n\t\t\t\t\t\tnode={this.props.node}\n\t\t\t\t\t\thandleClick={this.handleNodeClick}\n\t\t\t\t\t\thandleAssociatonClick={this.handleAssociatonClick}\n\t\t\t\t\t\ttoggleHeader={this.toggleHeader}\n\t\t\t\t\t\trenderHeader={this.renderHeader}\n\t\t\t\t\t\ttheme={this.props.theme}\n\t\t\t\t\t/>\n\t\t\t\t);\n\t\t\tcase 'file':\n\t\t\t\treturn (\n\t\t\t\t\t<File\n\t\t\t\t\t\telement={this.props.element}\n\t\t\t\t\t\tnode={this.props.node}\n\t\t\t\t\t\tupdateNode={this.props.updateNode}\n\t\t\t\t\t\thandleClick={this.handleNodeClick}\n\t\t\t\t\t\thandleAssociatonClick={this.handleAssociatonClick}\n\t\t\t\t\t\tlaunchFile={this.props.launchFileNode}\n\t\t\t\t\t\tlaunchExplorer={this.props.openFileInExplorer}\n\t\t\t\t\t\ttheme={this.props.theme}\n\t\t\t\t\t/>\n\t\t\t\t);\n\t\t\tcase 'audio':\n\t\t\t\treturn (\n\t\t\t\t\t<Audio\n\t\t\t\t\t\telement={this.props.element}\n\t\t\t\t\t\tnode={this.props.node}\n\t\t\t\t\t\tupdateNode={this.props.updateNode}\n\t\t\t\t\t\thandleClick={this.handleNodeClick}\n\t\t\t\t\t\thandleAssociatonClick={this.handleAssociatonClick}\n\t\t\t\t\t\tlaunchFile={this.props.launchFileNode}\n\t\t\t\t\t\ttheme={this.props.theme}\n\t\t\t\t\t/>\n\t\t\t\t);\n\t\t\tcase 'package':\n\t\t\t\treturn (\n\t\t\t\t\t<Package\n\t\t\t\t\t\telement={this.props.element}\n\t\t\t\t\t\tnode={this.props.node}\n\t\t\t\t\t\tupdateNode={this.props.updateNode}\n\t\t\t\t\t\thandleClick={this.handleNodeClick}\n\t\t\t\t\t\thandleAssociatonClick={this.handleAssociatonClick}\n\t\t\t\t\t\tlaunchExplorer={this.props.openFileInExplorer}\n\t\t\t\t\t\ttheme={this.props.theme}\n\t\t\t\t\t/>\n\t\t\t\t);\n\t\t\tcase 'zip':\n\t\t\t\treturn (\n\t\t\t\t\t<Zip\n\t\t\t\t\t\telement={this.props.element}\n\t\t\t\t\t\tnode={this.props.node}\n\t\t\t\t\t\tupdateNode={this.props.updateNode}\n\t\t\t\t\t\thandleClick={this.handleNodeClick}\n\t\t\t\t\t\thandleAssociatonClick={this.handleAssociatonClick}\n\t\t\t\t\t\tlaunchExplorer={this.props.openFileInExplorer}\n\t\t\t\t\t\ttheme={this.props.theme}\n\t\t\t\t\t/>\n\t\t\t\t);\n\t\t\tcase 'collection':\n\t\t\t\treturn (\n\t\t\t\t\t<Collection\n\t\t\t\t\t\telement={this.props.element}\n\t\t\t\t\t\tnode={this.props.node}\n\t\t\t\t\t\thandleClick={this.handleNodeClick}\n\t\t\t\t\t\thandleAssociatonClick={this.handleAssociatonClick}\n\t\t\t\t\t\ttoggleHeader={this.toggleHeader}\n\t\t\t\t\t\trenderHeader={this.renderHeader}\n\t\t\t\t\t/>\n\t\t\t\t);\n\t\t\tcase 'user':\n\t\t\t\treturn (\n\t\t\t\t\t<User\n\t\t\t\t\t\telement={this.props.element}\n\t\t\t\t\t\tnode={this.props.node}\n\t\t\t\t\t\thandleClick={this.handleNodeClick}\n\t\t\t\t\t\thandleAssociatonClick={this.handleAssociatonClick}\n\t\t\t\t\t\ttoggleHeader={this.toggleHeader}\n\t\t\t\t\t\trenderHeader={this.renderHeader}\n\t\t\t\t\t/>\n\t\t\t\t);\n\t\t\tdefault:\n\t\t\t\treturn;\n\t\t}\n\t};\n\n\trender() {\n\t\treturn <Fragment>{this.renderNode()}</Fragment>;\n\t}\n}\n\nconst mapStateToProps = (state) => {\n\treturn {\n\t\ttheme: state.components.theme,\n\t};\n};\n\nexport default connect(mapStateToProps, {\n\tupdateLinkStrength,\n\thideComponent,\n\tlaunchFileNode,\n\topenFileInExplorer,\n\tupdateNode,\n})(NodeRenderer);\n","import React from 'react';\n//custom components\nimport NodeRenderer from '../../../types/render/NodeRenderer';\n\nconst NodeCard = (props) => {\n\tconst renderNodeCard = () => {\n\t\tif (props.node) {\n\t\t\treturn (\n\t\t\t\t<NodeRenderer\n\t\t\t\t\ttype={props.node.type}\n\t\t\t\t\telement={'card'}\n\t\t\t\t\tnode={props.node}\n\t\t\t\t\tactiveNode={props.activeNode}\n\t\t\t\t\ttheme={props.theme}\n\t\t\t\t/>\n\t\t\t);\n\t\t}\n\t};\n\n\treturn <div>{renderNodeCard()}</div>;\n};\n\nexport default NodeCard;\n","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport {\n\thideComponent,\n\tdeleteAssociationLink,\n\tremoveFromAssociationList,\n\tupdateLinkStrength,\n} from '../../../api/redux/actions';\nimport { Button, Tooltip } from 'antd';\nimport './AssociationLinkList.less';\n// node renderer\nimport NodeRenderer from '../../../types/render/NodeRenderer';\n\nclass AssociationLink extends Component {\n\thandleDeleteAssociation = () => {\n\t\t// sider node is the the node the sider was opened from\n\t\tvar siderNodeUUID = this.props.siderNodeUUID;\n\t\t// linked node is the node from the list, to be un-linked, un-associated\n\t\tvar linkedNodeUUID = this.props.association.uuid;\n\t\t// active node is only set when viewing an /association page, the node of the page itself\n\t\tif (this.props.activeNode) {\n\t\t\t// store the active node\n\t\t\tvar activeNodeUUID = this.props.activeNode.uuid;\n\t\t}\n\t\t// if both have values go ahead and delete the association\n\t\tif (siderNodeUUID && linkedNodeUUID) {\n\t\t\tthis.props.deleteAssociationLink(siderNodeUUID, linkedNodeUUID);\n\t\t\t// store pathname\n\t\t\tvar pathname = window.location.pathname;\n\t\t\t// handle removal from association list page if on association page if an associated node was removed\n\t\t\tif (\n\t\t\t\t(pathname.includes('associations') || pathname.includes('/edit/text/')) &&\n\t\t\t\tactiveNodeUUID &&\n\t\t\t\tactiveNodeUUID === siderNodeUUID\n\t\t\t) {\n\t\t\t\tthis.props.removeFromAssociationList(linkedNodeUUID);\n\t\t\t}\n\t\t}\n\t};\n\n\t// render card types\n\trenderAssociationLink = (association) => {\n\t\treturn (\n\t\t\t<li className='association-list-item'>\n\t\t\t\t<Tooltip title={association.name} mouseLeaveDelay={0} mouseEnterDelay={0.3}>\n\t\t\t\t\t<Button\n\t\t\t\t\t\ticon='close'\n\t\t\t\t\t\tshape='circle'\n\t\t\t\t\t\tsize='small'\n\t\t\t\t\t\tonClick={(e) => this.handleDeleteAssociation()}\n\t\t\t\t\t/>\n\t\t\t\t\t<NodeRenderer\n\t\t\t\t\t\ttype={association.type}\n\t\t\t\t\t\telement={'association-link'}\n\t\t\t\t\t\tnode={association}\n\t\t\t\t\t\tsiderNodeUUID={this.props.siderNodeUUID}\n\t\t\t\t\t></NodeRenderer>\n\t\t\t\t</Tooltip>\n\t\t\t</li>\n\t\t);\n\t};\n\n\trender() {\n\t\treturn <div>{this.renderAssociationLink(this.props.association)}</div>;\n\t}\n}\n\nconst mapStateToProps = (state) => {\n\treturn {\n\t\tsiderNodeUUID: state.components.componentList['associationSider'].content.uuid,\n\t\tactiveNode: state.nodes.activeNode,\n\t};\n};\n\nexport default connect(mapStateToProps, {\n\thideComponent,\n\tdeleteAssociationLink,\n\tremoveFromAssociationList,\n\tupdateLinkStrength,\n})(AssociationLink);\n","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\n// custom code\nimport '../node/NodeList.less';\nimport { fetchAssociationLinkList } from '../../../api/redux/actions';\n// import NodeCard from './NodeCard';\nimport Spinner from '../Spinner';\nimport AssociationLink from './AssociationLink';\n\nclass AssociationLinkList extends Component {\n\tcomponentDidMount() {\n\t\tthis.props.fetchAssociationLinkList({ nodeUUID: this.props.nodeUUID });\n\t}\n\n\tloadMore = () => {\n\t\tthis.props.fetchAssociationLinkList({\n\t\t\tnodeUUID: this.props.nodeUUID,\n\t\t\tpage: parseInt(this.props.page) + 1,\n\t\t});\n\t};\n\n\trenderAssociationLinkList = () => {\n\t\t// go through the list of nodes and render them to the page\n\t\tconst list = this.props.associations;\n\t\tif (this.props.isFetching) {\n\t\t\treturn <Spinner alignment='top'></Spinner>;\n\t\t}\n\t\t// if list exists render the links\n\t\tif (list !== null) {\n\t\t\treturn list.map((association) => {\n\t\t\t\treturn <AssociationLink key={association.uuid} association={association} />;\n\t\t\t});\n\t\t} else {\n\t\t\treturn <Spinner></Spinner>;\n\t\t}\n\t};\n\n\trenderLoadMoreButton = () => {\n\t\tvar listLength = this.props.associations.length;\n\t\t// if the total items is more than what is loaded show the load more button\n\t\tif (this.props.totalItems > listLength) {\n\t\t\treturn (\n\t\t\t\t<li style={{ listStyle: 'none', marginTop: '0.5rem', textAlign: 'center' }}>\n\t\t\t\t\t<button\n\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\tmargin: '1rem 0',\n\t\t\t\t\t\t\twidth: '90%',\n\t\t\t\t\t\t\tbackgroundColor: '#272727',\n\t\t\t\t\t\t\tcolor: '#16e998',\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tonClick={this.loadMore}\n\t\t\t\t\t>\n\t\t\t\t\t\tload more\n\t\t\t\t\t</button>\n\t\t\t\t</li>\n\t\t\t);\n\t\t}\n\t};\n\n\trender() {\n\t\treturn (\n\t\t\t<ul id='node-info-list' className='association-list'>\n\t\t\t\t{this.renderAssociationLinkList()}\n\t\t\t\t{this.renderLoadMoreButton()}\n\t\t\t</ul>\n\t\t);\n\t}\n}\n\nconst mapStateToProps = (state) => {\n\treturn {\n\t\tassociations: state.associations.associationLinkList,\n\t\tpage: state.associations.associationLinkListPage,\n\t\ttotalItems: state.associations.totalLinkListItems,\n\t\tisFetching: state.associations.isFetching,\n\t\tactiveNode: state.nodes.activeNode,\n\t};\n};\n\nexport default connect(mapStateToProps, {\n\tfetchAssociationLinkList,\n})(AssociationLinkList);\n","import React, { Component } from 'react';\n// import { Link } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport { Drawer, AutoComplete, Tooltip } from 'antd';\nimport {\n\tsignOut,\n\thideComponent,\n\tcreateAssociation,\n\tfetchAssociationLinkList,\n\tassociationAutocomplete,\n} from '../../../api/redux/actions';\n// custom code\nimport AssociationLinkList from './AssociationLinkList';\n// destructure antd\nconst { Option } = AutoComplete;\n\nclass AssociationSider extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\tautocompleteOptions: null,\n\t\t\tautocompleteValues: null,\n\t\t\tinputText: '',\n\t\t};\n\t}\n\n\tcreateAssociationHandler = async (input) => {\n\t\t// get the uuid of the node to be associated\n\t\tconst nodeToAssociate = [];\n\t\tvar siderNode = this.props.associationSiderData.content;\n\t\tthis.state.autocompleteValues.forEach((node) => {\n\t\t\tif (node.uuid === input) {\n\t\t\t\tnodeToAssociate.push(node.uuid);\n\t\t\t}\n\t\t});\n\t\tconst nodeUUIDToAssociate = nodeToAssociate[0];\n\t\t// get this node uuid\n\t\tconst nodeUUID = siderNode.uuid;\n\t\t// associate the nodes\n\t\tawait this.props.createAssociation(nodeUUID, nodeUUIDToAssociate);\n\t\tthis.setState({ autocompleteOptions: [], autocompleteValues: null, inputText: '' });\n\t\t// re-render the autocomplete values so more can be added\n\t\tthis.renderAutocompleteValues('');\n\t};\n\n\trenderAutocompleteValues = async (input) => {\n\t\tvar siderNode = this.props.associationSiderData.content;\n\t\tthis.setState({ inputText: input });\n\t\tconst result = await this.props.associationAutocomplete({\n\t\t\tsearchQuery: input || '',\n\t\t\tuuid: siderNode.uuid,\n\t\t});\n\t\tif (result) {\n\t\t\tthis.setState({\n\t\t\t\tautocompleteValues: result.map((node) => {\n\t\t\t\t\treturn node;\n\t\t\t\t}),\n\t\t\t});\n\n\t\t\tconst newValues = result.map((node) => {\n\t\t\t\t// return the options objects\n\t\t\t\treturn (\n\t\t\t\t\t<Option key={node.uuid}>\n\t\t\t\t\t\t<Tooltip title={node.name} mouseEnterDelay={0.7} placement={'left'}>\n\t\t\t\t\t\t\t{node.name}\n\t\t\t\t\t\t</Tooltip>\n\t\t\t\t\t</Option>\n\t\t\t\t);\n\t\t\t});\n\t\t\tthis.setState({ autocompleteOptions: newValues });\n\t\t}\n\t};\n\n\thideInfoSider = () => {\n\t\t// reset state when the sider is hidden\n\t\tthis.setState({ autocompleteOptions: null, autocompleteValues: null, inputText: '' });\n\t\t// hide association sider component\n\t\tthis.props.hideComponent('associationSider');\n\t};\n\n\trenderContent = () => {\n\t\tif (this.props.associationSiderData) {\n\t\t\tvar siderNode = this.props.associationSiderData.content;\n\t\t\treturn (\n\t\t\t\t<div className='node-info-sider-container' style={{ textAlign: 'center' }}>\n\t\t\t\t\t<Drawer\n\t\t\t\t\t\tclassName='node-info-sider'\n\t\t\t\t\t\tplacement='right'\n\t\t\t\t\t\tclosable={false}\n\t\t\t\t\t\ttitle={siderNode.name}\n\t\t\t\t\t\tonClose={() => {\n\t\t\t\t\t\t\tthis.hideInfoSider();\n\t\t\t\t\t\t\t// temporary fix to remove overflow property being set on body by antd\n\t\t\t\t\t\t\tdocument.documentElement.style.cssText = '';\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tvisible={this.props.associationSiderData.visible}\n\t\t\t\t\t>\n\t\t\t\t\t\t{/*  <Link className='node-info-sider-header' to={`/associations/${siderNode.uuid}`}>\n              {siderNode.name}\n            </Link>\n            <p style={{ color: 'white' }}>{siderNode.preview}</p> */}\n\t\t\t\t\t\t<AutoComplete\n\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\twidth: 200,\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\tplaceholder='link'\n\t\t\t\t\t\t\tvalue={this.state.inputText}\n\t\t\t\t\t\t\tonSearch={(value) => this.renderAutocompleteValues(value)}\n\t\t\t\t\t\t\tonFocus={(value) => this.renderAutocompleteValues(value)}\n\t\t\t\t\t\t\tonSelect={(value) => this.createAssociationHandler(value)}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{this.state.autocompleteOptions}\n\t\t\t\t\t\t</AutoComplete>\n\t\t\t\t\t\t<br />\n\t\t\t\t\t\t<AssociationLinkList nodeUUID={siderNode.uuid} />\n\t\t\t\t\t</Drawer>\n\t\t\t\t</div>\n\t\t\t);\n\t\t}\n\t};\n\n\trender() {\n\t\treturn <div>{this.renderContent()}</div>;\n\t}\n}\n\nconst mapStateToProps = (state) => {\n\treturn {\n\t\tassociationSiderData: state.components.componentList['associationSider'],\n\t\tpage: state.associations.associationLinkListPage,\n\t};\n};\n\nexport default connect(mapStateToProps, {\n\tsignOut,\n\thideComponent,\n\tcreateAssociation,\n\tfetchAssociationLinkList,\n\tassociationAutocomplete,\n})(AssociationSider);\n","import React, { Component, Fragment } from 'react';\nimport { connect } from 'react-redux';\n// custom code\nimport './NodeList.less';\nimport { fetchNodes } from '../../../api/redux/actions';\nimport NodeCard from './NodeCard';\nimport AssociationSider from '../association/AssociationSider';\n// import NodeCardFull from '../node/NodeCardFull';\n\nclass NodeList extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\ttopOfPage: false,\n\t\t};\n\t}\n\n\tcomponentDidMount() {\n\t\tthis.props.fetchNodes({\n\t\t\t// page: this.props.query.page > 1 ? this.props.query.page - 1 : this.props.query.page,\n\t\t\tpage: 1,\n\t\t\ttype: this.props.query.type,\n\t\t\tsearchQuery: this.props.query.searchQuery,\n\t\t\tsortType: this.props.query.sortType,\n\t\t\tsortOrder: this.props.query.sortOrder,\n\t\t});\n\t\twindow.addEventListener('scroll', this.infiniteScroll);\n\t}\n\n\tcomponentWillUnmount() {\n\t\twindow.removeEventListener('scroll', this.infiniteScroll);\n\t}\n\n\tinfiniteScroll = (e) => {\n\t\tif (this.endReached() && !this.props.isFetching) {\n\t\t\tthis.setState({ topOfPage: false });\n\t\t\t// fetch the next page\n\t\t\tthis.props.fetchNodes({\n\t\t\t\tpage: this.props.query.page + 1,\n\t\t\t\ttype: this.props.query.type,\n\t\t\t\tsearchQuery: this.props.query.searchQuery,\n\t\t\t\tsortType: this.props.query.sortType,\n\t\t\t\tsortOrder: this.props.query.sortOrder,\n\t\t\t});\n\t\t}\n\t};\n\n\tendReached = () => {\n\t\t// window calculations to tell when the user scrolls to the bottom\n\t\tconst windowHeight =\n\t\t\t'innerHeight' in window ? window.innerHeight : document.documentElement.offsetHeight;\n\t\tconst body = document.body;\n\t\tconst html = document.documentElement;\n\t\tconst docHeight = Math.max(\n\t\t\tbody.scrollHeight,\n\t\t\tbody.offsetHeight,\n\t\t\thtml.clientHeight,\n\t\t\thtml.scrollHeight,\n\t\t\thtml.offsetHeight\n\t\t);\n\t\tconst windowBottom = windowHeight + window.pageYOffset;\n\t\t// check if the top is reached\n\t\tif (window.pageYOffset < 1 && !this.props.isFetching && !this.state.topOfPage) {\n\t\t\tthis.setState({ topOfPage: true });\n\t\t\t// at the top of the page, reset the nodelist\n\t\t\tthis.props.fetchNodes({\n\t\t\t\tpage: 1,\n\t\t\t\ttype: this.props.query.type,\n\t\t\t\tsearchQuery: this.props.query.searchQuery,\n\t\t\t\tsortType: this.props.query.sortType,\n\t\t\t\tsortOrder: this.props.query.sortOrder,\n\t\t\t});\n\t\t}\n\t\t// if it's not the top of the page go ahead and fetch more\n\t\t// return windowBottom >= docHeight - 733;\n\t\treturn windowBottom >= docHeight - 1000;\n\t};\n\n\trenderNodeList = () => {\n\t\t// go through the list of nodes and render them to the page\n\t\tconst nodeList = this.props.nodes;\n\t\t// if there are nodes go ahead and render\n\t\tif (nodeList !== null && nodeList.length > 0) {\n\t\t\treturn nodeList.map((node) => {\n\t\t\t\tif (node.uuid) {\n\t\t\t\t\t// return <NodeCardFull key={node.uuid} node={node} />\n\t\t\t\t\treturn <NodeCard key={node.uuid} node={node} />;\n\t\t\t\t} else {\n\t\t\t\t\treturn <Fragment></Fragment>;\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t\t// adding a bit of a fallback search. more to come on this probably\n\t\telse if (this.props.query.searchQuery && !this.props.isFetching) {\n\t\t\treturn (\n\t\t\t\t<div\n\t\t\t\t\tstyle={{\n\t\t\t\t\t\t// height: '100vh',\n\t\t\t\t\t\tmarginTop: '1rem',\n\t\t\t\t\t\tdisplay: 'flex',\n\t\t\t\t\t\tjustifyContent: 'center',\n\t\t\t\t\t\talignItems: 'top',\n\t\t\t\t\t\tcolor: 'white',\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t<a\n\t\t\t\t\t\ttarget='_blank'\n\t\t\t\t\t\trel='noopener noreferrer'\n\t\t\t\t\t\thref={`https://www.google.com/search?q=${encodeURIComponent(\n\t\t\t\t\t\t\tthis.props.query.searchQuery\n\t\t\t\t\t\t)}`}\n\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\tbackgroundColor: '#272727',\n\t\t\t\t\t\t\tcolor: 'white',\n\t\t\t\t\t\t\tborderRadius: '3px',\n\t\t\t\t\t\t\tpadding: '0.5rem 1rem',\n\t\t\t\t\t\t}}\n\t\t\t\t\t>\n\t\t\t\t\t\tno matches ~ search google instead?\n\t\t\t\t\t</a>\n\t\t\t\t</div>\n\t\t\t);\n\t\t}\n\t};\n\n\trender() {\n\t\treturn (\n\t\t\t<div className='nodelist-container'>\n\t\t\t\t<ul className='nodelist'>{this.renderNodeList()}</ul>\n\t\t\t\t<AssociationSider />\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nconst mapStateToProps = (state) => {\n\treturn {\n\t\tnodes: state.nodes.nodeList,\n\t\tquery: state.nodes.query,\n\t\ttotalNodes: state.nodes.totalItems,\n\t\tisFetching: state.nodes.isFetching,\n\t};\n};\n\nexport default connect(mapStateToProps, { fetchNodes })(NodeList);\n","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { Layout } from 'antd';\n// custom code\nimport MainSider from '../elements/MainSider';\nimport IOBar from '../elements/IOBar';\nimport NodeList from '../elements/node/NodeList';\n\nconst { Content } = Layout;\n\nclass Home extends Component {\n\tcomponentDidMount() {\n\t\tdocument.title = 'home';\n\t\t// temporary fix to undo whatever is setting overflow hidden on-login\n\t\tdocument.body.style.removeProperty('overflow');\n\t\twindow.scrollTo({ top: 0, behavior: 'smooth' });\n\t}\n\n\trenderMainSider = () => {\n\t\tif (this.props.mainSider) {\n\t\t\treturn <MainSider />;\n\t\t}\n\t};\n\n\trender() {\n\t\treturn (\n\t\t\t<Layout className='page-layout'>\n\t\t\t\t<Layout>\n\t\t\t\t\t{this.renderMainSider()}\n\t\t\t\t\t<Content style={{ minHeight: '100vh' }}>\n\t\t\t\t\t\t<IOBar />\n\t\t\t\t\t\t<div className='list-container'>\n\t\t\t\t\t\t\t<NodeList />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</Content>\n\t\t\t\t</Layout>\n\t\t\t</Layout>\n\t\t);\n\t}\n}\n\nconst mapStateToProps = (state) => {\n\treturn {\n\t\tisSignedIn: state.auth.isSignedIn,\n\t\tmainSider: state.components.componentList['mainSider'],\n\t};\n};\n\nexport default connect(mapStateToProps)(Home);\n","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { Layout, message, Modal } from 'antd';\n// custom code\nimport Spinner from '../elements/Spinner';\nimport {\n\tfetchUserByUsername,\n\tshowComponent,\n\thideComponent,\n\tmarkNodeView,\n} from '../../api/redux/actions';\nimport './css/Profile.less';\nimport NodeList from '../elements/node/NodeList';\nimport MainSider from '../elements/MainSider';\nimport IOBar from '../elements/IOBar';\n// import default images\nimport defaultHeader from '../../resources/cloud9.png';\nimport defaultAvatar from '../../resources/synthona-logo.png';\n\nconst { Content } = Layout;\n\nclass Profile extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\tinitialized: false,\n\t\t\tusername: '',\n\t\t\tdisplayName: '',\n\t\t\tbio: '',\n\t\t\tavatar: null,\n\t\t\theader: null,\n\t\t\tavatarModal: false,\n\t\t};\n\t}\n\n\tcomponentDidMount() {\n\t\tdocument.title = this.props.match.params.username;\n\t\tthis.initializeFromUrlParams();\n\t}\n\n\tcomponentDidUpdate() {\n\t\tdocument.body.style.removeProperty('overflow');\n\t\tif (this.state.username !== this.props.match.params.username) {\n\t\t\tdocument.title = this.props.match.params.username;\n\t\t\tthis.initializeFromUrlParams();\n\t\t}\n\t}\n\n\tcomponentWillUnmount() {\n\t\tthis.props.hideComponent('mainSider');\n\t}\n\n\ttoggleAvatarModal = () => {\n\t\tif (this.state.avatarModal === false) {\n\t\t\tthis.setState({ avatarModal: true });\n\t\t} else {\n\t\t\tthis.setState({ avatarModal: false });\n\t\t}\n\t};\n\n\trenderMainSider = () => {\n\t\tif (this.props.mainSider) {\n\t\t\treturn <MainSider />;\n\t\t}\n\t};\n\n\t// load the text node and set the local id state.\n\tinitializeFromUrlParams = async () => {\n\t\t// fetch the user info from the server\n\t\tconst user = await this.props.fetchUserByUsername(this.props.match.params.username);\n\t\tif (user) {\n\t\t\tthis.setState({\n\t\t\t\tinitialized: true,\n\t\t\t\tusername: user.username,\n\t\t\t\tdisplayName: user.displayName,\n\t\t\t\tbio: user.bio,\n\t\t\t\tavatar: user.avatar,\n\t\t\t\theader: user.header,\n\t\t\t});\n\t\t\t// mark the profile as viewed\n\t\t\tthis.props.markNodeView({ uuid: user.nodeId });\n\t\t\t// set the page title\n\t\t\tdocument.title = user.displayName;\n\t\t} else {\n\t\t\tmessage.error('there was a problem loading the user');\n\t\t\tthis.props.history.push('/');\n\t\t}\n\t};\n\n\trender() {\n\t\tif (!this.state.initialized) {\n\t\t\treturn (\n\t\t\t\t<Layout className='page-layout'>\n\t\t\t\t\t<Layout>\n\t\t\t\t\t\t<Layout>\n\t\t\t\t\t\t\t<Spinner />\n\t\t\t\t\t\t</Layout>\n\t\t\t\t\t</Layout>\n\t\t\t\t</Layout>\n\t\t\t);\n\t\t}\n\n\t\treturn (\n\t\t\t<div className='profile-container'>\n\t\t\t\t{/*  <MainSider showMask={false} animate={false} />*/}\n\t\t\t\t{this.renderMainSider()}\n\t\t\t\t<Layout>\n\t\t\t\t\t<Content style={{ marginBottom: '0' }} className='Profile'>\n\t\t\t\t\t\t<IOBar />\n\t\t\t\t\t\t<div className='profile-card'>\n\t\t\t\t\t\t\t<button href={`/profile/${this.state.username}`}>\n\t\t\t\t\t\t\t\t<div className='Profile-header'>\n\t\t\t\t\t\t\t\t\t<img src={this.state.header || defaultHeader} alt='example' draggable='false' />\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t{/* <button href={`/profile/${this.state.username}`}> */}\n\t\t\t\t\t\t\t<div className='Profile-avatar'>\n\t\t\t\t\t\t\t\t<img\n\t\t\t\t\t\t\t\t\tsrc={this.state.avatar || defaultAvatar}\n\t\t\t\t\t\t\t\t\talt={'profile'}\n\t\t\t\t\t\t\t\t\tdraggable='false'\n\t\t\t\t\t\t\t\t\tonClick={this.toggleAvatarModal}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t{/* </button> */}\n\t\t\t\t\t\t\t<div className='Profile-info'>\n\t\t\t\t\t\t\t\t<h2 className='Profile-displayName'>\n\t\t\t\t\t\t\t\t\t{this.state.displayName}\n\t\t\t\t\t\t\t\t\t<div className='verified-sign-container'>\n\t\t\t\t\t\t\t\t\t\t<svg\n\t\t\t\t\t\t\t\t\t\t\tviewBox='0 0 24 24'\n\t\t\t\t\t\t\t\t\t\t\taria-label='Verified account'\n\t\t\t\t\t\t\t\t\t\t\tclassName='verified-sign'\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t<g>\n\t\t\t\t\t\t\t\t\t\t\t\t<path d='M22.5 12.5c0-1.58-.875-2.95-2.148-3.6.154-.435.238-.905.238-1.4 0-2.21-1.71-3.998-3.818-3.998-.47 0-.92.084-1.336.25C14.818 2.415 13.51 1.5 12 1.5s-2.816.917-3.437 2.25c-.415-.165-.866-.25-1.336-.25-2.11 0-3.818 1.79-3.818 4 0 .494.083.964.237 1.4-1.272.65-2.147 2.018-2.147 3.6 0 1.495.782 2.798 1.942 3.486-.02.17-.032.34-.032.514 0 2.21 1.708 4 3.818 4 .47 0 .92-.086 1.335-.25.62 1.334 1.926 2.25 3.437 2.25 1.512 0 2.818-.916 3.437-2.25.415.163.865.248 1.336.248 2.11 0 3.818-1.79 3.818-4 0-.174-.012-.344-.033-.513 1.158-.687 1.943-1.99 1.943-3.484zm-6.616-3.334l-4.334 6.5c-.145.217-.382.334-.625.334-.143 0-.288-.04-.416-.126l-.115-.094-2.415-2.415c-.293-.293-.293-.768 0-1.06s.768-.294 1.06 0l1.77 1.767 3.825-5.74c.23-.345.696-.436 1.04-.207.346.23.44.696.21 1.04z'></path>\n\t\t\t\t\t\t\t\t\t\t\t</g>\n\t\t\t\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</h2>\n\t\t\t\t\t\t\t\t<i className='Profile-username'>{`@${this.state.username}`}</i>\n\t\t\t\t\t\t\t\t<p className='Profile-bio'>{this.state.bio}</p>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<Modal\n\t\t\t\t\t\t\ttitle={this.state.displayName}\n\t\t\t\t\t\t\tvisible={this.state.avatarModal}\n\t\t\t\t\t\t\tclassName='profile-modal'\n\t\t\t\t\t\t\tcentered\n\t\t\t\t\t\t\tonCancel={this.toggleAvatarModal}\n\t\t\t\t\t\t\tclosable={false}\n\t\t\t\t\t\t\tfooter={null}\n\t\t\t\t\t\t\tafterClose={() => {\n\t\t\t\t\t\t\t\t// temporary fix to remove overflow property being set on body by antd\n\t\t\t\t\t\t\t\tdocument.body.style.removeProperty('overflow');\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<img src={this.state.avatar || defaultAvatar} alt={'avatar'}></img>\n\t\t\t\t\t\t</Modal>\n\t\t\t\t\t\t<NodeList />\n\t\t\t\t\t</Content>\n\t\t\t\t</Layout>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nconst mapStateToProps = (state) => {\n\treturn { user: state.auth.user, mainSider: state.components.componentList['mainSider'] };\n};\n\nexport default connect(mapStateToProps, {\n\tfetchUserByUsername,\n\tshowComponent,\n\thideComponent,\n\tmarkNodeView,\n})(Profile);\n","import React from 'react';\nimport { Switch } from 'antd';\n//custom components\n// import NodeRenderer from '../../../types/render/NodeRenderer';\n\nconst OptionListItem = (props) => {\n\t// render the input type for each value\n\tconst renderInputType = () => {\n\t\tswitch (props.type) {\n\t\t\tcase 'string':\n\t\t\t\treturn (\n\t\t\t\t\t<input\n\t\t\t\t\t\ttype='text'\n\t\t\t\t\t\tdefaultValue={props.value}\n\t\t\t\t\t\tstyle={{ float: 'right', margin: 0, padding: 0 }}\n\t\t\t\t\t\tonBlur={() => {\n\t\t\t\t\t\t\tprops.onChange(props.keyName, props.value);\n\t\t\t\t\t\t}}\n\t\t\t\t\t></input>\n\t\t\t\t);\n\t\t\tcase 'boolean':\n\t\t\t\treturn (\n\t\t\t\t\t// <div style={{ float: 'right', margin: 0, padding: 0 }}>{props.value.toString()}</div>\n\t\t\t\t\t<Switch\n\t\t\t\t\t\tchecked={props.value}\n\t\t\t\t\t\tcheckedChildren=''\n\t\t\t\t\t\tunCheckedChildren=''\n\t\t\t\t\t\tstyle={{ float: 'right', margin: 0, padding: 0 }}\n\t\t\t\t\t\tonBlur={(e) => {\n\t\t\t\t\t\t\tprops.onChange(props.keyName, !props.value);\n\t\t\t\t\t\t}}\n\t\t\t\t\t/>\n\t\t\t\t);\n\t\t\tcase 'number':\n\t\t\t\treturn (\n\t\t\t\t\t<input\n\t\t\t\t\t\ttype='text'\n\t\t\t\t\t\tdefaultValue={props.value.toString()}\n\t\t\t\t\t\tstyle={{ float: 'right', margin: 0, padding: 0 }}\n\t\t\t\t\t\tonBlur={(e) => {\n\t\t\t\t\t\t\tprops.onChange(props.keyName, parseInt(e.target.value));\n\t\t\t\t\t\t}}\n\t\t\t\t\t></input>\n\t\t\t\t);\n\t\t\tcase 'dropdown':\n\t\t\t\t// build options list for select dropdown\n\t\t\t\tlet options = props.optionObject.options.map((item) => {\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<option value={item} key={item}>\n\t\t\t\t\t\t\t{item}\n\t\t\t\t\t\t</option>\n\t\t\t\t\t);\n\t\t\t\t});\n\t\t\t\t// return the select dropdown\n\t\t\t\treturn (\n\t\t\t\t\t<select\n\t\t\t\t\t\tname={props.keyName}\n\t\t\t\t\t\tid={props.keyName}\n\t\t\t\t\t\tdefaultValue={props.value}\n\t\t\t\t\t\tstyle={{ float: 'right', margin: 0, padding: 0 }}\n\t\t\t\t\t\tonChange={(e) => {\n\t\t\t\t\t\t\tprops.onChange(props.keyName, e.target.value);\n\t\t\t\t\t\t}}\n\t\t\t\t\t>\n\t\t\t\t\t\t{options}\n\t\t\t\t\t</select>\n\t\t\t\t);\n\t\t\tdefault:\n\t\t\t\treturn;\n\t\t}\n\t};\n\n\t// render the option item\n\tconst renderOptionItem = () => {\n\t\treturn (\n\t\t\t<li\n\t\t\t\tstyle={{\n\t\t\t\t\tcolor: 'black',\n\t\t\t\t\twidth: '100%',\n\t\t\t\t\tbackgroundColor: 'white',\n\t\t\t\t\tpadding: '0.7rem 1.7rem',\n\t\t\t\t\tmargin: 0,\n\t\t\t\t\tborderBottom: '1px solid grey',\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t<div style={{ float: 'left', margin: 0, padding: 0 }}>{props.name}</div>\n\t\t\t\t{renderInputType()}\n\t\t\t</li>\n\t\t);\n\t};\n\n\treturn <div>{renderOptionItem()}</div>;\n};\n\nexport default OptionListItem;\n","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\n// custom code\nimport { fetchNodes, loadTheme } from '../../../api/redux/actions';\nimport OptionListItem from './OptionListItem';\nimport { isElectron } from '../../../utils/environment';\nimport { Modal } from 'antd';\nimport { backendConfigMap, backendConfigFilter, loadClientConfig } from '../../../utils/config.js';\n\nclass OptionsList extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\ttopOfPage: false,\n\t\t\tbackendConfig: null,\n\t\t\tclientConfig: null,\n\t\t\tshowRestartModal: false,\n\t\t};\n\t}\n\n\t// if this is the host device (is-electron) we'll get the backend config & client config\n\t// otherwise we'll only load the client config. if there's no client config in localstorage\n\t// we need to generate it with default values to make it available\n\tloadOptions = () => {\n\t\tlet clientConfigValues = loadClientConfig();\n\t\tthis.setState({ clientConfig: clientConfigValues });\n\t\tif (isElectron) {\n\t\t\t// load backend config\n\t\t\tthis.setState({\n\t\t\t\tbackendConfig: isElectron ? JSON.parse(localStorage.getItem('backend-config')) : null,\n\t\t\t});\n\t\t}\n\t};\n\n\tcomponentDidMount() {\n\t\t// reload backend config\n\t\tif (window.api) {\n\t\t\twindow.api.send('toMain', { action: 'get-backend-config' });\n\t\t}\n\t\t// load everything else\n\t\tthis.loadOptions();\n\t}\n\n\t// a function to update the config values to be passed into each\n\tupdateClientConfigValue = (keyName, newValue) => {\n\t\tlet existingClientConfig = this.state.clientConfig;\n\t\t// loop through existing config to update it\n\t\tlet newConfig = existingClientConfig.map((item) => {\n\t\t\t// when we find our value lets update it in localstorage and in our live rendered UI config object\n\t\t\tif (keyName === item.storageKey) {\n\t\t\t\t// update the value in this particular config object\n\t\t\t\titem.value = newValue;\n\t\t\t\t// copy it to localstorage as well\n\t\t\t\tlocalStorage.setItem(keyName, JSON.stringify(newValue));\n\t\t\t\tif (keyName === 'theme') {\n\t\t\t\t\t// if we set the theme we should reload it in our redux state\n\t\t\t\t\tthis.props.loadTheme();\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn item;\n\t\t});\n\t\tthis.setState({ clientConfig: newConfig });\n\t};\n\n\t// a function to update the config values to be passed into each\n\tupdateBackendConfigValue = (keyName, newValue) => {\n\t\tlet existingBackendConfig = this.state.backendConfig;\n\t\tlet newConfig = {\n\t\t\t...existingBackendConfig,\n\t\t\t[keyName]: newValue,\n\t\t};\n\t\tthis.setState({ backendConfig: newConfig, showRestartModal: true });\n\t\t// update the values in local storage\n\t\twindow.localStorage.setItem('backend-config', JSON.stringify(newConfig));\n\t\t// we also need to send the updated version to the backend app\n\t\tif (window.api) {\n\t\t\twindow.api.send('toMain', {\n\t\t\t\taction: 'update-backend-config',\n\t\t\t\tupdates: newConfig,\n\t\t\t});\n\t\t}\n\t};\n\n\trestartHandler = () => {\n\t\tif (window.api) {\n\t\t\twindow.api.send('toMain', {\n\t\t\t\taction: 'restart-app',\n\t\t\t});\n\t\t}\n\t};\n\n\trenderOptionsList = () => {\n\t\tif (this.state.clientConfig) {\n\t\t\t// prepare the options lists\n\t\t\tlet configList = [];\n\t\t\tlet backendConfig = this.state.backendConfig;\n\t\t\tlet clientConfig = this.state.clientConfig;\n\t\t\t// let's go ahead and load all this up\n\t\t\tif (!!backendConfig) {\n\t\t\t\t// load backend config values\n\t\t\t\tfor (var backendKey in backendConfig) {\n\t\t\t\t\tif (!backendConfigFilter.includes(backendKey)) {\n\t\t\t\t\t\tconfigList.push(\n\t\t\t\t\t\t\t<OptionListItem\n\t\t\t\t\t\t\t\tkey={backendConfigMap[backendKey].name}\n\t\t\t\t\t\t\t\tkeyName={backendKey}\n\t\t\t\t\t\t\t\ttype={backendConfigMap[backendKey].type}\n\t\t\t\t\t\t\t\tname={backendConfigMap[backendKey].name}\n\t\t\t\t\t\t\t\tvalue={backendConfig[backendKey]}\n\t\t\t\t\t\t\t\tonChange={this.updateBackendConfigValue}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\t// add client config values\n\t\t\tfor (var clientKey in clientConfig) {\n\t\t\t\tif (clientKey !== 'CONFIG_VERSION') {\n\t\t\t\t\tconfigList.push(\n\t\t\t\t\t\t<OptionListItem\n\t\t\t\t\t\t\tkey={clientConfig[clientKey].name}\n\t\t\t\t\t\t\tkeyName={clientConfig[clientKey].storageKey}\n\t\t\t\t\t\t\tname={clientConfig[clientKey].name}\n\t\t\t\t\t\t\tvalue={clientConfig[clientKey].value}\n\t\t\t\t\t\t\ttype={clientConfig[clientKey].type}\n\t\t\t\t\t\t\toptionObject={clientConfig[clientKey]}\n\t\t\t\t\t\t\tonChange={this.updateClientConfigValue}\n\t\t\t\t\t\t/>\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn configList;\n\t\t}\n\t};\n\n\trender() {\n\t\treturn (\n\t\t\t<div className='options-list-container'>\n\t\t\t\t<ul className='options-list' style={{ padding: 0, margin: 0 }}>\n\t\t\t\t\t{this.renderOptionsList()}\n\t\t\t\t</ul>\n\t\t\t\t<Modal\n\t\t\t\t\ttitle='Restart Required'\n\t\t\t\t\tvisible={this.state.showRestartModal}\n\t\t\t\t\tclassName='delete-modal'\n\t\t\t\t\tcentered\n\t\t\t\t\tonOk={this.restartHandler}\n\t\t\t\t\tafterClose={() => document.body.style.removeProperty('overflow')}\n\t\t\t\t\tokType='danger'\n\t\t\t\t\tokText='Restart'\n\t\t\t\t\tcancelText='Wait'\n\t\t\t\t\tclosable={false}\n\t\t\t\t\tonCancel={() => this.setState({ showRestartModal: false })}\n\t\t\t\t>\n\t\t\t\t\t<p>\n\t\t\t\t\t\tThis configuration change requires an app restart to take effect, do you want to restart\n\t\t\t\t\t\tnow or wait?\n\t\t\t\t\t</p>\n\t\t\t\t</Modal>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nconst mapStateToProps = (state) => {\n\treturn {\n\t\tquery: state.nodes.query,\n\t\ttotalNodes: state.nodes.totalItems,\n\t\tisFetching: state.nodes.isFetching,\n\t};\n};\n\nexport default connect(mapStateToProps, { fetchNodes, loadTheme })(OptionsList);\n","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { Layout, message, Icon, Button, Modal } from 'antd';\nimport { Formik, Form, Field, ErrorMessage } from 'formik';\nimport * as Yup from 'yup';\n// custom code\nimport {\n\tfetchUserByUsername,\n\tupdateUserInfo,\n\tupdateUserAvatar,\n\tupdateUserHeader,\n\tupdateUsername,\n\tupdateEmail,\n\tchangePassword,\n\tclearAllNodes,\n\tshowComponent,\n\tgenerateInstanceExport,\n\t// regenerateCollectionPreviews,\n\thideComponent,\n} from '../../api/redux/actions';\nimport './css/Options.less';\n// import IOBar from '../elements/IOBar';\n// import NodeList from '../elements/node/NodeList';\nimport OptionsList from '../elements/options/OptionsList';\nimport MainSider from '../elements/MainSider';\nimport IOBar from '../elements/IOBar';\n// import default images\nimport defaultHeader from '../../resources/cloud9.png';\nimport defaultAvatar from '../../resources/synthona-logo.png';\n\nconst { Content } = Layout;\n\nclass Options extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\tshowPasswordModal: false,\n\t\t\tshowDeleteNodesModal: false,\n\t\t\tshowExportModal: false,\n\t\t\tinitialized: false,\n\t\t\tusername: '',\n\t\t\temail: '',\n\t\t\tdisplayName: '',\n\t\t\tbio: '',\n\t\t\tavatar: null,\n\t\t\theader: null,\n\t\t};\n\t}\n\n\tcomponentDidMount() {\n\t\tdocument.title = `Edit Profile`;\n\t\t// temporary fix to undo whatever is setting overflow hidden on-login\n\t\tdocument.body.style.removeProperty('overflow');\n\t\tthis.initializeFromUrlParams();\n\t}\n\n\tupdatePassword = (values, { setSubmitting }) => {\n\t\tthis.togglePasswordModal();\n\t\tsetSubmitting(false);\n\t\tthis.props.changePassword(values);\n\t};\n\n\thandleClearNodes = (values, { setSubmitting }) => {\n\t\tthis.toggleDeleteNodesModal();\n\t\tsetSubmitting(false);\n\t\tthis.props.clearAllNodes(values);\n\t};\n\n\t// show modal to confirm deletion\n\ttogglePasswordModal = () => {\n\t\tif (this.state.showPasswordModal) {\n\t\t\tthis.setState({ showPasswordModal: false });\n\t\t} else {\n\t\t\tthis.setState({ showPasswordModal: true });\n\t\t}\n\t};\n\n\t// show modal to confirm deletion\n\ttoggleDeleteNodesModal = () => {\n\t\tif (this.state.showDeleteNodesModal) {\n\t\t\tthis.setState({ showDeleteNodesModal: false });\n\t\t} else {\n\t\t\tthis.setState({ showDeleteNodesModal: true });\n\t\t}\n\t};\n\n\t// show confirm export modal\n\ttoggleExportModal = () => {\n\t\tif (this.state.showExportModal) {\n\t\t\tthis.setState({ showExportModal: false });\n\t\t} else {\n\t\t\tthis.setState({ showExportModal: true });\n\t\t}\n\t};\n\n\t// delete the node\n\texportHandler = async () => {\n\t\tthis.setState({ showExportModal: false });\n\t\tawait this.props.generateInstanceExport();\n\t};\n\n\tpasswordModal = () => {\n\t\treturn (\n\t\t\t<Formik\n\t\t\t\tinitialValues={{ oldPassword: '', newPassword: '', confirmNewPassword: '' }}\n\t\t\t\tvalidationSchema={validationSchema}\n\t\t\t\tonSubmit={this.updatePassword}\n\t\t\t\tstyle={{ display: 'inline-block' }}\n\t\t\t>\n\t\t\t\t{({ isSubmitting }) => (\n\t\t\t\t\t<Form className='password-modal-form'>\n\t\t\t\t\t\t<Field\n\t\t\t\t\t\t\ttype='password'\n\t\t\t\t\t\t\tname='oldPassword'\n\t\t\t\t\t\t\tplaceholder='old password'\n\t\t\t\t\t\t\tclassName='password-modal-field'\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<ErrorMessage name='oldPassword' component='div' />\n\t\t\t\t\t\t<Field\n\t\t\t\t\t\t\ttype='password'\n\t\t\t\t\t\t\tname='newPassword'\n\t\t\t\t\t\t\tplaceholder='new password'\n\t\t\t\t\t\t\tclassName='password-modal-field'\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<ErrorMessage name='newPassword' component='div' />\n\t\t\t\t\t\t<Field\n\t\t\t\t\t\t\ttype='password'\n\t\t\t\t\t\t\tname='confirmNewPassword'\n\t\t\t\t\t\t\tplaceholder='confirm new password'\n\t\t\t\t\t\t\tclassName='password-modal-field'\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<ErrorMessage name='confirmNewPassword' component='div' />\n\t\t\t\t\t\t<button type='submit' disabled={isSubmitting}>\n\t\t\t\t\t\t\tchange password\n\t\t\t\t\t\t</button>\n\t\t\t\t\t</Form>\n\t\t\t\t)}\n\t\t\t</Formik>\n\t\t);\n\t};\n\n\tdeleteAllNodesModal = () => {\n\t\treturn (\n\t\t\t<Formik\n\t\t\t\tinitialValues={{ passwordValue: '', confirmPassword: '' }}\n\t\t\t\tvalidationSchema={deleteNodesValidation}\n\t\t\t\tonSubmit={this.handleClearNodes}\n\t\t\t\tstyle={{ display: 'inline-block' }}\n\t\t\t>\n\t\t\t\t{({ isSubmitting }) => (\n\t\t\t\t\t<Form className='password-modal-form'>\n\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\tAre you are you want to delete all nodes and associations for this user? This action\n\t\t\t\t\t\t\tis not reversible, it's recommended that u make a backup first.\n\t\t\t\t\t\t</p>\n\t\t\t\t\t\t<Field\n\t\t\t\t\t\t\ttype='password'\n\t\t\t\t\t\t\tname='passwordValue'\n\t\t\t\t\t\t\tplaceholder='password'\n\t\t\t\t\t\t\tclassName='password-modal-field'\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<ErrorMessage name='passwordValue' component='div' />\n\t\t\t\t\t\t<Field\n\t\t\t\t\t\t\ttype='password'\n\t\t\t\t\t\t\tname='confirmPassword'\n\t\t\t\t\t\t\tplaceholder='confirm password'\n\t\t\t\t\t\t\tclassName='password-modal-field'\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<ErrorMessage name='confirmPassword' component='div' />\n\t\t\t\t\t\t<button\n\t\t\t\t\t\t\ttype='danger'\n\t\t\t\t\t\t\tdisabled={isSubmitting}\n\t\t\t\t\t\t\tstyle={{ color: 'white', backgroundColor: 'red' }}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\tyes, i want to delete all my data\n\t\t\t\t\t\t</button>\n\t\t\t\t\t</Form>\n\t\t\t\t)}\n\t\t\t</Formik>\n\t\t);\n\t};\n\n\t// load the profile\n\tinitializeFromUrlParams = async () => {\n\t\t// fetch the user info from the server\n\t\tconst user = await this.props.fetchUserByUsername(this.props.user.username);\n\t\tif (user && !this.state.initialized) {\n\t\t\tthis.setState({\n\t\t\t\tinitialized: true,\n\t\t\t\tusername: user.username,\n\t\t\t\temail: this.props.user.email,\n\t\t\t\tdisplayName: user.displayName,\n\t\t\t\tbio: user.bio,\n\t\t\t\tavatar: user.avatar,\n\t\t\t\theader: user.header,\n\t\t\t});\n\t\t} else {\n\t\t\tmessage.error('there was a problem loading your profile');\n\t\t\tthis.props.history.push('/');\n\t\t}\n\t};\n\n\t// select an image.\n\tsetAvatar = () => {\n\t\tconst input = document.createElement('input');\n\t\tinput.setAttribute('type', 'file');\n\t\tinput.click();\n\t\t// Listen for uploading local image, then save to server\n\t\tinput.onchange = async () => {\n\t\t\tconst file = input.files[0];\n\t\t\t// make sure file is an image\n\t\t\tif (/^image\\//.test(file.type)) {\n\t\t\t\t// save the image to the server\n\t\t\t\tconst url = await this.props.updateUserAvatar(file);\n\t\t\t\tthis.setState({ avatar: url });\n\t\t\t} else {\n\t\t\t\tmessage.error('The file must be an image', 1);\n\t\t\t}\n\t\t};\n\t};\n\n\tsetHeader = () => {\n\t\tconst input = document.createElement('input');\n\t\tinput.setAttribute('type', 'file');\n\t\tinput.click();\n\t\t// Listen for uploading local image, then save to server\n\t\tinput.onchange = async () => {\n\t\t\tconst file = input.files[0];\n\t\t\t// make sure file is an image\n\t\t\tif (/^image\\//.test(file.type)) {\n\t\t\t\t// save the image to the server\n\t\t\t\tconst url = await this.props.updateUserHeader(file);\n\t\t\t\tthis.setState({ header: url });\n\t\t\t} else {\n\t\t\t\tmessage.error('The file must be an image', 1);\n\t\t\t}\n\t\t};\n\t};\n\n\t// render display name\n\trenderDisplayName = () => {\n\t\treturn (\n\t\t\t<input\n\t\t\t\ttype='text'\n\t\t\t\tclassName='Options-display-name'\n\t\t\t\tplaceholder='Display Name'\n\t\t\t\tvalue={this.state.displayName}\n\t\t\t\tonChange={(e) => this.saveDisplayName(e.target.value)}\n\t\t\t></input>\n\t\t);\n\t};\n\n\t// update and save the displayName\n\tsaveDisplayName = (displayName) => {\n\t\tif (this.state.displayName !== displayName) {\n\t\t\tthis.props.updateUserInfo({\n\t\t\t\tusername: this.props.user.username,\n\t\t\t\tdisplayName: displayName,\n\t\t\t});\n\t\t\tlocalStorage.setItem('displayName', displayName);\n\t\t\tdocument.title = displayName;\n\t\t\tthis.setState({ displayName });\n\t\t}\n\t};\n\n\t// render the profile bio\n\trenderBio = () => {\n\t\treturn (\n\t\t\t<textarea\n\t\t\t\ttype='text'\n\t\t\t\tclassName='Options-bio'\n\t\t\t\tplaceholder='Bio'\n\t\t\t\tvalue={this.state.bio}\n\t\t\t\tonChange={(e) => this.saveBio(e.target.value)}\n\t\t\t></textarea>\n\t\t);\n\t};\n\n\t// update and save the bio\n\tsaveBio = (bio) => {\n\t\tif (this.state.bio !== bio) {\n\t\t\tthis.props.updateUserInfo({\n\t\t\t\tusername: this.props.user.username,\n\t\t\t\tbio: bio,\n\t\t\t});\n\t\t\tthis.setState({ bio });\n\t\t}\n\t};\n\n\t// render the profile username\n\trenderUsername = () => {\n\t\treturn (\n\t\t\t<input\n\t\t\t\ttype='text'\n\t\t\t\tclassName='Options-standard-input'\n\t\t\t\tplaceholder='username'\n\t\t\t\tvalue={this.state.username}\n\t\t\t\tonChange={(e) => this.saveUsername(e.target.value)}\n\t\t\t></input>\n\t\t);\n\t};\n\n\t// update and save the username\n\tsaveUsername = (username) => {\n\t\tif (this.state.username !== username) {\n\t\t\tthis.props.updateUsername(username);\n\t\t\tthis.setState({ username });\n\t\t}\n\t};\n\n\t// render the profile email\n\trenderEmail = () => {\n\t\treturn (\n\t\t\t<input\n\t\t\t\ttype='text'\n\t\t\t\tclassName='Options-standard-input'\n\t\t\t\tplaceholder='email'\n\t\t\t\tvalue={this.state.email}\n\t\t\t\tonChange={(e) => this.saveEmail(e.target.value)}\n\t\t\t></input>\n\t\t);\n\t};\n\n\t// update and save the email\n\tsaveEmail = (email) => {\n\t\tif (this.state.email !== email) {\n\t\t\tthis.props.updateEmail(email);\n\t\t\tthis.setState({ email });\n\t\t}\n\t};\n\n\trenderMainSider = () => {\n\t\tif (this.props.mainSider) {\n\t\t\treturn <MainSider />;\n\t\t}\n\t};\n\n\tcomponentWillUnmount() {\n\t\t// remove any selections on exit\n\t\twindow.getSelection().removeAllRanges();\n\t\t// hide mainsider again\n\t\tthis.props.hideComponent('mainSider');\n\t}\n\n\trender() {\n\t\treturn (\n\t\t\t<Layout className='Options-container'>\n\t\t\t\t{/* \t<MainSider showMask={false} animate={false} />*/}\n\t\t\t\t{this.renderMainSider()}\n\t\t\t\t<Layout>\n\t\t\t\t\t<Content className='Options'>\n\t\t\t\t\t\t<IOBar />\n\t\t\t\t\t\t<div className='Options-card'>\n\t\t\t\t\t\t\t<button onClick={this.setHeader}>\n\t\t\t\t\t\t\t\t<div className='Options-header'>\n\t\t\t\t\t\t\t\t\t<Icon type='camera' className='Options-header-edit-icon' />\n\t\t\t\t\t\t\t\t\t<img src={this.state.header || defaultHeader} alt='example' draggable='false' />\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t<button onClick={this.setAvatar}>\n\t\t\t\t\t\t\t\t<div className='Options-avatar'>\n\t\t\t\t\t\t\t\t\t<Icon type='camera' className='Options-avatar-edit-icon' />\n\t\t\t\t\t\t\t\t\t<img src={this.state.avatar || defaultAvatar} alt={'profile'} draggable='false' />\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t<div className='Options-info'>\n\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\ttype='default'\n\t\t\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\t\t\tmargin: '0 0 10px',\n\t\t\t\t\t\t\t\t\t\tbackgroundColor: 'white',\n\t\t\t\t\t\t\t\t\t\twidth: '10rem',\n\t\t\t\t\t\t\t\t\t\tpadding: '0.5rem',\n\t\t\t\t\t\t\t\t\t\tdisplay: 'inline-block',\n\t\t\t\t\t\t\t\t\t\ttextAlign: 'center',\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\tonClick={(e) => {\n\t\t\t\t\t\t\t\t\t\tthis.toggleExportModal();\n\t\t\t\t\t\t\t\t\t\t// this.props.generateInstanceExport();\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\texport all user data\n\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t<br />\n\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\ttype='default'\n\t\t\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\t\t\tmargin: '0 0 10px',\n\t\t\t\t\t\t\t\t\t\tbackgroundColor: 'white',\n\t\t\t\t\t\t\t\t\t\twidth: '10rem',\n\t\t\t\t\t\t\t\t\t\tpadding: '0.5rem',\n\t\t\t\t\t\t\t\t\t\tdisplay: 'inline-block',\n\t\t\t\t\t\t\t\t\t\ttextAlign: 'center',\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\tonClick={(e) => this.togglePasswordModal()}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\tchange password\n\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t{/* <br />\n\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\ttype='default'\n\t\t\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\t\t\tmargin: '0 0 10px',\n\t\t\t\t\t\t\t\t\t\tbackgroundColor: 'white',\n\t\t\t\t\t\t\t\t\t\twidth: '10rem',\n\t\t\t\t\t\t\t\t\t\tpadding: '0.5rem',\n\t\t\t\t\t\t\t\t\t\tdisplay: 'inline-block',\n\t\t\t\t\t\t\t\t\t\ttextAlign: 'center',\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\tonClick={(e) => {\n\t\t\t\t\t\t\t\t\t\twindow.location.replace(`/profile/${this.props.user.username}`);\n\t\t\t\t\t\t\t\t\t\tthis.props.regenerateCollectionPreviews();\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\tregenerate previews\n\t\t\t\t\t\t\t\t</Button> */}\n\t\t\t\t\t\t\t\t<br />\n\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\ttype='danger'\n\t\t\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\t\t\tmargin: '0 0 10px',\n\t\t\t\t\t\t\t\t\t\tbackgroundColor: 'red',\n\t\t\t\t\t\t\t\t\t\twidth: '10rem',\n\t\t\t\t\t\t\t\t\t\tpadding: '0.5rem',\n\t\t\t\t\t\t\t\t\t\tdisplay: 'inline-block',\n\t\t\t\t\t\t\t\t\t\ttextAlign: 'center',\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\tonClick={(e) => this.toggleDeleteNodesModal()}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\tdelete all data\n\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t<br />\n\t\t\t\t\t\t\t\t{this.renderDisplayName()}\n\t\t\t\t\t\t\t\t{this.renderUsername()}\n\t\t\t\t\t\t\t\t{this.renderEmail()}\n\t\t\t\t\t\t\t\t{this.renderBio()}\n\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\ttype='default'\n\t\t\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\t\t\tmargin: '0 0 10px',\n\t\t\t\t\t\t\t\t\t\tbackgroundColor: 'white',\n\t\t\t\t\t\t\t\t\t\twidth: '4rem',\n\t\t\t\t\t\t\t\t\t\tdisplay: 'inline-block',\n\t\t\t\t\t\t\t\t\t\ttextAlign: 'center',\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\tonClick={(e) => this.props.history.push(`/profile/${this.props.user.username}`)}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\tdone\n\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t<Modal\n\t\t\t\t\t\t\t\t\ttitle='change password'\n\t\t\t\t\t\t\t\t\tvisible={this.state.showPasswordModal}\n\t\t\t\t\t\t\t\t\tclassName='password-modal'\n\t\t\t\t\t\t\t\t\tcentered\n\t\t\t\t\t\t\t\t\tafterClose={() => document.body.style.removeProperty('overflow')}\n\t\t\t\t\t\t\t\t\tfooter={null}\n\t\t\t\t\t\t\t\t\tclosable={false}\n\t\t\t\t\t\t\t\t\tonCancel={this.togglePasswordModal}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{this.passwordModal()}\n\t\t\t\t\t\t\t\t</Modal>\n\t\t\t\t\t\t\t\t<Modal\n\t\t\t\t\t\t\t\t\ttitle='delete all data'\n\t\t\t\t\t\t\t\t\tvisible={this.state.showDeleteNodesModal}\n\t\t\t\t\t\t\t\t\tclassName='password-modal'\n\t\t\t\t\t\t\t\t\tcentered\n\t\t\t\t\t\t\t\t\tafterClose={() => document.body.style.removeProperty('overflow')}\n\t\t\t\t\t\t\t\t\tfooter={null}\n\t\t\t\t\t\t\t\t\tclosable={false}\n\t\t\t\t\t\t\t\t\tonCancel={this.toggleDeleteNodesModal}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{this.deleteAllNodesModal()}\n\t\t\t\t\t\t\t\t</Modal>\n\t\t\t\t\t\t\t\t<Modal\n\t\t\t\t\t\t\t\t\ttitle='Confirm Export'\n\t\t\t\t\t\t\t\t\tvisible={this.state.showExportModal}\n\t\t\t\t\t\t\t\t\tclassName='delete-modal'\n\t\t\t\t\t\t\t\t\tcentered\n\t\t\t\t\t\t\t\t\tonOk={this.exportHandler}\n\t\t\t\t\t\t\t\t\tokText='Generate'\n\t\t\t\t\t\t\t\t\tclosable={false}\n\t\t\t\t\t\t\t\t\tafterClose={() => document.body.style.removeProperty('overflow')}\n\t\t\t\t\t\t\t\t\tonCancel={this.toggleExportModal}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\t\t\t\tGenerate export from <b>{this.props.user.displayName || 'untitled'}</b>? The\n\t\t\t\t\t\t\t\t\t\texport will contain the profile picture, header, bio, along with all this user's\n\t\t\t\t\t\t\t\t\t\tnodes & associations, and appear in your favorites when it is completed. This\n\t\t\t\t\t\t\t\t\t\tmay take a few minutes.\n\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t</Modal>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<OptionsList />\n\t\t\t\t\t</Content>\n\t\t\t\t</Layout>\n\t\t\t</Layout>\n\t\t);\n\t}\n}\n\nconst validationSchema = Yup.object().shape({\n\toldPassword: Yup.string().required('old password is required'),\n\tnewPassword: Yup.string()\n\t\t.min(5, 'Password has to be longer than 6 characters!')\n\t\t.required('password is required'),\n\tconfirmNewPassword: Yup.string()\n\t\t.required('please confirm new password')\n\t\t.oneOf([Yup.ref('newPassword')], \"Your passwords don't match\"),\n});\n\nconst deleteNodesValidation = Yup.object().shape({\n\tpasswordValue: Yup.string()\n\t\t.min(5, 'Password has to be longer than 6 characters!')\n\t\t.required('password is required'),\n\tconfirmPassword: Yup.string()\n\t\t.required('please confirm password')\n\t\t.min(5, 'Password has to be longer than 6 characters!')\n\t\t.oneOf([Yup.ref('passwordValue')], \"Your passwords don't match\"),\n});\n\nconst mapStateToProps = (state) => {\n\treturn { user: state.auth.user, mainSider: state.components.componentList['mainSider'] };\n};\n\nexport default connect(mapStateToProps, {\n\tfetchUserByUsername,\n\tupdateUserInfo,\n\tupdateUserAvatar,\n\tupdateUserHeader,\n\tupdateUsername,\n\tupdateEmail,\n\tclearAllNodes,\n\tchangePassword,\n\tshowComponent,\n\tgenerateInstanceExport,\n\t// regenerateCollectionPreviews,\n\thideComponent,\n})(Options);\n","import React from 'react';\nimport { Layout } from 'antd';\n// custom code\nimport './css/Page.less';\n// destructure antd components\nconst { Content } = Layout;\n\nconst MainContent = (props) => {\n  return (\n    <Layout className='page-content'>\n      <Content style={{ backgroundColor: '#272727' }}>{props.children}</Content>\n    </Layout>\n  );\n};\n\nexport default MainContent;\n","import React, { Component } from 'react';\nimport { Layout } from 'antd';\n// custom code\nimport '../elements/css/Page.less';\nimport MainContent from '../elements/MainContent';\nimport IOBar from '../elements/IOBar';\nimport MainSider from '../elements/MainSider';\n\nclass Activity extends Component {\n  render() {\n    return (\n      <Layout className='page-layout'>\n        <IOBar />\n        <Layout>\n          <MainSider />\n          <MainContent />\n        </Layout>\n      </Layout>\n    );\n  }\n}\n\nexport default Activity;\n","import React, { Component, Fragment } from 'react';\nimport { connect } from 'react-redux';\n// custom code\nimport '../node/NodeList.less';\nimport { fetchAssociations, getRandomNode } from '../../../api/redux/actions';\nimport NodeCard from '../node/NodeCard';\nimport AssociationSider from './AssociationSider';\nimport Spinner from '../Spinner';\n\nclass AssociationList extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\ttopOfPage: false,\n\t\t\t// redirectInterval: setInterval(this.advanceToRandomNode, 333),\n\t\t};\n\t}\n\n\tcomponentDidMount() {\n\t\twindow.addEventListener('scroll', this.infiniteScroll);\n\t\t// window.addEventListener('mousemove', this.resetAdvanceCounter);\n\t\t// this.advanceToRandomNode();\n\t}\n\n\tcomponentWillUnmount() {\n\t\twindow.removeEventListener('scroll', this.infiniteScroll);\n\t}\n\n\t// resetAdvanceCounter = () => {\n\t// \tconsole.log('removing interval');\n\t// \tconsole.log(this.state.redirectInterval);\n\t// \tif (this.state.redirectInterval) {\n\t// \t\tclearInterval(this.state.redirectInterval);\n\t// \t\tthis.setState({ redirectInterval: setInterval(this.advanceToRandomNode, 10000) });\n\t// \t}\n\t// };\n\n\t// commenting this out for now.\n\t// was experimenting with random automated wandering, screensaver style\n\t// maybe will revisit this\n\t// advanceToRandomNode = () => {\n\t// \tlet flash = localStorage.getItem('flash');\n\t// \tconsole.log(flash);\n\t// \tif (flash) {\n\t// \t\twindow.location.replace(`/flash`);\n\t// \t\treturn;\n\t// \t}\n\t// \tlet maxNumber = Math.floor(Math.random() * this.props.associations.length + 1);\n\t// \tif (this.props.associations.length > 0) {\n\t// \t\tlet uuid = this.props.associations[this.props.associations.length - maxNumber].uuid;\n\t// \t\twindow.location.replace(`/associations/${uuid}`);\n\t// \t} else {\n\t// \t\tthis.props.getRandomNode();\n\t// \t}\n\t// \tlocalStorage.setItem('flash', true);\n\t// };\n\n\tinfiniteScroll = (e) => {\n\t\tvar currentListLength = this.props.associations.length;\n\t\tif (\n\t\t\tthis.endReached() &&\n\t\t\tthis.props.activeNode &&\n\t\t\tcurrentListLength < this.props.totalNodes &&\n\t\t\t!this.props.isFetching\n\t\t) {\n\t\t\tthis.setState({ topOfPage: false });\n\t\t\t// fetch the next page\n\t\t\tthis.props.fetchAssociations({\n\t\t\t\tpage: this.props.page + 1,\n\t\t\t\tnodeUUID: this.props.activeNode.uuid,\n\t\t\t});\n\t\t}\n\t};\n\n\tendReached = () => {\n\t\t// window calculations to tell when the user scrolls to the bottom\n\t\tconst windowHeight =\n\t\t\t'innerHeight' in window ? window.innerHeight : document.documentElement.offsetHeight;\n\t\tconst body = document.body;\n\t\tconst html = document.documentElement;\n\t\tconst docHeight = Math.max(\n\t\t\tbody.scrollHeight,\n\t\t\tbody.offsetHeight,\n\t\t\thtml.clientHeight,\n\t\t\thtml.scrollHeight,\n\t\t\thtml.offsetHeight\n\t\t);\n\t\tconst windowBottom = windowHeight + window.pageYOffset;\n\t\t// check if the top is reached\n\t\tif (window.pageYOffset < 1 && !this.props.isFetching && !this.state.topOfPage) {\n\t\t\tthis.setState({ topOfPage: true });\n\t\t\t// at the top of the page, reset the associationlist\n\t\t\tthis.props.fetchAssociations({\n\t\t\t\tpage: 1,\n\t\t\t\tnodeUUID: this.props.activeNode.uuid,\n\t\t\t});\n\t\t}\n\t\t// TODO: need to find a way to calculate the \"window top\" as well\n\t\t// so i can decrement the page number when the user scrolls up\n\t\t// this is necessary so redux doesn't have to store everything\n\t\treturn windowBottom >= docHeight - 733;\n\t};\n\n\trenderNodes = () => {\n\t\t// go through the list of nodes and render them to the page\n\t\tconst associationList = this.props.associations;\n\t\t// render the association list as cards\n\t\tif (associationList !== null) {\n\t\t\treturn associationList.map((association) => {\n\t\t\t\treturn (\n\t\t\t\t\t<NodeCard key={association.uuid} node={association} activeNode={this.props.activeNode} />\n\t\t\t\t);\n\t\t\t});\n\t\t} else {\n\t\t\treturn <Spinner></Spinner>;\n\t\t}\n\t};\n\n\trenderList = () => {\n\t\tif (this.props.totalNodes > 0) {\n\t\t\treturn (\n\t\t\t\t<ul style={{ backgroundColor: 'black' }} className='nodelist'>\n\t\t\t\t\t{this.renderNodes()}\n\t\t\t\t</ul>\n\t\t\t);\n\t\t} else if (this.props.totalNodes < 0) {\n\t\t\treturn <Fragment></Fragment>;\n\t\t}\n\t};\n\n\trender() {\n\t\treturn (\n\t\t\t<div>\n\t\t\t\t{this.renderList()}\n\t\t\t\t<AssociationSider />\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nconst mapStateToProps = (state) => {\n\treturn {\n\t\tassociations: state.associations.associationList,\n\t\tisFetching: state.associations.isFetching,\n\t\tactiveNode: state.nodes.activeNode,\n\t\tpage: state.associations.associationListPage,\n\t\ttotalNodes: state.associations.totalAssociationListItems,\n\t};\n};\n\nexport default connect(mapStateToProps, { fetchAssociations, getRandomNode })(AssociationList);\n","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport ReactQuill, { Quill } from 'react-quill';\nimport Delta from 'quill-delta';\n// import BlotFormatter, { AlignAction, DeleteAction, ImageSpec } from 'quill-blot-formatter';\nimport { Layout, message } from 'antd';\nimport 'react-quill/dist/quill.snow.css';\nimport AssociationList from '../elements/association/AssociationList';\nimport AssociationSider from '../elements/association/AssociationSider';\nimport NodeCardHeaderFull from '../elements/node/NodeCardHeaderFull';\nimport IOBar from '../elements/IOBar';\n// custom components\nimport Spinner from '../elements/Spinner';\n// redux handlers\nimport {\n\teditTextNode,\n\tprocessTextNode,\n\tcreateFileNode,\n\tsetActiveNode,\n\tupdateNode,\n\tfetchAssociations,\n\tmarkNodeView,\n} from '../../api/redux/actions';\n// import custom editor css\nimport './QuillEditor.less';\nimport MainSider from '../elements/MainSider';\n// destructure antd components\nconst { Content } = Layout;\n\n// register custom clipboard to handle bugs with the way the default one works\nconst Clipboard = Quill.import('modules/clipboard');\n// https://github.com/quilljs/quill/issues/1374\nclass CustomClipboard extends Clipboard {\n\tonPaste(e) {\n\t\t// get current page offset before paste\n\t\tconst top = window.pageYOffset;\n\t\tconst left = window.pageXOffset;\n\n\t\tif (e.defaultPrevented || !this.quill.isEnabled()) return;\n\t\tlet range = this.quill.getSelection();\n\t\tlet delta = new Delta().retain(range.index);\n\t\tthis.container.style.top =\n\t\t\t(\n\t\t\t\twindow.pageYOffset ||\n\t\t\t\tdocument.documentElement.scrollTop ||\n\t\t\t\tdocument.body.scrollTop ||\n\t\t\t\t0\n\t\t\t).toString() + 'px';\n\t\tthis.container.focus();\n\t\tsetTimeout(() => {\n\t\t\tthis.quill.selection.update(Quill.sources.SILENT);\n\t\t\tdelta = delta.concat(this.convert()).delete(range.length);\n\t\t\tthis.quill.updateContents(delta, Quill.sources.USER);\n\t\t\tthis.quill.setSelection(delta.length() - range.length, Quill.sources.SILENT);\n\t\t\tlet bounds = this.quill.getBounds(delta.length() - range.length, Quill.sources.SILENT);\n\t\t\tthis.quill.scrollingContainer.scrollTop = bounds.top;\n\n\t\t\t// scroll window to previous position after paste\n\t\t\twindow.scrollTo({ top, left });\n\t\t}, 1);\n\t}\n}\n\nQuill.register('modules/clipboard', CustomClipboard, true);\n\nclass QuillEditor extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\ttext: '',\n\t\t\tname: '',\n\t\t\texpanded: localStorage.getItem('expanded'),\n\t\t\tuuid: null,\n\t\t\terror: null,\n\t\t\tinitializing: false,\n\t\t\treadOnly: true,\n\t\t};\n\t\tthis.handleChange = this.handleChange.bind(this);\n\t}\n\n\tref = (quill) => {\n\t\tthis.quill = quill;\n\t};\n\n\tcomponentDidMount() {\n\t\tdocument.body.style.overflow = 'auto';\n\t\tdocument.body.style.height = '100%';\n\t\tdocument.documentElement.style.height = '100%';\n\t\t// prevent quill from jumping to top\n\t\tdocument.querySelectorAll('.ql-picker').forEach((tool) => {\n\t\t\ttool.addEventListener('mousedown', function (event) {\n\t\t\t\tevent.preventDefault();\n\t\t\t\tevent.stopPropagation();\n\t\t\t});\n\t\t});\n\t\t// initialize\n\t\tthis.initializeFromUrlParams();\n\t}\n\n\tcomponentDidUpdate = async () => {\n\t\t// prevent quill from jumping to top\n\t\tdocument.querySelectorAll('.ql-picker').forEach((tool) => {\n\t\t\ttool.addEventListener('mousedown', function (event) {\n\t\t\t\tevent.preventDefault();\n\t\t\t\tevent.stopPropagation();\n\t\t\t});\n\t\t});\n\t\t// if the url has changed reload\n\t\tvar textUUID = this.props.match.params.uuid;\n\t\tif (this.state.uuid !== textUUID && this.state.initializing === false) {\n\t\t\tthis.setState({\n\t\t\t\ttext: '',\n\t\t\t\tname: '',\n\t\t\t\texpanded: localStorage.getItem('expanded'),\n\t\t\t\tuuid: null,\n\t\t\t\terror: null,\n\t\t\t\tinitializing: true,\n\t\t\t\treadOnly: true,\n\t\t\t});\n\t\t\tthis.regeneratePreview();\n\t\t\tthis.initializeFromUrlParams();\n\t\t}\n\t};\n\n\t// load the text node and set the local id state.\n\tinitializeFromUrlParams = async () => {\n\t\t// scroll to top\n\t\twindow.scrollTo({ top: 0 });\n\t\t// check url params\n\t\tvar textUUID = this.props.match.params.uuid;\n\t\t// set the local state id equal to the value in the url\n\t\tthis.setState({ uuid: textUUID });\n\t\tawait this.props.setActiveNode(textUUID);\n\t\tif (this.props.nodeData && this.props.nodeData.content) {\n\t\t\t// if there is content set the local editor state equal to it\n\t\t\tdocument.title = this.props.nodeData.name || 'Untitled';\n\t\t\tvar textValue = JSON.parse(this.props.nodeData.content);\n\t\t\tthis.setState({\n\t\t\t\ttext: textValue,\n\t\t\t\tname: this.props.nodeData.name,\n\t\t\t\tinitializing: false,\n\t\t\t\treadOnly: false,\n\t\t\t});\n\t\t\tthis.props.markNodeView(this.props.nodeData);\n\t\t\t// clear undo history to prevent undo from deleting everything\n\t\t\tconst editor = this.quill.getEditor();\n\t\t\teditor.history.clear();\n\t\t\tthis.props.fetchAssociations({ nodeUUID: textUUID });\n\t\t} else {\n\t\t\t// if there's no content return an error message\n\t\t\tthis.setState({ error: true });\n\t\t\tthis.props.history.push('/');\n\t\t}\n\t};\n\n\t// toggle fullscreen\n\texpandHandler = () => {\n\t\tif (this.state.expanded === null) {\n\t\t\tthis.setState({ expanded: 'expanded' });\n\t\t\tlocalStorage.setItem('expanded', 'expanded');\n\t\t} else {\n\t\t\tthis.setState({ expanded: null });\n\t\t\tlocalStorage.removeItem('expanded');\n\t\t}\n\t};\n\n\t// exit the editor and return to the home screen\n\texitHandler = async () => {\n\t\t// generate the preview and do whatever processing will be\n\t\t// necessary to process the node\n\t\t// TODO: alter this so it stores a condensed version of the document instead of plain text\n\t\tthis.regeneratePreview();\n\t\tthis.props.history.push('/');\n\t};\n\n\tregeneratePreview = () => {\n\t\tif (!this.state.deleting && !this.state.error && this.state.uuid !== null && this.quill) {\n\t\t\tconst previewLength = 500;\n\t\t\tconst editor = this.quill.getEditor();\n\t\t\t// process the text node\n\t\t\tconst content = editor.getText();\n\t\t\tconst preview = content.substring(0, previewLength);\n\t\t\tthis.props.nodeData.preview = preview;\n\t\t\t// wait for preview to update before going back to homepage so it will be up to date\n\t\t\tthis.props.processTextNode({ uuid: this.state.uuid, preview });\n\t\t}\n\t};\n\n\t// select an image.\n\tselectLocalImage = () => {\n\t\tconst input = document.createElement('input');\n\t\tinput.setAttribute('type', 'file');\n\t\tinput.setAttribute('accept', ['image/gif', 'image/jpg', 'image/jpeg', 'image/png']);\n\t\tinput.click();\n\n\t\t// Listen for uploading local image, then save to server\n\t\tinput.onchange = async () => {\n\t\t\tconst file = input.files[0];\n\n\t\t\t// make sure file is an image\n\t\t\tif (/^image\\//.test(file.type)) {\n\t\t\t\t// save the image to the server\n\t\t\t\tconst url = await this.props.createFileNode(\n\t\t\t\t\tfile,\n\t\t\t\t\tnull,\n\t\t\t\t\tJSON.stringify(this.props.nodeData)\n\t\t\t\t);\n\t\t\t\t// push image url to rich editor.\n\t\t\t\tconst range = this.quill.getEditor().getSelection();\n\t\t\t\tthis.quill.getEditor().insertEmbed(range.index, 'image', url);\n\t\t\t} else {\n\t\t\t\tmessage.error('The file must be an image', 1);\n\t\t\t}\n\t\t};\n\t};\n\n\tisImageUrl = (url) => {\n\t\tvar expression =\n\t\t\t/[-a-zA-Z0-9@:%._+~#=]{1,256}\\.[a-zA-Z0-9()]{1,6}\\b([-a-zA-Z0-9()@:%_+.~#?&//=]*)?/gi;\n\t\tvar regex = new RegExp(expression);\n\t\treturn regex.test(url);\n\t};\n\n\t// handle pasting of images\n\t// these could potentially be stored in a special database table? I'm not sure if\n\t// externally linked images would be a node type? I don't see why not. i think they're urls\n\tmatcherImageHandler = (node, delta) => {\n\t\tconst url = node.src;\n\t\tconst newDelta = new Delta();\n\t\treturn newDelta.insert({ image: url });\n\t};\n\n\tmodules = {\n\t\ttoolbar: {\n\t\t\tcontainer: [\n\t\t\t\t[{ header: [1, 2, 3, 4, 5, false] }],\n\t\t\t\t[{ font: [] }],\n\t\t\t\t[{ indent: '-1' }, { indent: '+1' }],\n\t\t\t\t['bold', 'italic', 'underline', 'strike'],\n\t\t\t\t[\n\t\t\t\t\t{\n\t\t\t\t\t\tcolor: [\n\t\t\t\t\t\t\t'',\n\t\t\t\t\t\t\t'#fff',\n\t\t\t\t\t\t\t'#bbbbbb',\n\t\t\t\t\t\t\t'#df0000',\n\t\t\t\t\t\t\t'#a80b44',\n\t\t\t\t\t\t\t'#ff0062',\n\t\t\t\t\t\t\t'#df1f95',\n\t\t\t\t\t\t\t'#9933ff',\n\t\t\t\t\t\t\t'#c06be2',\n\t\t\t\t\t\t\t'#c8f0ae',\n\t\t\t\t\t\t\t'#7fba00',\n\t\t\t\t\t\t\t'#45d458',\n\t\t\t\t\t\t\t'#31d697',\n\t\t\t\t\t\t\t'#00dfd3',\n\t\t\t\t\t\t\t'#67edff',\n\t\t\t\t\t\t\t'#00a4ef',\n\t\t\t\t\t\t\t'#4178df',\n\t\t\t\t\t\t\t'#4d2ff7',\n\t\t\t\t\t\t\t'#000080',\n\t\t\t\t\t\t\t'#56007a',\n\t\t\t\t\t\t\t'#007c25',\n\t\t\t\t\t\t\t'#e2d58a',\n\t\t\t\t\t\t\t'#f8cc52',\n\t\t\t\t\t\t\t'#fff12b',\n\t\t\t\t\t\t\t'#eb875f',\n\t\t\t\t\t\t\t'#ff4500',\n\t\t\t\t\t\t\t'#f40000',\n\t\t\t\t\t\t\t'#a0390d',\n\t\t\t\t\t\t],\n\t\t\t\t\t},\n\t\t\t\t\t{ background: [] },\n\t\t\t\t],\n\t\t\t\t[{ align: null }, { align: 'center' }, { align: 'right' }, { align: 'justify' }],\n\t\t\t\t[{ list: 'ordered' }, { list: 'bullet' }],\n\t\t\t\t[{ script: 'sub' }, { script: 'super' }], // superscript/subscript\n\t\t\t\t['code-block', 'blockquote'],\n\t\t\t\t['link', 'image', 'video'],\n\t\t\t\t['clean'],\n\t\t\t\t['expand', 'exit'],\n\t\t\t],\n\t\t\thandlers: {\n\t\t\t\texpand: this.expandHandler,\n\t\t\t\texit: this.exitHandler,\n\t\t\t\timage: this.selectLocalImage,\n\t\t\t},\n\t\t},\n\t\tclipboard: {\n\t\t\tmatchVisual: false,\n\t\t\tmatchers: [['img', this.matcherImageHandler]],\n\t\t},\n\t\t// blotFormatter: {\n\t\t//   overlay: {\n\t\t//     style: {\n\t\t//       border: '2px solid #41e254',\n\t\t//     },\n\t\t//   },\n\t\t// },\n\t};\n\n\tallowedFormats = [\n\t\t'header',\n\t\t'font',\n\t\t'indent',\n\t\t'bold',\n\t\t'italic',\n\t\t'underline',\n\t\t'strike',\n\t\t'color',\n\t\t'background',\n\t\t'align',\n\t\t'list',\n\t\t'script',\n\t\t'code-block',\n\t\t'blockquote',\n\t\t'link',\n\t\t'image',\n\t\t'video',\n\t];\n\n\t// render the main navbar\n\trenderHeader = () => {\n\t\t// Only render the header if the editor is  expanded\n\t\tif (this.state.expanded === null && this.props.nodeData) {\n\t\t\treturn (\n\t\t\t\t<div>\n\t\t\t\t\t{/* <div style={{ height: '3rem' }}>\n\t\t\t\t\t\t<IOBar fixed={true} />\n\t\t\t\t\t</div>*/}\n\t\t\t\t\t<div style={{ height: '3rem' }}>\n\t\t\t\t\t\t<IOBar fixed={true} />\n\t\t\t\t\t</div>\n\t\t\t\t\t<NodeCardHeaderFull />\n\t\t\t\t</div>\n\t\t\t);\n\t\t}\n\t};\n\n\thandleChange(content, delta, source, editor) {\n\t\t// Check to see if the document has changed before saving.\n\t\t// TODO: i think this comparison is broken\n\t\tif (editor.getContents() !== this.state.text && this.state.initializing === false) {\n\t\t\tconst fullDelta = JSON.stringify(editor.getContents());\n\t\t\tthis.props.editTextNode({\n\t\t\t\tuuid: this.props.match.params.uuid,\n\t\t\t\tcontent: fullDelta,\n\t\t\t});\n\t\t\tthis.setState({ text: content });\n\t\t\tthis.regeneratePreview();\n\t\t}\n\t}\n\n\trenderMainSider = () => {\n\t\tif (this.props.mainSider) {\n\t\t\treturn <MainSider />;\n\t\t}\n\t};\n\n\trenderClassName = () => {\n\t\tlet documentWidth = JSON.parse(localStorage.getItem('quill-document-width')) || '';\n\t\tlet documentClass = 'quill-' + documentWidth.replace(' ', '-');\n\t\t// return the classname\n\t\treturn documentClass;\n\t};\n\n\tcomponentWillUnmount() {\n\t\t// clear styles\n\t\tdocument.body.style.overflow = null;\n\t\tdocument.body.style.height = null;\n\t\tdocument.documentElement.style.overflow = null;\n\t\tdocument.documentElement.style.height = null;\n\t\twindow.getSelection().removeAllRanges();\n\t}\n\n\trender() {\n\t\tif (this.props.isLoading) {\n\t\t\treturn (\n\t\t\t\t<Layout className='page-layout'>\n\t\t\t\t\t<Layout>\n\t\t\t\t\t\t<Layout>\n\t\t\t\t\t\t\t{this.renderHeader()}\n\t\t\t\t\t\t\t<Spinner />\n\t\t\t\t\t\t</Layout>\n\t\t\t\t\t</Layout>\n\t\t\t\t</Layout>\n\t\t\t);\n\t\t}\n\n\t\treturn (\n\t\t\t<Layout className='page-layout'>\n\t\t\t\t{this.renderMainSider()}\n\t\t\t\t<Content className={'text-editor-content ' + this.state.expanded}>\n\t\t\t\t\t{this.renderHeader()}\n\t\t\t\t\t<ReactQuill\n\t\t\t\t\t\tvalue={this.state.text}\n\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\tbackgroundColor: this.props.theme ? this.props.theme.textEditorBackground : null,\n\t\t\t\t\t\t\tcolor: this.props.theme ? this.props.theme.textEditorText : null,\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tclassName={this.renderClassName()}\n\t\t\t\t\t\tonChange={this.handleChange}\n\t\t\t\t\t\tmodules={this.modules}\n\t\t\t\t\t\tref={this.ref}\n\t\t\t\t\t\treadOnly={this.state.readOnly}\n\t\t\t\t\t\tformats={this.allowedFormats}\n\t\t\t\t\t\tscrollingContainer={'body'}\n\t\t\t\t\t\tonBlur={(e) => {\n\t\t\t\t\t\t\tif (e.target) {\n\t\t\t\t\t\t\t\te.target.focus();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t// check to see if we should regenerate preview\n\t\t\t\t\t\t\tif (this.props.nodeData.preview.length < 500) {\n\t\t\t\t\t\t\t\tthis.regeneratePreview();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}}\n\t\t\t\t\t></ReactQuill>\n\t\t\t\t\t<AssociationSider />\n\t\t\t\t\t<AssociationList />\n\t\t\t\t</Content>\n\t\t\t</Layout>\n\t\t);\n\t}\n}\n\nconst mapStateToProps = (state) => {\n\treturn {\n\t\tnodeData: state.nodes.activeNode,\n\t\tisLoading: state.nodes.isFetching,\n\t\tmainSider: state.components.componentList['mainSider'],\n\t\ttheme: state.components.theme,\n\t};\n};\n\nexport default connect(mapStateToProps, {\n\teditTextNode,\n\tprocessTextNode,\n\tcreateFileNode,\n\tupdateNode,\n\tsetActiveNode,\n\tfetchAssociations,\n\tmarkNodeView,\n})(QuillEditor);\n","import {\n\tFETCH_ASSOCIATION_LINK_LIST,\n\tFETCH_ASSOCIATION_LINK_LIST_SUCCESS,\n\tFETCH_ASSOCIATION_LINK_LIST_ERROR,\n\tRESET_ASSOCIATION_LINK_LIST,\n\tCREATE_ASSOCIATION_SUCCESS,\n\tCREATE_ASSOCIATION,\n\tCREATE_ASSOCIATION_ERROR,\n\tFETCH_ASSOCIATIONS,\n\tFETCH_ASSOCIATIONS_SUCCESS,\n\tFETCH_ASSOCIATIONS_ERROR,\n\tRESET_ASSOCIATIONS,\n\tMARK_NODE_VIEW,\n\tMARK_NODE_VIEW_ERROR,\n\tMARK_NODE_VIEW_SUCCESS,\n\tDELETE_ASSOCIATION_LINK,\n\tDELETE_ASSOCIATION_LINK_ERROR,\n\tDELETE_ASSOCIATION_LINK_SUCCESS,\n\tREMOVE_FROM_ASSOCIATION_LIST,\n\tSET_ACTIVE_NODE,\n\tSET_ACTIVE_NODE_ERROR,\n\tSET_ACTIVE_NODE_SUCCESS,\n} from '../actions/types';\n\nconst INITIAL_STATE = {\n\tisFetching: null,\n\tisSaving: null,\n\tassociationLinkList: [],\n\tassociationList: [],\n\ttotalLinkListItems: null,\n\ttotalAssociationListItems: null,\n\tassociationListPage: 1,\n\tassociationLinkListPage: 1,\n\tactiveNode: null,\n};\n\nlet newAssociationList;\n\n// reducer for content nodes\nexport default (state = INITIAL_STATE, action) => {\n\tswitch (action.type) {\n\t\tcase FETCH_ASSOCIATION_LINK_LIST:\n\t\t\treturn { ...state, isFetching: true };\n\t\tcase FETCH_ASSOCIATION_LINK_LIST_SUCCESS:\n\t\t\t// // format the associations data and include new values\n\t\t\tvar associationLinkListArray = [...state.associationLinkList];\n\t\t\t// update the association link list with the new values\n\t\t\tObject.values(action.payload.associations).forEach((node) => {\n\t\t\t\tif (!associationLinkListArray.some((item) => item.uuid === node.uuid)) {\n\t\t\t\t\tassociationLinkListArray.push(node);\n\t\t\t\t}\n\t\t\t});\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tisFetching: null,\n\t\t\t\ttotalLinkListItems: action.payload.totalItems,\n\t\t\t\tassociationLinkList: associationLinkListArray,\n\t\t\t\tassociationLinkListPage: action.page || 1,\n\t\t\t};\n\t\tcase FETCH_ASSOCIATION_LINK_LIST_ERROR:\n\t\t\treturn { ...state, isFetching: null };\n\t\tcase RESET_ASSOCIATION_LINK_LIST:\n\t\t\treturn { ...state, associationLinkList: [] };\n\t\tcase FETCH_ASSOCIATIONS:\n\t\t\treturn { ...state, isFetching: true };\n\t\tcase FETCH_ASSOCIATIONS_SUCCESS:\n\t\t\t// format the associations data and include new values\n\t\t\tvar associationsArray = [...state.associationList];\n\t\t\t// update the association link list with the new values\n\t\t\tObject.values(action.payload.associations).forEach((node) => {\n\t\t\t\tif (!associationsArray.some((item) => item.uuid === node.uuid)) {\n\t\t\t\t\tassociationsArray.push(node);\n\t\t\t\t}\n\t\t\t});\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tisFetching: null,\n\t\t\t\ttotalAssociationListItems: action.payload.totalItems,\n\t\t\t\tassociationList: associationsArray,\n\t\t\t\tassociationListPage: action.page || 1,\n\t\t\t};\n\t\tcase FETCH_ASSOCIATIONS_ERROR:\n\t\t\treturn { ...state, isFetching: null };\n\t\tcase RESET_ASSOCIATIONS:\n\t\t\treturn { ...state, associationList: [] };\n\t\tcase CREATE_ASSOCIATION:\n\t\t\treturn { ...state, isSaving: true };\n\t\tcase CREATE_ASSOCIATION_SUCCESS:\n\t\t\tvar associatedNode;\n\t\t\t// check whichever is the associated node to the list\n\t\t\tif (action.nodeUUID && action.nodes.associated.uuid === action.nodeUUID) {\n\t\t\t\tassociatedNode = action.nodes.original;\n\t\t\t} else {\n\t\t\t\tassociatedNode = action.nodes.associated;\n\t\t\t}\n\t\t\t// only add the node to the association list if one of the nodes is the activeNode\n\t\t\tif (state.activeNode && action.nodeUUID === state.activeNode.uuid) {\n\t\t\t\tnewAssociationList = [associatedNode, ...state.associationList];\n\t\t\t} else {\n\t\t\t\tnewAssociationList = [...state.associationList];\n\t\t\t}\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tisFetching: null,\n\t\t\t\tassociationLinkList: [associatedNode, ...state.associationLinkList],\n\t\t\t\tassociationList: newAssociationList,\n\t\t\t\ttotalAssociationListItems: state.totalAssociationListItems + 1,\n\t\t\t};\n\t\tcase CREATE_ASSOCIATION_ERROR:\n\t\t\treturn { ...state, isSaving: null };\n\t\tcase MARK_NODE_VIEW:\n\t\t\treturn { ...state, isSaving: true };\n\t\tcase MARK_NODE_VIEW_SUCCESS:\n\t\t\t// only add back to list if the node was already in the list\n\t\t\tvar addBackToList = state.associationList.some((node) => node.uuid === action.node.uuid)\n\t\t\t\t? action.node\n\t\t\t\t: false;\n\t\t\t// use addBackToList to determine what should be returned\n\t\t\tif (addBackToList) {\n\t\t\t\tnewAssociationList = [\n\t\t\t\t\tstate.associationList.some((node) => node.uuid === action.node.uuid) ? action.node : null,\n\t\t\t\t\t...state.associationList.filter((node) => node.uuid !== action.node.uuid),\n\t\t\t\t];\n\t\t\t} else {\n\t\t\t\tnewAssociationList = [...state.associationList];\n\t\t\t}\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tisFetching: null,\n\t\t\t\t// move the viewed node to the front of the list\n\t\t\t\tassociationList: newAssociationList,\n\t\t\t};\n\t\tcase MARK_NODE_VIEW_ERROR:\n\t\t\treturn { ...state, isSaving: null };\n\t\tcase SET_ACTIVE_NODE:\n\t\t\treturn { ...state, isFetching: true };\n\t\tcase SET_ACTIVE_NODE_SUCCESS:\n\t\t\treturn { ...state, isFetching: null, activeNode: action.payload.node };\n\t\tcase SET_ACTIVE_NODE_ERROR:\n\t\t\treturn { ...state, isFetching: null };\n\t\tcase DELETE_ASSOCIATION_LINK:\n\t\t\treturn { ...state, isSaving: true };\n\t\tcase DELETE_ASSOCIATION_LINK_SUCCESS:\n\t\t\t// update total items\n\t\t\tvar newTotalLinkListItems = state.totalLinkListItems - 1;\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tisSaving: null,\n\t\t\t\tassociationLinkList: [\n\t\t\t\t\t...state.associationLinkList.filter((node) => node.uuid !== action.deletedUUID),\n\t\t\t\t],\n\t\t\t\ttotalLinkListItems: newTotalLinkListItems,\n\t\t\t};\n\t\tcase DELETE_ASSOCIATION_LINK_ERROR:\n\t\t\treturn { ...state, isSaving: null };\n\t\tcase REMOVE_FROM_ASSOCIATION_LIST:\n\t\t\t// update total items\n\t\t\tvar newTotalItems = state.totalAssociationListItems - 1;\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tisSaving: null,\n\t\t\t\tassociationList: [\n\t\t\t\t\t...state.associationList.filter((node) => node.uuid !== action.deletedUUID),\n\t\t\t\t],\n\t\t\t\ttotalAssociationListItems: newTotalItems,\n\t\t\t};\n\t\tdefault:\n\t\t\treturn state;\n\t}\n};\n","import instance from '../../../api/instance';\nimport history from '../../../utils/history';\nimport {\n  EDIT_TEXT_NODE,\n  EDIT_TEXT_NODE_SUCCESS,\n  EDIT_TEXT_NODE_ERROR,\n  PROCESS_TEXT_NODE,\n  PROCESS_TEXT_NODE_SUCCESS,\n  PROCESS_TEXT_NODE_ERROR,\n} from './types';\nimport { message } from 'antd';\n\n// edit text node handler\nexport const editTextNode = (node) => async (dispatch) => {\n  dispatch({ type: EDIT_TEXT_NODE });\n  try {\n    await instance.patch('/text', {\n      uuid: node.uuid,\n      content: node.content,\n    });\n    dispatch({\n      type: EDIT_TEXT_NODE_SUCCESS,\n      node: node,\n    });\n  } catch (err) {\n    dispatch({ type: EDIT_TEXT_NODE_ERROR });\n    message.error('There was a problem saving your changes', 1);\n    history.push('/');\n  }\n};\n\n// final processing of text node after closing the editor\nexport const processTextNode = (node) => async (dispatch) => {\n  dispatch({ type: PROCESS_TEXT_NODE });\n  try {\n    await instance.patch('/text/process', { uuid: node.uuid, preview: node.preview });\n    dispatch({ type: PROCESS_TEXT_NODE_SUCCESS, node, preview: node.preview });\n  } catch (err) {\n    dispatch({ type: PROCESS_TEXT_NODE_ERROR });\n  }\n};\n","import React from 'react';\nimport { Layout } from 'antd';\n// custom code\nimport './css/Page.less';\n// destructure antd components\nconst { Footer } = Layout;\n\nconst MainFooter = () => {\n  return <Footer className='page-footer' />;\n};\n\nexport default MainFooter;\n","import React, { Component } from 'react';\nimport { Layout } from 'antd';\n// custom code\nimport '../elements/css/Page.less';\nimport MainContent from '../elements/MainContent';\nimport IOBar from '../elements/IOBar';\n// import MainSider from '../elements/MainSider';\nimport MainFooter from '../elements/MainFooter';\n\nclass Collections extends Component {\n  render() {\n    return (\n      <Layout className='page-layout'>\n        <IOBar />\n        <Layout>\n          <MainContent>Collections</MainContent>\n        </Layout>\n        <MainFooter />\n      </Layout>\n    );\n  }\n}\n\nexport default Collections;\n","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { Link } from 'react-router-dom';\nimport { Formik, Form, Field, ErrorMessage } from 'formik';\nimport * as Yup from 'yup';\nimport { Layout, Card } from 'antd';\n// custom code\nimport { createAccount } from '../../api/redux/actions';\nimport './css/Login.less';\n\n// destructure antd\nconst { Content, Footer } = Layout;\n\nclass CreateAccount extends Component {\n  componentDidMount() {\n    document.title = 'Create Account';\n  }\n\n  onSubmit = (values, { setSubmitting }) => {\n    setSubmitting(false);\n    this.props.createAccount(values);\n  };\n\n  render() {\n    return (\n      <Layout className='login-layout'>\n        <Content className='login-content'>\n          <Card className='login-card'>\n            <Formik\n              initialValues={{ email: '', password: '', confirmPassword: '' }}\n              validationSchema={validationSchema}\n              onSubmit={this.onSubmit}\n            >\n              {({ isSubmitting }) => (\n                <Form className='login-form'>\n                  <h1 className='login-title'>\n                    <span\n                      role='img'\n                      aria-label='jsx-a11y/accessible-emoji'\n                      style={{ paddingRight: '0.5rem' }}\n                    >\n                      ✨\n                    </span>\n                    create user\n                    <span\n                      role='img'\n                      aria-label='jsx-a11y/accessible-emoji'\n                      style={{ paddingLeft: '0.5rem' }}\n                    >\n                      ✨\n                    </span>\n                  </h1>\n                  <Field type='email' name='email' placeholder='email' className='login-field' />\n                  <ErrorMessage name='email' component='div' />\n                  <Field\n                    type='username'\n                    name='username'\n                    placeholder='username'\n                    className='login-field'\n                  />\n                  <ErrorMessage name='username' component='div' />\n                  <Field\n                    type='password'\n                    name='password'\n                    placeholder='password'\n                    className='login-field'\n                  />\n                  <ErrorMessage name='password' component='div' />\n                  <Field\n                    type='password'\n                    name='confirmPassword'\n                    placeholder='confirm password'\n                    className='login-field'\n                  />\n                  <ErrorMessage name='confirmPassword' component='div' />\n                  <button type='submit' disabled={isSubmitting} className='login-submit'>\n                    create account\n                  </button>\n                  <Link to='/' style={{ textAlign: 'center' }} className='login-signup'>\n                    back to login\n                  </Link>\n                </Form>\n              )}\n            </Formik>\n          </Card>\n        </Content>\n        <Footer />\n      </Layout>\n    );\n  }\n}\n\nconst validationSchema = Yup.object().shape({\n  email: Yup.string().email('E-mail is not valid!').required('email is required'),\n  username: Yup.string().required('username is required'),\n  password: Yup.string()\n    .min(5, 'Password has to be longer than 6 characters!')\n    .required('password is required'),\n  confirmPassword: Yup.string()\n    .required('please confirm password')\n    .oneOf([Yup.ref('password')], \"Your passwords don't match\"),\n});\n\nconst mapStateToProps = (state) => {\n  return { isSignedIn: state.auth.isSignedIn };\n};\n\nexport default connect(mapStateToProps, { createAccount })(CreateAccount);\n","import React, { Fragment } from 'react';\n//custom components\nimport NodeRenderer from '../../../types/render/NodeRenderer';\nimport './NodeCardFull.less';\n\nconst NodeCardFull = (props) => {\n  const renderNodeCard = () => {\n    if (props.node) {\n      return <NodeRenderer type={props.node.type} element={'full'} node={props.node} />;\n    }\n  };\n\n  return <Fragment>{renderNodeCard()}</Fragment>;\n};\n\nexport default NodeCardFull;\n","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { Layout } from 'antd';\nimport {\n\tsetActiveNode,\n\tclearActiveNode,\n\tfetchAssociations,\n\tmarkNodeView,\n\tupdateNode,\n} from '../../api/redux/actions';\nimport MainSider from '../elements/MainSider';\nimport NodeCardFull from '../elements/node/NodeCardFull';\nimport Spinner from '../elements/Spinner';\nimport IOBar from '../elements/IOBar';\nimport AssociationList from '../elements/association/AssociationList';\nimport { message } from 'antd';\nconst { Content } = Layout;\n\nclass AssociationBrowser extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\tinitialized: false,\n\t\t\tuuid: null,\n\t\t};\n\t}\n\n\tcomponentDidMount() {\n\t\tif (!this.state.initialized) {\n\t\t\tthis.initializeFromUrlParams();\n\t\t}\n\t}\n\n\tcomponentDidUpdate() {\n\t\tvar uuid = this.props.match.params.uuid;\n\t\t// re-initialize if the URL changes\n\t\tif (this.state.initialized && this.state.uuid !== uuid) {\n\t\t\tthis.setState({ initialized: false });\n\t\t\tthis.initializeFromUrlParams();\n\t\t}\n\t}\n\n\tcomponentWillUnmount() {\n\t\tthis.props.clearActiveNode();\n\t}\n\n\t// intialize the association page\n\tinitializeFromUrlParams = async () => {\n\t\tvar uuid = this.props.match.params.uuid;\n\t\t// window.scrollTo({ top: 0, behavior: 'smooth' });\n\t\twindow.scrollTo({ top: 0 });\n\t\tawait this.props.setActiveNode(uuid);\n\t\tif (this.props.activeNode !== null) {\n\t\t\tthis.props.markNodeView(this.props.activeNode);\n\t\t}\n\t\t// fetch the user info from the server\n\t\tawait this.props.fetchAssociations({ nodeUUID: uuid });\n\t\tif (this.props.associations !== null && this.props.activeNode !== null) {\n\t\t\tthis.setState({\n\t\t\t\tinitialized: true,\n\t\t\t\tuuid: uuid,\n\t\t\t});\n\t\t\t// update collection preview if necessary\n\t\t\tif (this.props.activeNode.type && this.props.activeNode.type === 'collection') {\n\t\t\t\tthis.regenerateCollectionPreview(this.props.activeNode, this.props.associations);\n\t\t\t}\n\t\t\tdocument.title = this.props.activeNode.name;\n\t\t} else {\n\t\t\tmessage.error('there was a problem loading the associations');\n\t\t\tthis.props.history.push('/');\n\t\t}\n\t};\n\n\tregenerateCollectionPreview = async (collectionNode, associationList) => {\n\t\ttry {\n\t\t\tif (collectionNode && associationList) {\n\t\t\t\tvar i = 0;\n\t\t\t\tvar node;\n\t\t\t\tvar preview = [];\n\t\t\t\t// get the first 4 non-collection non-user associated nodes and add them to the new preview\n\t\t\t\twhile (i < associationList.length && preview.length < 4) {\n\t\t\t\t\tnode = associationList[i];\n\t\t\t\t\tif (node.type !== 'collection' && node.type !== 'user') {\n\t\t\t\t\t\tpreview.push({\n\t\t\t\t\t\t\ttype: node.type,\n\t\t\t\t\t\t\tpreview: node.preview,\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t\ti++;\n\t\t\t\t}\n\t\t\t\tthis.props.updateNode({ uuid: collectionNode.uuid, preview: JSON.stringify(preview) });\n\t\t\t}\n\t\t} catch (err) {\n\t\t\tthis.props.history.push('/');\n\t\t}\n\t};\n\n\trenderNode = () => {\n\t\tif (this.state.uuid !== null && this.state.uuid === this.props.activeNode.uuid) {\n\t\t\treturn <NodeCardFull node={this.props.activeNode} />;\n\t\t} else {\n\t\t\treturn <Spinner></Spinner>;\n\t\t}\n\t};\n\n\trenderMainSider = () => {\n\t\tif (this.props.mainSider) {\n\t\t\treturn <MainSider />;\n\t\t}\n\t};\n\n\trender() {\n\t\treturn (\n\t\t\t<Layout className='page-layout'>\n\t\t\t\t{this.renderMainSider()}\n\t\t\t\t<Layout>\n\t\t\t\t\t<Content\n\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\tpaddingTop: '0',\n\t\t\t\t\t\t\tminHeight: '100vh',\n\t\t\t\t\t\t}}\n\t\t\t\t\t>\n\t\t\t\t\t\t<IOBar />\n\t\t\t\t\t\t<div className='list-container'>{this.renderNode()}</div>\n\t\t\t\t\t\t<AssociationList />\n\t\t\t\t\t</Content>\n\t\t\t\t</Layout>\n\t\t\t</Layout>\n\t\t);\n\t}\n}\n\nconst mapStateToProps = (state) => {\n\treturn {\n\t\tassociations: state.associations.associationList,\n\t\tisLoading: state.nodes.isFetching,\n\t\tactiveNode: state.nodes.activeNode,\n\t\tmainSider: state.components.componentList['mainSider'],\n\t\tisDeleting: state.nodes.isDeleting,\n\t};\n};\n\nexport default connect(mapStateToProps, {\n\tsetActiveNode,\n\tclearActiveNode,\n\tfetchAssociations,\n\tmarkNodeView,\n\tupdateNode,\n})(AssociationBrowser);\n","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport {\n\tfetchNodes,\n\tfetchAssociations,\n\tshowComponent,\n\tfetchGraphData,\n\tsetActiveNode,\n} from '../../api/redux/actions';\nimport { Layout, message } from 'antd';\nimport { select, selectAll } from 'd3-selection';\nimport { drag } from 'd3-drag';\nimport { forceSimulation, forceLink, forceManyBody, forceCenter, forceX, forceY } from 'd3-force';\nimport { zoom, zoomIdentity } from 'd3-zoom';\n//custom components\nimport './css/GraphBrowser.less';\nimport MainSider from '../elements/MainSider';\nimport AssociationSider from '../elements/association/AssociationSider';\nimport AssociationList from '../elements/association/AssociationList';\nimport IOBar from '../elements/IOBar';\n// destructure antd layout\nconst { Content } = Layout;\n\nclass GraphBrowser extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\tinitialized: false,\n\t\t\tuuid: null,\n\t\t};\n\t}\n\n\tcomponentDidMount() {\n\t\tdocument.title = 'constellation';\n\t\tif (!this.state.initialized) {\n\t\t\tthis.initializeFromUrlParams();\n\t\t}\n\t}\n\n\tcomponentDidUpdate() {\n\t\tvar uuid = this.props.match.params.uuid;\n\t\t// re-initialize if the URL changes\n\t\tif (this.state.initialized && this.state.uuid !== uuid) {\n\t\t\tthis.setState({ initialized: false });\n\t\t\tthis.initializeFromUrlParams();\n\t\t}\n\t}\n\n\t// intialize the association page\n\tinitializeFromUrlParams = async () => {\n\t\tvar uuid = this.props.match.params.uuid;\n\t\t// fetch the graph data\n\t\tawait this.props.fetchGraphData({\n\t\t\tanchorNode: uuid,\n\t\t\ttype: this.props.query.type,\n\t\t\tsearchQuery: this.props.query.searchQuery,\n\t\t});\n\t\t// if all that was successful, finish initialization\n\t\tif (this.props.graphData !== null) {\n\t\t\tthis.setState({\n\t\t\t\tinitialized: true,\n\t\t\t\tuuid: uuid,\n\t\t\t});\n\t\t\t// render graph\n\t\t\tthis.renderGraph();\n\t\t\tif (uuid) {\n\t\t\t\tawait this.props.setActiveNode(uuid);\n\t\t\t\tawait this.props.fetchAssociations({ nodeUUID: uuid });\n\t\t\t}\n\t\t} else {\n\t\t\tmessage.error('there was a problem loading the data');\n\t\t\tthis.props.history.push('/');\n\t\t}\n\t};\n\n\trenderMainSider = () => {\n\t\tif (this.props.mainSider) {\n\t\t\treturn <MainSider />;\n\t\t}\n\t};\n\n\t// renderBackgroundImage = () => {\n\t//   if (this.props.graphData) {\n\t//     const graphData = this.props.graphData.nodes;\n\t//     for (let item of graphData) {\n\t//       if (item.type === 'image') {\n\t//         // const imageUrl = item.path || item.preview;\n\t//         // return { backgroundImage: `url(${imageUrl})` };\n\t//         return null;\n\t//       }\n\t//     }\n\t//     // return { backgroundImage: `url(${})` };\n\t//     return null;\n\t//   }\n\t// };\n\n\trenderAssociationSider = () => {\n\t\tif (this.props.associationSider) {\n\t\t\treturn <AssociationSider />;\n\t\t}\n\t};\n\n\trenderAssociationList = () => {\n\t\tif (this.props.associations && this.props.associations.length > 0 && this.props.activeNode) {\n\t\t\t// let graphData = this.props.graphData;\n\t\t\t// return (\n\t\t\t//   <div>\n\t\t\t//   <NodeCardFull node={this.props.graphData.nodes[0]} />\n\t\t\t//   <div>\n\t\t\t// )\n\t\t\treturn <AssociationList />;\n\t\t}\n\t};\n\n\trenderGraph = async () => {\n\t\t// node data\n\t\tconst nodeData = this.props.graphData.nodes;\n\t\t// link data\n\t\tconst linkData = this.props.graphData.associations;\n\t\t// width and height\n\t\tconst height = window.innerHeight;\n\t\tconst width = window.innerWidth;\n\t\t// const nodeScale = 23;\n\t\tconst nodeScale = 33;\n\n\t\t// simulation\n\t\tconst simulation = forceSimulation(nodeData)\n\t\t\t.force(\n\t\t\t\t'link',\n\t\t\t\tforceLink(linkData)\n\t\t\t\t\t// .distance(0.7)\n\t\t\t\t\t.id((d) => {\n\t\t\t\t\t\treturn d.id;\n\t\t\t\t\t})\n\t\t\t)\n\t\t\t.force('charge', forceManyBody().strength(-700000 / nodeData.length))\n\t\t\t.force('x', forceX())\n\t\t\t.force('y', forceY())\n\t\t\t.force('center', forceCenter());\n\t\t// initial zoom\n\t\t// var initialZoom = zoomIdentity.scale(0.55).translate(0, -15);\n\t\tvar initialZoom = zoomIdentity.scale(0.17).translate(0, -15);\n\t\tconst zoomData = zoom().scaleExtent([0.1, 1.7]).on('zoom', zoomed);\n\n\t\tconst svg = select(this.node)\n\t\t\t.append('svg')\n\t\t\t.attr('class', 'graph-svg')\n\t\t\t.attr('viewBox', [-width / 2, -height / 2, width, height])\n\t\t\t.on('contextmenu', (e) => {\n\t\t\t\te.preventDefault();\n\t\t\t});\n\n\t\tconst g = svg.append('g');\n\n\t\tconst link = g\n\t\t\t.append('g')\n\t\t\t.attr('stroke', 'white')\n\t\t\t.attr('stroke-opacity', 0.7)\n\t\t\t.selectAll('line')\n\t\t\t.data(linkData)\n\t\t\t.join('line')\n\t\t\t.attr('class', 'graph-link')\n\t\t\t.attr('stroke-width', (d) => Math.sqrt(d.value));\n\n\t\tconst node = g\n\t\t\t.append('g')\n\t\t\t.selectAll('circle')\n\t\t\t.data(nodeData)\n\t\t\t.join('g')\n\t\t\t.call(this.drag(simulation))\n\t\t\t.append('circle')\n\t\t\t.attr('fill', this.props.theme.graphNodeColor)\n\t\t\t.attr('stroke', this.props.theme.graphNodeBorderColor)\n\t\t\t.on('contextmenu', (e, d) => {\n\t\t\t\te.preventDefault();\n\t\t\t\twindow.location.replace('/graph/' + d.uuid);\n\t\t\t})\n\t\t\t.on('mouseover', (e, d) => {\n\t\t\t\tselect(e.currentTarget).style('fill', this.props.theme.graphNodeHoverColor);\n\t\t\t\tselect(e.currentTarget).style('stroke', this.props.theme.graphNodeBorderHoverColor);\n\n\t\t\t\td.fx = null;\n\t\t\t\td.fy = null;\n\t\t\t})\n\t\t\t.on('mouseout', (e, d) => {\n\t\t\t\tselect(e.currentTarget).style('fill', this.props.theme.graphNodeColor);\n\t\t\t\tselect(e.currentTarget).style('stroke', this.props.theme.graphNodeBorderColor);\n\n\t\t\t\td.fx = null;\n\t\t\t\td.fy = null;\n\t\t\t})\n\t\t\t// .on('click', (e, d) => {\n\t\t\t//   e.preventDefault();\n\t\t\t//   this.props.showComponent('associationSider', d);\n\t\t\t// })\n\t\t\t.on('dblclick', (e, d) => {\n\t\t\t\te.preventDefault();\n\t\t\t\tif (d.type === 'text') {\n\t\t\t\t\twindow.location.replace('/edit/text/' + d.uuid);\n\t\t\t\t} else if (d.type === 'user') {\n\t\t\t\t\twindow.location.replace(`/profile/${this.props.user.username}`);\n\t\t\t\t} else {\n\t\t\t\t\twindow.location.replace('/associations/' + d.uuid);\n\t\t\t\t}\n\t\t\t})\n\t\t\t.attr('r', nodeScale)\n\t\t\t// .attr('cursor', 'grab')\n\t\t\t.attr('cursor', 'none')\n\t\t\t// .attr('fill', '#16e998')\n\t\t\t.attr('class', 'graph-node');\n\n\t\tconst text = selectAll('g g g')\n\t\t\t.append('text')\n\t\t\t.text((d) => d.name.substring(0, 100))\n\t\t\t.attr('font-size', '0.8rem')\n\t\t\t.attr('cursor', 'grab')\n\t\t\t// .on('mouseover', (e, d) => {\n\t\t\t// \t// on mouseover without a click run simulation\n\t\t\t// \td.fx = null;\n\t\t\t// \td.fy = null;\n\t\t\t// })\n\t\t\t// .attr('cursor', 'none')\n\t\t\t// .attr('stroke', 'white')\n\t\t\t// .attr('stroke-width', 0.1)\n\t\t\t.attr('class', 'graph-text');\n\t\t// .call(this.drag(simulation));\n\n\t\tsvg.call(zoomData).call(zoomData.transform, initialZoom);\n\n\t\tfunction zoomed({ transform }) {\n\t\t\tg.attr('transform', transform);\n\t\t}\n\n\t\tsimulation.on('tick', () => {\n\t\t\t// update link location values\n\t\t\tlink\n\t\t\t\t.attr('x1', (d) => d.source.x)\n\t\t\t\t.attr('y1', (d) => d.source.y)\n\t\t\t\t.attr('x2', (d) => d.target.x)\n\t\t\t\t.attr('y2', (d) => d.target.y);\n\t\t\t// update node location values\n\t\t\tnode.attr('cx', (d) => d.x).attr('cy', (d) => d.y);\n\t\t\t// update text location values\n\t\t\ttext.attr('x', (d) => d.x + nodeScale).attr('y', (d) => d.y - nodeScale);\n\t\t});\n\n\t\treturn svg.node();\n\t};\n\n\tdrag = (simulation) => {\n\t\tfunction dragstarted(event, d) {\n\t\t\t// move the dragged item to the top\n\t\t\tvar sel = select(this);\n\t\t\tsel.raise();\n\t\t\t// hide cursor\n\t\t\tdocument.body.style.cursor = 'none';\n\t\t\t// handle updating of coords\n\t\t\tif (!event.active) simulation.alphaTarget(0.3).restart();\n\t\t\td.fx = d.x;\n\t\t\td.fy = d.y;\n\t\t}\n\n\t\tfunction dragged(event, d) {\n\t\t\tdocument.body.style.cursor = 'none';\n\t\t\td.fx = event.x;\n\t\t\td.fy = event.y;\n\t\t}\n\n\t\tfunction dragended(event, d) {\n\t\t\tif (!event.active) simulation.alphaTarget(0);\n\t\t\t// d.fx = null;\n\t\t\t// d.fy = null;\n\t\t\twindow.setTimeout(() => {\n\t\t\t\t// show cursor\n\t\t\t\tdocument.body.style.cursor = 'auto';\n\t\t\t}, 333);\n\t\t}\n\n\t\treturn drag().on('start', dragstarted).on('drag', dragged).on('end', dragended);\n\t};\n\n\trender() {\n\t\treturn (\n\t\t\t<Layout className='page-layout'>\n\t\t\t\t{this.renderMainSider()}\n\t\t\t\t{this.renderAssociationSider()}\n\t\t\t\t<Layout>\n\t\t\t\t\t<Content\n\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\tpaddingTop: '0',\n\t\t\t\t\t\t}}\n\t\t\t\t\t>\n\t\t\t\t\t\t{/*  <IOBar />*/}\n\t\t\t\t\t\t<IOBar />\n\t\t\t\t\t\t<div\n\t\t\t\t\t\t\tclassName='graph-container'\n\t\t\t\t\t\t\t// style={this.renderBackgroundImage()}\n\t\t\t\t\t\t\tref={(node) => (this.node = node)}\n\t\t\t\t\t\t></div>\n\t\t\t\t\t\t{this.renderAssociationList()}\n\t\t\t\t\t</Content>\n\t\t\t\t</Layout>\n\t\t\t</Layout>\n\t\t);\n\t}\n}\n\nconst mapStateToProps = (state) => {\n\treturn {\n\t\tassociations: state.associations.associationList,\n\t\tuser: state.auth.user,\n\t\tactiveNode: state.nodes.activeNode,\n\t\tgraphData: state.graph.graphData,\n\t\tloading: state.graph.isFetching,\n\t\tassociationSider: state.components.componentList['associationSider'],\n\t\tmainSider: state.components.componentList['mainSider'],\n\t\tnodeList: state.nodes.nodeList,\n\t\tquery: state.nodes.query,\n\t\tisFetching: state.nodes.isFetching,\n\t\ttheme: state.components.theme,\n\t};\n};\n\nexport default connect(mapStateToProps, {\n\tfetchNodes,\n\tshowComponent,\n\tfetchGraphData,\n\tfetchAssociations,\n\tsetActiveNode,\n})(GraphBrowser);\n","import instance from '../../../api/instance';\nimport history from '../../../utils/history';\nimport {\n\tFETCH_GRAPH_DATA,\n\tFETCH_GRAPH_DATA_ERROR,\n\tFETCH_GRAPH_DATA_SUCCESS,\n\tRESET_APP,\n} from './types';\nimport { message } from 'antd';\n\n// fetch a list of nodes\nexport const fetchGraphData = (query) => async (dispatch) => {\n\tlet graphRenderLimit = JSON.parse(localStorage.getItem('graph-render-limit'));\n\t// default to 100 if there's no value\n\tif (!graphRenderLimit) {\n\t\tgraphRenderLimit = 100;\n\t}\n\t// lets make our request now\n\ttry {\n\t\tdispatch({ type: FETCH_GRAPH_DATA });\n\t\tconst response = await instance.get('/node/graph', {\n\t\t\tparams: {\n\t\t\t\tanchorNode: query.anchorNode,\n\t\t\t\ttype: query.type,\n\t\t\t\tsearchQuery: query.searchQuery,\n\t\t\t\tgraphRenderLimit: graphRenderLimit,\n\t\t\t},\n\t\t});\n\t\tdispatch({ type: FETCH_GRAPH_DATA_SUCCESS, payload: response.data, query });\n\t} catch (err) {\n\t\tdispatch({ type: FETCH_GRAPH_DATA_ERROR });\n\t\tdispatch({ type: RESET_APP });\n\t\tmessage.error('Could not fetch items', 1);\n\t\thistory.push('/');\n\t}\n};\n","import React, { Component, Fragment } from 'react';\nimport { connect } from 'react-redux';\n// custom code\nimport './NodeList.less';\nimport { fetchNodes } from '../../../api/redux/actions';\nimport NodeCard from './NodeCard';\nimport AssociationSider from '../association/AssociationSider';\nimport Spinner from '../Spinner';\n\nclass PinList extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\ttopOfPage: false,\n\t\t};\n\t}\n\n\tcomponentDidMount() {\n\t\tthis.props.fetchNodes({\n\t\t\tpage: 1,\n\t\t\ttype: this.props.query.type,\n\t\t\tsearchQuery: this.props.query.searchQuery,\n\t\t\tpinned: true,\n\t\t\tsortType: this.props.query.sortType,\n\t\t\tsortOrder: this.props.query.sortOrder,\n\t\t});\n\t\twindow.addEventListener('scroll', this.infiniteScroll);\n\t}\n\n\tcomponentWillUnmount() {\n\t\twindow.removeEventListener('scroll', this.infiniteScroll);\n\t}\n\n\tinfiniteScroll = (e) => {\n\t\tif (this.endReached() && !this.props.isFetching) {\n\t\t\tthis.setState({ topOfPage: false });\n\t\t\t// fetch the next page\n\t\t\tthis.props.fetchNodes({\n\t\t\t\tpage: this.props.query.page + 1,\n\t\t\t\ttype: this.props.query.type,\n\t\t\t\tsearchQuery: this.props.query.searchQuery,\n\t\t\t\tpinned: true,\n\t\t\t\tsortType: this.props.query.sortType,\n\t\t\t\tsortOrder: this.props.query.sortOrder,\n\t\t\t});\n\t\t}\n\t};\n\n\tendReached = () => {\n\t\t// window calculations to tell when the user scrolls to the bottom\n\t\tconst windowHeight =\n\t\t\t'innerHeight' in window ? window.innerHeight : document.documentElement.offsetHeight;\n\t\tconst body = document.body;\n\t\tconst html = document.documentElement;\n\t\tconst docHeight = Math.max(\n\t\t\tbody.scrollHeight,\n\t\t\tbody.offsetHeight,\n\t\t\thtml.clientHeight,\n\t\t\thtml.scrollHeight,\n\t\t\thtml.offsetHeight\n\t\t);\n\t\tconst windowBottom = windowHeight + window.pageYOffset;\n\t\t// check if the top is reached\n\t\tif (window.pageYOffset < 1 && !this.props.isFetching && !this.state.topOfPage) {\n\t\t\tthis.setState({ topOfPage: true });\n\t\t\t// at the top of the page, reset the nodelist\n\t\t\tthis.props.fetchNodes({\n\t\t\t\tpage: 1,\n\t\t\t\ttype: this.props.query.type,\n\t\t\t\tsearchQuery: this.props.query.searchQuery,\n\t\t\t\tpinned: true,\n\t\t\t\tsortType: this.props.query.sortType,\n\t\t\t\tsortOrder: this.props.query.sortOrder,\n\t\t\t});\n\t\t}\n\t\t// if it's not the top of the page go ahead and fetch more\n\t\treturn windowBottom >= docHeight - 733;\n\t};\n\n\trenderPinList = () => {\n\t\t// go through the list of nodes and render them to the page\n\t\tconst nodeList = this.props.nodes;\n\t\t// if there are nodes go ahead and render\n\t\tif (nodeList !== null) {\n\t\t\treturn nodeList.map((node) => {\n\t\t\t\tif (node.uuid) {\n\t\t\t\t\t// return <NodeCardFull key={node.uuid} node={node} />\n\t\t\t\t\treturn <NodeCard key={node.uuid} node={node} />;\n\t\t\t\t} else {\n\t\t\t\t\treturn <Fragment></Fragment>;\n\t\t\t\t}\n\t\t\t});\n\t\t} else {\n\t\t\treturn <Spinner></Spinner>;\n\t\t}\n\t};\n\n\trender() {\n\t\treturn (\n\t\t\t<div className='nodelist-container'>\n\t\t\t\t<ul className='nodelist'>{this.renderPinList()}</ul>\n\t\t\t\t<AssociationSider />\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nconst mapStateToProps = (state) => {\n\treturn {\n\t\tnodes: state.nodes.nodeList,\n\t\tquery: state.nodes.query,\n\t\ttotalNodes: state.nodes.totalItems,\n\t\tisFetching: state.nodes.isFetching,\n\t};\n};\n\nexport default connect(mapStateToProps, { fetchNodes })(PinList);\n","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { Link } from 'react-router-dom';\nimport { Layout, Button, Select, Icon } from 'antd';\n// custom code\nimport './css/IOBar.less';\nimport {\n\tsignOut,\n\tcreateUrlNode,\n\tcreateNode,\n\tsearchNodes,\n\tshowComponent,\n\thideComponent,\n} from '../../api/redux/actions';\n// destructure antd components\nconst { Header } = Layout;\nconst { Option } = Select;\n\nclass PinHeader extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\tinput: this.props.query.searchQuery || '',\n\t\t\tnodeTypes: this.props.query.type || 'all',\n\t\t};\n\t}\n\n\ttoggleMainSider = async () => {\n\t\tif (this.props.mainSider) {\n\t\t\tthis.props.hideComponent('mainSider');\n\t\t} else {\n\t\t\tthis.props.showComponent('mainSider');\n\t\t}\n\t};\n\n\t// handle text input\n\tcommandHandler = () => {\n\t\treturn this.props.searchNodes({\n\t\t\tsearchQuery: this.state.input,\n\t\t\ttype: this.state.nodeTypes,\n\t\t});\n\t};\n\n\t// include an \"all\" option for queries\n\trenderSelectBefore = () => {\n\t\treturn (\n\t\t\t<Select\n\t\t\t\tshowSearch\n\t\t\t\tshowArrow={false}\n\t\t\t\tvalue={this.state.nodeTypes}\n\t\t\t\tonChange={(value) => this.setState({ nodeTypes: value })}\n\t\t\t>\n\t\t\t\t<Option value='all'>all</Option>\n\t\t\t\t<Option value='url'>urls</Option>\n\t\t\t\t<Option value='text'>text</Option>\n\t\t\t\t<Option value='file'>file</Option>\n\t\t\t\t<Option value='image'>images</Option>\n\t\t\t\t<Option value='collection'>collections</Option>\n\t\t\t</Select>\n\t\t);\n\t};\n\n\trender() {\n\t\treturn (\n\t\t\t<div>\n\t\t\t\t<Header className='page-header'>\n\t\t\t\t\t<ul\n\t\t\t\t\t\tclassName='nav-list'\n\t\t\t\t\t\tstyle={{ width: 'auto', justifyContent: 'left', marginLeft: '1.1rem' }}\n\t\t\t\t\t>\n\t\t\t\t\t\t<li className='nav-item io-sider-button mobile-visible' style={{ marginRight: '0' }}>\n\t\t\t\t\t\t\t<Button type='default' shape='circle' onClick={(e) => this.toggleMainSider()}>\n\t\t\t\t\t\t\t\t<Icon type={'bars'} theme='outlined' />\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t</li>\n\t\t\t\t\t\t<li className='nav-item io-sider-button' style={{ marginRight: '0.5rem' }}>\n\t\t\t\t\t\t\t<Link type='default' to={`/graph`}>\n\t\t\t\t\t\t\t\t<Icon\n\t\t\t\t\t\t\t\t\ttype={'deployment-unit'}\n\t\t\t\t\t\t\t\t\ttheme='outlined'\n\t\t\t\t\t\t\t\t\t// style={{ color: '#ec486c' }}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t</li>\n\t\t\t\t\t\t<li className='nav-item io-sider-button'>\n\t\t\t\t\t\t\t<Link type='default' to={`/`}>\n\t\t\t\t\t\t\t\t<Icon\n\t\t\t\t\t\t\t\t\ttype={'home'}\n\t\t\t\t\t\t\t\t\ttheme='filled'\n\t\t\t\t\t\t\t\t\t// style={{ color: '#3ce458' }}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t</li>\n\t\t\t\t\t\t<li className='nav-item'>\n\t\t\t\t\t\t\t<p style={{ color: 'grey', paddingLeft: '0.7rem' }}>favorites</p>\n\t\t\t\t\t\t</li>\n\t\t\t\t\t</ul>\n\t\t\t\t</Header>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nconst mapStateToProps = (state) => {\n\treturn {\n\t\tuser: state.auth.user,\n\t\tquery: state.nodes.query,\n\t\tmainSider: state.components.componentList['mainSider'],\n\t\tactiveNode: state.nodes.activeNode,\n\t};\n};\n\nexport default connect(mapStateToProps, {\n\tsignOut,\n\tsearchNodes,\n\tcreateNode,\n\tcreateUrlNode,\n\tshowComponent,\n\thideComponent,\n})(PinHeader);\n","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { Layout } from 'antd';\n// custom code\nimport MainSider from '../elements/MainSider';\nimport PinList from '../elements/node/PinList';\nimport PinHeader from '../elements/PinHeader';\n\nconst { Content } = Layout;\n\nclass Pins extends Component {\n\tcomponentDidMount() {\n\t\tdocument.title = 'pins';\n\t\t// temporary fix to undo whatever is setting overflow hidden on-login\n\t\tdocument.body.style.removeProperty('overflow');\n\t\twindow.scrollTo({ top: 0, behavior: 'smooth' });\n\t}\n\n\trenderMainSider = () => {\n\t\tif (this.props.mainSider) {\n\t\t\treturn <MainSider />;\n\t\t}\n\t};\n\n\trender() {\n\t\treturn (\n\t\t\t<Layout className='page-layout'>\n\t\t\t\t<Layout>\n\t\t\t\t\t{this.renderMainSider()}\n\t\t\t\t\t<Content style={{ minHeight: '100vh' }}>\n\t\t\t\t\t\t<PinHeader />\n\t\t\t\t\t\t<div className='list-container'>\n\t\t\t\t\t\t\t<PinList />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</Content>\n\t\t\t\t</Layout>\n\t\t\t</Layout>\n\t\t);\n\t}\n}\n\nconst mapStateToProps = (state) => {\n\treturn {\n\t\tisSignedIn: state.auth.isSignedIn,\n\t\tmainSider: state.components.componentList['mainSider'],\n\t};\n};\n\nexport default connect(mapStateToProps)(Pins);\n","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { Layout } from 'antd';\nimport { getRandomNode } from '../../api/redux/actions';\n// custom code\n\nclass RandomRedirect extends Component {\n\tcomponentDidMount() {\n\t\tlocalStorage.setItem('flash', false);\n\t\tsetInterval(this.props.getRandomNode(), 50);\n\t}\n\n\trender() {\n\t\treturn <Layout style={{ height: '100vh' }}></Layout>;\n\t}\n}\n\nexport default connect(null, { getRandomNode })(RandomRedirect);\n","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\n// import { message } from 'antd';\nimport './ElectronSearch.less';\n\n// this component sends \"search strings\" to electron findInPage\nclass ElectronSearch extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.searchInput = React.createRef();\n\t}\n\n\tcomponentWillUnmount() {\n\t\twindow.api.send('toMain', { action: 'hide-search' });\n\t}\n\n\thandleElectronSearch = (e) => {\n\t\twindow.api.send('toMain', { action: 'search', query: e.target.value });\n\n\t\tsetTimeout(() => {\n\t\t\tthis.searchInput.current.focus();\n\t\t}, 100);\n\t};\n\n\trender() {\n\t\treturn (\n\t\t\t<div className='electron-search'>\n\t\t\t\t<input\n\t\t\t\t\ttype='text'\n\t\t\t\t\tautoFocus\n\t\t\t\t\tref={this.searchInput}\n\t\t\t\t\tid='electron-search-input'\n\t\t\t\t\tonKeyPress={(e) => {\n\t\t\t\t\t\tif (e.key === 'Enter') {\n\t\t\t\t\t\t\tthis.handleElectronSearch(e);\n\t\t\t\t\t\t}\n\t\t\t\t\t}}\n\t\t\t\t></input>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default connect(null, {})(ElectronSearch);\n","// SPECIAL COMPONENT\n// this is a special component to integrate with redux\n// while also sending & recieving messages from electron\nimport React, { Component, Fragment } from 'react';\nimport { connect } from 'react-redux';\nimport ElectronSearch from './ElectronSearch';\nimport { showComponent, hideComponent } from '../../api/redux/actions';\nimport { message, Modal } from 'antd';\nimport history from '../../utils/history';\n\n// a place to send & recieve messages to & from electron\nclass ElectronMessage extends Component {\n\tcomponentDidMount() {\n\t\t// load up window.api.recieve function\n\t\tif (window.api) {\n\t\t\twindow.api.receive('fromMain', (data) => {\n\t\t\t\tswitch (data.message) {\n\t\t\t\t\tcase 'search':\n\t\t\t\t\t\tif (!this.props.electronSearchData) {\n\t\t\t\t\t\t\tthis.props.showComponent('electronSearch');\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tthis.props.hideComponent('electronSearch');\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn;\n\t\t\t\t\tcase 'update-available':\n\t\t\t\t\t\tif (!this.props.updateAvailable) {\n\t\t\t\t\t\t\tthis.props.showComponent('updateAvailable');\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tthis.props.hideComponent('updateAvailable');\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn;\n\t\t\t\t\tcase 'search-all':\n\t\t\t\t\t\t// autofocus on the search bar, if it is onscreen & not selected\n\t\t\t\t\t\tif (document.getElementById('nav-primary-search')) {\n\t\t\t\t\t\t\twindow.scrollTo({ top: 0 });\n\t\t\t\t\t\t\tdocument.getElementById('nav-primary-search').select();\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\thistory.push('/');\n\t\t\t\t\t\t\twindow.scrollTo({ top: 0 });\n\t\t\t\t\t\t\tdocument.getElementById('nav-primary-search').select();\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn;\n\t\t\t\t\tcase 'latest-version':\n\t\t\t\t\t\tmessage.success('Synthona Is Up To Date', 2);\n\t\t\t\t\t\treturn;\n\t\t\t\t\tcase 'load-backend-config':\n\t\t\t\t\t\twindow.localStorage.setItem('backend-config', JSON.stringify(data.config));\n\t\t\t\t\t\treturn;\n\t\t\t\t\tdefault:\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t}\n\n\trenderElectronSearch = () => {\n\t\tif (this.props.electronSearchData && this.props.electronSearchData.visible) {\n\t\t\treturn <ElectronSearch />;\n\t\t}\n\t};\n\n\trenderUpdateAvailableModal = () => {\n\t\tif (this.props.updateAvailable && this.props.updateAvailable.visible) {\n\t\t\treturn (\n\t\t\t\t<Modal\n\t\t\t\t\ttitle={'A New Version Is Available!'}\n\t\t\t\t\tvisible={true}\n\t\t\t\t\tclassName='signout-modal'\n\t\t\t\t\tcentered\n\t\t\t\t\tonOk={(e) => window.open('http://www.synthona.net', '_blank')}\n\t\t\t\t\tokType='primary'\n\t\t\t\t\tokText='Yes!'\n\t\t\t\t\tclosable={false}\n\t\t\t\t\tonCancel={() => this.props.hideComponent('updateAvailable')}\n\t\t\t\t>\n\t\t\t\t\t<p>An upgrade for Synthona is available. Do you want to know more?</p>\n\t\t\t\t</Modal>\n\t\t\t);\n\t\t}\n\t};\n\n\trender() {\n\t\treturn (\n\t\t\t<Fragment>\n\t\t\t\t{this.renderElectronSearch()}\n\t\t\t\t{this.renderUpdateAvailableModal()}\n\t\t\t</Fragment>\n\t\t);\n\t}\n}\n\nconst mapStateToProps = (state) => {\n\treturn {\n\t\telectronSearchData: state.components.componentList['electronSearch'],\n\t\tupdateAvailable: state.components.componentList['updateAvailable'],\n\t};\n};\n\nexport default connect(mapStateToProps, { showComponent, hideComponent })(ElectronMessage);\n","import React, { Component } from 'react';\nimport { Route, Switch } from 'react-router-dom';\nimport { connect } from 'react-redux';\n// custom code\nimport '../app.less';\nimport { isElectron } from '../utils/environment';\nimport { isAuthenticated } from '../api/redux/actions';\n// custom components\nimport Theme from './Theme';\nimport Login from './layouts/Login';\nimport ForgotPassword from './layouts/ForgotPassword';\nimport Home from './layouts/Home';\nimport Profile from './layouts/Profile';\nimport Options from './layouts/Options';\nimport Activity from './layouts/Activity';\nimport QuillEditor from './QuillEditor/QuillEditor';\nimport Collections from './layouts/Collections';\nimport Spinner from './elements/Spinner';\nimport CreateAccount from './layouts/CreateAccount';\nimport AssociationBrowser from './layouts/AssociationBrowser';\nimport GraphBrowser from './layouts/GraphBrowser';\nimport Pins from './layouts/Pins';\nimport RandomRedirect from './layouts/RandomRedirect';\n// special\nimport ElectronMessage from './electron/ElectronMessage';\n\nclass App extends Component {\n\tcomponentDidMount() {\n\t\tif (this.props.isAuth === null) {\n\t\t\tthis.props.isAuthenticated();\n\t\t}\n\t\t// if (window.api) {\n\t\t// \twindow.api.receive('fromMain', (data) => {\n\t\t// \t\tconsole.log(data);\n\t\t// \t});\n\t\t// }\n\t\t// window.api.send('toMain', 'some data');\n\t}\n\n\trenderElectronMessage = () => {\n\t\t// initialize the electron-message module\n\t\t// if this is an electron environment\n\t\tif (isElectron()) {\n\t\t\treturn <ElectronMessage />;\n\t\t}\n\t};\n\n\trender() {\n\t\tlet routes;\n\t\tif (this.props.isAuth) {\n\t\t\troutes = (\n\t\t\t\t<Theme>\n\t\t\t\t\t<Switch>\n\t\t\t\t\t\t<Route path='/' exact component={Home} />\n\t\t\t\t\t\t<Route path='/profile/:username' exact component={Profile} />\n\t\t\t\t\t\t<Route path='/activity' exact component={Activity} />\n\t\t\t\t\t\t<Route path='/collections' exact component={Collections} />\n\t\t\t\t\t\t<Route path='/edit/text/:uuid' exact component={QuillEditor} />\n\t\t\t\t\t\t<Route path='/edit/profile' exact component={Options} />\n\t\t\t\t\t\t<Route path='/associations/:uuid' exact component={AssociationBrowser} />\n\t\t\t\t\t\t<Route path='/graph/:uuid?' exact component={GraphBrowser} />\n\t\t\t\t\t\t<Route path='/pins' exact component={Pins} />\n\t\t\t\t\t\t<Route path='/random' exact component={RandomRedirect} />\n\t\t\t\t\t</Switch>\n\t\t\t\t</Theme>\n\t\t\t);\n\t\t} else if (this.props.isFetchingAuth) {\n\t\t\troutes = <Spinner />;\n\t\t} else {\n\t\t\troutes = (\n\t\t\t\t<Switch>\n\t\t\t\t\t<Route path='/' exact component={Login} />\n\t\t\t\t\t<Route path='/create-account' exact component={CreateAccount} />\n\t\t\t\t\t<Route path='/forgot-password' exact component={ForgotPassword} />\n\t\t\t\t\t<Route component={Login} />\n\t\t\t\t</Switch>\n\t\t\t);\n\t\t}\n\t\treturn (\n\t\t\t<div style={{ backgroundColor: '#272727' }}>\n\t\t\t\t{this.renderElectronMessage()}\n\t\t\t\t{routes}\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nconst mapStateToProps = (state) => {\n\treturn {\n\t\tuser: state.auth.user,\n\t\tisFetchingAuth: state.auth.isFetching,\n\t\tisAuth: state.auth.isAuth,\n\t};\n};\n\nexport default connect(mapStateToProps, { isAuthenticated })(App);\n","import {\n  CREATE_ACCOUNT,\n  CREATE_ACCOUNT_SUCCESS,\n  CREATE_ACCOUNT_ERROR,\n  SIGN_IN,\n  SIGN_IN_SUCCESS,\n  SIGN_IN_ERROR,\n  SIGN_OUT,\n  SIGN_OUT_ERROR,\n  REFRESH_AUTH,\n  REFRESH_AUTH_SUCCESS,\n  REFRESH_AUTH_ERROR,\n  UPDATE_USER_NODE,\n  UPDATE_USER_NODE_ERROR,\n  UPDATE_USER_NODE_SUCCESS,\n  UPDATE_USER_AVATAR,\n  UPDATE_USER_AVATAR_SUCCESS,\n  UPDATE_USER_AVATAR_ERROR,\n  UPDATE_USER_HEADER,\n  UPDATE_USER_HEADER_SUCCESS,\n  UPDATE_USER_HEADER_ERROR,\n} from '../actions/types';\n\nconst INITIAL_STATE = {\n  isAuth: null,\n  isFetching: null,\n  user: null,\n};\n\n// reducer for authentication state and user object\nexport default (state = INITIAL_STATE, action) => {\n  switch (action.type) {\n    case CREATE_ACCOUNT:\n      return { ...state, isFetching: true };\n    case CREATE_ACCOUNT_SUCCESS:\n      return {\n        ...state,\n        isFetching: false,\n        user: action.payload,\n        isAuth: true,\n      };\n    case CREATE_ACCOUNT_ERROR:\n      return { ...state, isFetching: null, user: null, isAuth: false };\n    case SIGN_IN:\n      return { ...state, isFetching: true };\n    case SIGN_IN_SUCCESS:\n      return {\n        ...state,\n        isFetching: false,\n        user: action.payload,\n        isAuth: true,\n      };\n    case SIGN_IN_ERROR:\n      return { ...state, isFetching: null, user: null, isAuth: false };\n    case SIGN_OUT:\n      return { ...state, isFetching: true };\n    case SIGN_OUT_ERROR:\n      return { ...state, isFetching: null };\n    case REFRESH_AUTH:\n      return {\n        ...state,\n        isFetching: true,\n        user: action.payload,\n        isAuth: action.isAuth,\n      };\n    case REFRESH_AUTH_SUCCESS:\n      return { isFetching: null, user: action.payload, isAuth: true };\n    case REFRESH_AUTH_ERROR:\n      return { ...state, isFetching: null, user: null, isAuth: false };\n    case UPDATE_USER_NODE:\n      return { ...state, isFetching: true };\n    case UPDATE_USER_NODE_SUCCESS:\n      return { ...state, isFetching: null, user: action.user };\n    case UPDATE_USER_NODE_ERROR:\n      return { ...state, isFetching: null };\n    case UPDATE_USER_AVATAR:\n      return { ...state, isFetching: true };\n    case UPDATE_USER_AVATAR_SUCCESS:\n      window.location.reload();\n      return { ...state, isFetching: null, user: { ...state.user, avatar: action.url } };\n    case UPDATE_USER_AVATAR_ERROR:\n      return { ...state, isFetching: null };\n    case UPDATE_USER_HEADER:\n      return { ...state, isFetching: true };\n    case UPDATE_USER_HEADER_SUCCESS:\n      window.location.reload();\n      return { ...state, isFetching: null, user: { ...state.user, header: action.url } };\n    case UPDATE_USER_HEADER_ERROR:\n      return { ...state, isFetching: null };\n    default:\n      return state;\n  }\n};\n","import {\n\tEDIT_TEXT_NODE,\n\tEDIT_TEXT_NODE_SUCCESS,\n\tEDIT_TEXT_NODE_ERROR,\n\tFETCH_NODES,\n\tFETCH_NODES_SUCCESS,\n\tFETCH_NODES_ERROR,\n\tUPDATE_NODE,\n\tUPDATE_NODE_ERROR,\n\tUPDATE_NODE_SUCCESS,\n\tUPDATE_ACTIVE_NODE,\n\tUPDATE_ACTIVE_NODE_ERROR,\n\tUPDATE_ACTIVE_NODE_SUCCESS,\n\tPROCESS_TEXT_NODE,\n\tPROCESS_TEXT_NODE_SUCCESS,\n\tPROCESS_TEXT_NODE_ERROR,\n\tCREATE_FILE_NODE,\n\tCREATE_FILE_NODE_SUCCESS,\n\tCREATE_FILE_NODE_ERROR,\n\tLINK_FILE_NODES,\n\tLINK_FILE_NODES_ERROR,\n\tLINK_FILE_NODES_SUCCESS,\n\tSEARCH_NODES,\n\tSEARCH_NODES_SUCCESS,\n\tSEARCH_NODES_ERROR,\n\tMARK_NODE_VIEW,\n\tMARK_NODE_VIEW_SUCCESS,\n\tMARK_NODE_VIEW_ERROR,\n\tCREATE_NODE,\n\tCREATE_NODE_SUCCESS,\n\tCREATE_NODE_ERROR,\n\tSET_ACTIVE_NODE,\n\tSET_ACTIVE_NODE_SUCCESS,\n\tSET_ACTIVE_NODE_ERROR,\n\tDELETE_NODE,\n\tDELETE_NODE_ERROR,\n\tDELETE_NODE_SUCCESS,\n\tCLEAR_ACTIVE_NODE,\n\tGENERATE_EXPORT,\n\tGENERATE_EXPORT_ERROR,\n\tGENERATE_EXPORT_SUCCESS,\n} from '../actions/types';\n\nconst INITIAL_STATE = {\n\tisFetching: null,\n\tisSaving: null,\n\tisDeleting: null,\n\tnodeList: [],\n\ttotalItems: null,\n\tquery: {\n\t\tpage: 1,\n\t\tsortOrder: localStorage.getItem('sortOrder') || 'DESC',\n\t\tsortType: localStorage.getItem('sortType') || 'recent',\n\t},\n\tactiveNode: null,\n};\n\n// reducer for content nodes\nexport default (state = INITIAL_STATE, action) => {\n\tswitch (action.type) {\n\t\tcase FETCH_NODES:\n\t\t\treturn { ...state, isFetching: true };\n\t\tcase FETCH_NODES_SUCCESS:\n\t\t\tvar nodesArray;\n\t\t\t// reset nodesArray if page number has decreased\n\t\t\tif (action.query.page > state.query.page) {\n\t\t\t\tnodesArray = [...state.nodeList];\n\t\t\t} else {\n\t\t\t\tnodesArray = [];\n\t\t\t}\n\t\t\t// update the nodelist with the new values\n\t\t\tObject.values(action.payload.nodes).forEach((node) => {\n\t\t\t\tif (!nodesArray.some((item) => item.uuid === node.uuid)) {\n\t\t\t\t\tnodesArray.push(node);\n\t\t\t\t}\n\t\t\t});\n\t\t\t// if (nodesArray.length > 100) {\n\t\t\t// \t// if the length gets too long free up some memory\n\t\t\t// \tnodesArray.splice(0, action.payload.nodes.length);\n\t\t\t// }\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tisFetching: null,\n\t\t\t\tquery: action.query,\n\t\t\t\ttotalItems: action.payload.totalItems,\n\t\t\t\tnodeList: nodesArray,\n\t\t\t};\n\t\tcase FETCH_NODES_ERROR:\n\t\t\treturn { ...state, isFetching: null };\n\t\tcase SEARCH_NODES:\n\t\t\treturn { ...state, isFetching: true };\n\t\tcase SEARCH_NODES_SUCCESS:\n\t\t\tnodesArray = [];\n\t\t\t// update the nodelist with the new values\n\t\t\tObject.values(action.payload.nodes).forEach((node) => {\n\t\t\t\tif (!nodesArray.some((item) => item.uuid === node.uuid)) {\n\t\t\t\t\tnodesArray.push(node);\n\t\t\t\t}\n\t\t\t});\n\t\t\t// if (nodesArray.length > 100) {\n\t\t\t// \t// if the length gets too long free up some memory\n\t\t\t// \tnodesArray.splice(0, action.payload.nodes.length);\n\t\t\t// }\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tisFetching: null,\n\t\t\t\tquery: {\n\t\t\t\t\tpage: 1,\n\t\t\t\t\ttype: action.query.type,\n\t\t\t\t\tsearchQuery: action.query.searchQuery,\n\t\t\t\t\tsortType: action.query.sortType,\n\t\t\t\t\tsortOrder: action.query.sortOrder,\n\t\t\t\t},\n\t\t\t\ttotalItems: action.payload.totalItems,\n\t\t\t\tnodeList: nodesArray,\n\t\t\t};\n\t\tcase SEARCH_NODES_ERROR:\n\t\t\treturn { ...state, isFetching: null };\n\t\tcase UPDATE_NODE:\n\t\t\treturn { ...state, isSaving: true };\n\t\tcase UPDATE_NODE_ERROR:\n\t\t\treturn { ...state, isSaving: null };\n\t\tcase UPDATE_NODE_SUCCESS:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tisSaving: null,\n\t\t\t\tnodeList: state.nodeList.map((node) => {\n\t\t\t\t\tif (node.uuid === action.result.uuid) {\n\t\t\t\t\t\tnode = action.result;\n\t\t\t\t\t}\n\t\t\t\t\treturn node;\n\t\t\t\t}),\n\t\t\t};\n\t\tcase UPDATE_ACTIVE_NODE:\n\t\t\treturn { ...state, isSaving: true };\n\t\tcase UPDATE_ACTIVE_NODE_ERROR:\n\t\t\treturn { ...state, isSaving: null };\n\t\tcase UPDATE_ACTIVE_NODE_SUCCESS:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tisSaving: null,\n\t\t\t\tactiveNode: action.result.uuid === state.activeNode.uuid ? action.result : state.activeNode,\n\t\t\t\tnodeList: state.nodeList.map((node) => {\n\t\t\t\t\tif (node.uuid === action.result.uuid) {\n\t\t\t\t\t\tnode = action.result;\n\t\t\t\t\t}\n\t\t\t\t\treturn node;\n\t\t\t\t}),\n\t\t\t};\n\t\tcase EDIT_TEXT_NODE:\n\t\t\treturn { ...state, isSaving: true };\n\t\tcase EDIT_TEXT_NODE_SUCCESS:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tisSaving: null,\n\t\t\t\t// update the content on the activeNode\n\t\t\t\tactiveNode: {\n\t\t\t\t\t...state.activeNode,\n\t\t\t\t\tcontent: action.node.content,\n\t\t\t\t},\n\t\t\t};\n\t\tcase EDIT_TEXT_NODE_ERROR:\n\t\t\treturn { ...state, isSaving: null };\n\t\tcase PROCESS_TEXT_NODE:\n\t\t\treturn { ...state, isSaving: true };\n\t\tcase PROCESS_TEXT_NODE_SUCCESS:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tisSaving: null,\n\t\t\t\t// update the preview in the nodelist\n\t\t\t\t// leave everything else as-is\n\t\t\t\tnodeList: state.nodeList.map((node) => {\n\t\t\t\t\t// only update it for the processsed node\n\t\t\t\t\tif (node.uuid === action.node.uuid) {\n\t\t\t\t\t\tnode.preview = action.node.preview;\n\t\t\t\t\t}\n\t\t\t\t\treturn node;\n\t\t\t\t}),\n\t\t\t};\n\t\tcase PROCESS_TEXT_NODE_ERROR:\n\t\t\treturn { ...state, isSaving: null };\n\t\tcase CREATE_FILE_NODE:\n\t\t\treturn { ...state, isSaving: true };\n\t\tcase CREATE_FILE_NODE_SUCCESS:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tisFetching: null,\n\t\t\t\tnodeList: [action.payload, ...state.nodeList],\n\t\t\t};\n\t\tcase CREATE_FILE_NODE_ERROR:\n\t\t\treturn { ...state, isSaving: null };\n\t\tcase LINK_FILE_NODES:\n\t\t\treturn { ...state, isSaving: true };\n\t\tcase LINK_FILE_NODES_SUCCESS:\n\t\t\tvar linkNodesArray = [];\n\t\t\t// update the nodelist with the new values\n\t\t\taction.nodes.forEach((node) => {\n\t\t\t\tlinkNodesArray.push(node);\n\t\t\t});\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tisSaving: null,\n\t\t\t\tnodeList: [...linkNodesArray, ...state.nodeList],\n\t\t\t};\n\t\tcase LINK_FILE_NODES_ERROR:\n\t\t\treturn { ...state, isSaving: null };\n\t\tcase CREATE_NODE:\n\t\t\treturn { ...state, isSaving: true };\n\t\tcase CREATE_NODE_SUCCESS:\n\t\t\t// add new node to list and move to front of node order\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tisFetching: null,\n\t\t\t\tnodeList: [\n\t\t\t\t\taction.payload,\n\t\t\t\t\t...state.nodeList.filter((node) => node.uuid !== action.payload.uuid),\n\t\t\t\t],\n\t\t\t\tactiveNode: action.payload.node,\n\t\t\t};\n\t\tcase CREATE_NODE_ERROR:\n\t\t\treturn { ...state, isSaving: null };\n\t\tcase MARK_NODE_VIEW:\n\t\t\treturn { ...state, isSaving: true };\n\t\tcase MARK_NODE_VIEW_SUCCESS:\n\t\t\tvar newNodeList;\n\t\t\t// only send the node back to the beginning if the user is at the top of the list\n\t\t\tif (state.nodeList.length < 50) {\n\t\t\t\tnewNodeList = [\n\t\t\t\t\taction.node,\n\t\t\t\t\t...state.nodeList.filter((node) => node.uuid !== action.node.uuid),\n\t\t\t\t];\n\t\t\t} else {\n\t\t\t\t// otherwise just make it \"disapear\" to reappaar when they return to the top\n\t\t\t\tnewNodeList = [...state.nodeList.filter((node) => node.uuid !== action.node.uuid)];\n\t\t\t}\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tisSaving: null,\n\t\t\t\tnodeList: newNodeList,\n\t\t\t};\n\t\tcase MARK_NODE_VIEW_ERROR:\n\t\t\treturn { ...state, isSaving: null };\n\t\tcase SET_ACTIVE_NODE:\n\t\t\treturn { ...state, isFetching: true };\n\t\tcase SET_ACTIVE_NODE_SUCCESS:\n\t\t\treturn { ...state, isFetching: null, activeNode: action.payload.node };\n\t\tcase SET_ACTIVE_NODE_ERROR:\n\t\t\treturn { ...state, isFetching: null };\n\t\tcase CLEAR_ACTIVE_NODE:\n\t\t\treturn { ...state, activeNode: null };\n\t\tcase DELETE_NODE:\n\t\t\treturn { ...state, isDeleting: true };\n\t\tcase DELETE_NODE_SUCCESS:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\t// filter the node out of the list\n\t\t\t\tnodeList: [...state.nodeList.filter((node) => node.uuid !== action.uuid)],\n\t\t\t\tisDeleting: null,\n\t\t\t};\n\t\tcase DELETE_NODE_ERROR:\n\t\t\treturn { ...state, isDeleting: null };\n\t\tcase GENERATE_EXPORT:\n\t\t\treturn { ...state, isSaving: true };\n\t\tcase GENERATE_EXPORT_ERROR:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tisSaving: null,\n\t\t\t};\n\t\tcase GENERATE_EXPORT_SUCCESS:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tisSaving: null,\n\t\t\t};\n\t\tdefault:\n\t\t\treturn state;\n\t}\n};\n","import { SHOW_COMPONENT, HIDE_COMPONENT, LOAD_THEME } from '../actions/types';\n\nconst INITIAL_STATE = {\n\tcomponentList: {},\n};\n\n// reducer for UI components which need to store redux state\nexport default (state = INITIAL_STATE, action) => {\n\tswitch (action.type) {\n\t\tcase SHOW_COMPONENT:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tcomponentList: {\n\t\t\t\t\t...state.componentList,\n\t\t\t\t\t[action.payload.type]: { content: action.payload.content, visible: true },\n\t\t\t\t},\n\t\t\t};\n\t\tcase HIDE_COMPONENT:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tcomponentList: {\n\t\t\t\t\t...state.componentList,\n\t\t\t\t\t[action.payload.type]: null,\n\t\t\t\t},\n\t\t\t};\n\t\tcase LOAD_THEME:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\ttheme: action.payload.theme,\n\t\t\t};\n\t\tdefault:\n\t\t\treturn state;\n\t}\n};\n","import {\n  FETCH_GRAPH_DATA,\n  FETCH_GRAPH_DATA_ERROR,\n  FETCH_GRAPH_DATA_SUCCESS,\n} from '../actions/types';\n\nconst INITIAL_STATE = {\n  isFetching: null,\n  graphNodeList: [],\n  graphAssociationList: [],\n  totalItems: null,\n  query: { page: 1 },\n  activeNode: null,\n  graphData: null,\n};\n\n// reducer for content nodes\nexport default (state = INITIAL_STATE, action) => {\n  switch (action.type) {\n    case FETCH_GRAPH_DATA:\n      return { ...state, isFetching: true };\n    case FETCH_GRAPH_DATA_ERROR:\n      return { ...state, isFetching: null };\n    case FETCH_GRAPH_DATA_SUCCESS:\n      // format nodes\n      const nodeArray = [];\n      action.payload.nodes.map((node) => {\n        return nodeArray.push(node);\n      });\n      // format associations\n      const associationArray = [];\n      action.payload.associations.map((association) => {\n        const reformated = { source: association.nodeId, target: association.linkedNode };\n        return associationArray.push(reformated);\n      });\n      return {\n        ...state,\n        isFetching: null,\n        graphData: { nodes: nodeArray, associations: associationArray },\n      };\n    default:\n      return state;\n  }\n};\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Router } from 'react-router-dom';\nimport { Provider } from 'react-redux';\nimport { createStore, applyMiddleware, compose } from 'redux';\nimport reduxThunk from 'redux-thunk';\n//custom code\nimport history from './utils/history';\nimport App from './components/App';\nimport reducers from './api/redux/reducers';\n\n// add redux devtools\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\n// create store\nconst store = createStore(reducers, composeEnhancers(applyMiddleware(reduxThunk)));\n\nReactDOM.render(\n  <Provider store={store}>\n    <Router history={history}>\n      <App />\n    </Router>\n  </Provider>,\n  document.querySelector('#root')\n);\n","import { RESET_APP } from '../actions/types';\n// custom code\nimport authReducer from './authReducer';\nimport nodeReducer from './nodeReducer';\nimport componentReducer from './componentReducer';\nimport associationReducer from './associationReducer';\nimport graphReducer from './graphReducer';\n\n// custom combineReducers\nexport default (state = {}, action) => {\n  // reset app state if need-be\n  if (action.type === RESET_APP) {\n    state = {};\n  }\n\n  // return other reducers\n  return {\n    auth: authReducer(state.auth, action),\n    nodes: nodeReducer(state.nodes, action),\n    components: componentReducer(state.components, action),\n    associations: associationReducer(state.associations, action),\n    graph: graphReducer(state.graph, action),\n  };\n};\n","let clientConfigVersion = 1.0;\n\nlet clientConfig = [\n\t{\n\t\tstorageKey: 'theme',\n\t\tname: 'Theme',\n\t\ttype: 'dropdown',\n\t\toptions: [\n\t\t\t'classic',\n\t\t\t'light',\n\t\t\t'translucent',\n\t\t\t'translucent green',\n\t\t\t'translucent blue',\n\t\t\t'translucent red',\n\t\t\t'translucent yellow',\n\t\t\t'translucent orange',\n\t\t],\n\t\tvalue: 'classic',\n\t},\n\t{\n\t\tstorageKey: 'image-sizing',\n\t\tname: 'Image Sizing',\n\t\ttype: 'dropdown',\n\t\toptions: ['classic', 'actual size', 'fit-vertically'],\n\t\tvalue: 'classic',\n\t},\n\t{\n\t\tstorageKey: 'quill-document-width',\n\t\tname: 'Document Page Width',\n\t\ttype: 'dropdown',\n\t\toptions: ['classic', 'full width'],\n\t\tvalue: 'full width',\n\t},\n\t{\n\t\tstorageKey: 'link-mode',\n\t\tname: 'Link Mode',\n\t\ttype: 'dropdown',\n\t\toptions: ['unidirectional', 'bidirectional'],\n\t\tvalue: 'unidirectional',\n\t},\n\t{\n\t\tstorageKey: 'graph-render-limit',\n\t\tname: 'Graph Render Limit',\n\t\ttype: 'number',\n\t\tvalue: 100,\n\t},\n];\n\nexports.loadClientConfig = () => {\n\tconsole.log('loading the client config from our special new function');\n\t// return new Promise((resolve) => {\n\tlet localConfigVersion = localStorage.getItem('client-config-version');\n\tlet configArray;\n\t// check to see if our version is up to date or not\n\tif (clientConfigVersion <= localConfigVersion) {\n\t\t// we're going to loop through our 'config array' definitions and load them from localstorage\n\t\tconfigArray = clientConfig.map((item) => {\n\t\t\tlet configValue = JSON.parse(localStorage.getItem(item.storageKey));\n\t\t\t// handle case where a config item is missing\n\t\t\tif (!configValue) {\n\t\t\t\t// if the config has been tampered with we are going to run the 'update' case\n\t\t\t\tlocalStorage.clear('client-config-version');\n\t\t\t\twindow.location.reload();\n\t\t\t}\n\t\t\t// load the configItem value into the render template\n\t\t\titem.value = configValue;\n\t\t\t// return the item\n\t\t\treturn item;\n\t\t});\n\t} else {\n\t\t// loop through clientConfig definitions and store the default values into local storage\n\t\tconfigArray = clientConfig.map((item) => {\n\t\t\tlet key = item.storageKey;\n\t\t\t// store the value in local storage\n\t\t\tlocalStorage.setItem(key, JSON.stringify(item.value));\n\t\t\t// return value to array\n\t\t\treturn item;\n\t\t});\n\t\t// update the client-config-version to the latest\n\t\tlocalStorage.setItem('client-config-version', clientConfigVersion);\n\t}\n\treturn configArray;\n};\n\n// some mappings for backend config stuff\nexports.backendConfigMap = {\n\tFULLSCREEN: {\n\t\ttype: 'boolean',\n\t\tname: 'Fullscreen on Startup',\n\t},\n\tOPEN_URLS_IN_BROWSER: {\n\t\ttype: 'boolean',\n\t\tname: 'Open URLs in Browser',\n\t},\n\tHTTP_CACHE: {\n\t\ttype: 'boolean',\n\t\tname: 'Http Cache',\n\t},\n\tCLEAR_CACHE_ON_START: {\n\t\ttype: 'boolean',\n\t\tname: 'Clear Cache On Startup',\n\t},\n\tENABLE_HARDWARE_ACCELERATION: {\n\t\ttype: 'boolean',\n\t\tname: 'Hardware Acceleration',\n\t},\n\tDEBUG: {\n\t\ttype: 'boolean',\n\t\tname: 'Debug Mode',\n\t},\n\tSERVER_PORT: {\n\t\ttype: 'number',\n\t\tname: 'Server Port',\n\t},\n\tCLIENT_PORT: {\n\t\ttype: 'number',\n\t\tname: 'Client Port',\n\t},\n\tCLIENT_BASE: {\n\t\ttype: 'string',\n\t\tname: 'Client Base',\n\t},\n\tAPP_NAME: {\n\t\ttype: 'string',\n\t\tname: 'App Name',\n\t},\n};\n\nexports.backendConfigFilter = [\n\t'JWT_SECRET',\n\t'REFRESH_TOKEN_SECRET',\n\t'CONFIG_VERSION',\n\t'CLIENT_PORT',\n\t'SERVER_PORT',\n\t'ENABLE_HARDWARE_ACCELERATION',\n\t'CLIENT_BASE',\n\t'APP_NAME',\n\t'DEBUG',\n\t'CLEAR_CACHE_ON_START',\n];\n","module.exports = __webpack_public_path__ + \"static/media/synthona-logo.b740604b.png\";","module.exports = __webpack_public_path__ + \"static/media/cloud9.22dc8cce.png\";"],"sourceRoot":""}